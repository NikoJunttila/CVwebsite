(self.webpackChunkcv=self.webpackChunkcv||[]).push([[179],{4549:(fn,ot,M)=>{"use strict";M.d(ot,{nm:()=>$i});var f=M(346);M(4537),M(8213);var Fe=M(8239),ke=M(7467),Re=M(3910),xe=M(3854),Ke=M(5422);const ge=new Map,mt={activated:!1,tokenObservers:[]},jt={initialized:!1,enabled:!1};function Ht(It){return ge.get(It)||Object.assign({},mt)}function rn(){return jt}const hi="https://content-firebaseappcheck.googleapis.com/v1",Wn="exchangeDebugToken",xn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class qe{constructor(wt,Bt,en,mn,li){if(this.operation=wt,this.retryPolicy=Bt,this.getWaitDuration=en,this.lowerBound=mn,this.upperBound=li,this.pending=null,this.nextErrorWaitInterval=mn,mn>li)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(wt){var Bt=this;return(0,Fe.Z)(function*(){Bt.stop();try{Bt.pending=new xe.BH,yield function Ne(It){return new Promise(wt=>{setTimeout(wt,It)})}(Bt.getNextRun(wt)),Bt.pending.resolve(),yield Bt.pending.promise,Bt.pending=new xe.BH,yield Bt.operation(),Bt.pending.resolve(),yield Bt.pending.promise,Bt.process(!0).catch(()=>{})}catch(en){Bt.retryPolicy(en)?Bt.process(!1).catch(()=>{}):Bt.stop()}})()}getNextRun(wt){if(wt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Bt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Bt}}}const Ue=new xe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function at(It){if(!Ht(It).activated)throw Ue.create("use-before-activation",{appName:It.name})}function bn(It,wt){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,Fe.Z)(function*({url:It,body:wt},Bt){const en={"Content-Type":"application/json"},mn=Bt.getImmediate({optional:!0});if(mn){const Zi=yield mn.getHeartbeatsHeader();Zi&&(en["X-Firebase-Client"]=Zi)}const li={method:"POST",body:JSON.stringify(wt),headers:en};let pi,gi;try{pi=yield fetch(It,li)}catch(Zi){throw Ue.create("fetch-network-error",{originalErrorMessage:Zi?.message})}if(200!==pi.status)throw Ue.create("fetch-status-error",{httpStatus:pi.status});try{gi=yield pi.json()}catch(Zi){throw Ue.create("fetch-parse-error",{originalErrorMessage:Zi?.message})}const bi=gi.ttl.match(/^([\d.]+)(s)$/);if(!bi||!bi[2]||isNaN(Number(bi[1])))throw Ue.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${gi.ttl}`});const Pr=1e3*Number(bi[1]),ss=Date.now();return{token:gi.token,expireTimeMillis:ss+Pr,issuedAtTimeMillis:ss}})).apply(this,arguments)}function on(It,wt){const{projectId:Bt,appId:en,apiKey:mn}=It.options;return{url:`${hi}/projects/${Bt}/apps/${en}:${Wn}?key=${mn}`,body:{debug_token:wt}}}const wn="firebase-app-check-database",Ln=1,Jn="firebase-app-check-store";let _t=null;function Ee(It,wt){return et.apply(this,arguments)}function et(){return(et=(0,Fe.Z)(function*(It,wt){const en=(yield function he(){return _t||(_t=new Promise((It,wt)=>{try{const Bt=indexedDB.open(wn,Ln);Bt.onsuccess=en=>{It(en.target.result)},Bt.onerror=en=>{var mn;wt(Ue.create("storage-open",{originalErrorMessage:null===(mn=en.target.error)||void 0===mn?void 0:mn.message}))},Bt.onupgradeneeded=en=>{0===en.oldVersion&&en.target.result.createObjectStore(Jn,{keyPath:"compositeKey"})}}catch(Bt){wt(Ue.create("storage-open",{originalErrorMessage:Bt?.message}))}}),_t)}()).transaction(Jn,"readwrite"),li=en.objectStore(Jn).put({compositeKey:It,value:wt});return new Promise((pi,gi)=>{li.onsuccess=bi=>{pi()},en.onerror=bi=>{var Pr;gi(Ue.create("storage-set",{originalErrorMessage:null===(Pr=bi.target.error)||void 0===Pr?void 0:Pr.message}))}})})).apply(this,arguments)}const Ot=new Ke.Yd("@firebase/app-check");function Vt(It,wt){return(0,xe.hl)()?function Dt(It,wt){return Ee(function un(It){return`${It.options.appId}-${It.name}`}(It),wt)}(It,wt).catch(Bt=>{Ot.warn(`Failed to write token to IndexedDB. Error: ${Bt}`)}):Promise.resolve()}function Oi(){return rn().enabled}function Un(){return mi.apply(this,arguments)}function mi(){return(mi=(0,Fe.Z)(function*(){const It=rn();if(It.enabled&&It.token)return It.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ye={error:"UNKNOWN_ERROR"};function Z(It){return xe.US.encodeString(JSON.stringify(It),!1)}function X(It){return je.apply(this,arguments)}function je(){return(je=(0,Fe.Z)(function*(It,wt=!1){const Bt=It.app;at(Bt);const en=Ht(Bt);let li,mn=en.token;if(mn&&!fe(mn)&&(en.token=void 0,mn=void 0),!mn){const bi=yield en.cachedTokenPromise;bi&&(fe(bi)?mn=bi:yield Vt(Bt,void 0))}if(!wt&&mn&&fe(mn))return{token:mn.token};let gi,pi=!1;if(Oi()){en.exchangeTokenPromise||(en.exchangeTokenPromise=bn(on(Bt,yield Un()),It.heartbeatServiceProvider).finally(()=>{en.exchangeTokenPromise=void 0}),pi=!0);const bi=yield en.exchangeTokenPromise;return yield Vt(Bt,bi),en.token=bi,{token:bi.token}}try{en.exchangeTokenPromise||(en.exchangeTokenPromise=en.provider.getToken().finally(()=>{en.exchangeTokenPromise=void 0}),pi=!0),mn=yield Ht(Bt).exchangeTokenPromise}catch(bi){"appCheck/throttled"===bi.code?Ot.warn(bi.message):Ot.error(bi),li=bi}return mn?li?gi=fe(mn)?{token:mn.token,internalError:li}:ft(li):(gi={token:mn.token},en.token=mn,yield Vt(Bt,mn)):gi=ft(li),pi&&function ve(It,wt){const Bt=Ht(It).tokenObservers;for(const en of Bt)try{"EXTERNAL"===en.type&&null!=wt.error?en.error(wt.error):en.next(wt)}catch{}}(Bt,gi),gi})).apply(this,arguments)}function Ft(It){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,Fe.Z)(function*(It){const wt=It.app;at(wt);const{provider:Bt}=Ht(wt);if(Oi()){const en=yield Un(),{token:mn}=yield bn(on(wt,en),It.heartbeatServiceProvider);return{token:mn}}{const{token:en}=yield Bt.getToken();return{token:en}}})).apply(this,arguments)}function rt(It,wt){const Bt=Ht(It),en=Bt.tokenObservers.filter(mn=>mn.next!==wt);0===en.length&&Bt.tokenRefresher&&Bt.tokenRefresher.isRunning()&&Bt.tokenRefresher.stop(),Bt.tokenObservers=en}function Qe(It){const{app:wt}=It,Bt=Ht(wt);let en=Bt.tokenRefresher;en||(en=function pe(It){const{app:wt}=It;return new qe((0,Fe.Z)(function*(){let en;if(en=Ht(wt).token?yield X(It,!0):yield X(It),en.error)throw en.error;if(en.internalError)throw en.internalError}),()=>!0,()=>{const Bt=Ht(wt);if(Bt.token){let en=Bt.token.issuedAtTimeMillis+.5*(Bt.token.expireTimeMillis-Bt.token.issuedAtTimeMillis)+3e5;return en=Math.min(en,Bt.token.expireTimeMillis-3e5),Math.max(0,en-Date.now())}return 0},xn.RETRIAL_MIN_WAIT,xn.RETRIAL_MAX_WAIT)}(It),Bt.tokenRefresher=en),!en.isRunning()&&Bt.isTokenAutoRefreshEnabled&&en.start()}function fe(It){return It.expireTimeMillis-Date.now()>0}function ft(It){return{token:Z(Ye),error:It}}class $e{constructor(wt,Bt){this.app=wt,this.heartbeatServiceProvider=Bt}_delete(){const{tokenObservers:wt}=Ht(this.app);for(const Bt of wt)rt(this.app,Bt.next);return Promise.resolve()}}const Le="app-check-internal";!function qt(){(0,ke._registerComponent)(new Re.wA("app-check",It=>function le(It,wt){return new $e(It,wt)}(It.getProvider("app").getImmediate(),It.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((It,wt,Bt)=>{It.getProvider(Le).initialize()})),(0,ke._registerComponent)(new Re.wA(Le,It=>function q(It){return{getToken:wt=>X(It,wt),getLimitedUseToken:()=>Ft(It),addTokenListener:wt=>function ui(It,wt,Bt,en){const{app:mn}=It,li=Ht(mn);if(li.tokenObservers=[...li.tokenObservers,{next:Bt,error:en,type:wt}],li.token&&fe(li.token)){const gi=li.token;Promise.resolve().then(()=>{Bt({token:gi.token}),Qe(It)}).catch(()=>{})}li.cachedTokenPromise.then(()=>Qe(It))}(It,"INTERNAL",wt),removeTokenListener:wt=>rt(It.app,wt)}}(It.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ke.registerVersion)("@firebase/app-check","0.8.0")}();class $i{constructor(){return(0,f.vb)("app-check")}}typeof window<"u"&&window},3772:(fn,ot,M)=>{"use strict";M.d(ot,{zQ:()=>hi,rT:()=>jt,f7:()=>vn,L6:()=>ge,_Q:()=>mt,lh:()=>Ht,Qv:()=>Ke,nw:()=>rn});var f=M(4537),F=M(8023),_=M(4945),ce=M(7241),S=M(237),we=M(1860),He=M(7513),L=M(1528),Oe=M(7969),ne=M(2069);class de extends F.x{constructor(Wn=1/0,xn=1/0,nn=ne.l){super(),this._bufferSize=Wn,this._windowTime=xn,this._timestampProvider=nn,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=xn===1/0,this._bufferSize=Math.max(1,Wn),this._windowTime=Math.max(1,xn)}next(Wn){const{isStopped:xn,_buffer:nn,_infiniteTimeWindow:qe,_timestampProvider:Ne,_windowTime:Ae}=this;xn||(nn.push(Wn),!qe&&nn.push(Ne.now()+Ae)),this._trimBuffer(),super.next(Wn)}_subscribe(Wn){this._throwIfClosed(),this._trimBuffer();const xn=this._innerSubscribe(Wn),{_infiniteTimeWindow:nn,_buffer:qe}=this,Ne=qe.slice();for(let Ae=0;Ae<Ne.length&&!Wn.closed;Ae+=nn?1:2)Wn.next(Ne[Ae]);return this._checkFinalizedStatuses(Wn),xn}_trimBuffer(){const{_bufferSize:Wn,_timestampProvider:xn,_buffer:nn,_infiniteTimeWindow:qe}=this,Ne=(qe?1:2)*Wn;if(Wn<1/0&&Ne<nn.length&&nn.splice(0,nn.length-Ne),!qe){const Ae=xn.now();let Ue=0;for(let pt=1;pt<nn.length&&nn[pt]<=Ae;pt+=2)Ue=pt;Ue&&nn.splice(0,Ue+1)}}}var ye=M(815);function Ie(An,Wn,xn){let nn,qe=!1;return An&&"object"==typeof An?({bufferSize:nn=1/0,windowTime:Wn=1/0,refCount:qe=!1,scheduler:xn}=An):nn=An??1/0,(0,ye.B)({connector:()=>new de(nn,Wn,xn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qe})}var Ve=M(9676),We=M(5975);function ht(An,Wn){return(0,We.m)(Wn)?(0,L.w)(()=>An,Wn):(0,L.w)(()=>An)}var Ze=M(4119),nt=M(4970),Be=M(346),ut=M(8939),Fe=M(8692),ke=M(4549);M(2533);const Ke=new f.OlP("angularfire2.auth.use-emulator"),ge=new f.OlP("angularfire2.auth.settings"),mt=new f.OlP("angularfire2.auth.tenant-id"),jt=new f.OlP("angularfire2.auth.langugage-code"),Ht=new f.OlP("angularfire2.auth.use-device-language"),vn=new f.OlP("angularfire.auth.persistence"),rn=(An,Wn,xn,nn,qe,Ne,Ae,Ue)=>(0,ut.cc)(`${An.name}.auth`,"AngularFireAuth",An.name,()=>{const pt=Wn.runOutsideAngular(()=>An.auth());if(xn&&pt.useEmulator(...xn),nn&&(pt.tenantId=nn),pt.languageCode=qe,Ne&&pt.useDeviceLanguage(),Ae)for(const[at,Qt]of Object.entries(Ae))pt.settings[at]=Qt;return Ue&&pt.setPersistence(Ue),pt},[xn,nn,qe,Ne,Ae,Ue]);let hi=(()=>{class An{constructor(xn,nn,qe,Ne,Ae,Ue,pt,at,Qt,In,bn,Mt){const pn=new F.x,St=(0,_.of)(void 0).pipe((0,He.Q)(Ae.outsideAngular),(0,L.w)(()=>Ne.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,2589)))),(0,Oe.U)(()=>(0,ut.on)(xn,Ne,nn)),(0,Oe.U)(on=>rn(on,Ne,Ue,at,Qt,In,pt,bn)),Ie({bufferSize:1,refCount:!1}));if((0,Fe.PM)(qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_.of)(null);else{St.pipe((0,Ve.P)()).subscribe();const wn=St.pipe((0,L.w)(Cn=>Cn.getRedirectResult().then(_t=>_t,()=>null)),Be.iC,Ie({bufferSize:1,refCount:!1})),Ln=St.pipe((0,L.w)(Cn=>new ce.y(_t=>({unsubscribe:Ne.runOutsideAngular(()=>Cn.onAuthStateChanged(he=>_t.next(he),he=>_t.error(he),()=>_t.complete()))})))),Jn=St.pipe((0,L.w)(Cn=>new ce.y(_t=>({unsubscribe:Ne.runOutsideAngular(()=>Cn.onIdTokenChanged(he=>_t.next(he),he=>_t.error(he),()=>_t.complete()))}))));this.authState=wn.pipe(ht(Ln),(0,Ze.R)(Ae.outsideAngular),(0,He.Q)(Ae.insideAngular)),this.user=wn.pipe(ht(Jn),(0,Ze.R)(Ae.outsideAngular),(0,He.Q)(Ae.insideAngular)),this.idToken=this.user.pipe((0,L.w)(Cn=>Cn?(0,S.D)(Cn.getIdToken()):(0,_.of)(null))),this.idTokenResult=this.user.pipe((0,L.w)(Cn=>Cn?(0,S.D)(Cn.getIdTokenResult()):(0,_.of)(null))),this.credential=(0,we.T)(wn,pn,this.authState.pipe((0,nt.h)(Cn=>!Cn))).pipe((0,Oe.U)(Cn=>Cn?.user?Cn:null),(0,Ze.R)(Ae.outsideAngular),(0,He.Q)(Ae.insideAngular))}return(0,ut.pX)(this,St,Ne,{spy:{apply:(on,wn,Ln)=>{(on.startsWith("signIn")||on.startsWith("createUser"))&&Ln.then(Jn=>pn.next(Jn))}}})}}return An.\u0275fac=function(xn){return new(xn||An)(f.LFG(ut.Dh),f.LFG(ut.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Be.HU),f.LFG(Ke,8),f.LFG(ge,8),f.LFG(mt,8),f.LFG(jt,8),f.LFG(Ht,8),f.LFG(vn,8),f.LFG(ke.nm,8))},An.\u0275prov=f.Yz7({token:An,factory:An.\u0275fac,providedIn:"any"}),An})()},3229:(fn,ot,M)=>{"use strict";M.d(ot,{ST:()=>mi,yb:()=>Vn});var f=M(4537),F=M(6523),_=M(7241),ce=M(237),S=M(4945),we=M(346),He=M(1927),L=M(2085),Oe=M(8499);function ne(){return(0,L.e)((Ye,Z)=>{let X,je=!1;Ye.subscribe((0,Oe.x)(Z,Ft=>{const Tn=X;X=Ft,je&&Z.next([Tn,Ft]),je=!0}))})}var de=M(7969),ye=M(7479),Ie=M(2147),Ve=M(4970),We=M(8939),ht=M(8692),nt=(M(2589),M(3394)),Be=M(8206),ut=M(3854),Fe=M(3910);function xe(Ye,Z){if(void 0===Z)return{merge:!1};if(void 0!==Z.mergeFields&&void 0!==Z.merge)throw new Be.WA("invalid-argument",`Invalid options passed to function ${Ye}(): You cannot specify both "merge" and "mergeFields".`);return Z}function Ke(){if(typeof Uint8Array>"u")throw new Be.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ge(){if(!(0,Be.Me)())throw new Be.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class mt{constructor(Z){this._delegate=Z}static fromBase64String(Z){return ge(),new mt(Be.Jj.fromBase64String(Z))}static fromUint8Array(Z){return Ke(),new mt(Be.Jj.fromUint8Array(Z))}toBase64(){return ge(),this._delegate.toBase64()}toUint8Array(){return Ke(),this._delegate.toUint8Array()}isEqual(Z){return this._delegate.isEqual(Z._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jt(Ye){return function Ht(Ye,Z){if("object"!=typeof Ye||null===Ye)return!1;const X=Ye;for(const je of Z)if(je in X&&"function"==typeof X[je])return!0;return!1}(Ye,["next","error","complete"])}class vn{enableIndexedDbPersistence(Z,X){return(0,Be.ST)(Z._delegate,{forceOwnership:X})}enableMultiTabIndexedDbPersistence(Z){return(0,Be.fH)(Z._delegate)}clearIndexedDbPersistence(Z){return(0,Be.Fc)(Z._delegate)}}class rn{constructor(Z,X,je){this._delegate=X,this._persistenceProvider=je,this.INTERNAL={delete:()=>this.terminate()},Z instanceof Be.l7||(this._appCompat=Z)}get _databaseId(){return this._delegate._databaseId}settings(Z){const X=this._delegate._getSettings();!Z.merge&&X.host!==Z.host&&(0,Be.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),Z.merge&&delete(Z=Object.assign(Object.assign({},X),Z)).merge,this._delegate._setSettings(Z)}useEmulator(Z,X,je={}){(0,Be.at)(this._delegate,Z,X,je)}enableNetwork(){return(0,Be.Ix)(this._delegate)}disableNetwork(){return(0,Be.TF)(this._delegate)}enablePersistence(Z){let X=!1,je=!1;return Z&&(X=!!Z.synchronizeTabs,je=!!Z.experimentalForceOwningTab,(0,Be.Wi)("synchronizeTabs",X,"experimentalForceOwningTab",je)),X?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,je)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Be.Mx)(this._delegate)}onSnapshotsInSync(Z){return(0,Be.sc)(this._delegate,Z)}get app(){if(!this._appCompat)throw new Be.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(Z){try{return new bn(this,(0,Be.hJ)(this._delegate,Z))}catch(X){throw qe(X,"collection()","Firestore.collection()")}}doc(Z){try{return new nn(this,(0,Be.JU)(this._delegate,Z))}catch(X){throw qe(X,"doc()","Firestore.doc()")}}collectionGroup(Z){try{return new at(this,(0,Be.B$)(this._delegate,Z))}catch(X){throw qe(X,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(Z){return(0,Be.i3)(this._delegate,X=>Z(new An(this,X)))}batch(){return(0,Be.qY)(this._delegate),new Wn(new Be.PU(this._delegate,Z=>(0,Be.GL)(this._delegate,Z)))}loadBundle(Z){return(0,Be.Pb)(this._delegate,Z)}namedQuery(Z){return(0,Be.L$)(this._delegate,Z).then(X=>X?new at(this,X):null)}}class hi extends Be.u7{constructor(Z){super(),this.firestore=Z}convertBytes(Z){return new mt(new Be.Jj(Z))}convertReference(Z){const X=this.convertDocumentKey(Z,this.firestore._databaseId);return nn.forKey(X,this.firestore,null)}}class An{constructor(Z,X){this._firestore=Z,this._delegate=X,this._userDataWriter=new hi(Z)}get(Z){const X=Mt(Z);return this._delegate.get(X).then(je=>new Ue(this._firestore,new Be.xU(this._firestore._delegate,this._userDataWriter,je._key,je._document,je.metadata,X.converter)))}set(Z,X,je){const Ft=Mt(Z);return je?(xe("Transaction.set",je),this._delegate.set(Ft,X,je)):this._delegate.set(Ft,X),this}update(Z,X,je,...Ft){const Tn=Mt(Z);return 2===arguments.length?this._delegate.update(Tn,X):this._delegate.update(Tn,X,je,...Ft),this}delete(Z){const X=Mt(Z);return this._delegate.delete(X),this}}class Wn{constructor(Z){this._delegate=Z}set(Z,X,je){const Ft=Mt(Z);return je?(xe("WriteBatch.set",je),this._delegate.set(Ft,X,je)):this._delegate.set(Ft,X),this}update(Z,X,je,...Ft){const Tn=Mt(Z);return 2===arguments.length?this._delegate.update(Tn,X):this._delegate.update(Tn,X,je,...Ft),this}delete(Z){const X=Mt(Z);return this._delegate.delete(X),this}commit(){return this._delegate.commit()}}class xn{constructor(Z,X,je){this._firestore=Z,this._userDataWriter=X,this._delegate=je}fromFirestore(Z,X){const je=new Be.$q(this._firestore._delegate,this._userDataWriter,Z._key,Z._document,Z.metadata,null);return this._delegate.fromFirestore(new pt(this._firestore,je),X??{})}toFirestore(Z,X){return X?this._delegate.toFirestore(Z,X):this._delegate.toFirestore(Z)}static getInstance(Z,X){const je=xn.INSTANCES;let Ft=je.get(Z);Ft||(Ft=new WeakMap,je.set(Z,Ft));let Tn=Ft.get(X);return Tn||(Tn=new xn(Z,new hi(Z),X),Ft.set(X,Tn)),Tn}}xn.INSTANCES=new WeakMap;class nn{constructor(Z,X){this.firestore=Z,this._delegate=X,this._userDataWriter=new hi(Z)}static forPath(Z,X,je){if(Z.length%2!=0)throw new Be.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${Z.canonicalString()} has ${Z.length}`);return new nn(X,new Be.my(X._delegate,je,new Be.Ky(Z)))}static forKey(Z,X,je){return new nn(X,new Be.my(X._delegate,je,Z))}get id(){return this._delegate.id}get parent(){return new bn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(Z){try{return new bn(this.firestore,(0,Be.hJ)(this._delegate,Z))}catch(X){throw qe(X,"collection()","DocumentReference.collection()")}}isEqual(Z){return(Z=(0,ut.m9)(Z))instanceof Be.my&&(0,Be.Eo)(this._delegate,Z)}set(Z,X){X=xe("DocumentReference.set",X);try{return X?(0,Be.pl)(this._delegate,Z,X):(0,Be.pl)(this._delegate,Z)}catch(je){throw qe(je,"setDoc()","DocumentReference.set()")}}update(Z,X,...je){try{return 1===arguments.length?(0,Be.r7)(this._delegate,Z):(0,Be.r7)(this._delegate,Z,X,...je)}catch(Ft){throw qe(Ft,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Be.oe)(this._delegate)}onSnapshot(...Z){const X=Ne(Z),je=Ae(Z,Ft=>new Ue(this.firestore,new Be.xU(this.firestore._delegate,this._userDataWriter,Ft._key,Ft._document,Ft.metadata,this._delegate.converter)));return(0,Be.cf)(this._delegate,X,je)}get(Z){let X;return X="cache"===Z?.source?(0,Be.kl)(this._delegate):"server"===Z?.source?(0,Be.Xk)(this._delegate):(0,Be.QT)(this._delegate),X.then(je=>new Ue(this.firestore,new Be.xU(this.firestore._delegate,this._userDataWriter,je._key,je._document,je.metadata,this._delegate.converter)))}withConverter(Z){return new nn(this.firestore,this._delegate.withConverter(Z?xn.getInstance(this.firestore,Z):null))}}function qe(Ye,Z,X){return Ye.message=Ye.message.replace(Z,X),Ye}function Ne(Ye){for(const Z of Ye)if("object"==typeof Z&&!jt(Z))return Z;return{}}function Ae(Ye,Z){var X,je;let Ft;return Ft=jt(Ye[0])?Ye[0]:jt(Ye[1])?Ye[1]:"function"==typeof Ye[0]?{next:Ye[0],error:Ye[1],complete:Ye[2]}:{next:Ye[1],error:Ye[2],complete:Ye[3]},{next:Tn=>{Ft.next&&Ft.next(Z(Tn))},error:null===(X=Ft.error)||void 0===X?void 0:X.bind(Ft),complete:null===(je=Ft.complete)||void 0===je?void 0:je.bind(Ft)}}class Ue{constructor(Z,X){this._firestore=Z,this._delegate=X}get ref(){return new nn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(Z){return this._delegate.data(Z)}get(Z,X){return this._delegate.get(Z,X)}isEqual(Z){return(0,Be.qK)(this._delegate,Z._delegate)}}class pt extends Ue{data(Z){const X=this._delegate.data(Z);return(0,Be.K9)(void 0!==X,"Document in a QueryDocumentSnapshot should exist"),X}}class at{constructor(Z,X){this.firestore=Z,this._delegate=X,this._userDataWriter=new hi(Z)}where(Z,X,je){try{return new at(this.firestore,(0,Be.IO)(this._delegate,(0,Be.ar)(Z,X,je)))}catch(Ft){throw qe(Ft,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(Z,X){try{return new at(this.firestore,(0,Be.IO)(this._delegate,(0,Be.Xo)(Z,X)))}catch(je){throw qe(je,/(orderBy|where)\(\)/,"Query.$1()")}}limit(Z){try{return new at(this.firestore,(0,Be.IO)(this._delegate,(0,Be.b9)(Z)))}catch(X){throw qe(X,"limit()","Query.limit()")}}limitToLast(Z){try{return new at(this.firestore,(0,Be.IO)(this._delegate,(0,Be.vh)(Z)))}catch(X){throw qe(X,"limitToLast()","Query.limitToLast()")}}startAt(...Z){try{return new at(this.firestore,(0,Be.IO)(this._delegate,(0,Be.e0)(...Z)))}catch(X){throw qe(X,"startAt()","Query.startAt()")}}startAfter(...Z){try{return new at(this.firestore,(0,Be.IO)(this._delegate,(0,Be.TQ)(...Z)))}catch(X){throw qe(X,"startAfter()","Query.startAfter()")}}endBefore(...Z){try{return new at(this.firestore,(0,Be.IO)(this._delegate,(0,Be.Lx)(...Z)))}catch(X){throw qe(X,"endBefore()","Query.endBefore()")}}endAt(...Z){try{return new at(this.firestore,(0,Be.IO)(this._delegate,(0,Be.Wu)(...Z)))}catch(X){throw qe(X,"endAt()","Query.endAt()")}}isEqual(Z){return(0,Be.iE)(this._delegate,Z._delegate)}get(Z){let X;return X="cache"===Z?.source?(0,Be.UQ)(this._delegate):"server"===Z?.source?(0,Be.zN)(this._delegate):(0,Be.PL)(this._delegate),X.then(je=>new In(this.firestore,new Be.W(this.firestore._delegate,this._userDataWriter,this._delegate,je._snapshot)))}onSnapshot(...Z){const X=Ne(Z),je=Ae(Z,Ft=>new In(this.firestore,new Be.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ft._snapshot)));return(0,Be.cf)(this._delegate,X,je)}withConverter(Z){return new at(this.firestore,this._delegate.withConverter(Z?xn.getInstance(this.firestore,Z):null))}}class Qt{constructor(Z,X){this._firestore=Z,this._delegate=X}get type(){return this._delegate.type}get doc(){return new pt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class In{constructor(Z,X){this._firestore=Z,this._delegate=X}get query(){return new at(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(Z=>new pt(this._firestore,Z))}docChanges(Z){return this._delegate.docChanges(Z).map(X=>new Qt(this._firestore,X))}forEach(Z,X){this._delegate.forEach(je=>{Z.call(X,new pt(this._firestore,je))})}isEqual(Z){return(0,Be.qK)(this._delegate,Z._delegate)}}class bn extends at{constructor(Z,X){super(Z,X),this.firestore=Z,this._delegate=X}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const Z=this._delegate.parent;return Z?new nn(this.firestore,Z):null}doc(Z){try{return new nn(this.firestore,void 0===Z?(0,Be.JU)(this._delegate):(0,Be.JU)(this._delegate,Z))}catch(X){throw qe(X,"doc()","CollectionReference.doc()")}}add(Z){return(0,Be.ET)(this._delegate,Z).then(X=>new nn(this.firestore,X))}isEqual(Z){return(0,Be.Eo)(this._delegate,Z._delegate)}withConverter(Z){return new bn(this.firestore,this._delegate.withConverter(Z?xn.getInstance(this.firestore,Z):null))}}function Mt(Ye){return(0,Be.Cf)(Ye,Be.my)}class pn{constructor(...Z){this._delegate=new Be.Lz(...Z)}static documentId(){return new pn(Be.Xb.keyField().canonicalString())}isEqual(Z){return(Z=(0,ut.m9)(Z))instanceof Be.Lz&&this._delegate._internalPath.isEqual(Z._internalPath)}}class St{constructor(Z){this._delegate=Z}static serverTimestamp(){const Z=(0,Be.Bt)();return Z._methodName="FieldValue.serverTimestamp",new St(Z)}static delete(){const Z=(0,Be.AK)();return Z._methodName="FieldValue.delete",new St(Z)}static arrayUnion(...Z){const X=(0,Be.vr)(...Z);return X._methodName="FieldValue.arrayUnion",new St(X)}static arrayRemove(...Z){const X=(0,Be.Ab)(...Z);return X._methodName="FieldValue.arrayRemove",new St(X)}static increment(Z){const X=(0,Be.nP)(Z);return X._methodName="FieldValue.increment",new St(X)}isEqual(Z){return this._delegate.isEqual(Z._delegate)}}const on={Firestore:rn,GeoPoint:Be.F8,Timestamp:Be.EK,Blob:mt,Transaction:An,WriteBatch:Wn,DocumentReference:nn,DocumentSnapshot:Ue,Query:at,QueryDocumentSnapshot:pt,QuerySnapshot:In,CollectionReference:bn,FieldPath:pn,FieldValue:St,setLogLevel:function _i(Ye){(0,Be.Ub)(Ye)},CACHE_SIZE_UNLIMITED:Be.IX};!function Ln(Ye){(function wn(Ye,Z){Ye.INTERNAL.registerComponent(new Fe.wA("firestore-compat",X=>{const je=X.getProvider("app-compat").getImmediate(),Ft=X.getProvider("firestore").getImmediate();return Z(je,Ft)},"PUBLIC").setServiceProps(Object.assign({},on)))})(Ye,(Z,X)=>new rn(Z,X,new vn)),Ye.registerVersion("@firebase/firestore-compat","0.3.12")}(nt.Z);var Jn=M(3772),Cn=M(4549),_t=M(2533);function Xe(Ye,Z){return function he(Ye,Z=F.z){return new _.y(X=>{let je;return null!=Z?Z.schedule(()=>{je=Ye.onSnapshot({includeMetadataChanges:!0},X)}):je=Ye.onSnapshot({includeMetadataChanges:!0},X),()=>{je?.()}})}(Ye,Z)}function lt(Ye,Z){return Xe(Ye,Z).pipe((0,de.U)(X=>({payload:X,type:"query"})))}function gt(Ye,Z){return lt(Ye,Z).pipe((0,He.O)(void 0),ne(),(0,de.U)(([X,je])=>{const Ft=je.payload.docChanges(),Tn=Ft.map(ui=>({type:ui.type,payload:ui}));return X&&JSON.stringify(X.payload.metadata)!==JSON.stringify(je.payload.metadata)&&je.payload.docs.forEach((ui,rt)=>{const Qe=Ft.find(ve=>ve.doc.ref.isEqual(ui.ref)),pe=X?.payload.docs.find(ve=>ve.ref.isEqual(ui.ref));Qe&&JSON.stringify(Qe.doc.metadata)===JSON.stringify(ui.metadata)||!Qe&&pe&&JSON.stringify(pe.metadata)===JSON.stringify(ui.metadata)||Tn.push({type:"modified",payload:{oldIndex:rt,newIndex:rt,type:"modified",doc:ui}})}),Tn}))}function Ee(Ye,Z,X){return gt(Ye,X).pipe((0,ye.R)((je,Ft)=>function et(Ye,Z,X){return Z.forEach(je=>{X.indexOf(je.type)>-1&&(Ye=function bt(Ye,Z){switch(Z.type){case"added":if(!Ye[Z.newIndex]||!Ye[Z.newIndex].doc.ref.isEqual(Z.doc.ref))return xt(Ye,Z.newIndex,0,Z);break;case"modified":if(null==Ye[Z.oldIndex]||Ye[Z.oldIndex].doc.ref.isEqual(Z.doc.ref)){if(Z.oldIndex!==Z.newIndex){const X=Ye.slice();return X.splice(Z.oldIndex,1),X.splice(Z.newIndex,0,Z),X}return xt(Ye,Z.newIndex,1,Z)}break;case"removed":if(Ye[Z.oldIndex]&&Ye[Z.oldIndex].doc.ref.isEqual(Z.doc.ref))return xt(Ye,Z.oldIndex,1)}return Ye}(Ye,je))}),Ye}(je,Ft.map(Tn=>Tn.payload),Z),[]),(0,Ie.x)(),(0,de.U)(je=>je.map(Ft=>({type:Ft.type,payload:Ft}))))}function xt(Ye,Z,X,...je){const Ft=Ye.slice();return Ft.splice(Z,X,...je),Ft}function un(Ye){return(!Ye||0===Ye.length)&&(Ye=["added","removed","modified"]),Ye}class Ot{constructor(Z,X,je){this.ref=Z,this.query=X,this.afs=je}stateChanges(Z){let X=gt(this.query,this.afs.schedulers.outsideAngular);return Z&&Z.length>0&&(X=X.pipe((0,de.U)(je=>je.filter(Ft=>Z.indexOf(Ft.type)>-1)))),X.pipe((0,He.O)(void 0),ne(),(0,Ve.h)(([je,Ft])=>Ft.length>0||!je),(0,de.U)(([je,Ft])=>Ft),we.iC)}auditTrail(Z){return this.stateChanges(Z).pipe((0,ye.R)((X,je)=>[...X,...je],[]))}snapshotChanges(Z){const X=un(Z);return Ee(this.query,X,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(Z={}){return lt(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(X=>X.payload.docs.map(je=>Z.idField?Object.assign(Object.assign({},je.data()),{[Z.idField]:je.id}):je.data())),we.iC)}get(Z){return(0,ce.D)(this.query.get(Z)).pipe(we.iC)}add(Z){return this.ref.add(Z)}doc(Z){return new Jt(this.ref.doc(Z),this.afs)}}class Jt{constructor(Z,X){this.ref=Z,this.afs=X}set(Z,X){return this.ref.set(Z,X)}update(Z){return this.ref.update(Z)}delete(){return this.ref.delete()}collection(Z,X){const je=this.ref.collection(Z),{ref:Ft,query:Tn}=Un(je,X);return new Ot(Ft,Tn,this.afs)}snapshotChanges(){return function Dt(Ye,Z){return Xe(Ye,Z).pipe((0,He.O)(void 0),ne(),(0,de.U)(([X,je])=>je.exists?X?.exists?{payload:je,type:"modified"}:{payload:je,type:"added"}:{payload:je,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(Z={}){return this.snapshotChanges().pipe((0,de.U)(({payload:X})=>Z.idField?Object.assign(Object.assign({},X.data()),{[Z.idField]:X.id}):X.data()))}get(Z){return(0,ce.D)(this.ref.get(Z)).pipe(we.iC)}}class yt{constructor(Z,X){this.query=Z,this.afs=X}stateChanges(Z){return Z&&0!==Z.length?gt(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(X=>X.filter(je=>Z.indexOf(je.type)>-1)),(0,Ve.h)(X=>X.length>0),we.iC):gt(this.query,this.afs.schedulers.outsideAngular).pipe(we.iC)}auditTrail(Z){return this.stateChanges(Z).pipe((0,ye.R)((X,je)=>[...X,...je],[]))}snapshotChanges(Z){const X=un(Z);return Ee(this.query,X,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(Z={}){return lt(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(je=>je.payload.docs.map(Ft=>Z.idField?Object.assign({[Z.idField]:Ft.id},Ft.data()):Ft.data())),we.iC)}get(Z){return(0,ce.D)(this.query.get(Z)).pipe(we.iC)}}const Vt=new f.OlP("angularfire2.enableFirestorePersistence"),kn=new f.OlP("angularfire2.firestore.persistenceSettings"),Sn=new f.OlP("angularfire2.firestore.settings"),Oi=new f.OlP("angularfire2.firestore.use-emulator");function Un(Ye,Z=(X=>X)){return{query:Z(Ye),ref:Ye}}let mi=(()=>{class Ye{constructor(X,je,Ft,Tn,ui,rt,Qe,pe,ve,fe,ft,$e,le,q,te,Pe,st){this.schedulers=Qe;const $t=(0,We.on)(X,rt,je),ln=ve;fe&&(0,Jn.nw)($t,rt,ft,le,q,te,$e,Pe),[this.firestore,this.persistenceEnabled$]=(0,We.cc)(`${$t.name}.firestore`,"AngularFirestore",$t.name,()=>{const Xn=rt.runOutsideAngular(()=>$t.firestore());if(Tn&&Xn.settings(Tn),ln&&Xn.useEmulator(...ln),Ft&&!(0,ht.PM)(ui)){const Pi=()=>{try{return(0,ce.D)(Xn.enablePersistence(pe||void 0).then(()=>!0,()=>!1))}catch(Lt){return typeof console<"u"&&console.warn(Lt),(0,S.of)(!1)}};return[Xn,rt.runOutsideAngular(Pi)]}return[Xn,(0,S.of)(!1)]},[Tn,ln,Ft])}collection(X,je){let Ft;Ft="string"==typeof X?this.firestore.collection(X):X;const{ref:Tn,query:ui}=Un(Ft,je),rt=this.schedulers.ngZone.run(()=>Tn);return new Ot(rt,ui,this)}collectionGroup(X,je){const Ft=je||(ui=>ui),Tn=this.firestore.collectionGroup(X);return new yt(Ft(Tn),this)}doc(X){let je;je="string"==typeof X?this.firestore.doc(X):X;const Ft=this.schedulers.ngZone.run(()=>je);return new Jt(Ft,this)}createId(){return this.firestore.collection("_").doc().id}}return Ye.\u0275fac=function(X){return new(X||Ye)(f.LFG(We.Dh),f.LFG(We.xv,8),f.LFG(Vt,8),f.LFG(Sn,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(we.HU),f.LFG(kn,8),f.LFG(Oi,8),f.LFG(Jn.zQ,8),f.LFG(Jn.Qv,8),f.LFG(Jn.L6,8),f.LFG(Jn._Q,8),f.LFG(Jn.rT,8),f.LFG(Jn.lh,8),f.LFG(Jn.f7,8),f.LFG(Cn.nm,8))},Ye.\u0275prov=f.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"any"}),Ye})(),Vn=(()=>{class Ye{constructor(){_t.Z.registerVersion("angularfire",we.q4.full,"fst-compat")}static enablePersistence(X){return{ngModule:Ye,providers:[{provide:Vt,useValue:!0},{provide:kn,useValue:X}]}}}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275mod=f.oAB({type:Ye}),Ye.\u0275inj=f.cJS({providers:[mi]}),Ye})()},7303:(fn,ot,M)=>{"use strict";M.d(ot,{Q1:()=>Ls,TE:()=>ia});var f=M(7241),F=M(4945),_=M(237),ce=M(3151),S=M(7969),we=M(1528),He=M(346),L=M(4537),Oe=M(8939),ne=M(3394),de=M(8239),ye=M(7467),Ie=M(3854),Ve=M(3910);const We="firebasestorage.googleapis.com",ht="storageBucket";class ut extends Ie.ZR{constructor(E,I,K=0){super(ke(E),`Firebase Storage: ${I} (${ke(E)})`),this.status_=K,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(E){this.status_=E}_codeEquals(E){return ke(E)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(E){this.customData.serverResponse=E,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Fe=(()=>{return(D=Fe||(Fe={})).UNKNOWN="unknown",D.OBJECT_NOT_FOUND="object-not-found",D.BUCKET_NOT_FOUND="bucket-not-found",D.PROJECT_NOT_FOUND="project-not-found",D.QUOTA_EXCEEDED="quota-exceeded",D.UNAUTHENTICATED="unauthenticated",D.UNAUTHORIZED="unauthorized",D.UNAUTHORIZED_APP="unauthorized-app",D.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",D.INVALID_CHECKSUM="invalid-checksum",D.CANCELED="canceled",D.INVALID_EVENT_NAME="invalid-event-name",D.INVALID_URL="invalid-url",D.INVALID_DEFAULT_BUCKET="invalid-default-bucket",D.NO_DEFAULT_BUCKET="no-default-bucket",D.CANNOT_SLICE_BLOB="cannot-slice-blob",D.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",D.NO_DOWNLOAD_URL="no-download-url",D.INVALID_ARGUMENT="invalid-argument",D.INVALID_ARGUMENT_COUNT="invalid-argument-count",D.APP_DELETED="app-deleted",D.INVALID_ROOT_OPERATION="invalid-root-operation",D.INVALID_FORMAT="invalid-format",D.INTERNAL_ERROR="internal-error",D.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Fe;var D})();function ke(D){return"storage/"+D}function Re(){return new ut(Fe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ht(){return new ut(Fe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vn(){return new ut(Fe.CANCELED,"User canceled the upload/download.")}function An(){return new ut(Fe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qe(D){return new ut(Fe.INVALID_ARGUMENT,D)}function Ne(){return new ut(Fe.APP_DELETED,"The Firebase app was deleted.")}function Ae(D){return new ut(Fe.INVALID_ROOT_OPERATION,"The operation '"+D+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ue(D,E){return new ut(Fe.INVALID_FORMAT,"String does not match format '"+D+"': "+E)}function pt(D){throw new ut(Fe.INTERNAL_ERROR,"Internal error: "+D)}class at{constructor(E,I){this.bucket=E,this.path_=I}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const E=encodeURIComponent;return"/b/"+E(this.bucket)+"/o/"+E(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(E,I){let K;try{K=at.makeFromUrl(E,I)}catch{return new at(E,"")}if(""===K.path)return K;throw function hi(D){return new ut(Fe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+D+"'.")}(E)}static makeFromUrl(E,I){let K=null;const Te="([A-Za-z0-9.\\-_]+)",Et=new RegExp("^gs://"+Te+"(/(.*))?$","i");function Si(Ji){Ji.path_=decodeURIComponent(Ji.path)}const Li=I.replace(/[.]/g,"\\."),br=[{regex:Et,indices:{bucket:1,path:3},postModify:function Ct(Ji){"/"===Ji.path.charAt(Ji.path.length-1)&&(Ji.path_=Ji.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Li}/v[A-Za-z0-9_]+/b/${Te}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Si},{regex:new RegExp(`^https?://${I===We?"(?:storage.googleapis.com|storage.cloud.google.com)":I}/${Te}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Si}];for(let Ji=0;Ji<br.length;Ji++){const Nr=br[Ji],ws=Nr.regex.exec(E);if(ws){let us=ws[Nr.indices.path];us||(us=""),K=new at(ws[Nr.indices.bucket],us),Nr.postModify(K);break}}if(null==K)throw function rn(D){return new ut(Fe.INVALID_URL,"Invalid URL '"+D+"'.")}(E);return K}}class Qt{constructor(E){this.promise_=Promise.reject(E)}getPromise(){return this.promise_}cancel(E=!1){}}function on(D){return"string"==typeof D||D instanceof String}function wn(D){return Ln()&&D instanceof Blob}function Ln(){return typeof Blob<"u"&&!(0,Ie.UG)()}function Jn(D,E,I,K){if(K<E)throw qe(`Invalid value for '${D}'. Expected ${E} or greater.`);if(K>I)throw qe(`Invalid value for '${D}'. Expected ${I} or less.`)}function Cn(D,E,I){let K=E;return null==I&&(K=`https://${E}`),`${I}://${K}/v0${D}`}function _t(D){const E=encodeURIComponent;let I="?";for(const K in D)D.hasOwnProperty(K)&&(I=I+(E(K)+"=")+E(D[K])+"&");return I=I.slice(0,-1),I}var he=(()=>{return(D=he||(he={}))[D.NO_ERROR=0]="NO_ERROR",D[D.NETWORK_ERROR=1]="NETWORK_ERROR",D[D.ABORT=2]="ABORT",he;var D})();function Xe(D,E){const I=D>=500&&D<600,Te=-1!==[408,429].indexOf(D),Ct=-1!==E.indexOf(D);return I||Te||Ct}class Dt{constructor(E,I,K,Te,Ct,sn,Et,cn,Si,Fi,Li,Ir=!0){this.url_=E,this.method_=I,this.headers_=K,this.body_=Te,this.successCodes_=Ct,this.additionalRetryCodes_=sn,this.callback_=Et,this.errorCallback_=cn,this.timeout_=Si,this.progressCallback_=Fi,this.connectionFactory_=Li,this.retry=Ir,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((mr,or)=>{this.resolve_=mr,this.reject_=or,this.start_()})}start_(){const I=(K,Te)=>{const Ct=this.resolve_,sn=this.reject_,Et=Te.connection;if(Te.wasSuccessCode)try{const cn=this.callback_(Et,Et.getResponse());!function Mt(D){return void 0!==D}(cn)?Ct():Ct(cn)}catch(cn){sn(cn)}else if(null!==Et){const cn=Re();cn.serverResponse=Et.getErrorText(),sn(this.errorCallback_?this.errorCallback_(Et,cn):cn)}else sn(Te.canceled?this.appDelete_?Ne():vn():Ht())};this.canceled_?I(0,new lt(!1,null,!0)):this.backoffId_=function In(D,E,I){let K=1,Te=null,Ct=null,sn=!1,Et=0;function cn(){return 2===Et}let Si=!1;function Fi(...Tr){Si||(Si=!0,E.apply(null,Tr))}function Li(Tr){Te=setTimeout(()=>{Te=null,D(mr,cn())},Tr)}function Ir(){Ct&&clearTimeout(Ct)}function mr(Tr,...fo){if(Si)return void Ir();if(Tr)return Ir(),void Fi.call(null,Tr,...fo);if(cn()||sn)return Ir(),void Fi.call(null,Tr,...fo);let br;K<64&&(K*=2),1===Et?(Et=2,br=0):br=1e3*(K+Math.random()),Li(br)}let or=!1;function bs(Tr){or||(or=!0,Ir(),!Si&&(null!==Te?(Tr||(Et=2),clearTimeout(Te),Li(0)):Tr||(Et=1)))}return Li(0),Ct=setTimeout(()=>{sn=!0,bs(!0)},I),bs}((K,Te)=>{if(Te)return void K(!1,new lt(!1,null,!0));const Ct=this.connectionFactory_();this.pendingConnection_=Ct;const sn=Et=>{null!==this.progressCallback_&&this.progressCallback_(Et.loaded,Et.lengthComputable?Et.total:-1)};null!==this.progressCallback_&&Ct.addUploadProgressListener(sn),Ct.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ct.removeUploadProgressListener(sn),this.pendingConnection_=null;const Et=Ct.getErrorCode()===he.NO_ERROR,cn=Ct.getStatus();if(!Et||Xe(cn,this.additionalRetryCodes_)&&this.retry){const Fi=Ct.getErrorCode()===he.ABORT;return void K(!1,new lt(!1,null,Fi))}const Si=-1!==this.successCodes_.indexOf(cn);K(!0,new lt(Si,Ct))})},I,this.timeout_)}getPromise(){return this.promise_}cancel(E){this.canceled_=!0,this.appDelete_=E||!1,null!==this.backoffId_&&function bn(D){D(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class lt{constructor(E,I,K){this.wasSuccessCode=E,this.connection=I,this.canceled=!!K}}function Ot(...D){const E=function un(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==E){const I=new E;for(let K=0;K<D.length;K++)I.append(D[K]);return I.getBlob()}if(Ln())return new Blob(D);throw new ut(Fe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Vt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kn{constructor(E,I){this.data=E,this.contentType=I||null}}function Sn(D,E){switch(D){case Vt.RAW:return new kn(Oi(E));case Vt.BASE64:case Vt.BASE64URL:return new kn(mi(D,E));case Vt.DATA_URL:return new kn(function Ye(D){const E=new Vn(D);return E.base64?mi(Vt.BASE64,E.rest):function Un(D){let E;try{E=decodeURIComponent(D)}catch{throw Ue(Vt.DATA_URL,"Malformed data URL.")}return Oi(E)}(E.rest)}(E),function Z(D){return new Vn(D).contentType}(E))}throw Re()}function Oi(D){const E=[];for(let I=0;I<D.length;I++){let K=D.charCodeAt(I);K<=127?E.push(K):K<=2047?E.push(192|K>>6,128|63&K):55296==(64512&K)?I<D.length-1&&56320==(64512&D.charCodeAt(I+1))?(K=65536|(1023&K)<<10|1023&D.charCodeAt(++I),E.push(240|K>>18,128|K>>12&63,128|K>>6&63,128|63&K)):E.push(239,191,189):56320==(64512&K)?E.push(239,191,189):E.push(224|K>>12,128|K>>6&63,128|63&K)}return new Uint8Array(E)}function mi(D,E){switch(D){case Vt.BASE64:{const Te=-1!==E.indexOf("-"),Ct=-1!==E.indexOf("_");if(Te||Ct)throw Ue(D,"Invalid character '"+(Te?"-":"_")+"' found: is it base64url encoded?");break}case Vt.BASE64URL:{const Te=-1!==E.indexOf("+"),Ct=-1!==E.indexOf("/");if(Te||Ct)throw Ue(D,"Invalid character '"+(Te?"+":"/")+"' found: is it base64 encoded?");E=E.replace(/-/g,"+").replace(/_/g,"/");break}}let I;try{I=function yt(D){if(typeof atob>"u")throw function nn(D){return new ut(Fe.UNSUPPORTED_ENVIRONMENT,`${D} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(D)}(E)}catch(Te){throw Te.message.includes("polyfill")?Te:Ue(D,"Invalid character found")}const K=new Uint8Array(I.length);for(let Te=0;Te<I.length;Te++)K[Te]=I.charCodeAt(Te);return K}class Vn{constructor(E){this.base64=!1,this.contentType=null;const I=E.match(/^data:([^,]+)?,/);if(null===I)throw Ue(Vt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const K=I[1]||null;null!=K&&(this.base64=function X(D,E){return D.length>=E.length&&D.substring(D.length-E.length)===E}(K,";base64"),this.contentType=this.base64?K.substring(0,K.length-7):K),this.rest=E.substring(E.indexOf(",")+1)}}class je{constructor(E,I){let K=0,Te="";wn(E)?(this.data_=E,K=E.size,Te=E.type):E instanceof ArrayBuffer?(I?this.data_=new Uint8Array(E):(this.data_=new Uint8Array(E.byteLength),this.data_.set(new Uint8Array(E))),K=this.data_.length):E instanceof Uint8Array&&(I?this.data_=E:(this.data_=new Uint8Array(E.length),this.data_.set(E)),K=E.length),this.size_=K,this.type_=Te}size(){return this.size_}type(){return this.type_}slice(E,I){if(wn(this.data_)){const Te=function Jt(D,E,I){return D.webkitSlice?D.webkitSlice(E,I):D.mozSlice?D.mozSlice(E,I):D.slice?D.slice(E,I):null}(this.data_,E,I);return null===Te?null:new je(Te)}{const K=new Uint8Array(this.data_.buffer,E,I-E);return new je(K,!0)}}static getBlob(...E){if(Ln()){const I=E.map(K=>K instanceof je?K.data_:K);return new je(Ot.apply(null,I))}{const I=E.map(sn=>on(sn)?Sn(Vt.RAW,sn).data:sn.data_);let K=0;I.forEach(sn=>{K+=sn.byteLength});const Te=new Uint8Array(K);let Ct=0;return I.forEach(sn=>{for(let Et=0;Et<sn.length;Et++)Te[Ct++]=sn[Et]}),new je(Te,!0)}}uploadData(){return this.data_}}function Ft(D){let E;try{E=JSON.parse(D)}catch{return null}return function St(D){return"object"==typeof D&&!Array.isArray(D)}(E)?E:null}function rt(D){const E=D.lastIndexOf("/",D.length-2);return-1===E?D:D.slice(E+1)}function Qe(D,E){return E}class pe{constructor(E,I,K,Te){this.server=E,this.local=I||E,this.writable=!!K,this.xform=Te||Qe}}let ve=null;function ft(){if(ve)return ve;const D=[];D.push(new pe("bucket")),D.push(new pe("generation")),D.push(new pe("metageneration")),D.push(new pe("name","fullPath",!0));const I=new pe("name");I.xform=function E(Ct,sn){return function fe(D){return!on(D)||D.length<2?D:rt(D)}(sn)},D.push(I);const Te=new pe("size");return Te.xform=function K(Ct,sn){return void 0!==sn?Number(sn):sn},D.push(Te),D.push(new pe("timeCreated")),D.push(new pe("updated")),D.push(new pe("md5Hash",null,!0)),D.push(new pe("cacheControl",null,!0)),D.push(new pe("contentDisposition",null,!0)),D.push(new pe("contentEncoding",null,!0)),D.push(new pe("contentLanguage",null,!0)),D.push(new pe("contentType",null,!0)),D.push(new pe("metadata","customMetadata",!0)),ve=D,ve}function q(D,E,I){const K=Ft(E);return null===K?null:function le(D,E,I){const K={type:"file"},Te=I.length;for(let Ct=0;Ct<Te;Ct++){const sn=I[Ct];K[sn.local]=sn.xform(K,E[sn.server])}return function $e(D,E){Object.defineProperty(D,"ref",{get:function I(){const Ct=new at(D.bucket,D.fullPath);return E._makeStorageReference(Ct)}})}(K,D),K}(D,K,I)}function Pe(D,E){const I={},K=E.length;for(let Te=0;Te<K;Te++){const Ct=E[Te];Ct.writable&&(I[Ct.server]=D[Ct.local])}return JSON.stringify(I)}const st="prefixes",$t="items";class Pi{constructor(E,I,K,Te){this.url=E,this.method=I,this.handler=K,this.timeout=Te,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Lt(D){if(!D)throw Re()}function Nt(D,E){return function I(K,Te){const Ct=q(D,Te,E);return Lt(null!==Ct),Ct}}function ei(D){return function E(I,K){let Te;return Te=401===I.getStatus()?I.getErrorText().includes("Firebase App Check token is invalid")?function mt(){return new ut(Fe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ge(){return new ut(Fe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===I.getStatus()?function Ke(D){return new ut(Fe.QUOTA_EXCEEDED,"Quota for bucket '"+D+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(D.bucket):403===I.getStatus()?function jt(D){return new ut(Fe.UNAUTHORIZED,"User does not have permission to access '"+D+"'.")}(D.path):K,Te.status=I.getStatus(),Te.serverResponse=K.serverResponse,Te}}function vi(D){const E=ei(D);return function I(K,Te){let Ct=E(K,Te);return 404===K.getStatus()&&(Ct=function xe(D){return new ut(Fe.OBJECT_NOT_FOUND,"Object '"+D+"' does not exist.")}(D.path)),Ct.serverResponse=Te.serverResponse,Ct}}function Hn(D,E,I){const Te=Cn(E.fullServerUrl(),D.host,D._protocol),sn=D.maxOperationRetryTime,Et=new Pi(Te,"GET",Nt(D,I),sn);return Et.errorHandler=vi(E),Et}function Vi(D,E,I,K,Te){const Ct={};Ct.prefix=E.isRoot?"":E.path+"/",I&&I.length>0&&(Ct.delimiter=I),K&&(Ct.pageToken=K),Te&&(Ct.maxResults=Te);const Et=Cn(E.bucketOnlyServerUrl(),D.host,D._protocol),Si=D.maxOperationRetryTime,Fi=new Pi(Et,"GET",function gn(D,E){return function I(K,Te){const Ct=function Xn(D,E,I){const K=Ft(I);return null===K?null:function ln(D,E,I){const K={prefixes:[],items:[],nextPageToken:I.nextPageToken};if(I[st])for(const Te of I[st]){const Ct=Te.replace(/\/$/,""),sn=D._makeStorageReference(new at(E,Ct));K.prefixes.push(sn)}if(I[$t])for(const Te of I[$t]){const Ct=D._makeStorageReference(new at(E,Te.name));K.items.push(Ct)}return K}(D,E,K)}(D,E,Te);return Lt(null!==Ct),Ct}}(D,E.bucket),Si);return Fi.urlParams=Ct,Fi.errorHandler=ei(E),Fi}function gs(D,E,I){const K=Object.assign({},I);return K.fullPath=D.path,K.size=E.size(),K.contentType||(K.contentType=function vr(D,E){return D&&D.contentType||E&&E.type()||"application/octet-stream"}(null,E)),K}class ct{constructor(E,I,K,Te){this.current=E,this.total=I,this.finalized=!!K,this.metadata=Te||null}}function A(D,E){let I=null;try{I=D.getResponseHeader("X-Goog-Upload-Status")}catch{Lt(!1)}return Lt(!!I&&-1!==(E||["active"]).indexOf(I)),I}const Yn={STATE_CHANGED:"state_changed"},si={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $i(D){switch(D){case"running":case"pausing":case"canceling":return si.RUNNING;case"paused":return si.PAUSED;case"success":return si.SUCCESS;case"canceled":return si.CANCELED;default:return si.ERROR}}class Mr{constructor(E,I,K){if(function pn(D){return"function"==typeof D}(E)||null!=I||null!=K)this.next=E,this.error=I??void 0,this.complete=K??void 0;else{const Ct=E;this.next=Ct.next,this.error=Ct.error,this.complete=Ct.complete}}}function ti(D){return(...E)=>{Promise.resolve().then(()=>D(...E))}}let qr=null;class xs{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=he.NO_ERROR,this.sendPromise_=new Promise(E=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=he.ABORT,E()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=he.NETWORK_ERROR,E()}),this.xhr_.addEventListener("load",()=>{E()})})}send(E,I,K,Te){if(this.sent_)throw pt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(I,E,!0),void 0!==Te)for(const Ct in Te)Te.hasOwnProperty(Ct)&&this.xhr_.setRequestHeader(Ct,Te[Ct].toString());return void 0!==K?this.xhr_.send(K):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(E){return this.xhr_.getResponseHeader(E)}addUploadProgressListener(E){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",E)}removeUploadProgressListener(E){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",E)}}class ao extends xs{initXhr(){this.xhr_.responseType="text"}}function xr(){return qr?qr():new ao}class Ys{constructor(E,I,K=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=E,this._blob=I,this._metadata=K,this._mappings=ft(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Te=>{if(this._request=void 0,this._chunkMultiplier=1,Te._codeEquals(Fe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Ct=this.isExponentialBackoffExpired();if(Xe(Te.status,[])){if(!Ct)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Te=Ht()}this._error=Te,this._transition("error")}},this._metadataErrorHandler=Te=>{this._request=void 0,Te._codeEquals(Fe.CANCELED)?this.completeTransitions_():(this._error=Te,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Te,Ct)=>{this._resolve=Te,this._reject=Ct,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const E=this._transferred;return I=>this._updateProgress(E+I)}_shouldDoResumable(E){return E.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(E){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([I,K])=>{switch(this._state){case"running":E(I,K);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((E,I)=>{const K=function Y(D,E,I,K,Te){const Ct=E.bucketOnlyServerUrl(),sn=gs(E,K,Te),Et={name:sn.fullPath},cn=Cn(Ct,D.host,D._protocol),Fi={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${K.size()}`,"X-Goog-Upload-Header-Content-Type":sn.contentType,"Content-Type":"application/json; charset=utf-8"},Li=Pe(sn,I),or=new Pi(cn,"POST",function mr(bs){let Tr;A(bs);try{Tr=bs.getResponseHeader("X-Goog-Upload-URL")}catch{Lt(!1)}return Lt(on(Tr)),Tr},D.maxUploadRetryTime);return or.urlParams=Et,or.headers=Fi,or.body=Li,or.errorHandler=ei(E),or}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Te=this._ref.storage._makeRequest(K,xr,E,I);this._request=Te,Te.getPromise().then(Ct=>{this._request=void 0,this._uploadUrl=Ct,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const E=this._uploadUrl;this._resolveToken((I,K)=>{const Te=function ue(D,E,I,K){const cn=new Pi(I,"POST",function Ct(Si){const Fi=A(Si,["active","final"]);let Li=null;try{Li=Si.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Lt(!1)}Li||Lt(!1);const Ir=Number(Li);return Lt(!isNaN(Ir)),new ct(Ir,K.size(),"final"===Fi)},D.maxUploadRetryTime);return cn.headers={"X-Goog-Upload-Command":"query"},cn.errorHandler=ei(E),cn}(this._ref.storage,this._ref._location,E,this._blob),Ct=this._ref.storage._makeRequest(Te,xr,I,K);this._request=Ct,Ct.getPromise().then(sn=>{this._request=void 0,this._updateProgress(sn.current),this._needToFetchStatus=!1,sn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const E=262144*this._chunkMultiplier,I=new ct(this._transferred,this._blob.size()),K=this._uploadUrl;this._resolveToken((Te,Ct)=>{let sn;try{sn=function qt(D,E,I,K,Te,Ct,sn,Et){const cn=new ct(0,0);if(sn?(cn.current=sn.current,cn.total=sn.total):(cn.current=0,cn.total=K.size()),K.size()!==cn.total)throw function Wn(){return new ut(Fe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Si=cn.total-cn.current;let Fi=Si;Te>0&&(Fi=Math.min(Fi,Te));const Li=cn.current;let mr="";mr=0===Fi?"finalize":Si===Fi?"upload, finalize":"upload";const or={"X-Goog-Upload-Command":mr,"X-Goog-Upload-Offset":`${cn.current}`},bs=K.slice(Li,Li+Fi);if(null===bs)throw An();const br=new Pi(I,"POST",function Tr(Ji,Nr){const ws=A(Ji,["active","final"]),As=cn.current+Fi,us=K.size();let Es;return Es="final"===ws?Nt(E,Ct)(Ji,Nr):null,new ct(As,us,"final"===ws,Es)},E.maxUploadRetryTime);return br.headers=or,br.body=bs.uploadData(),br.progressCallback=Et||null,br.errorHandler=ei(D),br}(this._ref._location,this._ref.storage,K,this._blob,E,this._mappings,I,this._makeProgressCallback())}catch(cn){return this._error=cn,void this._transition("error")}const Et=this._ref.storage._makeRequest(sn,xr,Te,Ct,!1);this._request=Et,Et.getPromise().then(cn=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(cn.current),cn.finalized?(this._metadata=cn.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((E,I)=>{const K=Hn(this._ref.storage,this._ref._location,this._mappings),Te=this._ref.storage._makeRequest(K,xr,E,I);this._request=Te,Te.getPromise().then(Ct=>{this._request=void 0,this._metadata=Ct,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((E,I)=>{const K=function Ge(D,E,I,K,Te){const Ct=E.bucketOnlyServerUrl(),sn={"X-Goog-Upload-Protocol":"multipart"},cn=function Et(){let br="";for(let Ji=0;Ji<2;Ji++)br+=Math.random().toString().slice(2);return br}();sn["Content-Type"]="multipart/related; boundary="+cn;const Si=gs(E,K,Te),Fi=Pe(Si,I),mr=je.getBlob("--"+cn+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Fi+"\r\n--"+cn+"\r\nContent-Type: "+Si.contentType+"\r\n\r\n",K,"\r\n--"+cn+"--");if(null===mr)throw An();const or={name:Si.fullPath},bs=Cn(Ct,D.host,D._protocol),fo=D.maxUploadRetryTime,as=new Pi(bs,"POST",Nt(D,I),fo);return as.urlParams=or,as.headers=sn,as.body=mr.uploadData(),as.errorHandler=ei(E),as}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Te=this._ref.storage._makeRequest(K,xr,E,I);this._request=Te,Te.getPromise().then(Ct=>{this._request=void 0,this._metadata=Ct,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(E){const I=this._transferred;this._transferred=E,this._transferred!==I&&this._notifyObservers()}_transition(E){if(this._state!==E)switch(E){case"canceling":case"pausing":this._state=E,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const I="paused"===this._state;this._state=E,I&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=E,this._notifyObservers();break;case"canceled":this._error=vn(),this._state=E,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const E=$i(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:E,metadata:this._metadata,task:this,ref:this._ref}}on(E,I,K,Te){const Ct=new Mr(I||void 0,K||void 0,Te||void 0);return this._addObserver(Ct),()=>{this._removeObserver(Ct)}}then(E,I){return this._promise.then(E,I)}catch(E){return this.then(null,E)}_addObserver(E){this._observers.push(E),this._notifyObserver(E)}_removeObserver(E){const I=this._observers.indexOf(E);-1!==I&&this._observers.splice(I,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(I=>{this._notifyObserver(I)})}_finishPromise(){if(void 0!==this._resolve){let E=!0;switch($i(this._state)){case si.SUCCESS:ti(this._resolve.bind(null,this.snapshot))();break;case si.CANCELED:case si.ERROR:ti(this._reject.bind(null,this._error))();break;default:E=!1}E&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(E){switch($i(this._state)){case si.RUNNING:case si.PAUSED:E.next&&ti(E.next.bind(E,this.snapshot))();break;case si.SUCCESS:E.complete&&ti(E.complete.bind(E))();break;default:E.error&&ti(E.error.bind(E,this._error))()}}resume(){const E="paused"===this._state||"pausing"===this._state;return E&&this._transition("running"),E}pause(){const E="running"===this._state;return E&&this._transition("pausing"),E}cancel(){const E="running"===this._state||"pausing"===this._state;return E&&this._transition("canceling"),E}}class nr{constructor(E,I){this._service=E,this._location=I instanceof at?I:at.makeFromUrl(I,E.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(E,I){return new nr(E,I)}get root(){const E=new at(this._location.bucket,"");return this._newRef(this._service,E)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rt(this._location.path)}get storage(){return this._service}get parent(){const E=function Tn(D){if(0===D.length)return null;const E=D.lastIndexOf("/");return-1===E?"":D.slice(0,E)}(this._location.path);if(null===E)return null;const I=new at(this._location.bucket,E);return new nr(this._service,I)}_throwIfRoot(E){if(""===this._location.path)throw Ae(E)}}function en(D,E,I){return mn.apply(this,arguments)}function mn(){return(mn=(0,de.Z)(function*(D,E,I){const Te=yield li(D,{pageToken:I});E.prefixes.push(...Te.prefixes),E.items.push(...Te.items),null!=Te.nextPageToken&&(yield en(D,E,Te.nextPageToken))})).apply(this,arguments)}function li(D,E){null!=E&&"number"==typeof E.maxResults&&Jn("options.maxResults",1,1e3,E.maxResults);const I=E||{},K=Vi(D.storage,D._location,"/",I.pageToken,I.maxResults);return D.storage.makeRequestWithTokens(K,xr)}function bi(D){D._throwIfRoot("getDownloadURL");const E=function ji(D,E,I){const Te=Cn(E.fullServerUrl(),D.host,D._protocol),sn=D.maxOperationRetryTime,Et=new Pi(Te,"GET",function qn(D,E){return function I(K,Te){const Ct=q(D,Te,E);return Lt(null!==Ct),function te(D,E,I,K){const Te=Ft(E);if(null===Te||!on(Te.downloadTokens))return null;const Ct=Te.downloadTokens;if(0===Ct.length)return null;const sn=encodeURIComponent;return Ct.split(",").map(Si=>{const Li=D.fullPath;return Cn("/b/"+sn(D.bucket)+"/o/"+sn(Li),I,K)+_t({alt:"media",token:Si})})[0]}(Ct,Te,D.host,D._protocol)}}(D,I),sn);return Et.errorHandler=vi(E),Et}(D.storage,D._location,ft());return D.storage.makeRequestWithTokens(E,xr).then(I=>{if(null===I)throw function xn(){return new ut(Fe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return I})}function ss(D,E){const I=function ui(D,E){const I=E.split("/").filter(K=>K.length>0).join("/");return 0===D.length?I:D+"/"+I}(D._location.path,E),K=new at(D._location.bucket,I);return new nr(D.storage,K)}function Ts(D,E){if(D instanceof vo){const I=D;if(null==I._bucket)throw function _i(){return new ut(Fe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ht+"' property when initializing the app?")}();const K=new nr(I,I._bucket);return null!=E?Ts(K,E):K}return void 0!==E?ss(D,E):D}function Zs(D,E){if(E&&function Zi(D){return/^[A-Za-z]+:\/\//.test(D)}(E)){if(D instanceof vo)return function qi(D,E){return new nr(D,E)}(D,E);throw qe("To use ref(service, url), the first argument must be a Storage instance.")}return Ts(D,E)}function Rr(D,E){const I=E?.[ht];return null==I?null:at.makeFromBucketSpec(I,D)}class vo{constructor(E,I,K,Te,Ct){this.app=E,this._authProvider=I,this._appCheckProvider=K,this._url=Te,this._firebaseVersion=Ct,this._bucket=null,this._host=We,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Te?at.makeFromBucketSpec(Te,this._host):Rr(this._host,this.app.options)}get host(){return this._host}set host(E){this._host=E,this._bucket=null!=this._url?at.makeFromBucketSpec(this._url,E):Rr(E,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(E){Jn("time",0,Number.POSITIVE_INFINITY,E),this._maxUploadRetryTime=E}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(E){Jn("time",0,Number.POSITIVE_INFINITY,E),this._maxOperationRetryTime=E}_getAuthToken(){var E=this;return(0,de.Z)(function*(){if(E._overrideAuthToken)return E._overrideAuthToken;const I=E._authProvider.getImmediate({optional:!0});if(I){const K=yield I.getToken();if(null!==K)return K.accessToken}return null})()}_getAppCheckToken(){var E=this;return(0,de.Z)(function*(){const I=E._appCheckProvider.getImmediate({optional:!0});return I?(yield I.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(E=>E.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(E){return new nr(this,E)}_makeRequest(E,I,K,Te,Ct=!0){if(this._deleted)return new Qt(Ne());{const sn=function bt(D,E,I,K,Te,Ct,sn=!0){const Et=_t(D.urlParams),cn=D.url+Et,Si=Object.assign({},D.headers);return function et(D,E){E&&(D["X-Firebase-GMPID"]=E)}(Si,E),function gt(D,E){null!==E&&E.length>0&&(D.Authorization="Firebase "+E)}(Si,I),function Ee(D,E){D["X-Firebase-Storage-Version"]="webjs/"+(E??"AppManager")}(Si,Ct),function xt(D,E){null!==E&&(D["X-Firebase-AppCheck"]=E)}(Si,K),new Dt(cn,D.method,Si,D.body,D.successCodes,D.additionalRetryCodes,D.handler,D.errorHandler,D.timeout,D.progressCallback,Te,sn)}(E,this._appId,K,Te,I,this._firebaseVersion,Ct);return this._requests.add(sn),sn.getPromise().then(()=>this._requests.delete(sn),()=>this._requests.delete(sn)),sn}}makeRequestWithTokens(E,I){var K=this;return(0,de.Z)(function*(){const[Te,Ct]=yield Promise.all([K._getAuthToken(),K._getAppCheckToken()]);return K._makeRequest(E,I,Te,Ct).getPromise()})()}}const $o="@firebase/storage";function Ss(D,E){return Zs(D=(0,Ie.m9)(D),E)}function Wa(D,{instanceIdentifier:E}){const I=D.getProvider("app").getImmediate(),K=D.getProvider("auth-internal"),Te=D.getProvider("app-check-internal");return new vo(I,K,Te,E,ye.SDK_VERSION)}!function Oo(){(0,ye._registerComponent)(new Ve.wA("storage",Wa,"PUBLIC").setMultipleInstances(!0)),(0,ye.registerVersion)($o,"0.11.2",""),(0,ye.registerVersion)($o,"0.11.2","esm2017")}();class no{constructor(E,I,K){this._delegate=E,this.task=I,this.ref=K}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Po{constructor(E,I){this._delegate=E,this._ref=I,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new no(this._delegate.snapshot,this,this._ref)}then(E,I){return this._delegate.then(K=>{if(E)return E(new no(K,this,this._ref))},I)}on(E,I,K,Te){let Ct;return I&&(Ct="function"==typeof I?sn=>I(new no(sn,this,this._ref)):{next:I.next?sn=>I.next(new no(sn,this,this._ref)):void 0,complete:I.complete||void 0,error:I.error||void 0}),this._delegate.on(E,Ct,K||void 0,Te||void 0)}}class ba{constructor(E,I){this._delegate=E,this._service=I}get prefixes(){return this._delegate.prefixes.map(E=>new Xr(E,this._service))}get items(){return this._delegate.items.map(E=>new Xr(E,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xr{constructor(E,I){this._delegate=E,this.storage=I}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(E){const I=function ys(D,E){return ss(D,E)}(this._delegate,E);return new Xr(I,this.storage)}get root(){return new Xr(this._delegate.root,this.storage)}get parent(){const E=this._delegate.parent;return null==E?null:new Xr(E,this.storage)}put(E,I){return this._throwIfRoot("put"),new Po(function Ro(D,E,I){return function It(D,E,I){return D._throwIfRoot("uploadBytesResumable"),new Ys(D,new je(E),I)}(D=(0,Ie.m9)(D),E,I)}(this._delegate,E,I),this)}putString(E,I=Vt.RAW,K){this._throwIfRoot("putString");const Te=Sn(I,E),Ct=Object.assign({},K);return null==Ct.contentType&&null!=Te.contentType&&(Ct.contentType=Te.contentType),new Po(new Ys(this._delegate,new je(Te.data,!0),Ct),this)}listAll(){return function wo(D){return function Bt(D){const E={prefixes:[],items:[]};return en(D,E).then(()=>E)}(D=(0,Ie.m9)(D))}(this._delegate).then(E=>new ba(E,this.storage))}list(E){return function Wo(D,E){return li(D=(0,Ie.m9)(D),E)}(this._delegate,E||void 0).then(I=>new ba(I,this.storage))}getMetadata(){return function qs(D){return function pi(D){D._throwIfRoot("getMetadata");const E=Hn(D.storage,D._location,ft());return D.storage.makeRequestWithTokens(E,xr)}(D=(0,Ie.m9)(D))}(this._delegate)}updateMetadata(E){return function bo(D,E){return function gi(D,E){D._throwIfRoot("updateMetadata");const I=function yr(D,E,I,K){const Ct=Cn(E.fullServerUrl(),D.host,D._protocol),Et=Pe(I,K),Si=D.maxOperationRetryTime,Fi=new Pi(Ct,"PATCH",Nt(D,K),Si);return Fi.headers={"Content-Type":"application/json; charset=utf-8"},Fi.body=Et,Fi.errorHandler=vi(E),Fi}(D.storage,D._location,E,ft());return D.storage.makeRequestWithTokens(I,xr)}(D=(0,Ie.m9)(D),E)}(this._delegate,E)}getDownloadURL(){return function _l(D){return bi(D=(0,Ie.m9)(D))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Qs(D){return function Pr(D){D._throwIfRoot("deleteObject");const E=function Ks(D,E){const K=Cn(E.fullServerUrl(),D.host,D._protocol),Et=new Pi(K,"DELETE",function sn(cn,Si){},D.maxOperationRetryTime);return Et.successCodes=[200,204],Et.errorHandler=vi(E),Et}(D.storage,D._location);return D.storage.makeRequestWithTokens(E,xr)}(D=(0,Ie.m9)(D))}(this._delegate)}_throwIfRoot(E){if(""===this._delegate._location.path)throw Ae(E)}}class Fs{constructor(E,I){this.app=E,this._delegate=I}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(E){if(pr(E))throw qe("ref() expected a child path but got a URL, use refFromURL instead.");return new Xr(Ss(this._delegate,E),this)}refFromURL(E){if(!pr(E))throw qe("refFromURL() expected a full URL but got a child path, use ref() instead.");try{at.makeFromUrl(E,this._delegate.host)}catch{throw qe("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xr(Ss(this._delegate,E),this)}setMaxUploadRetryTime(E){this._delegate.maxUploadRetryTime=E}setMaxOperationRetryTime(E){this._delegate.maxOperationRetryTime=E}useEmulator(E,I,K={}){!function uo(D,E,I,K={}){!function Pa(D,E,I,K={}){D.host=`${E}:${I}`,D._protocol="http";const{mockUserToken:Te}=K;Te&&(D._overrideAuthToken="string"==typeof Te?Te:(0,Ie.Sg)(Te,D.app.options.projectId))}(D,E,I,K)}(this._delegate,E,I,K)}}function pr(D){return/^[A-Za-z]+:\/\//.test(D)}function Jr(D,{instanceIdentifier:E}){const I=D.getProvider("app-compat").getImmediate(),K=D.getProvider("storage").getImmediate({identifier:E});return new Fs(I,K)}!function Co(D){const E={TaskState:si,TaskEvent:Yn,StringFormat:Vt,Storage:Fs,Reference:Xr};D.INTERNAL.registerComponent(new Ve.wA("storage-compat",Jr,"PUBLIC").setServiceProps(E).setMultipleInstances(!0)),D.registerVersion("@firebase/storage-compat","0.3.2")}(ne.Z);var Ni=M(4549),Ka=M(2533);function es(D){const E=function Do(D){return new f.y(E=>{const I=sn=>E.next(sn);I(D.snapshot);const Ct=D.on("state_changed",I);return D.then(sn=>{I(sn),E.complete()},sn=>{I(D.snapshot),(sn=>{E.error(sn)})(sn)}),function(){Ct()}}).pipe((0,ce.b)(0))}(D);return{task:D,then:D.then.bind(D),catch:D.catch.bind(D),pause:D.pause.bind(D),cancel:D.cancel.bind(D),resume:D.resume.bind(D),snapshotChanges:()=>E,percentageChanges:()=>E.pipe((0,S.U)(I=>I.bytesTransferred/I.totalBytes*100))}}function Vr(D){return{getDownloadURL:()=>(0,F.of)(void 0).pipe(He.fc,(0,we.w)(()=>D.getDownloadURL()),He.iC),getMetadata:()=>(0,F.of)(void 0).pipe(He.fc,(0,we.w)(()=>D.getMetadata()),He.iC),delete:()=>(0,_.D)(D.delete()),child:E=>Vr(D.child(E)),updateMetadata:E=>(0,_.D)(D.updateMetadata(E)),put:(E,I)=>es(D.put(E,I)),putString:(E,I,K)=>es(D.putString(E,I,K)),list:E=>(0,_.D)(D.list(E)),listAll:()=>(0,_.D)(D.listAll())}}const io=new L.OlP("angularfire2.storageBucket"),os=new L.OlP("angularfire2.storage.maxUploadRetryTime"),Na=new L.OlP("angularfire2.storage.maxOperationRetryTime"),vs=new L.OlP("angularfire2.storage.use-emulator");let Ls=(()=>{class D{constructor(I,K,Te,Ct,sn,Et,cn,Si,Fi,Li){const Ir=(0,Oe.on)(I,sn,K);this.storage=(0,Oe.cc)(`${Ir.name}.storage.${Te}`,"AngularFireStorage",Ir.name,()=>{const mr=sn.runOutsideAngular(()=>Ir.storage(Te||void 0)),or=Fi;return or&&mr.useEmulator(...or),cn&&mr.setMaxUploadRetryTime(cn),Si&&mr.setMaxOperationRetryTime(Si),mr},[cn,Si])}ref(I){return Vr(this.storage.ref(I))}refFromURL(I){return Vr(this.storage.refFromURL(I))}upload(I,K,Te){return Vr(this.storage.ref(I)).put(K,Te)}}return D.\u0275fac=function(I){return new(I||D)(L.LFG(Oe.Dh),L.LFG(Oe.xv,8),L.LFG(io,8),L.LFG(L.Lbi),L.LFG(L.R0b),L.LFG(He.HU),L.LFG(os,8),L.LFG(Na,8),L.LFG(vs,8),L.LFG(Ni.nm,8))},D.\u0275prov=L.Yz7({token:D,factory:D.\u0275fac,providedIn:"any"}),D})(),Ti=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275mod=L.oAB({type:D}),D.\u0275inj=L.cJS({}),D})(),ia=(()=>{class D{constructor(){Ka.Z.registerVersion("angularfire",He.q4.full,"gcs-compat")}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275mod=L.oAB({type:D}),D.\u0275inj=L.cJS({providers:[Ls],imports:[Ti]}),D})()},8939:(fn,ot,M)=>{"use strict";M.d(ot,{Dh:()=>L,GT:()=>we,cc:()=>Ve,hO:()=>Ie,on:()=>ne,pX:()=>S,xv:()=>Oe});var f=M(4537),F=M(2533),_=M(346);fn=M.hmd(fn);const ce=["ngOnDestroy"],S=(nt,Be,ut,Fe={})=>new Proxy(nt,{get:(ke,Re)=>ut.runOutsideAngular(()=>{var xe;if(nt[Re])return!(null===(xe=Fe?.spy)||void 0===xe)&&xe.get&&Fe.spy.get(Re,nt[Re]),nt[Re];if(ce.indexOf(Re)>-1)return()=>{};const Ke=Be.toPromise().then(ge=>{const mt=ge&&ge[Re];return"function"==typeof mt?mt.bind(ge):mt&&mt.then?mt.then(jt=>ut.run(()=>jt)):ut.run(()=>mt)});return new Proxy(()=>{},{get:(ge,mt)=>Ke[mt],apply:(ge,mt,jt)=>Ke.then(Ht=>{var vn;const rn=Ht&&Ht(...jt);return!(null===(vn=Fe?.spy)||void 0===vn)&&vn.apply&&Fe.spy.apply(Re,jt,rn),rn})})})}),we=(nt,Be)=>{Be.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(Fe=>{Object.defineProperty(nt.prototype,Fe,Object.getOwnPropertyDescriptor(ut.prototype||ut,Fe))})})};class He{constructor(Be){return Be}}const L=new f.OlP("angularfire2.app.options"),Oe=new f.OlP("angularfire2.app.name");function ne(nt,Be,ut){const ke="object"==typeof ut&&ut||{};ke.name=ke.name||"string"==typeof ut&&ut||"[DEFAULT]";const xe=F.Z.apps.filter(Ke=>Ke&&Ke.name===ke.name)[0]||Be.runOutsideAngular(()=>F.Z.initializeApp(nt,ke));try{JSON.stringify(nt)!==JSON.stringify(xe.options)&&de("error",`${xe.name} Firebase App already initialized with different options${fn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new He(xe)}const de=(nt,...Be)=>{(0,f.X6Q)()&&typeof console<"u"&&console[nt](...Be)},ye={provide:He,useFactory:ne,deps:[L,f.R0b,[new f.FiY,Oe]]};let Ie=(()=>{class nt{constructor(ut){F.Z.registerVersion("angularfire",_.q4.full,"core"),F.Z.registerVersion("angularfire",_.q4.full,"app-compat"),F.Z.registerVersion("angular",f.q4F.full,ut.toString())}static initializeApp(ut,Fe){return{ngModule:nt,providers:[{provide:L,useValue:ut},{provide:Oe,useValue:Fe}]}}}return nt.\u0275fac=function(ut){return new(ut||nt)(f.LFG(f.Lbi))},nt.\u0275mod=f.oAB({type:nt}),nt.\u0275inj=f.cJS({providers:[ye]}),nt})();function Ve(nt,Be,ut,Fe,ke){const[,Re,xe]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===nt)||[];if(Re)return function We(nt,Be){try{return nt.toString()===Be.toString()}catch{return nt===Be}}(ke,xe)||(Ze("error",`${Be} was already initialized on the ${ut} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:ke,was:xe})),Re;{const Ke=Fe();return globalThis.\u0275AngularfireInstanceCache.push([nt,Ke,ke]),Ke}}const ht=!!fn.hot,Ze=(nt,...Be)=>{(0,f.X6Q)()&&typeof console<"u"&&console[nt](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},346:(fn,ot,M)=>{"use strict";M.d(ot,{q4:()=>sc,iC:()=>Du,fc:()=>Cu,HU:()=>Ma,vb:()=>Sc,JM:()=>ac});var f=M(4537),F=M(8213),_=M(8239),ce=M(7467),S=M(3854),we=M(3910),He=M(5422);const L=(O,z)=>z.some(ee=>O instanceof ee);let Oe,ne;const Ie=new WeakMap,Ve=new WeakMap,We=new WeakMap,ht=new WeakMap,Ze=new WeakMap;let ut={get(O,z,ee){if(O instanceof IDBTransaction){if("done"===z)return Ve.get(O);if("objectStoreNames"===z)return O.objectStoreNames||We.get(O);if("store"===z)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return xe(O[z])},set:(O,z,ee)=>(O[z]=ee,!0),has:(O,z)=>O instanceof IDBTransaction&&("done"===z||"store"===z)||z in O};function Re(O){return"function"==typeof O?function ke(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...z){return O.apply(Ke(this),z),xe(Ie.get(this))}:function(...z){return xe(O.apply(Ke(this),z))}:function(z,...ee){const ze=O.call(Ke(this),z,...ee);return We.set(ze,z.sort?z.sort():[z]),xe(ze)}}(O):(O instanceof IDBTransaction&&function Be(O){if(Ve.has(O))return;const z=new Promise((ee,ze)=>{const Je=()=>{O.removeEventListener("complete",Tt),O.removeEventListener("error",Wt),O.removeEventListener("abort",Wt)},Tt=()=>{ee(),Je()},Wt=()=>{ze(O.error||new DOMException("AbortError","AbortError")),Je()};O.addEventListener("complete",Tt),O.addEventListener("error",Wt),O.addEventListener("abort",Wt)});Ve.set(O,z)}(O),L(O,function de(){return Oe||(Oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,ut):O)}function xe(O){if(O instanceof IDBRequest)return function nt(O){const z=new Promise((ee,ze)=>{const Je=()=>{O.removeEventListener("success",Tt),O.removeEventListener("error",Wt)},Tt=()=>{ee(xe(O.result)),Je()},Wt=()=>{ze(O.error),Je()};O.addEventListener("success",Tt),O.addEventListener("error",Wt)});return z.then(ee=>{ee instanceof IDBCursor&&Ie.set(ee,O)}).catch(()=>{}),Ze.set(z,O),z}(O);if(ht.has(O))return ht.get(O);const z=Re(O);return z!==O&&(ht.set(O,z),Ze.set(z,O)),z}const Ke=O=>Ze.get(O),jt=["get","getKey","getAll","getAllKeys","count"],Ht=["put","add","delete","clear"],vn=new Map;function rn(O,z){if(!(O instanceof IDBDatabase)||z in O||"string"!=typeof z)return;if(vn.get(z))return vn.get(z);const ee=z.replace(/FromIndex$/,""),ze=z!==ee,Je=Ht.includes(ee);if(!(ee in(ze?IDBIndex:IDBObjectStore).prototype)||!Je&&!jt.includes(ee))return;const Tt=function(){var Wt=(0,_.Z)(function*(On,...Nn){const jn=this.transaction(On,Je?"readwrite":"readonly");let $n=jn.store;return ze&&($n=$n.index(Nn.shift())),(yield Promise.all([$n[ee](...Nn),Je&&jn.done]))[0]});return function(Nn){return Wt.apply(this,arguments)}}();return vn.set(z,Tt),Tt}!function Fe(O){ut=O(ut)}(O=>({...O,get:(z,ee,ze)=>rn(z,ee)||O.get(z,ee,ze),has:(z,ee)=>!!rn(z,ee)||O.has(z,ee)}));const hi="@firebase/installations",_i="0.6.4",An=1e4,Wn=`w:${_i}`,xn="FIS_v2",nn="https://firebaseinstallations.googleapis.com/v1",qe=36e5,pt=new S.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function at(O){return O instanceof S.ZR&&O.code.includes("request-failed")}function Qt({projectId:O}){return`${nn}/projects/${O}/installations`}function In(O){return{token:O.token,requestStatus:2,expiresIn:Ln(O.expiresIn),creationTime:Date.now()}}function bn(O,z){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,_.Z)(function*(O,z){const ze=(yield z.json()).error;return pt.create("request-failed",{requestName:O,serverCode:ze.code,serverMessage:ze.message,serverStatus:ze.status})})).apply(this,arguments)}function pn({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function on(O){return wn.apply(this,arguments)}function wn(){return(wn=(0,_.Z)(function*(O){const z=yield O();return z.status>=500&&z.status<600?O():z})).apply(this,arguments)}function Ln(O){return Number(O.replace("s","000"))}function _t(){return(_t=(0,_.Z)(function*({appConfig:O,heartbeatServiceProvider:z},{fid:ee}){const ze=Qt(O),Je=pn(O),Tt=z.getImmediate({optional:!0});if(Tt){const jn=yield Tt.getHeartbeatsHeader();jn&&Je.append("x-firebase-client",jn)}const On={method:"POST",headers:Je,body:JSON.stringify({fid:ee,authVersion:xn,appId:O.appId,sdkVersion:Wn})},Nn=yield on(()=>fetch(ze,On));if(Nn.ok){const jn=yield Nn.json();return{fid:jn.fid||ee,registrationStatus:2,refreshToken:jn.refreshToken,authToken:In(jn.authToken)}}throw yield bn("Create Installation",Nn)})).apply(this,arguments)}function he(O){return new Promise(z=>{setTimeout(z,O)})}const Dt=/^[cdef][\w-]{21}$/,lt="";function gt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const ee=function Ee(O){return function Xe(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return Dt.test(ee)?ee:lt}catch{return lt}}function et(O){return`${O.appName}!${O.appId}`}const xt=new Map;function bt(O,z){const ee=et(O);Jt(ee,z),function yt(O,z){const ee=function kn(){return!Vt&&"BroadcastChannel"in self&&(Vt=new BroadcastChannel("[Firebase] FID Change"),Vt.onmessage=O=>{Jt(O.data.key,O.data.fid)}),Vt}();ee&&ee.postMessage({key:O,fid:z}),function Sn(){0===xt.size&&Vt&&(Vt.close(),Vt=null)}()}(ee,z)}function Jt(O,z){const ee=xt.get(O);if(ee)for(const ze of ee)ze(z)}let Vt=null;const Oi="firebase-installations-database",Un=1,mi="firebase-installations-store";let Vn=null;function Ye(){return Vn||(Vn=function ge(O,z,{blocked:ee,upgrade:ze,blocking:Je,terminated:Tt}={}){const Wt=indexedDB.open(O,z),On=xe(Wt);return ze&&Wt.addEventListener("upgradeneeded",Nn=>{ze(xe(Wt.result),Nn.oldVersion,Nn.newVersion,xe(Wt.transaction))}),ee&&Wt.addEventListener("blocked",()=>ee()),On.then(Nn=>{Tt&&Nn.addEventListener("close",()=>Tt()),Je&&Nn.addEventListener("versionchange",()=>Je())}).catch(()=>{}),On}(Oi,Un,{upgrade:(O,z)=>{0===z&&O.createObjectStore(mi)}})),Vn}function Z(O,z){return X.apply(this,arguments)}function X(){return(X=(0,_.Z)(function*(O,z){const ee=et(O),Je=(yield Ye()).transaction(mi,"readwrite"),Tt=Je.objectStore(mi),Wt=yield Tt.get(ee);return yield Tt.put(z,ee),yield Je.done,(!Wt||Wt.fid!==z.fid)&&bt(O,z.fid),z})).apply(this,arguments)}function je(O){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,_.Z)(function*(O){const z=et(O),ze=(yield Ye()).transaction(mi,"readwrite");yield ze.objectStore(mi).delete(z),yield ze.done})).apply(this,arguments)}function Tn(O,z){return ui.apply(this,arguments)}function ui(){return(ui=(0,_.Z)(function*(O,z){const ee=et(O),Je=(yield Ye()).transaction(mi,"readwrite"),Tt=Je.objectStore(mi),Wt=yield Tt.get(ee),On=z(Wt);return void 0===On?yield Tt.delete(ee):yield Tt.put(On,ee),yield Je.done,On&&(!Wt||Wt.fid!==On.fid)&&bt(O,On.fid),On})).apply(this,arguments)}function rt(O){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,_.Z)(function*(O){let z;const ee=yield Tn(O.appConfig,ze=>{const Je=function pe(O){return te(O||{fid:gt(),registrationStatus:0})}(ze),Tt=function ve(O,z){if(0===z.registrationStatus){if(!navigator.onLine)return{installationEntry:z,registrationPromise:Promise.reject(pt.create("app-offline"))};const ee={fid:z.fid,registrationStatus:1,registrationTime:Date.now()},ze=function fe(O,z){return ft.apply(this,arguments)}(O,ee);return{installationEntry:ee,registrationPromise:ze}}return 1===z.registrationStatus?{installationEntry:z,registrationPromise:$e(O)}:{installationEntry:z}}(O,Je);return z=Tt.registrationPromise,Tt.installationEntry});return ee.fid===lt?{installationEntry:yield z}:{installationEntry:ee,registrationPromise:z}}),Qe.apply(this,arguments)}function ft(){return ft=(0,_.Z)(function*(O,z){try{const ee=yield function Cn(O,z){return _t.apply(this,arguments)}(O,z);return Z(O.appConfig,ee)}catch(ee){throw at(ee)&&409===ee.customData.serverCode?yield je(O.appConfig):yield Z(O.appConfig,{fid:z.fid,registrationStatus:0}),ee}}),ft.apply(this,arguments)}function $e(O){return le.apply(this,arguments)}function le(){return(le=(0,_.Z)(function*(O){let z=yield q(O.appConfig);for(;1===z.registrationStatus;)yield he(100),z=yield q(O.appConfig);if(0===z.registrationStatus){const{installationEntry:ee,registrationPromise:ze}=yield rt(O);return ze||ee}return z})).apply(this,arguments)}function q(O){return Tn(O,z=>{if(!z)throw pt.create("installation-not-found");return te(z)})}function te(O){return function Pe(O){return 1===O.registrationStatus&&O.registrationTime+An<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function $t(){return($t=(0,_.Z)(function*({appConfig:O,heartbeatServiceProvider:z},ee){const ze=function ln(O,{fid:z}){return`${Qt(O)}/${z}/authTokens:generate`}(O,ee),Je=function St(O,{refreshToken:z}){const ee=pn(O);return ee.append("Authorization",function Jn(O){return`${xn} ${O}`}(z)),ee}(O,ee),Tt=z.getImmediate({optional:!0});if(Tt){const jn=yield Tt.getHeartbeatsHeader();jn&&Je.append("x-firebase-client",jn)}const On={method:"POST",headers:Je,body:JSON.stringify({installation:{sdkVersion:Wn,appId:O.appId}})},Nn=yield on(()=>fetch(ze,On));if(Nn.ok)return In(yield Nn.json());throw yield bn("Generate Auth Token",Nn)})).apply(this,arguments)}function Xn(O){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,_.Z)(function*(O,z=!1){let ee;const ze=yield Tn(O.appConfig,Tt=>{if(!vi(Tt))throw pt.create("not-registered");const Wt=Tt.authToken;if(!z&&function Hn(O){return 2===O.requestStatus&&!function Vi(O){const z=Date.now();return z<O.creationTime||O.creationTime+O.expiresIn<z+qe}(O)}(Wt))return Tt;if(1===Wt.requestStatus)return ee=function Lt(O,z){return Nt.apply(this,arguments)}(O,z),Tt;{if(!navigator.onLine)throw pt.create("app-offline");const On=function Ii(O){const z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:z})}(Tt);return ee=function qn(O,z){return ei.apply(this,arguments)}(O,On),On}});return ee?yield ee:ze.authToken}),Pi.apply(this,arguments)}function Nt(){return(Nt=(0,_.Z)(function*(O,z){let ee=yield gn(O.appConfig);for(;1===ee.authToken.requestStatus;)yield he(100),ee=yield gn(O.appConfig);const ze=ee.authToken;return 0===ze.requestStatus?Xn(O,z):ze})).apply(this,arguments)}function gn(O){return Tn(O,z=>{if(!vi(z))throw pt.create("not-registered");return function ji(O){return 1===O.requestStatus&&O.requestTime+An<Date.now()}(z.authToken)?Object.assign(Object.assign({},z),{authToken:{requestStatus:0}}):z})}function ei(){return ei=(0,_.Z)(function*(O,z){try{const ee=yield function st(O,z){return $t.apply(this,arguments)}(O,z),ze=Object.assign(Object.assign({},z),{authToken:ee});return yield Z(O.appConfig,ze),ee}catch(ee){if(!at(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const ze=Object.assign(Object.assign({},z),{authToken:{requestStatus:0}});yield Z(O.appConfig,ze)}else yield je(O.appConfig);throw ee}}),ei.apply(this,arguments)}function vi(O){return void 0!==O&&2===O.registrationStatus}function Ks(){return(Ks=(0,_.Z)(function*(O){const z=O,{installationEntry:ee,registrationPromise:ze}=yield rt(z);return ze?ze.catch(console.error):Xn(z).catch(console.error),ee.fid})).apply(this,arguments)}function gs(){return gs=(0,_.Z)(function*(O,z=!1){const ee=O;return yield function Ge(O){return ct.apply(this,arguments)}(ee),(yield Xn(ee,z)).token}),gs.apply(this,arguments)}function ct(){return(ct=(0,_.Z)(function*(O){const{registrationPromise:z}=yield rt(O);z&&(yield z)})).apply(this,arguments)}function Mr(O){return pt.create("missing-app-config-values",{valueName:O})}const ti="installations",xs=O=>{const z=O.getProvider("app").getImmediate(),ee=function $i(O){if(!O||!O.options)throw Mr("App Configuration");if(!O.name)throw Mr("App Name");const z=["projectId","apiKey","appId"];for(const ee of z)if(!O.options[ee])throw Mr(ee);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(z);return{app:z,appConfig:ee,heartbeatServiceProvider:(0,ce._getProvider)(z,"heartbeat"),_delete:()=>Promise.resolve()}},ao=O=>{const z=O.getProvider("app").getImmediate(),ee=(0,ce._getProvider)(z,ti).getImmediate();return{getId:()=>function yr(O){return Ks.apply(this,arguments)}(ee),getToken:Je=>function vr(O){return gs.apply(this,arguments)}(ee,Je)}};(function xr(){(0,ce._registerComponent)(new we.wA(ti,xs,"PUBLIC")),(0,ce._registerComponent)(new we.wA("installations-internal",ao,"PRIVATE"))})(),(0,ce.registerVersion)(hi,_i),(0,ce.registerVersion)(hi,_i,"esm2017");const Dr="@firebase/remote-config",nr=new S.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pa{constructor(z,ee,ze,Je){this.client=z,this.storage=ee,this.storageCache=ze,this.logger=Je}isCachedDataFresh(z,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ze=Date.now()-ee,Je=ze<=z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ze}. Cache max age millis (minimumFetchIntervalMillis setting): ${z}. Is cache hit: ${Je}.`),Je}fetch(z){var ee=this;return(0,_.Z)(function*(){const[ze,Je]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(Je&&ee.isCachedDataFresh(z.cacheMaxAgeMillis,ze))return Je;z.eTag=Je&&Je.eTag;const Tt=yield ee.client.fetch(z),Wt=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Tt.status&&Wt.push(ee.storage.setLastSuccessfulFetchResponse(Tt)),yield Promise.all(Wt),Tt})()}}function vo(O=navigator){return O.languages&&O.languages[0]||O.language}class $o{constructor(z,ee,ze,Je,Tt,Wt){this.firebaseInstallations=z,this.sdkVersion=ee,this.namespace=ze,this.projectId=Je,this.apiKey=Tt,this.appId=Wt}fetch(z){var ee=this;return(0,_.Z)(function*(){const[ze,Je]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),Wt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,On={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":z.eTag||"*"},Nn={sdk_version:ee.sdkVersion,app_instance_id:ze,app_instance_id_token:Je,app_id:ee.appId,language_code:vo()},jn={method:"POST",headers:On,body:JSON.stringify(Nn)},$n=fetch(Wt,jn),Ei=new Promise((pa,Ha)=>{z.signal.addEventListener(()=>{const ma=new Error("The operation was aborted.");ma.name="AbortError",Ha(ma)})});let Vo;try{yield Promise.race([$n,Ei]),Vo=yield $n}catch(pa){let Ha="fetch-client-network";throw"AbortError"===pa?.name&&(Ha="fetch-timeout"),nr.create(Ha,{originalErrorMessage:pa?.message})}let ms=Vo.status;const Bo=Vo.headers.get("ETag")||void 0;let Mc,Qc;if(200===Vo.status){let pa;try{pa=yield Vo.json()}catch(Ha){throw nr.create("fetch-client-parse",{originalErrorMessage:Ha?.message})}Mc=pa.entries,Qc=pa.state}if("INSTANCE_STATE_UNSPECIFIED"===Qc?ms=500:"NO_CHANGE"===Qc?ms=304:("NO_TEMPLATE"===Qc||"EMPTY_CONFIG"===Qc)&&(Mc={}),304!==ms&&200!==ms)throw nr.create("fetch-status",{httpStatus:ms});return{status:ms,eTag:Bo,config:Mc}})()}}class is{constructor(z,ee){this.client=z,this.storage=ee}fetch(z){var ee=this;return(0,_.Z)(function*(){const ze=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(z,ze)})()}attemptFetch(z,ee){var ze=this;return(0,_.Z)(function*(Je,{throttleEndTimeMillis:Tt,backoffCount:Wt}){yield function Go(O,z){return new Promise((ee,ze)=>{const Je=Math.max(z-Date.now(),0),Tt=setTimeout(ee,Je);O.addEventListener(()=>{clearTimeout(Tt),ze(nr.create("fetch-throttle",{throttleEndTimeMillis:z}))})})}(Je.signal,Tt);try{const On=yield ze.client.fetch(Je);return yield ze.storage.deleteThrottleMetadata(),On}catch(On){if(!function Ga(O){if(!(O instanceof S.ZR&&O.customData))return!1;const z=Number(O.customData.httpStatus);return 429===z||500===z||503===z||504===z}(On))throw On;const Nn={throttleEndTimeMillis:Date.now()+(0,S.$s)(Wt),backoffCount:Wt+1};return yield ze.storage.setThrottleMetadata(Nn),ze.attemptFetch(Je,Nn)}}).apply(this,arguments)}}class Ro{constructor(z,ee,ze,Je,Tt){this.app=z,this._client=ee,this._storageCache=ze,this._storage=Je,this._logger=Tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qs(O,z){const ee=O.target.error||void 0;return nr.create(z,{originalErrorMessage:ee&&ee?.message})}const bo="app_namespace_store";class Qs{constructor(z,ee,ze,Je=function _l(){return new Promise((O,z)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=ze=>{z(qs(ze,"storage-open"))},ee.onsuccess=ze=>{O(ze.target.result)},ee.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(bo,{keyPath:"compositeKey"})}}catch(ee){z(nr.create("storage-open",{originalErrorMessage:ee?.message}))}})}()){this.appId=z,this.appName=ee,this.namespace=ze,this.openDbPromise=Je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(z){return this.set("last_fetch_status",z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(z){return this.set("last_successful_fetch_timestamp_millis",z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(z){return this.set("last_successful_fetch_response",z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(z){return this.set("active_config",z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(z){return this.set("active_config_etag",z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(z){return this.set("throttle_metadata",z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(z){var ee=this;return(0,_.Z)(function*(){const ze=yield ee.openDbPromise;return new Promise((Je,Tt)=>{const On=ze.transaction([bo],"readonly").objectStore(bo),Nn=ee.createCompositeKey(z);try{const jn=On.get(Nn);jn.onerror=$n=>{Tt(qs($n,"storage-get"))},jn.onsuccess=$n=>{const Ei=$n.target.result;Je(Ei?Ei.value:void 0)}}catch(jn){Tt(nr.create("storage-get",{originalErrorMessage:jn?.message}))}})})()}set(z,ee){var ze=this;return(0,_.Z)(function*(){const Je=yield ze.openDbPromise;return new Promise((Tt,Wt)=>{const Nn=Je.transaction([bo],"readwrite").objectStore(bo),jn=ze.createCompositeKey(z);try{const $n=Nn.put({compositeKey:jn,value:ee});$n.onerror=Ei=>{Wt(qs(Ei,"storage-set"))},$n.onsuccess=()=>{Tt()}}catch($n){Wt(nr.create("storage-set",{originalErrorMessage:$n?.message}))}})})()}delete(z){var ee=this;return(0,_.Z)(function*(){const ze=yield ee.openDbPromise;return new Promise((Je,Tt)=>{const On=ze.transaction([bo],"readwrite").objectStore(bo),Nn=ee.createCompositeKey(z);try{const jn=On.delete(Nn);jn.onerror=$n=>{Tt(qs($n,"storage-delete"))},jn.onsuccess=()=>{Je()}}catch(jn){Tt(nr.create("storage-delete",{originalErrorMessage:jn?.message}))}})})()}createCompositeKey(z){return[this.appId,this.appName,this.namespace,z].join()}}class Ss{constructor(z){this.storage=z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var z=this;return(0,_.Z)(function*(){const ee=z.storage.getLastFetchStatus(),ze=z.storage.getLastSuccessfulFetchTimestampMillis(),Je=z.storage.getActiveConfig(),Tt=yield ee;Tt&&(z.lastFetchStatus=Tt);const Wt=yield ze;Wt&&(z.lastSuccessfulFetchTimestampMillis=Wt);const On=yield Je;On&&(z.activeConfig=On)})()}setLastFetchStatus(z){return this.lastFetchStatus=z,this.storage.setLastFetchStatus(z)}setLastSuccessfulFetchTimestampMillis(z){return this.lastSuccessfulFetchTimestampMillis=z,this.storage.setLastSuccessfulFetchTimestampMillis(z)}setActiveConfig(z){return this.activeConfig=z,this.storage.setActiveConfig(z)}}function Eo(){return ko.apply(this,arguments)}function ko(){return(ko=(0,_.Z)(function*(){if(!(0,S.hl)())return!1;try{return yield(0,S.eu)()}catch{return!1}})).apply(this,arguments)}!function ys(){(0,ce._registerComponent)(new we.wA("remote-config",function O(z,{instanceIdentifier:ee}){const ze=z.getProvider("app").getImmediate(),Je=z.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw nr.create("registration-window");if(!(0,S.hl)())throw nr.create("indexed-db-unavailable");const{projectId:Tt,apiKey:Wt,appId:On}=ze.options;if(!Tt)throw nr.create("registration-project-id");if(!Wt)throw nr.create("registration-api-key");if(!On)throw nr.create("registration-app-id");const Nn=new Qs(On,ze.name,ee=ee||"firebase"),jn=new Ss(Nn),$n=new He.Yd(Dr);$n.logLevel=He.in.ERROR;const Ei=new $o(Je,ce.SDK_VERSION,ee,Tt,Wt,On),Vo=new is(Ei,Nn),ms=new Pa(Vo,Nn,jn,$n),Bo=new Ro(ze,ms,jn,Nn,$n);return function pi(O){const z=(0,S.m9)(O);z._initializePromise||(z._initializePromise=z._storageCache.loadFromStorage().then(()=>{z._isInitializationComplete=!0}))}(Bo),Bo},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Dr,"0.4.4"),(0,ce.registerVersion)(Dr,"0.4.4","esm2017")}();const Wa=(O,z)=>z.some(ee=>O instanceof ee);let Oo,no;const Xr=new WeakMap,Fs=new WeakMap,pr=new WeakMap,ho=new WeakMap,rs=new WeakMap;let Co={get(O,z,ee){if(O instanceof IDBTransaction){if("done"===z)return Fs.get(O);if("objectStoreNames"===z)return O.objectStoreNames||pr.get(O);if("store"===z)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return es(O[z])},set:(O,z,ee)=>(O[z]=ee,!0),has:(O,z)=>O instanceof IDBTransaction&&("done"===z||"store"===z)||z in O};function Do(O){return"function"==typeof O?function Ka(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ba(){return no||(no=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...z){return O.apply(Vr(this),z),es(Xr.get(this))}:function(...z){return es(O.apply(Vr(this),z))}:function(z,...ee){const ze=O.call(Vr(this),z,...ee);return pr.set(ze,z.sort?z.sort():[z]),es(ze)}}(O):(O instanceof IDBTransaction&&function Jr(O){if(Fs.has(O))return;const z=new Promise((ee,ze)=>{const Je=()=>{O.removeEventListener("complete",Tt),O.removeEventListener("error",Wt),O.removeEventListener("abort",Wt)},Tt=()=>{ee(),Je()},Wt=()=>{ze(O.error||new DOMException("AbortError","AbortError")),Je()};O.addEventListener("complete",Tt),O.addEventListener("error",Wt),O.addEventListener("abort",Wt)});Fs.set(O,z)}(O),Wa(O,function Po(){return Oo||(Oo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,Co):O)}function es(O){if(O instanceof IDBRequest)return function lr(O){const z=new Promise((ee,ze)=>{const Je=()=>{O.removeEventListener("success",Tt),O.removeEventListener("error",Wt)},Tt=()=>{ee(es(O.result)),Je()},Wt=()=>{ze(O.error),Je()};O.addEventListener("success",Tt),O.addEventListener("error",Wt)});return z.then(ee=>{ee instanceof IDBCursor&&Xr.set(ee,O)}).catch(()=>{}),rs.set(z,O),z}(O);if(ho.has(O))return ho.get(O);const z=Do(O);return z!==O&&(ho.set(O,z),rs.set(z,O)),z}const Vr=O=>rs.get(O);function io(O,z,{blocked:ee,upgrade:ze,blocking:Je,terminated:Tt}={}){const Wt=indexedDB.open(O,z),On=es(Wt);return ze&&Wt.addEventListener("upgradeneeded",Nn=>{ze(es(Wt.result),Nn.oldVersion,Nn.newVersion,es(Wt.transaction))}),ee&&Wt.addEventListener("blocked",()=>ee()),On.then(Nn=>{Tt&&Nn.addEventListener("close",()=>Tt()),Je&&Nn.addEventListener("versionchange",()=>Je())}).catch(()=>{}),On}function os(O,{blocked:z}={}){const ee=indexedDB.deleteDatabase(O);return z&&ee.addEventListener("blocked",()=>z()),es(ee).then(()=>{})}const Na=["get","getKey","getAll","getAllKeys","count"],vs=["put","add","delete","clear"],Ls=new Map;function Br(O,z){if(!(O instanceof IDBDatabase)||z in O||"string"!=typeof z)return;if(Ls.get(z))return Ls.get(z);const ee=z.replace(/FromIndex$/,""),ze=z!==ee,Je=vs.includes(ee);if(!(ee in(ze?IDBIndex:IDBObjectStore).prototype)||!Je&&!Na.includes(ee))return;const Tt=function(){var Wt=(0,_.Z)(function*(On,...Nn){const jn=this.transaction(On,Je?"readwrite":"readonly");let $n=jn.store;return ze&&($n=$n.index(Nn.shift())),(yield Promise.all([$n[ee](...Nn),Je&&jn.done]))[0]});return function(Nn){return Wt.apply(this,arguments)}}();return Ls.set(z,Tt),Tt}!function Ni(O){Co=O(Co)}(O=>({...O,get:(z,ee,ze)=>Br(z,ee)||O.get(z,ee,ze),has:(z,ee)=>!!Br(z,ee)||O.has(z,ee)}));const Ti="/firebase-messaging-sw.js",ia="/firebase-cloud-messaging-push-scope",D="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",E="https://fcmregistrations.googleapis.com/v1",I="google.c.a.c_id",K="google.c.a.c_l",Te="google.c.a.ts",Ct="google.c.a.e";var Et=(()=>{return(O=Et||(Et={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",Et;var O})();function cn(O){const z=new Uint8Array(O);return btoa(String.fromCharCode(...z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Si(O){const ee=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ze=atob(ee),Je=new Uint8Array(ze.length);for(let Tt=0;Tt<ze.length;++Tt)Je[Tt]=ze.charCodeAt(Tt);return Je}const Fi="fcm_token_details_db",Li=5,Ir="fcm_token_object_Store";function or(){return or=(0,_.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Tt=>Tt.name).includes(Fi))return null;let z=null;return(yield io(Fi,Li,{upgrade:(ze=(0,_.Z)(function*(Je,Tt,Wt,On){var Nn;if(Tt<2||!Je.objectStoreNames.contains(Ir))return;const jn=On.objectStore(Ir),$n=yield jn.index("fcmSenderId").get(O);if(yield jn.clear(),$n)if(2===Tt){const Ei=$n;if(!Ei.auth||!Ei.p256dh||!Ei.endpoint)return;z={token:Ei.fcmToken,createTime:null!==(Nn=Ei.createTime)&&void 0!==Nn?Nn:Date.now(),subscriptionOptions:{auth:Ei.auth,p256dh:Ei.p256dh,endpoint:Ei.endpoint,swScope:Ei.swScope,vapidKey:"string"==typeof Ei.vapidKey?Ei.vapidKey:cn(Ei.vapidKey)}}}else if(3===Tt){const Ei=$n;z={token:Ei.fcmToken,createTime:Ei.createTime,subscriptionOptions:{auth:cn(Ei.auth),p256dh:cn(Ei.p256dh),endpoint:Ei.endpoint,swScope:Ei.swScope,vapidKey:cn(Ei.vapidKey)}}}else if(4===Tt){const Ei=$n;z={token:Ei.fcmToken,createTime:Ei.createTime,subscriptionOptions:{auth:cn(Ei.auth),p256dh:cn(Ei.p256dh),endpoint:Ei.endpoint,swScope:Ei.swScope,vapidKey:cn(Ei.vapidKey)}}}}),function(Tt,Wt,On,Nn){return ze.apply(this,arguments)})})).close(),yield os(Fi),yield os("fcm_vapid_details_db"),yield os("undefined"),function bs(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:z}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof z.auth&&z.auth.length>0&&"string"==typeof z.p256dh&&z.p256dh.length>0&&"string"==typeof z.endpoint&&z.endpoint.length>0&&"string"==typeof z.swScope&&z.swScope.length>0&&"string"==typeof z.vapidKey&&z.vapidKey.length>0}(z)?z:null;var ze}),or.apply(this,arguments)}const Tr="firebase-messaging-database",fo=1,as="firebase-messaging-store";let br=null;function Ji(){return br||(br=io(Tr,fo,{upgrade:(O,z)=>{0===z&&O.createObjectStore(as)}})),br}function Nr(O){return ws.apply(this,arguments)}function ws(){return ws=(0,_.Z)(function*(O){const z=nc(O),ze=yield(yield Ji()).transaction(as).objectStore(as).get(z);if(ze)return ze;{const Je=yield function mr(O){return or.apply(this,arguments)}(O.appConfig.senderId);if(Je)return yield As(O,Je),Je}}),ws.apply(this,arguments)}function As(O,z){return us.apply(this,arguments)}function us(){return(us=(0,_.Z)(function*(O,z){const ee=nc(O),Je=(yield Ji()).transaction(as,"readwrite");return yield Je.objectStore(as).put(z,ee),yield Je.done,z})).apply(this,arguments)}function ra(){return(ra=(0,_.Z)(function*(O){const z=nc(O),ze=(yield Ji()).transaction(as,"readwrite");yield ze.objectStore(as).delete(z),yield ze.done})).apply(this,arguments)}function nc({appConfig:O}){return O.appId}const Ur=new S.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hs(O,z){return xo.apply(this,arguments)}function xo(){return(xo=(0,_.Z)(function*(O,z){const ee=yield Yo(O),ze=Fa(z),Je={method:"POST",headers:ee,body:JSON.stringify(ze)};let Tt;try{Tt=yield(yield fetch(Ml(O.appConfig),Je)).json()}catch(Wt){throw Ur.create("token-subscribe-failed",{errorInfo:Wt?.toString()})}if(Tt.error)throw Ur.create("token-subscribe-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw Ur.create("token-subscribe-no-token");return Tt.token})).apply(this,arguments)}function yl(){return(yl=(0,_.Z)(function*(O,z){const ee=yield Yo(O),ze=Fa(z.subscriptionOptions),Je={method:"PATCH",headers:ee,body:JSON.stringify(ze)};let Tt;try{Tt=yield(yield fetch(`${Ml(O.appConfig)}/${z.token}`,Je)).json()}catch(Wt){throw Ur.create("token-update-failed",{errorInfo:Wt?.toString()})}if(Tt.error)throw Ur.create("token-update-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw Ur.create("token-update-no-token");return Tt.token})).apply(this,arguments)}function Ko(O,z){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,_.Z)(function*(O,z){const ze={method:"DELETE",headers:yield Yo(O)};try{const Tt=yield(yield fetch(`${Ml(O.appConfig)}/${z}`,ze)).json();if(Tt.error)throw Ur.create("token-unsubscribe-failed",{errorInfo:Tt.error.message})}catch(Je){throw Ur.create("token-unsubscribe-failed",{errorInfo:Je?.toString()})}})).apply(this,arguments)}function Ml({projectId:O}){return`${E}/projects/${O}/registrations`}function Yo(O){return wa.apply(this,arguments)}function wa(){return(wa=(0,_.Z)(function*({appConfig:O,installations:z}){const ee=yield z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function Fa({p256dh:O,auth:z,endpoint:ee,vapidKey:ze}){const Je={web:{endpoint:ee,auth:z,p256dh:O}};return ze!==D&&(Je.web.applicationPubKey=ze),Je}const Rl=6048e5;function Hr(){return Hr=(0,_.Z)(function*(O){const z=yield function oa(O,z){return bc.apply(this,arguments)}(O.swRegistration,O.vapidKey),ee={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:z.endpoint,auth:cn(z.getKey("auth")),p256dh:cn(z.getKey("p256dh"))},ze=yield Nr(O.firebaseDependencies);if(ze){if(function jc(O,z){return z.vapidKey===O.vapidKey&&z.endpoint===O.endpoint&&z.auth===O.auth&&z.p256dh===O.p256dh}(ze.subscriptionOptions,ee))return Date.now()>=ze.createTime+Rl?function Sr(O,z){return Ea.apply(this,arguments)}(O,{token:ze.token,createTime:Date.now(),subscriptionOptions:ee}):ze.token;try{yield Ko(O.firebaseDependencies,ze.token)}catch(Je){console.warn(Je)}return sa(O.firebaseDependencies,ee)}return sa(O.firebaseDependencies,ee)}),Hr.apply(this,arguments)}function mo(){return mo=(0,_.Z)(function*(O){const z=yield Nr(O.firebaseDependencies);z&&(yield Ko(O.firebaseDependencies,z.token),yield function Es(O){return ra.apply(this,arguments)}(O.firebaseDependencies));const ee=yield O.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()}),mo.apply(this,arguments)}function Ea(){return Ea=(0,_.Z)(function*(O,z){try{const ee=yield function dr(O,z){return yl.apply(this,arguments)}(O.firebaseDependencies,z),ze=Object.assign(Object.assign({},z),{token:ee,createTime:Date.now()});return yield As(O.firebaseDependencies,ze),ee}catch(ee){throw yield function ir(O){return mo.apply(this,arguments)}(O),ee}}),Ea.apply(this,arguments)}function sa(O,z){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,_.Z)(function*(O,z){const ze={token:yield hs(O,z),createTime:Date.now(),subscriptionOptions:z};return yield As(O,ze),ze.token})).apply(this,arguments)}function bc(){return(bc=(0,_.Z)(function*(O,z){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Si(z)})})).apply(this,arguments)}function aa(O){const z={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function wc(O,z){if(!z.notification)return;O.notification={};const ee=z.notification.title;ee&&(O.notification.title=ee);const ze=z.notification.body;ze&&(O.notification.body=ze);const Je=z.notification.image;Je&&(O.notification.image=Je);const Tt=z.notification.icon;Tt&&(O.notification.icon=Tt)}(z,O),function kl(O,z){z.data&&(O.data=z.data)}(z,O),function H(O,z){var ee,ze,Je,Tt,Wt;if(!(z.fcmOptions||null!==(ee=z.notification)&&void 0!==ee&&ee.click_action))return;O.fcmOptions={};const On=null!==(Je=null===(ze=z.fcmOptions)||void 0===ze?void 0:ze.link)&&void 0!==Je?Je:null===(Tt=z.notification)||void 0===Tt?void 0:Tt.click_action;On&&(O.fcmOptions.link=On);const Nn=null===(Wt=z.fcmOptions)||void 0===Wt?void 0:Wt.analytics_label;Nn&&(O.fcmOptions.analyticsLabel=Nn)}(z,O),z}function G(O,z){const ee=[];for(let ze=0;ze<O.length;ze++)ee.push(O.charAt(ze)),ze<z.length&&ee.push(z.charAt(ze));return ee.join("")}function it(O){return Ur.create("missing-app-config-values",{valueName:O})}G("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),G("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yt{constructor(z,ee,ze){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Je=function _e(O){if(!O||!O.options)throw it("App Configuration Object");if(!O.name)throw it("App Name");const z=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=O;for(const ze of z)if(!ee[ze])throw it(ze);return{appName:O.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(z);this.firebaseDependencies={app:z,appConfig:Je,installations:ee,analyticsProvider:ze}}_delete(){return Promise.resolve()}}function dn(O){return zn.apply(this,arguments)}function zn(){return(zn=(0,_.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Ti,{scope:ia}),O.swRegistration.update().catch(()=>{})}catch(z){throw Ur.create("failed-service-worker-registration",{browserErrorMessage:z?.message})}})).apply(this,arguments)}function Ui(){return(Ui=(0,_.Z)(function*(O,z){if(!z&&!O.swRegistration&&(yield dn(O)),z||!O.swRegistration){if(!(z instanceof ServiceWorkerRegistration))throw Ur.create("invalid-sw-registration");O.swRegistration=z}})).apply(this,arguments)}function Gi(){return(Gi=(0,_.Z)(function*(O,z){z?O.vapidKey=z:O.vapidKey||(O.vapidKey=D)})).apply(this,arguments)}function Ai(){return Ai=(0,_.Z)(function*(O,z){if(!navigator)throw Ur.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ur.create("permission-blocked");return yield function Qi(O,z){return Gi.apply(this,arguments)}(O,z?.vapidKey),yield function ar(O,z){return Ui.apply(this,arguments)}(O,z?.serviceWorkerRegistration),function po(O){return Hr.apply(this,arguments)}(O)}),Ai.apply(this,arguments)}function Ms(){return(Ms=(0,_.Z)(function*(O,z,ee){const ze=function Bn(O){switch(O){case Et.NOTIFICATION_CLICKED:return"notification_open";case Et.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(z);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(ze,{message_id:ee[I],message_name:ee[K],message_time:ee[Te],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bs(){return Bs=(0,_.Z)(function*(O,z){const ee=z.data;if(!ee.isFirebaseMessaging)return;O.onMessageHandler&&ee.messageType===Et.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(aa(ee)):O.onMessageHandler.next(aa(ee)));const ze=ee.data;(function se(O){return"object"==typeof O&&!!O&&I in O})(ze)&&"1"===ze[Ct]&&(yield function gr(O,z,ee){return Ms.apply(this,arguments)}(O,ee.messageType,ze))}),Bs.apply(this,arguments)}const Pn="@firebase/messaging",_n=O=>{const z=new Yt(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function oi(O,z){return Bs.apply(this,arguments)}(z,ee)),z},fs=O=>{const z=O.getProvider("messaging").getImmediate();return{getToken:ze=>function hn(O,z){return Ai.apply(this,arguments)}(z,ze)}};function ad(){return zc.apply(this,arguments)}function zc(){return(zc=(0,_.Z)(function*(){try{yield(0,S.eu)()}catch{return!1}return typeof window<"u"&&(0,S.hl)()&&(0,S.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zo(){(0,ce._registerComponent)(new we.wA("messaging",_n,"PUBLIC")),(0,ce._registerComponent)(new we.wA("messaging-internal",fs,"PRIVATE")),(0,ce.registerVersion)(Pn,"0.12.4"),(0,ce.registerVersion)(Pn,"0.12.4","esm2017")}();const Ri="analytics",Za="firebase_id",Cc="origin",jr=6e4,wi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qa="https://www.googletagmanager.com/gtag/js",yi=new He.Yd("@firebase/analytics"),Di=new S.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Zn(O){if(!O.startsWith(qa)){const z=Di.create("invalid-gtag-resource",{gtagURL:O});return yi.warn(z.message),""}return O}function ro(O){return Promise.all(O.map(z=>z.catch(ee=>ee)))}function Ja(){return(Ja=(0,_.Z)(function*(O,z,ee,ze,Je,Tt){const Wt=ze[Je];try{if(Wt)yield z[Wt];else{const Nn=(yield ro(ee)).find(jn=>jn.measurementId===Je);Nn&&(yield z[Nn.appId])}}catch(On){yi.error(On)}O("config",Je,Tt)})).apply(this,arguments)}function el(){return(el=(0,_.Z)(function*(O,z,ee,ze,Je){try{let Tt=[];if(Je&&Je.send_to){let Wt=Je.send_to;Array.isArray(Wt)||(Wt=[Wt]);const On=yield ro(ee);for(const Nn of Wt){const jn=On.find(Ei=>Ei.measurementId===Nn),$n=jn&&z[jn.appId];if(!$n){Tt=[];break}Tt.push($n)}}0===Tt.length&&(Tt=Object.values(z)),yield Promise.all(Tt),O("event",ze,Je||{})}catch(Tt){yi.error(Tt)}})).apply(this,arguments)}const xa=30,da=new class ua{constructor(z={},ee=1e3){this.throttleMetadata=z,this.intervalMillis=ee}getThrottleMetadata(z){return this.throttleMetadata[z]}setThrottleMetadata(z,ee){this.throttleMetadata[z]=ee}deleteThrottleMetadata(z){delete this.throttleMetadata[z]}};function Ut(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function rr(){return(rr=(0,_.Z)(function*(O){var z;const{appId:ee,apiKey:ze}=O,Je={method:"GET",headers:Ut(ze)},Tt=wi.replace("{app-id}",ee),Wt=yield fetch(Tt,Je);if(200!==Wt.status&&304!==Wt.status){let On="";try{const Nn=yield Wt.json();null!==(z=Nn.error)&&void 0!==z&&z.message&&(On=Nn.error.message)}catch{}throw Di.create("config-fetch-failed",{httpStatus:Wt.status,responseMessage:On})}return Wt.json()})).apply(this,arguments)}function Kr(){return(Kr=(0,_.Z)(function*(O,z=da,ee){const{appId:ze,apiKey:Je,measurementId:Tt}=O.options;if(!ze)throw Di.create("no-app-id");if(!Je){if(Tt)return{measurementId:Tt,appId:ze};throw Di.create("no-api-key")}const Wt=z.getThrottleMetadata(ze)||{backoffCount:0,throttleEndTimeMillis:Date.now()},On=new Ta;return setTimeout((0,_.Z)(function*(){On.abort()}),void 0!==ee?ee:jr),wl({appId:ze,apiKey:Je,measurementId:Tt},Wt,On,z)})).apply(this,arguments)}function wl(O,z,ee){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,_.Z)(function*(O,{throttleEndTimeMillis:z,backoffCount:ee},ze,Je=da){var Tt;const{appId:Wt,measurementId:On}=O;try{yield function tl(O,z){return new Promise((ee,ze)=>{const Je=Math.max(z-Date.now(),0),Tt=setTimeout(ee,Je);O.addEventListener(()=>{clearTimeout(Tt),ze(Di.create("fetch-throttle",{throttleEndTimeMillis:z}))})})}(ze,z)}catch(Nn){if(On)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${On} provided in the "measurementId" field in the local Firebase config. [${Nn?.message}]`),{appId:Wt,measurementId:On};throw Nn}try{const Nn=yield function bl(O){return rr.apply(this,arguments)}(O);return Je.deleteThrottleMetadata(Wt),Nn}catch(Nn){const jn=Nn;if(!function nl(O){if(!(O instanceof S.ZR&&O.customData))return!1;const z=Number(O.customData.httpStatus);return 429===z||500===z||503===z||504===z}(jn)){if(Je.deleteThrottleMetadata(Wt),On)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${On} provided in the "measurementId" field in the local Firebase config. [${jn?.message}]`),{appId:Wt,measurementId:On};throw Nn}const $n=503===Number(null===(Tt=jn?.customData)||void 0===Tt?void 0:Tt.httpStatus)?(0,S.$s)(ee,Je.intervalMillis,xa):(0,S.$s)(ee,Je.intervalMillis),Ei={throttleEndTimeMillis:Date.now()+$n,backoffCount:ee+1};return Je.setThrottleMetadata(Wt,Ei),yi.debug(`Calling attemptFetch again in ${$n} millis`),wl(O,Ei,ze,Je)}}),Pl.apply(this,arguments)}class Ta{constructor(){this.listeners=[]}addEventListener(z){this.listeners.push(z)}abort(){this.listeners.forEach(z=>z())}}let No,me;function Us(){return(Us=(0,_.Z)(function*(O,z,ee,ze,Je){if(Je&&Je.global)O("event",ee,ze);else{const Tt=yield z;O("event",ee,Object.assign(Object.assign({},ze),{send_to:Tt}))}})).apply(this,arguments)}function Qn(){return(Qn=(0,_.Z)(function*(){if(!(0,S.hl)())return yi.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,S.eu)()}catch(O){return yi.warn(Di.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function Wi(){return Wi=(0,_.Z)(function*(O,z,ee,ze,Je,Tt,Wt){var On;const Nn=function ha(O){return Kr.apply(this,arguments)}(O);Nn.then(ms=>{ee[ms.measurementId]=ms.appId,O.options.measurementId&&ms.measurementId!==O.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${ms.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ms=>yi.error(ms)),z.push(Nn);const jn=function tn(){return Qn.apply(this,arguments)}().then(ms=>{if(ms)return ze.getId()}),[$n,Ei]=yield Promise.all([Nn,jn]);(function ca(O){const z=window.document.getElementsByTagName("script");for(const ee of Object.values(z))if(ee.src&&ee.src.includes(qa)&&ee.src.includes(O))return ee;return null})(Tt)||function Io(O,z){const ee=function Qa(O,z){let ee;return window.trustedTypes&&(ee=window.trustedTypes.createPolicy(O,z)),ee}("firebase-js-sdk-policy",{createScriptURL:Zn}),ze=document.createElement("script"),Je=`${qa}?l=${O}&id=${z}`;ze.src=ee?ee?.createScriptURL(Je):Je,ze.async=!0,document.head.appendChild(ze)}(Tt,$n.measurementId),me&&(Je("consent","default",me),function Se(O){me=O}(void 0)),Je("js",new Date);const Vo=null!==(On=Wt?.config)&&void 0!==On?On:{};return Vo[Cc]="firebase",Vo.update=!0,null!=Ei&&(Vo[Za]=Ei),Je("config",$n.measurementId,Vo),No&&(Je("set",No),function Pt(O){No=O}(void 0)),$n.measurementId}),Wi.apply(this,arguments)}class ns{constructor(z){this.app=z}_delete(){return delete Hs[this.app.options.appId],Promise.resolve()}}let Hs={},fa=[];const La={};let ic,Lo,Xs="dataLayer",$c="gtag",Va=!1;function Gc(O,z,ee){!function El(){const O=[];if((0,S.ru)()&&O.push("This is a browser extension environment."),(0,S.zI)()||O.push("Cookies are not available."),O.length>0){const z=O.map((ze,Je)=>`(${Je+1}) ${ze}`).join(" "),ee=Di.create("invalid-analytics-context",{errorInfo:z});yi.warn(ee.message)}}();const ze=O.options.appId;if(!ze)throw Di.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw Di.create("no-api-key");yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hs[ze])throw Di.create("already-exists",{id:ze});if(!Va){!function Ca(O){let z=[];Array.isArray(window[O])?z=window[O]:window[O]=z}(Xs);const{wrappedGtag:Tt,gtagCore:Wt}=function Cs(O,z,ee,ze,Je){let Tt=function(...Wt){window[ze].push(arguments)};return window[Je]&&"function"==typeof window[Je]&&(Tt=window[Je]),window[Je]=function la(O,z,ee,ze){function Tt(){return Tt=(0,_.Z)(function*(Wt,...On){try{if("event"===Wt){const[Nn,jn]=On;yield function Da(O,z,ee,ze,Je){return el.apply(this,arguments)}(O,z,ee,Nn,jn)}else if("config"===Wt){const[Nn,jn]=On;yield function Xa(O,z,ee,ze,Je,Tt){return Ja.apply(this,arguments)}(O,z,ee,ze,Nn,jn)}else if("consent"===Wt){const[Nn]=On;O("consent","update",Nn)}else if("get"===Wt){const[Nn,jn,$n]=On;O("get",Nn,jn,$n)}else if("set"===Wt){const[Nn]=On;O("set",Nn)}else O(Wt,...On)}catch(Nn){yi.error(Nn)}}),Tt.apply(this,arguments)}return function Je(Wt){return Tt.apply(this,arguments)}}(Tt,O,z,ee),{gtagCore:Tt,wrappedGtag:window[Je]}}(Hs,fa,La,Xs,$c);Lo=Tt,ic=Wt,Va=!0}return Hs[ze]=function ni(O,z,ee,ze,Je,Tt,Wt){return Wi.apply(this,arguments)}(O,fa,La,z,ic,Xs,ee),new ns(O)}function Js(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,_.Z)(function*(){if((0,S.ru)()||!(0,S.zI)()||!(0,S.hl)())return!1;try{return yield(0,S.eu)()}catch{return!1}})).apply(this,arguments)}const yu="@firebase/analytics";!function ks(){(0,ce._registerComponent)(new we.wA(Ri,(z,{options:ee})=>Gc(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,ce._registerComponent)(new we.wA("analytics-internal",function O(z){try{const ee=z.getProvider(Ri).getImmediate();return{logEvent:(ze,Je,Tt)=>function Tc(O,z,ee,ze){O=(0,S.m9)(O),function Gd(O,z,ee,ze,Je){return Us.apply(this,arguments)}(Lo,Hs[O.app.options.appId],z,ee,ze).catch(Je=>yi.error(Je))}(ee,ze,Je,Tt)}}catch(ee){throw Di.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,ce.registerVersion)(yu,"0.10.0"),(0,ce.registerVersion)(yu,"0.10.0","esm2017")}();var jh=M(3466),Yr=M(474);const Kc=new class il extends Yr.v{}(class Nl extends jh.o{constructor(z,ee){super(z,ee),this.scheduler=z,this.work=ee}schedule(z,ee=0){return ee>0?super.schedule(z,ee):(this.delay=ee,this.state=z,this.scheduler.flush(this),this)}execute(z,ee){return ee>0||this.closed?super.execute(z,ee):this._execute(z,ee)}requestAsyncId(z,ee,ze=0){return null!=ze&&ze>0||null==ze&&this.delay>0?super.requestAsyncId(z,ee,ze):(z.flush(this),0)}});var vu=M(6523),bu=M(8168),rl=M(7513),go=M(4119);const sc=new f.GfV("7.6.1"),Xo="__angularfire_symbol__analyticsIsSupportedValue",Ba="__angularfire_symbol__analyticsIsSupported",sl="__angularfire_symbol__remoteConfigIsSupportedValue",so="__angularfire_symbol__remoteConfigIsSupported",Yc="__angularfire_symbol__messagingIsSupportedValue",oc="__angularfire_symbol__messagingIsSupported";function ac(O,z,ee){if(z){if(1===z.length)return z[0];const Tt=z.filter(Wt=>Wt.app===ee);if(1===Tt.length)return Tt[0]}return ee.container.getProvider(O).getImmediate({optional:!0})}globalThis[Ba]||(globalThis[Ba]=Js().then(O=>globalThis[Xo]=O).catch(()=>globalThis[Xo]=!1)),globalThis[oc]||(globalThis[oc]=ad().then(O=>globalThis[Yc]=O).catch(()=>globalThis[Yc]=!1)),globalThis[so]||(globalThis[so]=Eo().then(O=>globalThis[sl]=O).catch(()=>globalThis[sl]=!1));const Sc=(O,z)=>{const ee=z?[z]:(0,F.C6)(),ze=[];return ee.forEach(Je=>{Je.container.getProvider(O).instances.forEach(Wt=>{ze.includes(Wt)||ze.push(Wt)})}),ze};function Cl(){}class Ac{constructor(z,ee=Kc){this.zone=z,this.delegate=ee}now(){return this.delegate.now()}schedule(z,ee,ze){const Je=this.zone;return this.delegate.schedule(function(Wt){Je.runGuarded(()=>{z.apply(this,[Wt])})},ee,ze)}}class Fl{constructor(z){this.zone=z,this.task=null}call(z,ee){const ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cl,{},Cl,Cl)),ee.pipe((0,bu.b)({next:ze,complete:ze,error:ze})).subscribe(z).add(ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ma=(()=>{class O{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new Ac(Zone.current)),this.insideAngular=ee.run(()=>new Ac(Zone.current,vu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(ee){return new(ee||O)(f.LFG(f.R0b))},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Ua(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Cu(O){return O.pipe((0,rl.Q)(Ua().outsideAngular))}function Du(O){return Ua(),function Gr(O){return function(ee){return(ee=ee.lift(new Fl(O.ngZone))).pipe((0,go.R)(O.outsideAngular),(0,rl.Q)(O.insideAngular))}}(Ua())(O)}},2194:(fn,ot,M)=>{"use strict";M.d(ot,{$:()=>Ti,A:()=>de,D:()=>Ve,I:()=>si,J:()=>xs,L:()=>Rr,N:()=>Tn,P:()=>ni,Q:()=>Qs,R:()=>ts,U:()=>uo,V:()=>Eo,W:()=>ko,X:()=>co,Y:()=>Po,Z:()=>ba,_:()=>rs,a:()=>qo,a0:()=>D,a1:()=>I,a2:()=>sn,a3:()=>Ir,a4:()=>or,a5:()=>Tr,a6:()=>as,a7:()=>Ji,a8:()=>ws,a9:()=>us,aA:()=>ge,aB:()=>sl,aC:()=>je,aD:()=>ui,aE:()=>rl,aF:()=>Wd,aG:()=>$r,aH:()=>ue,aL:()=>ps,aO:()=>Oo,aa:()=>Es,ab:()=>nc,ac:()=>ds,ad:()=>dr,ae:()=>Ko,af:()=>Ml,ai:()=>Rl,aj:()=>Hr,ak:()=>ir,an:()=>Ka,ao:()=>wc,aq:()=>Gi,ar:()=>Pn,as:()=>jt,at:()=>te,au:()=>$e,av:()=>Fe,aw:()=>Vo,ax:()=>Zc,ay:()=>Pe,az:()=>ke,b:()=>Ol,c:()=>Lo,d:()=>Gc,e:()=>gu,f:()=>yu,g:()=>il,h:()=>jh,i:()=>Ia,j:()=>vu,k:()=>pa,l:()=>x,m:()=>zh,o:()=>Iu,p:()=>L,r:()=>J,s:()=>R,u:()=>tn});var f=M(8239),F=M(3854),_=M(7467),ce=M(4911),S=M(5422),we=M(3910);const L={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},We=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ht=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new S.Yd("@firebase/auth");function ut(k,...y){nt.logLevel<=S.in.ERROR&&nt.error(`Auth (${_.SDK_VERSION}): ${k}`,...y)}function Fe(k,...y){throw Ke(k,...y)}function ke(k,...y){return Ke(k,...y)}function Re(k,y,w){const V=Object.assign(Object.assign({},We()),{[y]:w});return new F.LL("auth","Firebase",V).create(y,{appName:k.name})}function xe(k,y,w){if(!(y instanceof w))throw w.name!==y.constructor.name&&Fe(k,"argument-error"),Re(k,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(k,...y){if("string"!=typeof k){const w=y[0],V=[...y.slice(1)];return V[0]&&(V[0].appName=k.name),k._errorFactory.create(w,...V)}return ht.create(k,...y)}function ge(k,y,...w){if(!k)throw Ke(y,...w)}function mt(k){const y="INTERNAL ASSERTION FAILED: "+k;throw ut(y),new Error(y)}function jt(k,y){k||mt(y)}function Ht(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.href)||""}function vn(){return"http:"===rn()||"https:"===rn()}function rn(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.protocol)||null}class An{constructor(y,w){this.shortDelay=y,this.longDelay=w,jt(w>y,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function hi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vn()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wn(k,y){jt(k.emulator,"Emulator should always be set here");const{url:w}=k.emulator;return y?`${w}${y.startsWith("/")?y.slice(1):y}`:w}class xn{static initialize(y,w,V){this.fetchImpl=y,w&&(this.headersImpl=w),V&&(this.responseImpl=V)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qe=new An(3e4,6e4);function Ne(k,y){return k.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:k.tenantId}):y}function Ae(k,y,w,V){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,f.Z)(function*(k,y,w,V,ae={}){return pt(k,ae,(0,f.Z)(function*(){let Me={},Rt={};V&&("GET"===y?Rt=V:Me={body:JSON.stringify(V)});const Xt=(0,F.xO)(Object.assign({key:k.config.apiKey},Rt)).slice(1),Rn=yield k._getAdditionalHeaders();return Rn["Content-Type"]="application/json",k.languageCode&&(Rn["X-Firebase-Locale"]=k.languageCode),xn.fetch()(bn(k,k.config.apiHost,w,Xt),Object.assign({method:y,headers:Rn,referrerPolicy:"no-referrer"},Me))}))})).apply(this,arguments)}function pt(k,y,w){return at.apply(this,arguments)}function at(){return(at=(0,f.Z)(function*(k,y,w){k._canInitEmulator=!1;const V=Object.assign(Object.assign({},nn),y);try{const ae=new Mt(k),Me=yield Promise.race([w(),ae.promise]);ae.clearNetworkTimeout();const Rt=yield Me.json();if("needConfirmation"in Rt)throw pn(k,"account-exists-with-different-credential",Rt);if(Me.ok&&!("errorMessage"in Rt))return Rt;{const Xt=Me.ok?Rt.errorMessage:Rt.error.message,[Rn,ii]=Xt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rn)throw pn(k,"credential-already-in-use",Rt);if("EMAIL_EXISTS"===Rn)throw pn(k,"email-already-in-use",Rt);if("USER_DISABLED"===Rn)throw pn(k,"user-disabled",Rt);const Mi=V[Rn]||Rn.toLowerCase().replace(/[_\s]+/g,"-");if(ii)throw Re(k,Mi,ii);Fe(k,Mi)}}catch(ae){if(ae instanceof F.ZR)throw ae;Fe(k,"network-request-failed",{message:String(ae)})}})).apply(this,arguments)}function Qt(k,y,w,V){return In.apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(k,y,w,V,ae={}){const Me=yield Ae(k,y,w,V,ae);return"mfaPendingCredential"in Me&&Fe(k,"multi-factor-auth-required",{_serverResponse:Me}),Me})).apply(this,arguments)}function bn(k,y,w,V){const ae=`${y}${w}?${V}`;return k.config.emulator?Wn(k.config,ae):`${k.config.apiScheme}://${ae}`}class Mt{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((w,V)=>{this.timer=setTimeout(()=>V(ke(this.auth,"network-request-failed")),qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pn(k,y,w){const V={appName:k.name};w.email&&(V.email=w.email),w.phoneNumber&&(V.phoneNumber=w.phoneNumber);const ae=ke(k,y,V);return ae.customData._tokenResponse=w,ae}function on(){return(on=(0,f.Z)(function*(k,y){return Ae(k,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Ln(){return(Ln=(0,f.Z)(function*(k,y){return Ae(k,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(k,y){return Ae(k,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function _t(k){if(k)try{const y=new Date(Number(k));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function Dt(){return(Dt=(0,f.Z)(function*(k,y=!1){const w=(0,F.m9)(k),V=yield w.getIdToken(y),ae=gt(V);ge(ae&&ae.exp&&ae.auth_time&&ae.iat,w.auth,"internal-error");const Me="object"==typeof ae.firebase?ae.firebase:void 0,Rt=Me?.sign_in_provider;return{claims:ae,token:V,authTime:_t(lt(ae.auth_time)),issuedAtTime:_t(lt(ae.iat)),expirationTime:_t(lt(ae.exp)),signInProvider:Rt||null,signInSecondFactor:Me?.sign_in_second_factor||null}})).apply(this,arguments)}function lt(k){return 1e3*Number(k)}function gt(k){const[y,w,V]=k.split(".");if(void 0===y||void 0===w||void 0===V)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const ae=(0,F.tV)(w);return ae?JSON.parse(ae):(ut("Failed to decode base64 JWT payload"),null)}catch(ae){return ut("Caught error parsing JWT payload as JSON",ae?.toString()),null}}function et(k,y){return xt.apply(this,arguments)}function xt(){return(xt=(0,f.Z)(function*(k,y,w=!1){if(w)return y;try{return yield y}catch(V){throw V instanceof F.ZR&&function bt({code:k}){return"auth/user-disabled"===k||"auth/user-token-expired"===k}(V)&&k.auth.currentUser===k&&(yield k.auth.signOut()),V}})).apply(this,arguments)}class un{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var w;if(y){const V=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),V}{this.errorBackoff=3e4;const ae=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,ae)}}schedule(y=!1){var w=this;if(!this.isRunning)return;const V=this.getInterval(y);this.timerId=setTimeout((0,f.Z)(function*(){yield w.iteration()}),V)}iteration(){var y=this;return(0,f.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&y.schedule(!0))}y.schedule()})()}}class Ot{constructor(y,w){this.createdAt=y,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=_t(this.lastLoginAt),this.creationTime=_t(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jt(k){return yt.apply(this,arguments)}function yt(){return yt=(0,f.Z)(function*(k){var y;const w=k.auth,V=yield k.getIdToken(),ae=yield et(k,function Jn(k,y){return Cn.apply(this,arguments)}(w,{idToken:V}));ge(ae?.users.length,w,"internal-error");const Me=ae.users[0];k._notifyReloadListener(Me);const Rt=null!==(y=Me.providerUserInfo)&&void 0!==y&&y.length?function Oi(k){return k.map(y=>{var{providerId:w}=y,V=(0,ce._T)(y,["providerId"]);return{providerId:w,uid:V.rawId||"",displayName:V.displayName||null,email:V.email||null,phoneNumber:V.phoneNumber||null,photoURL:V.photoUrl||null}})}(Me.providerUserInfo):[],Xt=function Sn(k,y){return[...k.filter(V=>!y.some(ae=>ae.providerId===V.providerId)),...y]}(k.providerData,Rt),Mi=!!k.isAnonymous&&!(k.email&&Me.passwordHash||Xt?.length),ki={uid:Me.localId,displayName:Me.displayName||null,photoURL:Me.photoUrl||null,email:Me.email||null,emailVerified:Me.emailVerified||!1,phoneNumber:Me.phoneNumber||null,tenantId:Me.tenantId||null,providerData:Xt,metadata:new Ot(Me.createdAt,Me.lastLoginAt),isAnonymous:Mi};Object.assign(k,ki)}),yt.apply(this,arguments)}function kn(){return(kn=(0,f.Z)(function*(k){const y=(0,F.m9)(k);yield Jt(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function mi(){return(mi=(0,f.Z)(function*(k,y){const w=yield pt(k,{},(0,f.Z)(function*(){const V=(0,F.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:ae,apiKey:Me}=k.config,Rt=bn(k,ae,"/v1/token",`key=${Me}`),Xt=yield k._getAdditionalHeaders();return Xt["Content-Type"]="application/x-www-form-urlencoded",xn.fetch()(Rt,{method:"POST",headers:Xt,body:V})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class Vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ge(y.idToken,"internal-error"),ge(typeof y.idToken<"u","internal-error"),ge(typeof y.refreshToken<"u","internal-error");const w="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function Ee(k){const y=gt(k);return ge(y,"internal-error"),ge(typeof y.exp<"u","internal-error"),ge(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,w)}getToken(y){var w=this;return(0,f.Z)(function*(V,ae=!1){return ge(!w.accessToken||w.refreshToken,V,"user-token-expired"),ae||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(V,w.refreshToken),w.accessToken):null:w.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(y,w){var V=this;return(0,f.Z)(function*(){const{accessToken:ae,refreshToken:Me,expiresIn:Rt}=yield function Un(k,y){return mi.apply(this,arguments)}(y,w);V.updateTokensAndExpiration(ae,Me,Number(Rt))})()}updateTokensAndExpiration(y,w,V){this.refreshToken=w||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*V}static fromJSON(y,w){const{refreshToken:V,accessToken:ae,expirationTime:Me}=w,Rt=new Vn;return V&&(ge("string"==typeof V,"internal-error",{appName:y}),Rt.refreshToken=V),ae&&(ge("string"==typeof ae,"internal-error",{appName:y}),Rt.accessToken=ae),Me&&(ge("number"==typeof Me,"internal-error",{appName:y}),Rt.expirationTime=Me),Rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Vn,this.toJSON())}_performRefresh(){return mt("not implemented")}}function Ye(k,y){ge("string"==typeof k||typeof k>"u","internal-error",{appName:y})}class Z{constructor(y){var{uid:w,auth:V,stsTokenManager:ae}=y,Me=(0,ce._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=V,this.stsTokenManager=ae,this.accessToken=ae.accessToken,this.displayName=Me.displayName||null,this.email=Me.email||null,this.emailVerified=Me.emailVerified||!1,this.phoneNumber=Me.phoneNumber||null,this.photoURL=Me.photoURL||null,this.isAnonymous=Me.isAnonymous||!1,this.tenantId=Me.tenantId||null,this.providerData=Me.providerData?[...Me.providerData]:[],this.metadata=new Ot(Me.createdAt||void 0,Me.lastLoginAt||void 0)}getIdToken(y){var w=this;return(0,f.Z)(function*(){const V=yield et(w,w.stsTokenManager.getToken(w.auth,y));return ge(V,w.auth,"internal-error"),w.accessToken!==V&&(w.accessToken=V,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),V})()}getIdTokenResult(y){return function Xe(k){return Dt.apply(this,arguments)}(this,y)}reload(){return function Vt(k){return kn.apply(this,arguments)}(this)}_assign(y){this!==y&&(ge(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(w=>Object.assign({},w)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const w=new Z(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(y){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y){var w=this;return(0,f.Z)(function*(V,ae=!1){let Me=!1;V.idToken&&V.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(V),Me=!0),ae&&(yield Jt(w)),yield w.auth._persistUserIfCurrent(w),Me&&w.auth._notifyListenersIfCurrent(w)}).apply(this,arguments)}delete(){var y=this;return(0,f.Z)(function*(){const w=yield y.getIdToken();return yield et(y,function St(k,y){return on.apply(this,arguments)}(y.auth,{idToken:w})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,w){var V,ae,Me,Rt,Xt,Rn,ii,Mi;const ki=null!==(V=w.displayName)&&void 0!==V?V:void 0,Zr=null!==(ae=w.email)&&void 0!==ae?ae:void 0,_o=null!==(Me=w.phoneNumber)&&void 0!==Me?Me:void 0,Tu=null!==(Rt=w.photoURL)&&void 0!==Rt?Rt:void 0,So=null!==(Xt=w.tenantId)&&void 0!==Xt?Xt:void 0,Or=null!==(Rn=w._redirectEventId)&&void 0!==Rn?Rn:void 0,Su=null!==(ii=w.createdAt)&&void 0!==ii?ii:void 0,Zd=null!==(Mi=w.lastLoginAt)&&void 0!==Mi?Mi:void 0,{uid:Jo,emailVerified:Au,isAnonymous:ja,providerData:ll,stsTokenManager:lc}=w;ge(Jo&&lc,y,"internal-error");const Gn=Vn.fromJSON(this.name,lc);ge("string"==typeof Jo,y,"internal-error"),Ye(ki,y.name),Ye(Zr,y.name),ge("boolean"==typeof Au,y,"internal-error"),ge("boolean"==typeof ja,y,"internal-error"),Ye(_o,y.name),Ye(Tu,y.name),Ye(So,y.name),Ye(Or,y.name),Ye(Su,y.name),Ye(Zd,y.name);const qd=new Z({uid:Jo,auth:y,email:Zr,emailVerified:Au,displayName:ki,isAnonymous:ja,photoURL:Tu,phoneNumber:_o,tenantId:So,stsTokenManager:Gn,createdAt:Su,lastLoginAt:Zd});return ll&&Array.isArray(ll)&&(qd.providerData=ll.map(cc=>Object.assign({},cc))),Or&&(qd._redirectEventId=Or),qd}static _fromIdTokenResponse(y,w){return(0,f.Z)(function*(V,ae,Me=!1){const Rt=new Vn;Rt.updateFromServerResponse(ae);const Xt=new Z({uid:ae.localId,auth:V,stsTokenManager:Rt,isAnonymous:Me});return yield Jt(Xt),Xt}).apply(this,arguments)}}const X=new Map;function je(k){jt(k instanceof Function,"Expected a class definition");let y=X.get(k);return y?(jt(y instanceof k,"Instance stored in cache mismatched with class"),y):(y=new k,X.set(k,y),y)}const Tn=(()=>{class k{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(w,V){var ae=this;return(0,f.Z)(function*(){ae.storage[w]=V})()}_get(w){var V=this;return(0,f.Z)(function*(){const ae=V.storage[w];return void 0===ae?null:ae})()}_remove(w){var V=this;return(0,f.Z)(function*(){delete V.storage[w]})()}_addListener(w,V){}_removeListener(w,V){}}return k.type="NONE",k})();function ui(k,y,w){return`firebase:${k}:${y}:${w}`}class rt{constructor(y,w,V){this.persistence=y,this.auth=w,this.userKey=V;const{config:ae,name:Me}=this.auth;this.fullUserKey=ui(this.userKey,ae.apiKey,Me),this.fullPersistenceKey=ui("persistence",ae.apiKey,Me),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,f.Z)(function*(){const w=yield y.persistence._get(y.fullUserKey);return w?Z._fromJSON(y.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var w=this;return(0,f.Z)(function*(){if(w.persistence===y)return;const V=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=y,V?w.setCurrentUser(V):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,w){return(0,f.Z)(function*(V,ae,Me="authUser"){if(!ae.length)return new rt(je(Tn),V,Me);const Rt=(yield Promise.all(ae.map(function(){var ki=(0,f.Z)(function*(Zr){if(yield Zr._isAvailable())return Zr});return function(Zr){return ki.apply(this,arguments)}}()))).filter(ki=>ki);let Xt=Rt[0]||je(Tn);const Rn=ui(Me,V.config.apiKey,V.name);let ii=null;for(const ki of ae)try{const Zr=yield ki._get(Rn);if(Zr){const _o=Z._fromJSON(V,Zr);ki!==Xt&&(ii=_o),Xt=ki;break}}catch{}const Mi=Rt.filter(ki=>ki._shouldAllowMigration);return Xt._shouldAllowMigration&&Mi.length?(Xt=Mi[0],ii&&(yield Xt._set(Rn,ii.toJSON())),yield Promise.all(ae.map(function(){var ki=(0,f.Z)(function*(Zr){if(Zr!==Xt)try{yield Zr._remove(Rn)}catch{}});return function(Zr){return ki.apply(this,arguments)}}())),new rt(Xt,V,Me)):new rt(Xt,V,Me)}).apply(this,arguments)}}function Qe(k){const y=k.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(ft(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(pe(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(le(y))return"Blackberry";if(q(y))return"Webos";if(ve(y))return"Safari";if((y.includes("chrome/")||fe(y))&&!y.includes("edge/"))return"Chrome";if($e(y))return"Android";{const V=k.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===V?.length)return V[1]}return"Other"}function pe(k=(0,F.z$)()){return/firefox\//i.test(k)}function ve(k=(0,F.z$)()){const y=k.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function fe(k=(0,F.z$)()){return/crios\//i.test(k)}function ft(k=(0,F.z$)()){return/iemobile/i.test(k)}function $e(k=(0,F.z$)()){return/android/i.test(k)}function le(k=(0,F.z$)()){return/blackberry/i.test(k)}function q(k=(0,F.z$)()){return/webos/i.test(k)}function te(k=(0,F.z$)()){return/iphone|ipad|ipod/i.test(k)||/macintosh/i.test(k)&&/mobile/i.test(k)}function Pe(k=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(k)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(k)}function ln(k=(0,F.z$)()){return te(k)||$e(k)||q(k)||le(k)||/windows phone/i.test(k)||ft(k)}function Pi(k,y=[]){let w;switch(k){case"Browser":w=Qe((0,F.z$)());break;case"Worker":w=`${Qe((0,F.z$)())}-${k}`;break;default:w=k}const V=y.length?y.join(","):"FirebaseCore-web";return`${w}/JsCore/${_.SDK_VERSION}/${V}`}function Nt(){return(Nt=(0,f.Z)(function*(k){return(yield Ae(k,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gn(k,y){return qn.apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(k,y){return Ae(k,"GET","/v2/recaptchaConfig",Ne(k,y))})).apply(this,arguments)}function ei(k){return void 0!==k&&void 0!==k.getResponse}function vi(k){return void 0!==k&&void 0!==k.enterprise}class Hn{constructor(y){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.emailPasswordEnabled=y.recaptchaEnforcementState.some(w=>"EMAIL_PASSWORD_PROVIDER"===w.provider&&"OFF"!==w.enforcementState)}}function Ii(k){return new Promise((y,w)=>{const V=document.createElement("script");V.setAttribute("src",k),V.onload=y,V.onerror=ae=>{const Me=ke("internal-error");Me.customData=ae,w(Me)},V.type="text/javascript",V.charset="UTF-8",function Vi(){var k,y;return null!==(y=null===(k=document.getElementsByTagName("head"))||void 0===k?void 0:k[0])&&void 0!==y?y:document}().appendChild(V)})}function ji(k){return`__${k}${Math.floor(1e6*Math.random())}`}const vr="NO_RECAPTCHA";class gs{constructor(y){this.type="recaptcha-enterprise",this.auth=ue(y)}verify(){var y=this;return(0,f.Z)(function*(w="verify",V=!1){function Me(){return Me=(0,f.Z)(function*(Xt){if(!V){if(null==Xt.tenantId&&null!=Xt._agentRecaptchaConfig)return Xt._agentRecaptchaConfig.siteKey;if(null!=Xt.tenantId&&void 0!==Xt._tenantRecaptchaConfigs[Xt.tenantId])return Xt._tenantRecaptchaConfigs[Xt.tenantId].siteKey}return new Promise(function(){var Rn=(0,f.Z)(function*(ii,Mi){gn(Xt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ki=>{if(void 0!==ki.recaptchaKey){const Zr=new Hn(ki);return null==Xt.tenantId?Xt._agentRecaptchaConfig=Zr:Xt._tenantRecaptchaConfigs[Xt.tenantId]=Zr,ii(Zr.siteKey)}Mi(new Error("recaptcha Enterprise site key undefined"))}).catch(ki=>{Mi(ki)})});return function(ii,Mi){return Rn.apply(this,arguments)}}())}),Me.apply(this,arguments)}function Rt(Xt,Rn,ii){const Mi=window.grecaptcha;vi(Mi)?Mi.enterprise.ready(()=>{Mi.enterprise.execute(Xt,{action:w}).then(ki=>{Rn(ki)}).catch(()=>{Rn(vr)})}):ii(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xt,Rn)=>{(function ae(Xt){return Me.apply(this,arguments)})(y.auth).then(ii=>{if(!V&&vi(window.grecaptcha))Rt(ii,Xt,Rn);else{if(typeof window>"u")return void Rn(new Error("RecaptchaVerifier is only supported in browser"));Ii("https://www.google.com/recaptcha/enterprise.js?render="+ii).then(()=>{Rt(ii,Xt,Rn)}).catch(Mi=>{Rn(Mi)})}}).catch(ii=>{Rn(ii)})})}).apply(this,arguments)}}function Ge(k,y,w){return ct.apply(this,arguments)}function ct(){return(ct=(0,f.Z)(function*(k,y,w,V=!1){const ae=new gs(k);let Me;try{Me=yield ae.verify(w)}catch{Me=yield ae.verify(w,!0)}const Rt=Object.assign({},y);return Object.assign(Rt,V?{captchaResp:Me}:{captchaResponse:Me}),Object.assign(Rt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Rt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Rt})).apply(this,arguments)}class A{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,w){const V=Me=>new Promise((Rt,Xt)=>{try{Rt(y(Me))}catch(Rn){Xt(Rn)}});V.onAbort=w,this.queue.push(V);const ae=this.queue.length-1;return()=>{this.queue[ae]=()=>Promise.resolve()}}runMiddleware(y){var w=this;return(0,f.Z)(function*(){if(w.auth.currentUser===y)return;const V=[];try{for(const ae of w.queue)yield ae(y),ae.onAbort&&V.push(ae.onAbort)}catch(ae){V.reverse();for(const Me of V)try{Me()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:ae?.message})}})()}}class Y{constructor(y,w,V,ae){this.app=y,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=V,this.config=ae,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Le(this),this.idTokenSubscription=new Le(this),this.beforeStateQueue=new A(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ht,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=ae.sdkClientVersion}_initializeWithPersistence(y,w){var V=this;return w&&(this._popupRedirectResolver=je(w)),this._initializationPromise=this.queue((0,f.Z)(function*(){var ae,Me;if(!V._deleted&&(V.persistenceManager=yield rt.create(V,y),!V._deleted)){if(null!==(ae=V._popupRedirectResolver)&&void 0!==ae&&ae._shouldInitProactively)try{yield V._popupRedirectResolver._initialize(V)}catch{}yield V.initializeCurrentUser(w),V.lastNotifiedUid=(null===(Me=V.currentUser)||void 0===Me?void 0:Me.uid)||null,!V._deleted&&(V._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,f.Z)(function*(){if(y._deleted)return;const w=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||w){if(y.currentUser&&w&&y.currentUser.uid===w.uid)return y._currentUser._assign(w),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(w,!0)}})()}initializeCurrentUser(y){var w=this;return(0,f.Z)(function*(){var V;const ae=yield w.assertedPersistence.getCurrentUser();let Me=ae,Rt=!1;if(y&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const Xt=null===(V=w.redirectUser)||void 0===V?void 0:V._redirectEventId,Rn=Me?._redirectEventId,ii=yield w.tryRedirectSignIn(y);(!Xt||Xt===Rn)&&ii?.user&&(Me=ii.user,Rt=!0)}if(!Me)return w.directlySetCurrentUser(null);if(!Me._redirectEventId){if(Rt)try{yield w.beforeStateQueue.runMiddleware(Me)}catch(Xt){Me=ae,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(Xt))}return Me?w.reloadAndSetCurrentUserOrClear(Me):w.directlySetCurrentUser(null)}return ge(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===Me._redirectEventId?w.directlySetCurrentUser(Me):w.reloadAndSetCurrentUserOrClear(Me)})()}tryRedirectSignIn(y){var w=this;return(0,f.Z)(function*(){let V=null;try{V=yield w._popupRedirectResolver._completeRedirectFn(w,y,!0)}catch{yield w._setRedirectUser(null)}return V})()}reloadAndSetCurrentUserOrClear(y){var w=this;return(0,f.Z)(function*(){try{yield Jt(y)}catch(V){if("auth/network-request-failed"!==V?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function _i(){if(typeof navigator>"u")return null;const k=navigator;return k.languages&&k.languages[0]||k.language||null}()}_delete(){var y=this;return(0,f.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var w=this;return(0,f.Z)(function*(){const V=y?(0,F.m9)(y):null;return V&&ge(V.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(V&&V._clone(w))})()}_updateCurrentUser(y){var w=this;return(0,f.Z)(function*(V,ae=!1){if(!w._deleted)return V&&ge(w.tenantId===V.tenantId,w,"tenant-id-mismatch"),ae||(yield w.beforeStateQueue.runMiddleware(V)),w.queue((0,f.Z)(function*(){yield w.directlySetCurrentUser(V),w.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var y=this;return(0,f.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var w=this;return this.queue((0,f.Z)(function*(){yield w.assertedPersistence.setPersistence(je(y))}))}initializeRecaptchaConfig(){var y=this;return(0,f.Z)(function*(){const w=yield gn(y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),V=new Hn(w);null==y.tenantId?y._agentRecaptchaConfig=V:y._tenantRecaptchaConfigs[y.tenantId]=V,V.emailPasswordEnabled&&new gs(y).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new F.LL("auth","Firebase",y())}onAuthStateChanged(y,w,V){return this.registerStateListener(this.authStateSubscription,y,w,V)}beforeAuthStateChanged(y,w){return this.beforeStateQueue.pushCallback(y,w)}onIdTokenChanged(y,w,V){return this.registerStateListener(this.idTokenSubscription,y,w,V)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,w){var V=this;return(0,f.Z)(function*(){const ae=yield V.getOrInitRedirectPersistenceManager(w);return null===y?ae.removeCurrentUser():ae.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var w=this;return(0,f.Z)(function*(){if(!w.redirectPersistenceManager){const V=y&&je(y)||w._popupRedirectResolver;ge(V,w,"argument-error"),w.redirectPersistenceManager=yield rt.create(w,[je(V._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(y){var w=this;return(0,f.Z)(function*(){var V,ae;return w._isInitialized&&(yield w.queue((0,f.Z)(function*(){}))),(null===(V=w._currentUser)||void 0===V?void 0:V._redirectEventId)===y?w._currentUser:(null===(ae=w.redirectUser)||void 0===ae?void 0:ae._redirectEventId)===y?w.redirectUser:null})()}_persistUserIfCurrent(y){var w=this;return(0,f.Z)(function*(){if(y===w.currentUser)return w.queue((0,f.Z)(function*(){return w.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const V=null!==(w=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==V&&(this.lastNotifiedUid=V,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,w,V,ae){if(this._deleted)return()=>{};const Me="function"==typeof w?w:w.next.bind(w),Rt=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(Rt,this,"internal-error"),Rt.then(()=>Me(this.currentUser)),"function"==typeof w?y.addObserver(w,V,ae):y.addObserver(w)}directlySetCurrentUser(y){var w=this;return(0,f.Z)(function*(){w.currentUser&&w.currentUser!==y&&w._currentUser._stopProactiveRefresh(),y&&w.isProactiveRefreshEnabled&&y._startProactiveRefresh(),w.currentUser=y,y?yield w.assertedPersistence.setCurrentUser(y):yield w.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Pi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,f.Z)(function*(){var w;const V={"X-Client-Version":y.clientVersion};y.app.options.appId&&(V["X-Firebase-gmpid"]=y.app.options.appId);const ae=yield null===(w=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();ae&&(V["X-Firebase-Client"]=ae);const Me=yield y._getAppCheckToken();return Me&&(V["X-Firebase-AppCheck"]=Me),V})()}_getAppCheckToken(){var y=this;return(0,f.Z)(function*(){var w;const V=yield null===(w=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return V?.error&&function Be(k,...y){nt.logLevel<=S.in.WARN&&nt.warn(`Auth (${_.SDK_VERSION}): ${k}`,...y)}(`Error while retrieving App Check token: ${V.error}`),V?.token})()}}function ue(k){return(0,F.m9)(k)}class Le{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,F.ne)(w=>this.observer=w)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function si(k,y,w){const V=ue(k);ge(V._canInitEmulator,V,"emulator-config-failed"),ge(/^https?:\/\//.test(y),V,"invalid-emulator-scheme");const ae=!!w?.disableWarnings,Me=$i(y),{host:Rt,port:Xt}=function Mr(k){const y=$i(k),w=/(\/\/)?([^?#/]+)/.exec(k.substr(y.length));if(!w)return{host:"",port:null};const V=w[2].split("@").pop()||"",ae=/^(\[[^\]]+\])(:|$)/.exec(V);if(ae){const Me=ae[1];return{host:Me,port:ti(V.substr(Me.length+1))}}{const[Me,Rt]=V.split(":");return{host:Me,port:ti(Rt)}}}(y);V.config.emulator={url:`${Me}//${Rt}${null===Xt?"":`:${Xt}`}/`},V.settings.appVerificationDisabledForTesting=!0,V.emulatorConfig=Object.freeze({host:Rt,port:Xt,protocol:Me.replace(":",""),options:Object.freeze({disableWarnings:ae})}),ae||function qr(){function k(){const y=document.createElement("p"),w=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",k):k())}()}function $i(k){const y=k.indexOf(":");return y<0?"":k.substr(0,y+1)}function ti(k){if(!k)return null;const y=Number(k);return isNaN(y)?null:y}class xs{constructor(y,w){this.providerId=y,this.signInMethod=w}toJSON(){return mt("not implemented")}_getIdTokenResponse(y){return mt("not implemented")}_linkToIdToken(y,w){return mt("not implemented")}_getReauthenticationResolver(y){return mt("not implemented")}}function ao(k,y){return xr.apply(this,arguments)}function xr(){return(xr=(0,f.Z)(function*(k,y){return Ae(k,"POST","/v1/accounts:resetPassword",Ne(k,y))})).apply(this,arguments)}function Dr(k,y){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,f.Z)(function*(k,y){return Ae(k,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(k,y){return Ae(k,"POST","/v1/accounts:update",Ne(k,y))})).apply(this,arguments)}function Ys(k,y){return nr.apply(this,arguments)}function nr(){return(nr=(0,f.Z)(function*(k,y){return Qt(k,"POST","/v1/accounts:signInWithPassword",Ne(k,y))})).apply(this,arguments)}function Bi(k,y){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,f.Z)(function*(k,y){return Ae(k,"POST","/v1/accounts:sendOobCode",Ne(k,y))})).apply(this,arguments)}function It(){return(It=(0,f.Z)(function*(k,y){return Bi(k,y)})).apply(this,arguments)}function wt(k,y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(k,y){return Bi(k,y)})).apply(this,arguments)}function en(k,y){return mn.apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(k,y){return Bi(k,y)})).apply(this,arguments)}function pi(){return(pi=(0,f.Z)(function*(k,y){return Bi(k,y)})).apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(k,y){return Qt(k,"POST","/v1/accounts:signInWithEmailLink",Ne(k,y))})).apply(this,arguments)}function ss(){return(ss=(0,f.Z)(function*(k,y){return Qt(k,"POST","/v1/accounts:signInWithEmailLink",Ne(k,y))})).apply(this,arguments)}class Zi extends xs{constructor(y,w,V,ae=null){super("password",V),this._email=y,this._password=w,this._tenantId=ae}static _fromEmailAndPassword(y,w){return new Zi(y,w,"password")}static _fromEmailAndCode(y,w,V=null){return new Zi(y,w,"emailLink",V)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const w="string"==typeof y?JSON.parse(y):y;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(y){var w=this;return(0,f.Z)(function*(){var V;switch(w.signInMethod){case"password":const ae={returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(V=y._getRecaptchaConfig())&&void 0!==V&&V.emailPasswordEnabled){const Me=yield Ge(y,ae,"signInWithPassword");return Ys(y,Me)}return Ys(y,ae).catch(function(){var Me=(0,f.Z)(function*(Rt){if("auth/missing-recaptcha-token"===Rt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xt=yield Ge(y,ae,"signInWithPassword");return Ys(y,Xt)}return Promise.reject(Rt)});return function(Rt){return Me.apply(this,arguments)}}());case"emailLink":return function gi(k,y){return bi.apply(this,arguments)}(y,{email:w._email,oobCode:w._password});default:Fe(y,"internal-error")}})()}_linkToIdToken(y,w){var V=this;return(0,f.Z)(function*(){switch(V.signInMethod){case"password":return Dr(y,{idToken:w,returnSecureToken:!0,email:V._email,password:V._password});case"emailLink":return function Pr(k,y){return ss.apply(this,arguments)}(y,{idToken:w,email:V._email,oobCode:V._password});default:Fe(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function qi(k,y){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,f.Z)(function*(k,y){return Qt(k,"POST","/v1/accounts:signInWithIdp",Ne(k,y))})).apply(this,arguments)}class Rr extends xs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const w=new Rr(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(w.idToken=y.idToken),y.accessToken&&(w.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(w.nonce=y.nonce),y.pendingToken&&(w.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(w.accessToken=y.oauthToken,w.secret=y.oauthTokenSecret):Fe("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const w="string"==typeof y?JSON.parse(y):y,{providerId:V,signInMethod:ae}=w,Me=(0,ce._T)(w,["providerId","signInMethod"]);if(!V||!ae)return null;const Rt=new Rr(V,ae);return Rt.idToken=Me.idToken||void 0,Rt.accessToken=Me.accessToken||void 0,Rt.secret=Me.secret,Rt.nonce=Me.nonce,Rt.pendingToken=Me.pendingToken||null,Rt}_getIdTokenResponse(y){return qi(y,this.buildRequest())}_linkToIdToken(y,w){const V=this.buildRequest();return V.idToken=w,qi(y,V)}_getReauthenticationResolver(y){const w=this.buildRequest();return w.autoCreate=!1,qi(y,w)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),y.postBody=(0,F.xO)(w)}return y}}function vo(){return(vo=(0,f.Z)(function*(k,y){return Ae(k,"POST","/v1/accounts:sendVerificationCode",Ne(k,y))})).apply(this,arguments)}function Go(){return(Go=(0,f.Z)(function*(k,y){return Qt(k,"POST","/v1/accounts:signInWithPhoneNumber",Ne(k,y))})).apply(this,arguments)}function is(){return(is=(0,f.Z)(function*(k,y){const w=yield Qt(k,"POST","/v1/accounts:signInWithPhoneNumber",Ne(k,y));if(w.temporaryProof)throw pn(k,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const lo={USER_NOT_FOUND:"user-not-found"};function Ro(){return(Ro=(0,f.Z)(function*(k,y){return Qt(k,"POST","/v1/accounts:signInWithPhoneNumber",Ne(k,Object.assign(Object.assign({},y),{operation:"REAUTH"})),lo)})).apply(this,arguments)}class qs extends xs{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,w){return new qs({verificationId:y,verificationCode:w})}static _fromTokenResponse(y,w){return new qs({phoneNumber:y,temporaryProof:w})}_getIdTokenResponse(y){return function $o(k,y){return Go.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,w){return function Ga(k,y){return is.apply(this,arguments)}(y,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Ns(k,y){return Ro.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:w,verificationId:V,verificationCode:ae}=this.params;return y&&w?{temporaryProof:y,phoneNumber:w}:{sessionInfo:V,code:ae}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:w,verificationCode:V,phoneNumber:ae,temporaryProof:Me}=y;return V||w||ae||Me?new qs({verificationId:w,verificationCode:V,phoneNumber:ae,temporaryProof:Me}):null}}class wo{constructor(y){var w,V,ae,Me,Rt,Xt;const Rn=(0,F.zd)((0,F.pd)(y)),ii=null!==(w=Rn.apiKey)&&void 0!==w?w:null,Mi=null!==(V=Rn.oobCode)&&void 0!==V?V:null,ki=function bo(k){switch(k){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ae=Rn.mode)&&void 0!==ae?ae:null);ge(ii&&Mi&&ki,"argument-error"),this.apiKey=ii,this.operation=ki,this.code=Mi,this.continueUrl=null!==(Me=Rn.continueUrl)&&void 0!==Me?Me:null,this.languageCode=null!==(Rt=Rn.languageCode)&&void 0!==Rt?Rt:null,this.tenantId=null!==(Xt=Rn.tenantId)&&void 0!==Xt?Xt:null}static parseLink(y){const w=function Wo(k){const y=(0,F.zd)((0,F.pd)(k)).link,w=y?(0,F.zd)((0,F.pd)(y)).deep_link_id:null,V=(0,F.zd)((0,F.pd)(k)).deep_link_id;return(V?(0,F.zd)((0,F.pd)(V)).link:null)||V||w||y||k}(y);try{return new wo(w)}catch{return null}}}let Qs=(()=>{class k{constructor(){this.providerId=k.PROVIDER_ID}static credential(w,V){return Zi._fromEmailAndPassword(w,V)}static credentialWithLink(w,V){const ae=wo.parseLink(V);return ge(ae,"argument-error"),Zi._fromEmailAndCode(w,ae.code,ae.tenantId)}}return k.PROVIDER_ID="password",k.EMAIL_PASSWORD_SIGN_IN_METHOD="password",k.EMAIL_LINK_SIGN_IN_METHOD="emailLink",k})();class Ss{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class ys extends Ss{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class co extends ys{static credentialFromJSON(y){const w="string"==typeof y?JSON.parse(y):y;return ge("providerId"in w&&"signInMethod"in w,"argument-error"),Rr._fromParams(w)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return ge(y.idToken||y.accessToken,"argument-error"),Rr._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return co.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return co.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:w,oauthAccessToken:V,oauthTokenSecret:ae,pendingToken:Me,nonce:Rt,providerId:Xt}=y;if(!V&&!ae&&!w&&!Me||!Xt)return null;try{return new co(Xt)._credential({idToken:w,accessToken:V,nonce:Rt,pendingToken:Me})}catch{return null}}}let uo=(()=>{class k extends ys{constructor(){super("facebook.com")}static credential(w){return Rr._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return k.credentialFromTaggedObject(w)}static credentialFromError(w){return k.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return k.credential(w.oauthAccessToken)}catch{return null}}}return k.FACEBOOK_SIGN_IN_METHOD="facebook.com",k.PROVIDER_ID="facebook.com",k})(),Eo=(()=>{class k extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(w,V){return Rr._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:V})}static credentialFromResult(w){return k.credentialFromTaggedObject(w)}static credentialFromError(w){return k.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:V,oauthAccessToken:ae}=w;if(!V&&!ae)return null;try{return k.credential(V,ae)}catch{return null}}}return k.GOOGLE_SIGN_IN_METHOD="google.com",k.PROVIDER_ID="google.com",k})(),ko=(()=>{class k extends ys{constructor(){super("github.com")}static credential(w){return Rr._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return k.credentialFromTaggedObject(w)}static credentialFromError(w){return k.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return k.credential(w.oauthAccessToken)}catch{return null}}}return k.GITHUB_SIGN_IN_METHOD="github.com",k.PROVIDER_ID="github.com",k})();class Oo extends xs{constructor(y,w){super(y,y),this.pendingToken=w}_getIdTokenResponse(y){return qi(y,this.buildRequest())}_linkToIdToken(y,w){const V=this.buildRequest();return V.idToken=w,qi(y,V)}_getReauthenticationResolver(y){const w=this.buildRequest();return w.autoCreate=!1,qi(y,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const w="string"==typeof y?JSON.parse(y):y,{providerId:V,signInMethod:ae,pendingToken:Me}=w;return V&&ae&&Me&&V===ae?new Oo(V,Me):null}static _create(y,w){return new Oo(y,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Po extends Ss{constructor(y){ge(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return Po.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return Po.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const w=Oo.fromJSON(y);return ge(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:w,providerId:V}=y;if(!w||!V)return null;try{return Oo._create(V,w)}catch{return null}}}let ba=(()=>{class k extends ys{constructor(){super("twitter.com")}static credential(w,V){return Rr._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:V})}static credentialFromResult(w){return k.credentialFromTaggedObject(w)}static credentialFromError(w){return k.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:V,oauthTokenSecret:ae}=w;if(!V||!ae)return null;try{return k.credential(V,ae)}catch{return null}}}return k.TWITTER_SIGN_IN_METHOD="twitter.com",k.PROVIDER_ID="twitter.com",k})();function Xr(k,y){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(k,y){return Qt(k,"POST","/v1/accounts:signUp",Ne(k,y))})).apply(this,arguments)}class pr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,w,V){return(0,f.Z)(function*(ae,Me,Rt,Xt=!1){const Rn=yield Z._fromIdTokenResponse(ae,Rt,Xt),ii=ho(Rt);return new pr({user:Rn,providerId:ii,_tokenResponse:Rt,operationType:Me})}).apply(this,arguments)}static _forOperation(y,w,V){return(0,f.Z)(function*(){yield y._updateTokensIfNecessary(V,!0);const ae=ho(V);return new pr({user:y,providerId:ae,_tokenResponse:V,operationType:w})})()}}function ho(k){return k.providerId?k.providerId:"phoneNumber"in k?"phone":null}function rs(k){return lr.apply(this,arguments)}function lr(){return(lr=(0,f.Z)(function*(k){var y;const w=ue(k);if(yield w._initializationPromise,null!==(y=w.currentUser)&&void 0!==y&&y.isAnonymous)return new pr({user:w.currentUser,providerId:null,operationType:"signIn"});const V=yield Xr(w,{returnSecureToken:!0}),ae=yield pr._fromIdTokenResponse(w,"signIn",V,!0);return yield w._updateCurrentUser(ae.user),ae})).apply(this,arguments)}class Jr extends F.ZR{constructor(y,w,V,ae){var Me;super(w.code,w.message),this.operationType=V,this.user=ae,Object.setPrototypeOf(this,Jr.prototype),this.customData={appName:y.name,tenantId:null!==(Me=y.tenantId)&&void 0!==Me?Me:void 0,_serverResponse:w.customData._serverResponse,operationType:V}}static _fromErrorAndOperation(y,w,V,ae){return new Jr(y,w,V,ae)}}function Co(k,y,w,V){return("reauthenticate"===y?w._getReauthenticationResolver(k):w._getIdTokenResponse(k)).catch(Me=>{throw"auth/multi-factor-auth-required"===Me.code?Jr._fromErrorAndOperation(k,Me,y,V):Me})}function Ni(k){return new Set(k.map(({providerId:y})=>y).filter(y=>!!y))}function Ka(k,y){return Do.apply(this,arguments)}function Do(){return Do=(0,f.Z)(function*(k,y){const w=(0,F.m9)(k);yield io(!0,w,y);const{providerUserInfo:V}=yield function wn(k,y){return Ln.apply(this,arguments)}(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[y]}),ae=Ni(V||[]);return w.providerData=w.providerData.filter(Me=>ae.has(Me.providerId)),ae.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w}),Do.apply(this,arguments)}function es(k,y){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(k,y,w=!1){const V=yield et(k,y._linkToIdToken(k.auth,yield k.getIdToken()),w);return pr._forOperation(k,"link",V)})).apply(this,arguments)}function io(k,y,w){return os.apply(this,arguments)}function os(){return(os=(0,f.Z)(function*(k,y,w){yield Jt(y);const ae=!1===k?"provider-already-linked":"no-such-provider";ge(Ni(y.providerData).has(w)===k,y.auth,ae)})).apply(this,arguments)}function Na(k,y){return vs.apply(this,arguments)}function vs(){return(vs=(0,f.Z)(function*(k,y,w=!1){const{auth:V}=k,ae="reauthenticate";try{const Me=yield et(k,Co(V,ae,y,k),w);ge(Me.idToken,V,"internal-error");const Rt=gt(Me.idToken);ge(Rt,V,"internal-error");const{sub:Xt}=Rt;return ge(k.uid===Xt,V,"user-mismatch"),pr._forOperation(k,ae,Me)}catch(Me){throw"auth/user-not-found"===Me?.code&&Fe(V,"user-mismatch"),Me}})).apply(this,arguments)}function Ls(k,y){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(k,y,w=!1){const V="signIn",ae=yield Co(k,V,y),Me=yield pr._fromIdTokenResponse(k,V,ae);return w||(yield k._updateCurrentUser(Me.user)),Me})).apply(this,arguments)}function Ti(k,y){return ia.apply(this,arguments)}function ia(){return(ia=(0,f.Z)(function*(k,y){return Ls(ue(k),y)})).apply(this,arguments)}function D(k,y){return E.apply(this,arguments)}function E(){return(E=(0,f.Z)(function*(k,y){const w=(0,F.m9)(k);return yield io(!1,w,y.providerId),es(w,y)})).apply(this,arguments)}function I(k,y){return K.apply(this,arguments)}function K(){return(K=(0,f.Z)(function*(k,y){return Na((0,F.m9)(k),y)})).apply(this,arguments)}function Ct(){return(Ct=(0,f.Z)(function*(k,y){return Qt(k,"POST","/v1/accounts:signInWithCustomToken",Ne(k,y))})).apply(this,arguments)}function sn(k,y){return Et.apply(this,arguments)}function Et(){return Et=(0,f.Z)(function*(k,y){const w=ue(k),V=yield function Te(k,y){return Ct.apply(this,arguments)}(w,{token:y,returnSecureToken:!0}),ae=yield pr._fromIdTokenResponse(w,"signIn",V);return yield w._updateCurrentUser(ae.user),ae}),Et.apply(this,arguments)}class cn{constructor(y,w){this.factorId=y,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(y,w){return"phoneInfo"in w?Si._fromServerResponse(y,w):"totpInfo"in w?Fi._fromServerResponse(y,w):Fe(y,"internal-error")}}class Si extends cn{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,w){return new Si(w)}}class Fi extends cn{constructor(y){super("totp",y)}static _fromServerResponse(y,w){return new Fi(w)}}function Li(k,y,w){var V;ge((null===(V=w.url)||void 0===V?void 0:V.length)>0,k,"invalid-continue-uri"),ge(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,k,"invalid-dynamic-link-domain"),y.continueUrl=w.url,y.dynamicLinkDomain=w.dynamicLinkDomain,y.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(ge(w.iOS.bundleId.length>0,k,"missing-ios-bundle-id"),y.iOSBundleId=w.iOS.bundleId),w.android&&(ge(w.android.packageName.length>0,k,"missing-android-pkg-name"),y.androidInstallApp=w.android.installApp,y.androidMinimumVersionCode=w.android.minimumVersion,y.androidPackageName=w.android.packageName)}function Ir(k,y,w){return mr.apply(this,arguments)}function mr(){return mr=(0,f.Z)(function*(k,y,w){var V;const ae=ue(k),Me={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};if(null!==(V=ae._getRecaptchaConfig())&&void 0!==V&&V.emailPasswordEnabled){const Rt=yield Ge(ae,Me,"getOobCode",!0);w&&Li(ae,Rt,w),yield wt(ae,Rt)}else w&&Li(ae,Me,w),yield wt(ae,Me).catch(function(){var Rt=(0,f.Z)(function*(Xt){if("auth/missing-recaptcha-token"!==Xt.code)return Promise.reject(Xt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Rn=yield Ge(ae,Me,"getOobCode",!0);w&&Li(ae,Rn,w),yield wt(ae,Rn)}});return function(Xt){return Rt.apply(this,arguments)}}())}),mr.apply(this,arguments)}function or(k,y,w){return bs.apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(k,y,w){yield ao((0,F.m9)(k),{oobCode:y,newPassword:w})})).apply(this,arguments)}function Tr(k,y){return fo.apply(this,arguments)}function fo(){return fo=(0,f.Z)(function*(k,y){yield function Is(k,y){return Wr.apply(this,arguments)}((0,F.m9)(k),{oobCode:y})}),fo.apply(this,arguments)}function as(k,y){return br.apply(this,arguments)}function br(){return(br=(0,f.Z)(function*(k,y){const w=(0,F.m9)(k),V=yield ao(w,{oobCode:y}),ae=V.requestType;switch(ge(ae,w,"internal-error"),ae){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(V.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(V.mfaInfo,w,"internal-error");default:ge(V.email,w,"internal-error")}let Me=null;return V.mfaInfo&&(Me=cn._fromServerResponse(ue(w),V.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===V.requestType?V.newEmail:V.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===V.requestType?V.email:V.newEmail)||null,multiFactorInfo:Me},operation:ae}})).apply(this,arguments)}function Ji(k,y){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,f.Z)(function*(k,y){const{data:w}=yield as((0,F.m9)(k),y);return w.email})).apply(this,arguments)}function ws(k,y,w){return As.apply(this,arguments)}function As(){return As=(0,f.Z)(function*(k,y,w){var V;const ae=ue(k),Me={returnSecureToken:!0,email:y,password:w,clientType:"CLIENT_TYPE_WEB"};let Rt;if(null!==(V=ae._getRecaptchaConfig())&&void 0!==V&&V.emailPasswordEnabled){const ii=yield Ge(ae,Me,"signUpPassword");Rt=Xr(ae,ii)}else Rt=Xr(ae,Me).catch(function(){var ii=(0,f.Z)(function*(Mi){if("auth/missing-recaptcha-token"===Mi.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ki=yield Ge(ae,Me,"signUpPassword");return Xr(ae,ki)}return Promise.reject(Mi)});return function(Mi){return ii.apply(this,arguments)}}());const Xt=yield Rt.catch(ii=>Promise.reject(ii)),Rn=yield pr._fromIdTokenResponse(ae,"signIn",Xt);return yield ae._updateCurrentUser(Rn.user),Rn}),As.apply(this,arguments)}function us(k,y,w){return Ti((0,F.m9)(k),Qs.credential(y,w))}function Es(k,y,w){return ra.apply(this,arguments)}function ra(){return ra=(0,f.Z)(function*(k,y,w){var V;const ae=ue(k),Me={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};function Rt(Xt,Rn){ge(Rn.handleCodeInApp,ae,"argument-error"),Rn&&Li(ae,Xt,Rn)}if(null!==(V=ae._getRecaptchaConfig())&&void 0!==V&&V.emailPasswordEnabled){const Xt=yield Ge(ae,Me,"getOobCode",!0);Rt(Xt,w),yield en(ae,Xt)}else Rt(Me,w),yield en(ae,Me).catch(function(){var Xt=(0,f.Z)(function*(Rn){if("auth/missing-recaptcha-token"!==Rn.code)return Promise.reject(Rn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ii=yield Ge(ae,Me,"getOobCode",!0);Rt(ii,w),yield en(ae,ii)}});return function(Rn){return Xt.apply(this,arguments)}}())}),ra.apply(this,arguments)}function nc(k,y){return"EMAIL_SIGNIN"===wo.parseLink(y)?.operation}function ds(k,y,w){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,f.Z)(function*(k,y,w){const V=(0,F.m9)(k),ae=Qs.credentialWithLink(y,w||Ht());return ge(ae._tenantId===(V.tenantId||null),V,"tenant-id-mismatch"),Ti(V,ae)})).apply(this,arguments)}function xo(){return(xo=(0,f.Z)(function*(k,y){return Ae(k,"POST","/v1/accounts:createAuthUri",Ne(k,y))})).apply(this,arguments)}function dr(k,y){return yl.apply(this,arguments)}function yl(){return yl=(0,f.Z)(function*(k,y){const V={identifier:y,continueUri:vn()?Ht():"http://localhost"},{signinMethods:ae}=yield function hs(k,y){return xo.apply(this,arguments)}((0,F.m9)(k),V);return ae||[]}),yl.apply(this,arguments)}function Ko(k,y){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,f.Z)(function*(k,y){const w=(0,F.m9)(k),ae={requestType:"VERIFY_EMAIL",idToken:yield k.getIdToken()};y&&Li(w.auth,ae,y);const{email:Me}=yield function _s(k,y){return It.apply(this,arguments)}(w.auth,ae);Me!==k.email&&(yield k.reload())}),Vs.apply(this,arguments)}function Ml(k,y,w){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,f.Z)(function*(k,y,w){const V=(0,F.m9)(k),Me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield k.getIdToken(),newEmail:y};w&&Li(V.auth,Me,w);const{email:Rt}=yield function li(k,y){return pi.apply(this,arguments)}(V.auth,Me);Rt!==k.email&&(yield k.reload())}),Yo.apply(this,arguments)}function Fa(){return(Fa=(0,f.Z)(function*(k,y){return Ae(k,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Rl(k,y){return po.apply(this,arguments)}function po(){return po=(0,f.Z)(function*(k,{displayName:y,photoURL:w}){if(void 0===y&&void 0===w)return;const V=(0,F.m9)(k),Me={idToken:yield V.getIdToken(),displayName:y,photoUrl:w,returnSecureToken:!0},Rt=yield et(V,function wa(k,y){return Fa.apply(this,arguments)}(V.auth,Me));V.displayName=Rt.displayName||null,V.photoURL=Rt.photoUrl||null;const Xt=V.providerData.find(({providerId:Rn})=>"password"===Rn);Xt&&(Xt.displayName=V.displayName,Xt.photoURL=V.photoURL),yield V._updateTokensIfNecessary(Rt)}),po.apply(this,arguments)}function Hr(k,y){return mo((0,F.m9)(k),y,null)}function ir(k,y){return mo((0,F.m9)(k),null,y)}function mo(k,y,w){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,f.Z)(function*(k,y,w){const{auth:V}=k,Me={idToken:yield k.getIdToken(),returnSecureToken:!0};y&&(Me.email=y),w&&(Me.password=w);const Rt=yield et(k,Dr(V,Me));yield k._updateTokensIfNecessary(Rt,!0)})).apply(this,arguments)}class sa{constructor(y,w,V={}){this.isNewUser=y,this.providerId=w,this.profile=V}}class Ya extends sa{constructor(y,w,V,ae){super(y,w,V),this.username=ae}}class oa extends sa{constructor(y,w){super(y,"facebook.com",w)}}class bc extends Ya{constructor(y,w){super(y,"github.com",w,"string"==typeof w?.login?w?.login:null)}}class jc extends sa{constructor(y,w){super(y,"google.com",w)}}class aa extends Ya{constructor(y,w,V){super(y,"twitter.com",w,V)}}function wc(k){const{user:y,_tokenResponse:w}=k;return y.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function Ea(k){var y,w;if(!k)return null;const{providerId:V}=k,ae=k.rawUserInfo?JSON.parse(k.rawUserInfo):{},Me=k.isNewUser||"identitytoolkit#SignupNewUserResponse"===k.kind;if(!V&&k?.idToken){const Rt=null===(w=null===(y=gt(k.idToken))||void 0===y?void 0:y.firebase)||void 0===w?void 0:w.sign_in_provider;if(Rt)return new sa(Me,"anonymous"!==Rt&&"custom"!==Rt?Rt:null)}if(!V)return null;switch(V){case"facebook.com":return new oa(Me,ae);case"github.com":return new bc(Me,ae);case"google.com":return new jc(Me,ae);case"twitter.com":return new aa(Me,ae,k.screenName||null);case"custom":case"anonymous":return new sa(Me,null);default:return new sa(Me,V,ae)}}(w)}class Ui{constructor(y,w,V){this.type=y,this.credential=w,this.auth=V}static _fromIdtoken(y,w){return new Ui("enroll",y,w)}static _fromMfaPendingCredential(y){return new Ui("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var w,V;if(y?.multiFactorSession){if(null!==(w=y.multiFactorSession)&&void 0!==w&&w.pendingCredential)return Ui._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(V=y.multiFactorSession)&&void 0!==V&&V.idToken)return Ui._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Qi{constructor(y,w,V){this.session=y,this.hints=w,this.signInResolver=V}static _fromError(y,w){const V=ue(y),ae=w.customData._serverResponse,Me=(ae.mfaInfo||[]).map(Xt=>cn._fromServerResponse(V,Xt));ge(ae.mfaPendingCredential,V,"internal-error");const Rt=Ui._fromMfaPendingCredential(ae.mfaPendingCredential);return new Qi(Rt,Me,function(){var Xt=(0,f.Z)(function*(Rn){const ii=yield Rn._process(V,Rt);delete ae.mfaInfo,delete ae.mfaPendingCredential;const Mi=Object.assign(Object.assign({},ae),{idToken:ii.idToken,refreshToken:ii.refreshToken});switch(w.operationType){case"signIn":const ki=yield pr._fromIdTokenResponse(V,w.operationType,Mi);return yield V._updateCurrentUser(ki.user),ki;case"reauthenticate":return ge(w.user,V,"internal-error"),pr._forOperation(w.user,w.operationType,Mi);default:Fe(V,"internal-error")}});return function(Rn){return Xt.apply(this,arguments)}}())}resolveSignIn(y){var w=this;return(0,f.Z)(function*(){return w.signInResolver(y)})()}}function Gi(k,y){var w;const V=(0,F.m9)(k),ae=y;return ge(y.customData.operationType,V,"argument-error"),ge(null===(w=ae.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,V,"argument-error"),Qi._fromError(V,ae)}class oi{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(V=>cn._fromServerResponse(y.auth,V)))})}static _fromUser(y){return new oi(y)}getSession(){var y=this;return(0,f.Z)(function*(){return Ui._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,w){var V=this;return(0,f.Z)(function*(){const ae=y,Me=yield V.getSession(),Rt=yield et(V.user,ae._process(V.user.auth,Me,w));return yield V.user._updateTokensIfNecessary(Rt),V.user.reload()})()}unenroll(y){var w=this;return(0,f.Z)(function*(){const V="string"==typeof y?y:y.uid,ae=yield w.user.getIdToken();try{const Me=yield et(w.user,function Bn(k,y){return Ae(k,"POST","/v2/accounts/mfaEnrollment:withdraw",Ne(k,y))}(w.user.auth,{idToken:ae,mfaEnrollmentId:V}));w.enrolledFactors=w.enrolledFactors.filter(({uid:Rt})=>Rt!==V),yield w.user._updateTokensIfNecessary(Me),yield w.user.reload()}catch(Me){throw Me}})()}}const Bs=new WeakMap;function Pn(k){const y=(0,F.m9)(k);return Bs.has(y)||Bs.set(y,oi._fromUser(y)),Bs.get(y)}const Gt="__sak";class _n{constructor(y,w){this.storageRetriever=y,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Gt,"1"),this.storage.removeItem(Gt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,w){return this.storage.setItem(y,JSON.stringify(w)),Promise.resolve()}_get(y){const w=this.storage.getItem(y);return Promise.resolve(w?JSON.parse(w):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ol=(()=>{class k extends _n{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,V)=>this.onStorageEvent(w,V),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fs(){const k=(0,F.z$)();return ve(k)||te(k)}()&&function Xn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ln(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const V of Object.keys(this.listeners)){const ae=this.storage.getItem(V),Me=this.localCache[V];ae!==Me&&w(V,Me,ae)}}onStorageEvent(w,V=!1){if(!w.key)return void this.forAllChangedKeys((Xt,Rn,ii)=>{this.notifyListeners(Xt,ii)});const ae=w.key;if(V?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xt=this.storage.getItem(ae);if(w.newValue!==Xt)null!==w.newValue?this.storage.setItem(ae,w.newValue):this.storage.removeItem(ae);else if(this.localCache[ae]===w.newValue&&!V)return}const Me=()=>{const Xt=this.storage.getItem(ae);!V&&this.localCache[ae]===Xt||this.notifyListeners(ae,Xt)},Rt=this.storage.getItem(ae);!function $t(){return(0,F.w1)()&&10===document.documentMode}()||Rt===w.newValue||w.newValue===w.oldValue?Me():setTimeout(Me,10)}notifyListeners(w,V){this.localCache[w]=V;const ae=this.listeners[w];if(ae)for(const Me of Array.from(ae))Me(V&&JSON.parse(V))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,V,ae)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:V,newValue:ae}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,V){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(V)}_removeListener(w,V){this.listeners[w]&&(this.listeners[w].delete(V),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,V){var ae=()=>super._set,Me=this;return(0,f.Z)(function*(){yield ae().call(Me,w,V),Me.localCache[w]=JSON.stringify(V)})()}_get(w){var V=()=>super._get,ae=this;return(0,f.Z)(function*(){const Me=yield V().call(ae,w);return ae.localCache[w]=JSON.stringify(Me),Me})()}_remove(w){var V=()=>super._remove,ae=this;return(0,f.Z)(function*(){yield V().call(ae,w),delete ae.localCache[w]})()}}return k.type="LOCAL",k})(),qo=(()=>{class k extends _n{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,V){}_removeListener(w,V){}}return k.type="SESSION",k})();let Ec=(()=>{class k{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const V=this.receivers.find(Me=>Me.isListeningto(w));if(V)return V;const ae=new k(w);return this.receivers.push(ae),ae}isListeningto(w){return this.eventTarget===w}handleEvent(w){var V=this;return(0,f.Z)(function*(){const ae=w,{eventId:Me,eventType:Rt,data:Xt}=ae.data,Rn=V.handlersMap[Rt];if(!Rn?.size)return;ae.ports[0].postMessage({status:"ack",eventId:Me,eventType:Rt});const ii=Array.from(Rn).map(function(){var ki=(0,f.Z)(function*(Zr){return Zr(ae.origin,Xt)});return function(Zr){return ki.apply(this,arguments)}}()),Mi=yield function ld(k){return Promise.all(k.map(function(){var y=(0,f.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(V){return{fulfilled:!1,reason:V}}});return function(w){return y.apply(this,arguments)}}()))}(ii);ae.ports[0].postMessage({status:"done",eventId:Me,eventType:Rt,response:Mi})})()}_subscribe(w,V){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(V)}_unsubscribe(w,V){this.handlersMap[w]&&V&&this.handlersMap[w].delete(V),(!V||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return k.receivers=[],k})();function ps(k="",y=10){let w="";for(let V=0;V<y;V++)w+=Math.floor(10*Math.random());return k+w}class mu{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,w){var V=this;return(0,f.Z)(function*(ae,Me,Rt=50){const Xt=typeof MessageChannel<"u"?new MessageChannel:null;if(!Xt)throw new Error("connection_unavailable");let Rn,ii;return new Promise((Mi,ki)=>{const Zr=ps("",20);Xt.port1.start();const _o=setTimeout(()=>{ki(new Error("unsupported_event"))},Rt);ii={messageChannel:Xt,onMessage(Tu){const So=Tu;if(So.data.eventId===Zr)switch(So.data.status){case"ack":clearTimeout(_o),Rn=setTimeout(()=>{ki(new Error("timeout"))},3e3);break;case"done":clearTimeout(Rn),Mi(So.data.response);break;default:clearTimeout(_o),clearTimeout(Rn),ki(new Error("invalid_response"))}}},V.handlers.add(ii),Xt.port1.addEventListener("message",ii.onMessage),V.target.postMessage({eventType:ae,eventId:Zr,data:Me},[Xt.port2])}).finally(()=>{ii&&V.removeMessageHandler(ii)})}).apply(this,arguments)}}function Fr(){return window}function Za(){return typeof Fr().WorkerGlobalScope<"u"&&"function"==typeof Fr().importScripts}function jr(){return(jr=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yi="firebaseLocalStorageDb",Dc=1,Di="firebaseLocalStorage",Zn="fbase_key";class ro{constructor(y){this.request=y}toPromise(){return new Promise((y,w)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function Qa(k,y){return k.transaction([Di],y?"readwrite":"readonly").objectStore(Di)}function Ca(){const k=indexedDB.open(yi,Dc);return new Promise((y,w)=>{k.addEventListener("error",()=>{w(k.error)}),k.addEventListener("upgradeneeded",()=>{const V=k.result;try{V.createObjectStore(Di,{keyPath:Zn})}catch(ae){w(ae)}}),k.addEventListener("success",(0,f.Z)(function*(){const V=k.result;V.objectStoreNames.contains(Di)?y(V):(V.close(),yield function Io(){const k=indexedDB.deleteDatabase(yi);return new ro(k).toPromise()}(),y(yield Ca()))}))})}function Xa(k,y,w){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,f.Z)(function*(k,y,w){const V=Qa(k,!0).put({[Zn]:y,value:w});return new ro(V).toPromise()})).apply(this,arguments)}function el(){return(el=(0,f.Z)(function*(k,y){const w=Qa(k,!1).get(y),V=yield new ro(w).toPromise();return void 0===V?null:V.value})).apply(this,arguments)}function la(k,y){const w=Qa(k,!0).delete(y);return new ro(w).toPromise()}const Ia=(()=>{class k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,f.Z)(function*(){return w.db||(w.db=yield Ca()),w.db})()}_withRetries(w){var V=this;return(0,f.Z)(function*(){let ae=0;for(;;)try{const Me=yield V._openDb();return yield w(Me)}catch(Me){if(ae++>3)throw Me;V.db&&(V.db.close(),V.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,f.Z)(function*(){return Za()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,f.Z)(function*(){w.receiver=Ec._getInstance(function qa(){return Za()?self:null}()),w.receiver._subscribe("keyChanged",function(){var V=(0,f.Z)(function*(ae,Me){return{keyProcessed:(yield w._poll()).includes(Me.key)}});return function(ae,Me){return V.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var V=(0,f.Z)(function*(ae,Me){return["keyChanged"]});return function(ae,Me){return V.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,f.Z)(function*(){var V,ae;if(w.activeServiceWorker=yield function Cc(){return jr.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new mu(w.activeServiceWorker);const Me=yield w.sender._send("ping",{},800);Me&&null!==(V=Me[0])&&void 0!==V&&V.fulfilled&&null!==(ae=Me[0])&&void 0!==ae&&ae.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var V=this;return(0,f.Z)(function*(){if(V.sender&&V.activeServiceWorker&&function wi(){var k;return(null===(k=navigator?.serviceWorker)||void 0===k?void 0:k.controller)||null}()===V.activeServiceWorker)try{yield V.sender._send("keyChanged",{key:w},V.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const w=yield Ca();return yield Xa(w,Gt,"1"),yield la(w,Gt),!0}catch{}return!1})()}_withPendingWrite(w){var V=this;return(0,f.Z)(function*(){V.pendingWrites++;try{yield w()}finally{V.pendingWrites--}})()}_set(w,V){var ae=this;return(0,f.Z)(function*(){return ae._withPendingWrite((0,f.Z)(function*(){return yield ae._withRetries(Me=>Xa(Me,w,V)),ae.localCache[w]=V,ae.notifyServiceWorker(w)}))})()}_get(w){var V=this;return(0,f.Z)(function*(){const ae=yield V._withRetries(Me=>function Da(k,y){return el.apply(this,arguments)}(Me,w));return V.localCache[w]=ae,ae})()}_remove(w){var V=this;return(0,f.Z)(function*(){return V._withPendingWrite((0,f.Z)(function*(){return yield V._withRetries(ae=>la(ae,w)),delete V.localCache[w],V.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,f.Z)(function*(){const V=yield w._withRetries(Rt=>{const Xt=Qa(Rt,!1).getAll();return new ro(Xt).toPromise()});if(!V)return[];if(0!==w.pendingWrites)return[];const ae=[],Me=new Set;for(const{fbase_key:Rt,value:Xt}of V)Me.add(Rt),JSON.stringify(w.localCache[Rt])!==JSON.stringify(Xt)&&(w.notifyListeners(Rt,Xt),ae.push(Rt));for(const Rt of Object.keys(w.localCache))w.localCache[Rt]&&!Me.has(Rt)&&(w.notifyListeners(Rt,null),ae.push(Rt));return ae})()}notifyListeners(w,V){this.localCache[w]=V;const ae=this.listeners[w];if(ae)for(const Me of Array.from(ae))Me(V)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,V){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(V)}_removeListener(w,V){this.listeners[w]&&(this.listeners[w].delete(V),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return k.type="LOCAL",k})(),ha=1e12;class Kr{constructor(y){this.auth=y,this.counter=ha,this._widgets=new Map}render(y,w){const V=this.counter;return this._widgets.set(V,new wl(y,this.auth.name,w||{})),this.counter++,V}reset(y){var w;const V=y||ha;null===(w=this._widgets.get(V))||void 0===w||w.delete(),this._widgets.delete(V)}getResponse(y){var w;return(null===(w=this._widgets.get(y||ha))||void 0===w?void 0:w.getResponse())||""}execute(y){var w=this;return(0,f.Z)(function*(){var V;return null===(V=w._widgets.get(y||ha))||void 0===V||V.execute(),""})()}}class wl{constructor(y,w,V){this.params=V,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ae="string"==typeof y?document.getElementById(y):y;ge(ae,"argument-error",{appName:w}),this.container=ae,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pl(k){const y=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<k;V++)y.push(w.charAt(Math.floor(Math.random()*w.length)));return y.join("")}(50);const{callback:y,"expired-callback":w}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const tl=ji("rcb"),nl=new An(3e4,6e4);class No{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Fr().grecaptcha)||void 0===y||!y.render)}load(y,w=""){return ge(function Gd(k){return k.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(k)}(w),y,"argument-error"),this.shouldResolveImmediately(w)&&ei(Fr().grecaptcha)?Promise.resolve(Fr().grecaptcha):new Promise((V,ae)=>{const Me=Fr().setTimeout(()=>{ae(ke(y,"network-request-failed"))},nl.get());Fr()[tl]=()=>{Fr().clearTimeout(Me),delete Fr()[tl];const Xt=Fr().grecaptcha;if(!Xt||!ei(Xt))return void ae(ke(y,"internal-error"));const Rn=Xt.render;Xt.render=(ii,Mi)=>{const ki=Rn(ii,Mi);return this.counter++,ki},this.hostLanguage=w,V(Xt)},Ii(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:tl,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(Me),ae(ke(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var w;return!(null===(w=Fr().grecaptcha)||void 0===w||!w.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Us{load(y){return(0,f.Z)(function*(){return new Kr(y)})()}clearedOneInstance(){}}const zr="recaptcha",Sa={theme:"light",type:"image"};class ts{constructor(y,w=Object.assign({},Sa),V){this.parameters=w,this.type=zr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ue(V),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ae="string"==typeof y?document.getElementById(y):y;ge(ae,this.auth,"argument-error"),this.container=ae,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Us:new No,this.validateStartingState()}verify(){var y=this;return(0,f.Z)(function*(){y.assertNotDestroyed();const w=yield y.render(),V=y.getAssertedRecaptcha();return V.getResponse(w)||new Promise(Me=>{const Rt=Xt=>{Xt&&(y.tokenChangeListeners.delete(Rt),Me(Xt))};y.tokenChangeListeners.add(Rt),y.isInvisible&&V.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return w=>{if(this.tokenChangeListeners.forEach(V=>V(w)),"function"==typeof y)y(w);else if("string"==typeof y){const V=Fr()[y];"function"==typeof V&&V(w)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,f.Z)(function*(){if(yield y.init(),!y.widgetId){let w=y.container;if(!y.isInvisible){const V=document.createElement("div");w.appendChild(V),w=V}y.widgetId=y.getAssertedRecaptcha().render(w,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,f.Z)(function*(){ge(vn()&&!Za(),y.auth,"internal-error"),yield function Rs(){let k=null;return new Promise(y=>{"complete"!==document.readyState?(k=()=>y(),window.addEventListener("load",k)):y()}).catch(y=>{throw k&&window.removeEventListener("load",k),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const w=yield function Lt(k){return Nt.apply(this,arguments)}(y.auth);ge(w,y.auth,"internal-error"),y.parameters.sitekey=w})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fo{constructor(y,w){this.verificationId=y,this.onConfirmation=w}confirm(y){const w=qs._fromVerification(this.verificationId,y);return this.onConfirmation(w)}}function R(k,y,w){return N.apply(this,arguments)}function N(){return(N=(0,f.Z)(function*(k,y,w){const V=ue(k),ae=yield Se(V,y,(0,F.m9)(w));return new Fo(ae,Me=>Ti(V,Me))})).apply(this,arguments)}function x(k,y,w){return j.apply(this,arguments)}function j(){return(j=(0,f.Z)(function*(k,y,w){const V=(0,F.m9)(k);yield io(!1,V,"phone");const ae=yield Se(V.auth,y,(0,F.m9)(w));return new Fo(ae,Me=>D(V,Me))})).apply(this,arguments)}function J(k,y,w){return me.apply(this,arguments)}function me(){return(me=(0,f.Z)(function*(k,y,w){const V=(0,F.m9)(k),ae=yield Se(V.auth,y,(0,F.m9)(w));return new Fo(ae,Me=>I(V,Me))})).apply(this,arguments)}function Se(k,y,w){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,f.Z)(function*(k,y,w){var V;const ae=yield w.verify();try{let Me;if(ge("string"==typeof ae,k,"argument-error"),ge(w.type===zr,k,"argument-error"),Me="string"==typeof y?{phoneNumber:y}:y,"session"in Me){const Rt=Me.session;if("phoneNumber"in Me)return ge("enroll"===Rt.type,k,"internal-error"),(yield function hn(k,y){return Ae(k,"POST","/v2/accounts/mfaEnrollment:start",Ne(k,y))}(k,{idToken:Rt.credential,phoneEnrollmentInfo:{phoneNumber:Me.phoneNumber,recaptchaToken:ae}})).phoneSessionInfo.sessionInfo;{ge("signin"===Rt.type,k,"internal-error");const Xt=(null===(V=Me.multiFactorHint)||void 0===V?void 0:V.uid)||Me.multiFactorUid;return ge(Xt,k,"missing-multi-factor-info"),(yield function ua(k,y){return Ae(k,"POST","/v2/accounts/mfaSignIn:start",Ne(k,y))}(k,{mfaPendingCredential:Rt.credential,mfaEnrollmentId:Xt,phoneSignInInfo:{recaptchaToken:ae}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Rt}=yield function Pa(k,y){return vo.apply(this,arguments)}(k,{phoneNumber:Me.phoneNumber,recaptchaToken:ae});return Rt}}finally{w._reset()}}),Pt.apply(this,arguments)}function tn(k,y){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(k,y){yield es((0,F.m9)(k),y)})).apply(this,arguments)}let ni=(()=>{class k{constructor(w){this.providerId=k.PROVIDER_ID,this.auth=ue(w)}verifyPhoneNumber(w,V){return Se(this.auth,w,(0,F.m9)(V))}static credential(w,V){return qs._fromVerification(w,V)}static credentialFromResult(w){return k.credentialFromTaggedObject(w)}static credentialFromError(w){return k.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:V,temporaryProof:ae}=w;return V&&ae?qs._fromTokenResponse(V,ae):null}}return k.PROVIDER_ID="phone",k.PHONE_SIGN_IN_METHOD="phone",k})();function Wi(k,y){return y?je(y):(ge(k._popupRedirectResolver,k,"argument-error"),k._popupRedirectResolver)}class ns extends xs{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return qi(y,this._buildIdpRequest())}_linkToIdToken(y,w){return qi(y,this._buildIdpRequest(w))}_getReauthenticationResolver(y){return qi(y,this._buildIdpRequest())}_buildIdpRequest(y){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(w.idToken=y),w}}function Hs(k){return Ls(k.auth,new ns(k),k.bypassAuthState)}function fa(k){const{auth:y,user:w}=k;return ge(w,y,"internal-error"),Na(w,new ns(k),k.bypassAuthState)}function La(k){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,f.Z)(function*(k){const{auth:y,user:w}=k;return ge(w,y,"internal-error"),es(w,new ns(k),k.bypassAuthState)})).apply(this,arguments)}class $c{constructor(y,w,V,ae,Me=!1){this.auth=y,this.resolver=V,this.user=ae,this.bypassAuthState=Me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var y=this;return new Promise(function(){var w=(0,f.Z)(function*(V,ae){y.pendingPromise={resolve:V,reject:ae};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(Me){y.reject(Me)}});return function(V,ae){return w.apply(this,arguments)}}())}onAuthEvent(y){var w=this;return(0,f.Z)(function*(){const{urlResponse:V,sessionId:ae,postBody:Me,tenantId:Rt,error:Xt,type:Rn}=y;if(Xt)return void w.reject(Xt);const ii={auth:w.auth,requestUri:V,sessionId:ae,tenantId:Rt||void 0,postBody:Me||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Rn)(ii))}catch(Mi){w.reject(Mi)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Hs;case"linkViaPopup":case"linkViaRedirect":return La;case"reauthViaPopup":case"reauthViaRedirect":return fa;default:Fe(this.auth,"internal-error")}}resolve(y){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ic=new An(2e3,1e4);function Lo(k,y,w){return Va.apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(k,y,w){const V=ue(k);xe(k,y,Ss);const ae=Wi(V,w);return new Ic(V,"signInViaPopup",y,ae).executeNotNull()})).apply(this,arguments)}function gu(k,y,w){return El.apply(this,arguments)}function El(){return(El=(0,f.Z)(function*(k,y,w){const V=(0,F.m9)(k);xe(V.auth,y,Ss);const ae=Wi(V.auth,w);return new Ic(V.auth,"reauthViaPopup",y,ae,V).executeNotNull()})).apply(this,arguments)}function Gc(k,y,w){return xc.apply(this,arguments)}function xc(){return(xc=(0,f.Z)(function*(k,y,w){const V=(0,F.m9)(k);xe(V.auth,y,Ss);const ae=Wi(V.auth,w);return new Ic(V.auth,"linkViaPopup",y,ae,V).executeNotNull()})).apply(this,arguments)}let Ic=(()=>{class k extends $c{constructor(w,V,ae,Me,Rt){super(w,V,Me,Rt),this.provider=ae,this.authWindow=null,this.pollId=null,k.currentPopupAction&&k.currentPopupAction.cancel(),k.currentPopupAction=this}executeNotNull(){var w=this;return(0,f.Z)(function*(){const V=yield w.execute();return ge(V,w.auth,"internal-error"),V})()}onExecution(){var w=this;return(0,f.Z)(function*(){jt(1===w.filter.length,"Popup operations only handle one event");const V=ps();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],V),w.authWindow.associatedEvent=V,w.resolver._originValidation(w.auth).catch(ae=>{w.reject(ae)}),w.resolver._isIframeWebStorageSupported(w.auth,ae=>{ae||w.reject(ke(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,k.currentPopupAction=null}pollUserCancellation(){const w=()=>{var V,ae;this.pollId=null!==(ae=null===(V=this.authWindow)||void 0===V?void 0:V.window)&&void 0!==ae&&ae.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(w,ic.get())};w()}}return k.currentPopupAction=null,k})();const Js="pendingRedirect",Qo=new Map;class Aa extends $c{constructor(y,w,V=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,V),this.eventId=null}execute(){var y=()=>super.execute,w=this;return(0,f.Z)(function*(){let V=Qo.get(w.auth._key());if(!V){try{const Me=(yield function _u(k,y){return kr.apply(this,arguments)}(w.resolver,w.auth))?yield y().call(w):null;V=()=>Promise.resolve(Me)}catch(ae){V=()=>Promise.reject(ae)}Qo.set(w.auth._key(),V)}return w.bypassAuthState||Qo.set(w.auth._key(),()=>Promise.resolve(null)),V()})()}onAuthEvent(y){var w=()=>super.onAuthEvent,V=this;return(0,f.Z)(function*(){if("signInViaRedirect"===y.type)return w().call(V,y);if("unknown"!==y.type){if(y.eventId){const ae=yield V.auth._redirectUserForId(y.eventId);if(ae)return V.user=ae,w().call(V,y);V.resolve(null)}}else V.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function kr(){return(kr=(0,f.Z)(function*(k,y){const w=To(y),V=Tc(k);if(!(yield V._isAvailable()))return!1;const ae="true"===(yield V._get(w));return yield V._remove(w),ae})).apply(this,arguments)}function Wc(k,y){return ls.apply(this,arguments)}function ls(){return(ls=(0,f.Z)(function*(k,y){return Tc(k)._set(To(y),"true")})).apply(this,arguments)}function $r(){Qo.clear()}function Wd(k,y){Qo.set(k._key(),y)}function Tc(k){return je(k._redirectPersistence)}function To(k){return ui(Js,k.config.apiKey,k.name)}function yu(k,y,w){return function Kd(k,y,w){return ks.apply(this,arguments)}(k,y,w)}function ks(){return(ks=(0,f.Z)(function*(k,y,w){const V=ue(k);xe(k,y,Ss),yield V._initializationPromise;const ae=Wi(V,w);return yield Wc(ae,V),ae._openRedirect(V,y,"signInViaRedirect")})).apply(this,arguments)}function jh(k,y,w){return function Nl(k,y,w){return Yr.apply(this,arguments)}(k,y,w)}function Yr(){return(Yr=(0,f.Z)(function*(k,y,w){const V=(0,F.m9)(k);xe(V.auth,y,Ss),yield V.auth._initializationPromise;const ae=Wi(V.auth,w);yield Wc(ae,V.auth);const Me=yield sc(V);return ae._openRedirect(V.auth,y,"reauthViaRedirect",Me)})).apply(this,arguments)}function il(k,y,w){return function Kc(k,y,w){return rc.apply(this,arguments)}(k,y,w)}function rc(){return(rc=(0,f.Z)(function*(k,y,w){const V=(0,F.m9)(k);xe(V.auth,y,Ss),yield V.auth._initializationPromise;const ae=Wi(V.auth,w);yield io(!1,V,y.providerId),yield Wc(ae,V.auth);const Me=yield sc(V);return ae._openRedirect(V.auth,y,"linkViaRedirect",Me)})).apply(this,arguments)}function vu(k,y){return bu.apply(this,arguments)}function bu(){return(bu=(0,f.Z)(function*(k,y){return yield ue(k)._initializationPromise,rl(k,y,!1)})).apply(this,arguments)}function rl(k,y){return go.apply(this,arguments)}function go(){return(go=(0,f.Z)(function*(k,y,w=!1){const V=ue(k),ae=Wi(V,y),Rt=yield new Aa(V,ae,w).execute();return Rt&&!w&&(delete Rt.user._redirectEventId,yield V._persistUserIfCurrent(Rt.user),yield V._setRedirectUser(null,y)),Rt})).apply(this,arguments)}function sc(k){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,f.Z)(function*(k){const y=ps(`${k.uid}:::`);return k._redirectEventId=y,yield k.auth._setRedirectUser(k),yield k.auth._persistUserIfCurrent(k),y})).apply(this,arguments)}class sl{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let w=!1;return this.consumers.forEach(V=>{this.isEventForConsumer(y,V)&&(w=!0,this.sendToConsumer(y,V),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function oc(k){switch(k.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yc(k);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=y,w=!0)),w}sendToConsumer(y,w){var V;if(y.error&&!Yc(y)){const ae=(null===(V=y.error.code)||void 0===V?void 0:V.split("auth/")[1])||"internal-error";w.onError(ke(this.auth,ae))}else w.onAuthEvent(y)}isEventForConsumer(y,w){const V=null===w.eventId||!!y.eventId&&y.eventId===w.eventId;return w.filter.includes(y.type)&&V}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(so(y))}saveEventToCache(y){this.cachedEventUids.add(so(y)),this.lastProcessedEventTime=Date.now()}}function so(k){return[k.type,k.eventId,k.sessionId,k.tenantId].filter(y=>y).join("-")}function Yc({type:k,error:y}){return"unknown"===k&&"auth/no-auth-event"===y?.code}function Zc(k){return wu.apply(this,arguments)}function wu(){return(wu=(0,f.Z)(function*(k,y={}){return Ae(k,"GET","/v1/projects",y)})).apply(this,arguments)}const qc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eu=/^https?/;function Sc(){return(Sc=(0,f.Z)(function*(k){if(k.config.emulator)return;const{authorizedDomains:y}=yield Zc(k);for(const w of y)try{if(Cl(w))return}catch{}Fe(k,"unauthorized-domain")})).apply(this,arguments)}function Cl(k){const y=Ht(),{protocol:w,hostname:V}=new URL(y);if(k.startsWith("chrome-extension://")){const Rt=new URL(k);return""===Rt.hostname&&""===V?"chrome-extension:"===w&&k.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===w&&Rt.hostname===V}if(!Eu.test(w))return!1;if(qc.test(k))return V===k;const ae=k.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ae+"|"+ae+")$","i").test(V)}const Ac=new An(3e4,6e4);function Fl(){const k=Fr().___jsl;if(k?.H)for(const y of Object.keys(k.H))if(k.H[y].r=k.H[y].r||[],k.H[y].L=k.H[y].L||[],k.H[y].r=[...k.H[y].L],k.CP)for(let w=0;w<k.CP.length;w++)k.CP[w]=null}let Ua=null;const Ll=new An(5e3,15e3),Cu="__/auth/iframe",eo="emulator/auth/iframe",Du={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dl(k){const y=k.config;ge(y.authDomain,k,"auth-domain-config-required");const w=y.emulator?Wn(y,eo):`https://${k.config.authDomain}/${Cu}`,V={apiKey:y.apiKey,appName:k.name,v:_.SDK_VERSION},ae=Gr.get(k.config.apiHost);ae&&(V.eid=ae);const Me=k._getFrameworks();return Me.length&&(V.fw=Me.join(",")),`${w}?${(0,F.xO)(V).slice(1)}`}function O(){return O=(0,f.Z)(function*(k){const y=yield function Yd(k){return Ua=Ua||function Ma(k){return new Promise((y,w)=>{var V,ae,Me;function Rt(){Fl(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Fl(),w(ke(k,"network-request-failed"))},timeout:Ac.get()})}if(null!==(ae=null===(V=Fr().gapi)||void 0===V?void 0:V.iframes)&&void 0!==ae&&ae.Iframe)y(gapi.iframes.getContext());else{if(null===(Me=Fr().gapi)||void 0===Me||!Me.load){const Xt=ji("iframefcb");return Fr()[Xt]=()=>{gapi.load?Rt():w(ke(k,"network-request-failed"))},Ii(`https://apis.google.com/js/api.js?onload=${Xt}`).catch(Rn=>w(Rn))}Rt()}}).catch(y=>{throw Ua=null,y})}(k),Ua}(k),w=Fr().gapi;return ge(w,k,"internal-error"),y.open({where:document.body,url:Dl(k),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Du,dontclear:!0},V=>new Promise(function(){var ae=(0,f.Z)(function*(Me,Rt){yield V.restyle({setHideOnLeave:!1});const Xt=ke(k,"network-request-failed"),Rn=Fr().setTimeout(()=>{Rt(Xt)},Ll.get());function ii(){Fr().clearTimeout(Rn),Me(V)}V.ping(ii).then(ii,()=>{Rt(Xt)})});return function(Me,Rt){return ae.apply(this,arguments)}}()))}),O.apply(this,arguments)}const z={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ee=500,ze=600,Je="_blank",Tt="http://localhost";class Wt{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jn="__/auth/handler",$n="emulator/auth/handler",Ei=encodeURIComponent("fac");function Vo(k,y,w,V,ae,Me){return ms.apply(this,arguments)}function ms(){return(ms=(0,f.Z)(function*(k,y,w,V,ae,Me){ge(k.config.authDomain,k,"auth-domain-config-required"),ge(k.config.apiKey,k,"invalid-api-key");const Rt={apiKey:k.config.apiKey,appName:k.name,authType:w,redirectUrl:V,v:_.SDK_VERSION,eventId:ae};if(y instanceof Ss){y.setDefaultLanguage(k.languageCode),Rt.providerId=y.providerId||"",(0,F.xb)(y.getCustomParameters())||(Rt.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Mi,ki]of Object.entries(Me||{}))Rt[Mi]=ki}if(y instanceof ys){const Mi=y.getScopes().filter(ki=>""!==ki);Mi.length>0&&(Rt.scopes=Mi.join(","))}k.tenantId&&(Rt.tid=k.tenantId);const Xt=Rt;for(const Mi of Object.keys(Xt))void 0===Xt[Mi]&&delete Xt[Mi];const Rn=yield k._getAppCheckToken(),ii=Rn?`#${Ei}=${encodeURIComponent(Rn)}`:"";return`${function Bo({config:k}){return k.emulator?Wn(k,$n):`https://${k.authDomain}/${jn}`}(k)}?${(0,F.xO)(Xt).slice(1)}${ii}`})).apply(this,arguments)}const Mc="webStorageSupport",pa=class Qc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qo,this._completeRedirectFn=rl,this._overrideRedirectResult=Wd}_openPopup(y,w,V,ae){var Me=this;return(0,f.Z)(function*(){var Rt;jt(null===(Rt=Me.eventManagers[y._key()])||void 0===Rt?void 0:Rt.manager,"_initialize() not called before _openPopup()");const Xt=yield Vo(y,w,V,Ht(),ae);return function On(k,y,w,V=ee,ae=ze){const Me=Math.max((window.screen.availHeight-ae)/2,0).toString(),Rt=Math.max((window.screen.availWidth-V)/2,0).toString();let Xt="";const Rn=Object.assign(Object.assign({},z),{width:V.toString(),height:ae.toString(),top:Me,left:Rt}),ii=(0,F.z$)().toLowerCase();w&&(Xt=fe(ii)?Je:w),pe(ii)&&(y=y||Tt,Rn.scrollbars="yes");const Mi=Object.entries(Rn).reduce((Zr,[_o,Tu])=>`${Zr}${_o}=${Tu},`,"");if(function st(k=(0,F.z$)()){var y;return te(k)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(ii)&&"_self"!==Xt)return function Nn(k,y){const w=document.createElement("a");w.href=k,w.target=y;const V=document.createEvent("MouseEvent");V.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(V)}(y||"",Xt),new Wt(null);const ki=window.open(y||"",Xt,Mi);ge(ki,k,"popup-blocked");try{ki.focus()}catch{}return new Wt(ki)}(y,Xt,ps())})()}_openRedirect(y,w,V,ae){var Me=this;return(0,f.Z)(function*(){return yield Me._originValidation(y),function Ri(k){Fr().location.href=k}(yield Vo(y,w,V,Ht(),ae)),new Promise(()=>{})})()}_initialize(y){const w=y._key();if(this.eventManagers[w]){const{manager:ae,promise:Me}=this.eventManagers[w];return ae?Promise.resolve(ae):(jt(Me,"If manager is not set, promise should be"),Me)}const V=this.initAndGetManager(y);return this.eventManagers[w]={promise:V},V.catch(()=>{delete this.eventManagers[w]}),V}initAndGetManager(y){var w=this;return(0,f.Z)(function*(){const V=yield function cd(k){return O.apply(this,arguments)}(y),ae=new sl(y);return V.register("authEvent",Me=>(ge(Me?.authEvent,y,"invalid-auth-event"),{status:ae.onEvent(Me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[y._key()]={manager:ae},w.iframes[y._key()]=V,ae})()}_isIframeWebStorageSupported(y,w){this.iframes[y._key()].send(Mc,{type:Mc},ae=>{var Me;const Rt=null===(Me=ae?.[0])||void 0===Me?void 0:Me[Mc];void 0!==Rt&&w(!!Rt),Fe(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const w=y._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function ac(k){return Sc.apply(this,arguments)}(y)),this.originValidationPromises[w]}get _shouldInitProactively(){return ln()||ve()||te()}};class Ha{constructor(y){this.factorId=y}_process(y,w,V){switch(w.type){case"enroll":return this._finalizeEnroll(y,w.credential,V);case"signin":return this._finalizeSignIn(y,w.credential);default:return mt("unexpected MultiFactorSessionType")}}}class ma extends Ha{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new ma(y)}_finalizeEnroll(y,w,V){return function Ai(k,y){return Ae(k,"POST","/v2/accounts/mfaEnrollment:finalize",Ne(k,y))}(y,{idToken:w,displayName:V,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,w){return function da(k,y){return Ae(k,"POST","/v2/accounts/mfaSignIn:finalize",Ne(k,y))}(y,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zh=(()=>{class k{constructor(){}static assertion(w){return ma._fromCredential(w)}}return k.FACTOR_ID="phone",k})();var kc="@firebase/auth";class Vl{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var w=this;return(0,f.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const w=this.auth.onIdTokenChanged(V=>{y(V?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,w),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const w=this.internalListeners.get(y);w&&(this.internalListeners.delete(y),w(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xc=(0,F.Pz)("authIdTokenMaxAge")||300;let Oc=null;const xl=k=>function(){var y=(0,f.Z)(function*(w){const V=w&&(yield w.getIdTokenResult()),ae=V&&((new Date).getTime()-Date.parse(V.issuedAtTime))/1e3;if(ae&&ae>Xc)return;const Me=V?.token;Oc!==Me&&(Oc=Me,yield fetch(k,{method:Me?"POST":"DELETE",headers:Me?{Authorization:`Bearer ${Me}`}:{}}))});return function(w){return y.apply(this,arguments)}}();function Iu(k=(0,_.getApp)()){const y=(0,_._getProvider)(k,"auth");if(y.isInitialized())return y.getImmediate();const w=function qt(k,y){const w=(0,_._getProvider)(k,"auth");if(w.isInitialized()){const ae=w.getImmediate(),Me=w.getOptions();if((0,F.vZ)(Me,y??{}))return ae;Fe(ae,"already-initialized")}return w.initialize({options:y})}(k,{popupRedirectResolver:pa,persistence:[Ia,Ol,qo]}),V=(0,F.Pz)("authTokenSyncURL");if(V){const Me=xl(V);(function G(k,y,w){(0,F.m9)(k).beforeAuthStateChanged(y,w)})(w,Me,()=>Me(w.currentUser)),function se(k,y,w,V){(0,F.m9)(k).onIdTokenChanged(y,w,V)}(w,Rt=>Me(Rt))}const ae=(0,F.q4)("auth");return ae&&si(w,`http://${ae}`),w}!function cr(k){(0,_._registerComponent)(new we.wA("auth",(y,{options:w})=>{const V=y.getProvider("app").getImmediate(),ae=y.getProvider("heartbeat"),Me=y.getProvider("app-check-internal"),{apiKey:Rt,authDomain:Xt}=V.options;ge(Rt&&!Rt.includes(":"),"invalid-api-key",{appName:V.name});const Rn={apiKey:Rt,authDomain:Xt,clientPlatform:k,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pi(k)},ii=new Y(V,ae,Me,Rn);return function Yn(k,y){const w=y?.persistence||[],V=(Array.isArray(w)?w:[w]).map(je);y?.errorMap&&k._updateErrorMap(y.errorMap),k._initializeWithPersistence(V,y?.popupRedirectResolver)}(ii,w),ii},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,w,V)=>{y.getProvider("auth-internal").initialize()})),(0,_._registerComponent)(new we.wA("auth-internal",y=>{const w=ue(y.getProvider("auth").getImmediate());return new Vl(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_.registerVersion)(kc,"0.23.2",function Bl(k){switch(k){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(k)),(0,_.registerVersion)(kc,"0.23.2","esm2017")}("Browser")},8206:(fn,ot,M)=>{"use strict";M.d(ot,{u7:()=>Jg,Jj:()=>id,IX:()=>Kg,my:()=>$s,xU:()=>Bf,Lz:()=>rd,WA:()=>_n,F8:()=>Um,$q:()=>qm,W:()=>sd,EK:()=>jr,PU:()=>G_,l7:()=>rl,Ky:()=>Zn,Xb:()=>Di,Cf:()=>Yi,K9:()=>Bs,Me:()=>Kd,yq:()=>gr,Wi:()=>Jl,ET:()=>sv,Ab:()=>Sy,vr:()=>mv,Fc:()=>Hy,hJ:()=>Hi,B$:()=>ur,at:()=>Lm,oe:()=>Cy,AK:()=>pv,TF:()=>ny,JU:()=>jo,ST:()=>Bm,fH:()=>Uy,Ix:()=>ty,Wu:()=>Xg,Lx:()=>Xy,qY:()=>Ws,GL:()=>Yp,QT:()=>by,kl:()=>Qm,Xk:()=>Xm,PL:()=>nv,UQ:()=>iv,zN:()=>rv,nP:()=>gv,b9:()=>Zv,vh:()=>zi,Pb:()=>zy,L$:()=>iy,cf:()=>Dy,sc:()=>ov,Xo:()=>my,IO:()=>Lf,iE:()=>Gs,Eo:()=>Hc,i3:()=>Jm,Bt:()=>Ty,pl:()=>wy,Ub:()=>Gi,qK:()=>vy,TQ:()=>Qy,e0:()=>qy,r7:()=>Ey,Mx:()=>jy,ar:()=>Zy});var L,f=M(8239),F=M(7467),_=M(3910),ce=M(5422),S=M(3854),we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},He={},Oe=Oe||{},ne=we||self;function de(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ye(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ve="closure_uid_"+(1e9*Math.random()>>>0),We=0;function ht(i,e,t){return i.call.apply(i.bind,arguments)}function Ze(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function nt(i,e,t){return(nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ht:Ze).apply(null,arguments)}function Be(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ut(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(o,u,m){for(var b=Array(arguments.length-2),B=2;B<arguments.length;B++)b[B-2]=arguments[B];return e.prototype[u].apply(o,b)}}function Fe(){this.s=this.s,this.o=this.o}Fe.prototype.s=!1,Fe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ie(i){Object.prototype.hasOwnProperty.call(i,Ve)&&i[Ve]||(i[Ve]=++We)}(this)},Fe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Re=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function xe(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Ke(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(de(o)){const u=i.length||0,m=o.length||0;i.length=u+m;for(let b=0;b<m;b++)i[u+b]=o[b]}else i.push(o)}}function ge(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return i}();function jt(i){return/^[\s\xa0]*$/.test(i)}function Ht(){var i=ne.navigator;return i&&(i=i.userAgent)?i:""}function vn(i){return-1!=Ht().indexOf(i)}function rn(i){return rn[" "](i),i}rn[" "]=function(){};var Ae,i,_i=vn("Opera"),An=vn("Trident")||vn("MSIE"),Wn=vn("Edge"),xn=Wn||An,nn=vn("Gecko")&&!(-1!=Ht().toLowerCase().indexOf("webkit")&&!vn("Edge"))&&!(vn("Trident")||vn("MSIE"))&&!vn("Edge"),qe=-1!=Ht().toLowerCase().indexOf("webkit")&&!vn("Edge");function Ne(){var i=ne.document;return i?i.documentMode:void 0}e:{var Ue="",pt=(i=Ht(),nn?/rv:([^\);]+)(\)|;)/.exec(i):Wn?/Edge\/([\d\.]+)/.exec(i):An?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):qe?/WebKit\/(\S+)/.exec(i):_i?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(pt&&(Ue=pt?pt[1]:""),An){var at=Ne();if(null!=at&&at>parseFloat(Ue)){Ae=String(at);break e}}Ae=Ue}var bn=ne.document&&An&&(Ne()||parseInt(Ae,10))||void 0;function Mt(i,e){if(ge.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(nn){e:{try{rn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:pn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Mt.$.h.call(this)}}ut(Mt,ge);var pn={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),on=0;function wn(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=u,this.key=++on,this.fa=this.ia=!1}function Ln(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Jn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function _t(i){const e={};for(const t in i)e[t]=i[t];return e}const he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xe(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let m=0;m<he.length;m++)t=he[m],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Dt(i){this.src=i,this.g={},this.h=0}function lt(i,e){var t=e.type;if(t in i.g){var m,o=i.g[t],u=Re(o,e);(m=0<=u)&&Array.prototype.splice.call(o,u,1),m&&(Ln(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function gt(i,e,t,o){for(var u=0;u<i.length;++u){var m=i[u];if(!m.fa&&m.listener==e&&m.capture==!!t&&m.la==o)return u}return-1}Dt.prototype.add=function(i,e,t,o,u){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var b=gt(i,e,o,u);return-1<b?(e=i[b],t||(e.ia=!1)):((e=new wn(e,this.src,m,!!o,u)).ia=t,i.push(e)),e};var Ee="closure_lm_"+(1e6*Math.random()|0),et={};function xt(i,e,t,o,u){if(o&&o.once)return Ot(i,e,t,o,u);if(Array.isArray(e)){for(var m=0;m<e.length;m++)xt(i,e[m],t,o,u);return null}return t=Un(t),i&&i[St]?i.O(e,t,ye(o)?!!o.capture:!!o,u):bt(i,e,t,!1,o,u)}function bt(i,e,t,o,u,m){if(!e)throw Error("Invalid event type");var b=ye(u)?!!u.capture:!!u,B=Sn(i);if(B||(i[Ee]=B=new Dt(i)),(t=B.add(e,t,o,b,m)).proxy)return t;if(o=function un(){const e=kn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)mt||(u=b),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Vt(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Ot(i,e,t,o,u){if(Array.isArray(e)){for(var m=0;m<e.length;m++)Ot(i,e[m],t,o,u);return null}return t=Un(t),i&&i[St]?i.P(e,t,ye(o)?!!o.capture:!!o,u):bt(i,e,t,!0,o,u)}function Jt(i,e,t,o,u){if(Array.isArray(e))for(var m=0;m<e.length;m++)Jt(i,e[m],t,o,u);else o=ye(o)?!!o.capture:!!o,t=Un(t),i&&i[St]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=gt(m=i.g[e],t,o,u))&&(Ln(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=Sn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=gt(e,t,o,u)),(t=-1<i?e[i]:null)&&yt(t))}function yt(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[St])lt(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Vt(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Sn(e))?(lt(t,i),0==t.h&&(t.src=null,e[Ee]=null)):Ln(i)}}}function Vt(i){return i in et?et[i]:et[i]="on"+i}function kn(i,e){if(i.fa)i=!0;else{e=new Mt(e,this);var t=i.listener,o=i.la||i.src;i.ia&&yt(i),i=t.call(o,e)}return i}function Sn(i){return(i=i[Ee])instanceof Dt?i:null}var Oi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Un(i){return"function"==typeof i?i:(i[Oi]||(i[Oi]=function(e){return i.handleEvent(e)}),i[Oi])}function mi(){Fe.call(this),this.i=new Dt(this),this.S=this,this.J=null}function Vn(i,e){var t,o=i.J;if(o)for(t=[];o;o=o.J)t.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new ge(e,i);else if(e instanceof ge)e.target=e.target||i;else{var u=e;Xe(e=new ge(o,i),u)}if(u=!0,t)for(var m=t.length-1;0<=m;m--){var b=e.g=t[m];u=Ye(b,o,!0,e)&&u}if(u=Ye(b=e.g=i,o,!0,e)&&u,u=Ye(b,o,!1,e)&&u,t)for(m=0;m<t.length;m++)u=Ye(b=e.g=t[m],o,!1,e)&&u}function Ye(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,m=0;m<e.length;++m){var b=e[m];if(b&&!b.fa&&b.capture==t){var B=b.listener,Q=b.la||b.src;b.ia&&lt(i.i,b),u=!1!==B.call(Q,o)&&u}}return u&&!o.defaultPrevented}ut(mi,Fe),mi.prototype[St]=!0,mi.prototype.removeEventListener=function(i,e,t,o){Jt(this,i,e,t,o)},mi.prototype.N=function(){if(mi.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Ln(t[o]);delete i.g[e],i.h--}}this.J=null},mi.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},mi.prototype.P=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Z=ne.JSON.stringify;function je(){var i=fe;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Tn=new class X{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ui,i=>i.reset());class ui{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rt(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function Qe(i){ne.setTimeout(()=>{throw i},0)}let pe,ve=!1,fe=new class Ft{constructor(){this.h=this.g=null}add(e,t){const o=Tn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},ft=()=>{const i=ne.Promise.resolve(void 0);pe=()=>{i.then($e)}};var $e=()=>{for(var i;i=je();){try{i.h.call(i.g)}catch(t){Qe(t)}var e=Tn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ve=!1};function le(i,e){mi.call(this),this.h=i||1,this.g=e||ne,this.j=nt(this.qb,this),this.l=Date.now()}function q(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function te(i,e,t){if("function"==typeof i)t&&(i=nt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=nt(i.handleEvent,i)}return 2147483647<Number(e)?-1:ne.setTimeout(i,e||0)}function Pe(i){i.g=te(()=>{i.g=null,i.i&&(i.i=!1,Pe(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ut(le,mi),(L=le.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vn(this,"tick"),this.ga&&(q(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){le.$.N.call(this),q(this),delete this.g};class st extends Fe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(i){Fe.call(this),this.h=i,this.g={}}ut($t,Fe);var ln=[];function Xn(i,e,t,o){Array.isArray(t)||(t&&(ln[0]=t.toString()),t=ln);for(var u=0;u<t.length;u++){var m=xt(e,t[u],o||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function Pi(i){Jn(i.g,function(e,t){this.g.hasOwnProperty(t)&&yt(e)},i),i.g={}}function Lt(){this.g=!0}function qn(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vi(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var m=u[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var b=1;b<u.length;b++)u[b]=""}}}return Z(t)}catch{return e}}(i,t)+(o?" "+o:"")})}$t.prototype.N=function(){$t.$.N.call(this),Pi(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lt.prototype.Ea=function(){this.g=!1},Lt.prototype.info=function(){};var Hn={},Vi=null;function Ii(){return Vi=Vi||new mi}function ji(i){ge.call(this,Hn.Ta,i)}function yr(i){const e=Ii();Vn(e,new ji(e))}function Ks(i,e){ge.call(this,Hn.STAT_EVENT,i),this.stat=e}function vr(i){const e=Ii();Vn(e,new Ks(e,i))}function gs(i,e){ge.call(this,Hn.Ua,i),this.size=e}function Ge(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){i()},e)}Hn.Ta="serverreachability",ut(ji,ge),Hn.STAT_EVENT="statevent",ut(Ks,ge),Hn.Ua="timingevent",ut(gs,ge);var ct={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},A={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Y(){}function Le(){}Y.prototype.h=null;var $i,qt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yn(){ge.call(this,"d")}function si(){ge.call(this,"c")}function Mr(){}function ti(i,e,t,o){this.l=i,this.j=e,this.m=t,this.W=o||1,this.U=new $t(this),this.P=xs,this.V=new le(i=xn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qr}function qr(){this.i=null,this.g="",this.h=!1}ut(Yn,ge),ut(si,ge),ut(Mr,Y),Mr.prototype.g=function(){return new XMLHttpRequest},Mr.prototype.i=function(){return{}},$i=new Mr;var xs=45e3,ao={},xr={};function Dr(i,e,t){i.L=1,i.v=Ts(bi(e)),i.s=t,i.S=!0,Ps(i,null)}function Ps(i,e){i.G=Date.now(),nr(i),i.A=bi(i.v);var t=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),bo(t.i,"t",o),i.C=0,t=i.l.J,i.h=new qr,i.g=ws(i.l,t?e:null,!i.s),0<i.O&&(i.M=new st(nt(i.Pa,i,i.g),i.O)),Xn(i.U,i.g,"readystatechange",i.nb),e=i.I?_t(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),yr(),function Nt(i,e,t,o,u,m){i.info(function(){if(i.g)if(m)for(var b="",B=m.split("&"),Q=0;Q<B.length;Q++){var ie=B[Q].split("=");if(1<ie.length){var De=ie[0];ie=ie[1];var dt=De.split("_");b=2<=dt.length&&"type"==dt[1]?b+(De+"=")+ie+"&":b+(De+"=redacted&")}}else b=null;else b=m;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+b})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Is(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Wr(i,e,t){let u,o=!0;for(;!i.J&&i.C<t.length;){if(u=Ys(i,t),u==xr){4==e&&(i.o=4,vr(14),o=!1),qn(i.j,i.m,null,"[Incomplete Response]");break}if(u==ao){i.o=4,vr(15),qn(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}qn(i.j,i.m,u,null),wt(i,u)}Is(i)&&u!=xr&&u!=ao&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,vr(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),or(e),e.M=!0,vr(11))):(qn(i.j,i.m,t,"[Invalid Chunked Response]"),It(i),_s(i))}function Ys(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?xr:(t=Number(e.substring(t,o)),isNaN(t)?ao:(o+=1)+t>e.length?xr:(e=e.slice(o,o+t),i.C=o+t,e))}function nr(i){i.Y=Date.now()+i.P,Bi(i,i.P)}function Bi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ge(nt(i.lb,i),e)}function Qr(i){i.B&&(ne.clearTimeout(i.B),i.B=null)}function _s(i){0==i.l.H||i.J||fo(i.l,i)}function It(i){Qr(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,q(i.V),Pi(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function wt(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||uo(t.i,i)))if(!i.K&&uo(t.i,i)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;Tr(t),Ct(t)}mr(t),vr(18)}}else t.Fa=u[1],0<t.Fa-t.V&&37500>u[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ge(nt(t.ib,t),6e3));if(1>=co(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else br(t,11)}else if((i.K||t.g==i)&&Tr(t),!jt(e))for(u=t.Ja.g.parse(e),e=0;e<u.length;e++){let ie=u[e];if(t.V=ie[0],ie=ie[1],2==t.H)if("c"==ie[0]){t.K=ie[1],t.pa=ie[2];const De=ie[3];null!=De&&(t.ra=De,t.l.info("VER="+t.ra));const dt=ie[4];null!=dt&&(t.Ga=dt,t.l.info("SVER="+t.Ga));const zt=ie[5];null!=zt&&"number"==typeof zt&&0<zt&&(t.L=o=1.5*zt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const an=i.g;if(an){const Fn=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var m=o.i;m.g||-1==Fn.indexOf("spdy")&&-1==Fn.indexOf("quic")&&-1==Fn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(Eo(m,m.h),m.h=null))}if(o.F){const ci=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;ci&&(o.Da=ci,qi(o.I,o.F,ci))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var b=i;if((o=t).wa=Nr(o,o.J?o.pa:null,o.Y),b.K){ko(o.i,b);var B=b,Q=o.L;Q&&B.setTimeout(Q),B.B&&(Qr(B),nr(B)),o.g=b}else Ir(o);0<t.j.length&&Et(t)}else"stop"!=ie[0]&&"close"!=ie[0]||br(t,7);else 3==t.H&&("stop"==ie[0]||"close"==ie[0]?"stop"==ie[0]?br(t,7):Te(t):"noop"!=ie[0]&&t.h&&t.h.Aa(ie),t.A=0)}yr()}catch{}}function mn(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(de(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function en(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(de(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Bt(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(de(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,m=0;m<u;m++)e.call(void 0,o[m],t&&t[m],i)}(L=ti.prototype).setTimeout=function(i){this.P=i},L.nb=function(i){i=i.target;const e=this.M;e&&3==Br(i)?e.l():this.Pa(i)},L.Pa=function(i){try{if(i==this.g)e:{const De=Br(this.g);var e=this.g.Ia();if(this.g.da(),!(3>De)&&(3!=De||xn||this.g&&(this.h.h||this.g.ja()||Ti(this.g)))){this.J||4!=De||7==e||yr(),Qr(this);var t=this.g.da();this.ca=t;t:if(Is(this)){var o=Ti(this.g);i="";var u=o.length,m=4==Br(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){It(this),_s(this);var b="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:m&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,b=this.h.g}else b=this.g.ja();if(this.i=200==t,function gn(i,e,t,o,u,m,b){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+m+" "+b})}(this.j,this.u,this.A,this.m,this.W,De,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var B,Q=this.g;if((B=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jt(B)){var ie=B;break t}}ie=null}if(!(t=ie)){this.i=!1,this.o=3,vr(12),It(this),_s(this);break e}qn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wt(this,t)}this.S?(Wr(this,De,b),xn&&this.i&&3==De&&(Xn(this.U,this.V,"tick",this.mb),this.V.start())):(qn(this.j,this.m,b,null),wt(this,b)),4==De&&It(this),this.i&&!this.J&&(4==De?fo(this.l,this):(this.i=!1,nr(this)))}else(function ia(i){const e={};i=(i.g&&2<=Br(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(jt(i[o]))continue;var t=rt(i[o]);const u=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const m=e[u]||[];e[u]=m,m.push(t)}!function Cn(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<b.indexOf("Unknown SID")?(this.o=3,vr(12)):(this.o=0,vr(13)),It(this),_s(this)}}}catch{}},L.mb=function(){if(this.g){var i=Br(this.g),e=this.g.ja();this.C<e.length&&(Qr(this),Wr(this,i,e),this.i&&4!=i&&nr(this))}},L.cancel=function(){this.J=!0,It(this)},L.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function ei(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(yr(),vr(17)),It(this),this.o=2,_s(this)):Bi(this,this.Y-i)};var li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gi(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof gi){this.h=i.h,Pr(this,i.j),this.s=i.s,this.g=i.g,ss(this,i.m),this.l=i.l;var e=i.i,t=new lo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Zi(this,t),this.o=i.o}else i&&(e=String(i).match(li))?(this.h=!1,Pr(this,e[1]||"",!0),this.s=Zs(e[2]||""),this.g=Zs(e[3]||"",!0),ss(this,e[4]),this.l=Zs(e[5]||"",!0),Zi(this,e[6]||"",!0),this.o=Zs(e[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}function bi(i){return new gi(i)}function Pr(i,e,t){i.j=t?Zs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ss(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Zi(i,e,t){e instanceof lo?(i.i=e,function wo(i,e){e&&!i.j&&(Ns(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Ro(this,o),bo(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Rr(e,Ga)),i.i=new lo(e,i.h))}function qi(i,e,t){i.i.set(e,t)}function Ts(i){return qi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Zs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Rr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Pa),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Pa(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}gi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Rr(e,vo,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Rr(e,vo,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Rr(t,"/"==t.charAt(0)?Go:$o,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Rr(t,is)),i.join("")};var vo=/[#\/\?@]/g,$o=/[#\?:]/g,Go=/[#\?]/g,Ga=/[#\?@]/g,is=/#/g;function lo(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ns(i){i.g||(i.g=new Map,i.h=0,i.i&&function pi(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var m=i[t].substring(0,o);u=i[t].substring(o+1)}else m=i[t];e(m,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ro(i,e){Ns(i),e=Wo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function qs(i,e){return Ns(i),e=Wo(i,e),i.g.has(e)}function bo(i,e,t){Ro(i,e),0<t.length&&(i.i=null,i.g.set(Wo(i,e),xe(t)),i.h+=t.length)}function Wo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Qs(i){this.l=i||Ss,i=ne.PerformanceNavigationTiming?0<(i=ne.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=lo.prototype).add=function(i,e){Ns(this),this.i=null,i=Wo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},L.forEach=function(i,e){Ns(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},L.ta=function(){Ns(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let m=0;m<u.length;m++)t.push(e[o])}return t},L.Z=function(i){Ns(this);let e=[];if("string"==typeof i)qs(this,i)&&(e=e.concat(this.g.get(Wo(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},L.set=function(i,e){return Ns(this),this.i=null,qs(this,i=Wo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},L.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const m=encodeURIComponent(String(o)),b=this.Z(o);for(o=0;o<b.length;o++){var u=m;""!==b[o]&&(u+="="+encodeURIComponent(String(b[o]))),i.push(u)}}return this.i=i.join("&")};var Ss=10;function ys(i){return!!i.h||!!i.g&&i.g.size>=i.j}function co(i){return i.h?1:i.g?i.g.size:0}function uo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Eo(i,e){i.g?i.g.add(e):i.h=e}function ko(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Wa(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return xe(i.i)}Qs.prototype.cancel=function(){if(this.i=Wa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Oo=class{stringify(i){return ne.JSON.stringify(i,void 0)}parse(i){return ne.JSON.parse(i,void 0)}};function no(){this.g=new Oo}function Po(i,e,t){const o=t||"";try{mn(i,function(u,m){let b=u;ye(u)&&(b=Z(u)),e.push(o+m+"="+encodeURIComponent(b))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Xr(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Fs(i){this.l=i.fc||null,this.j=i.ob||!1}function pr(i,e){mi.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(Fs,Y),Fs.prototype.g=function(){return new pr(this.l,this.j)},Fs.prototype.i=function(i){return function(){return i}}({}),ut(pr,mi);var ho=0;function rs(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function lr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Jr(i)}function Jr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(L=pr.prototype).open=function(i,e){if(this.readyState!=ho)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Jr(this)},L.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lr(this)),this.readyState=ho},L.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rs(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?lr(this):Jr(this),3==this.readyState&&rs(this)}},L.Za=function(i){this.g&&(this.response=this.responseText=i,lr(this))},L.Ya=function(i){this.g&&(this.response=i,lr(this))},L.ka=function(){this.g&&lr(this)},L.setRequestHeader=function(i,e){this.v.append(i,e)},L.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Co=ne.JSON.parse;function Ni(i){mi.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ka,this.L=this.M=!1}ut(Ni,mi);var Ka="",Do=/^https?$/i,es=["POST","PUT"];function io(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,os(i),vs(i)}function os(i){i.F||(i.F=!0,Vn(i,"complete"),Vn(i,"error"))}function Na(i){if(i.h&&typeof Oe<"u"&&(!i.C[1]||4!=Br(i)||2!=i.da()))if(i.v&&4==Br(i))te(i.La,0,i);else if(Vn(i,"readystatechange"),4==Br(i)){i.h=!1;try{const b=i.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===b){var u=String(i.I).match(li)[1]||null;!u&&ne.self&&ne.self.location&&(u=ne.self.location.protocol.slice(0,-1)),o=!Do.test(u?u.toLowerCase():"")}t=o}if(t)Vn(i,"complete"),Vn(i,"success");else{i.m=6;try{var m=2<Br(i)?i.g.statusText:""}catch{m=""}i.j=m+" ["+i.da()+"]",os(i)}}finally{vs(i)}}}function vs(i,e){if(i.g){Ls(i);const t=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Vn(i,"ready");try{t.onreadystatechange=o}catch{}}}function Ls(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ne.clearTimeout(i.A),i.A=null)}function Br(i){return i.g?i.g.readyState:0}function Ti(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Ka:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function D(i){let e="";return Jn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function E(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=D(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):qi(i,e,t))}function I(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function K(i){this.Ga=0,this.j=[],this.l=new Lt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=I("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=I("baseRetryDelayMs",5e3,i),this.hb=I("retryDelaySeedMs",1e4,i),this.eb=I("forwardChannelMaxRetries",2,i),this.xa=I("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Qs(i&&i.concurrentRequestLimit),this.Ja=new no,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Te(i){if(sn(i),3==i.H){var e=i.W++,t=bi(i.I);if(qi(t,"SID",i.K),qi(t,"RID",e),qi(t,"TYPE","terminate"),Fi(i,t),(e=new ti(i,i.l,e)).L=2,e.v=Ts(bi(t)),t=!1,ne.navigator&&ne.navigator.sendBeacon)try{t=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ne.Image&&((new Image).src=e.v,t=!0),t||(e.g=ws(e.l,null),e.g.ha(e.v)),e.G=Date.now(),nr(e)}Ji(i)}function Ct(i){i.g&&(or(i),i.g.cancel(),i.g=null)}function sn(i){Ct(i),i.u&&(ne.clearTimeout(i.u),i.u=null),Tr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ne.clearTimeout(i.m),i.m=null)}function Et(i){if(!ys(i.i)&&!i.m){i.m=!0;var e=i.Na;pe||ft(),ve||(pe(),ve=!0),fe.add(e,i),i.C=0}}function Si(i,e){var t;t=e?e.m:i.W++;const o=bi(i.I);qi(o,"SID",i.K),qi(o,"RID",t),qi(o,"AID",i.V),Fi(i,o),i.o&&i.s&&E(o,i.o,i.s),t=new ti(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Li(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Eo(i.i,t),Dr(t,o,e)}function Fi(i,e){i.na&&Jn(i.na,function(t,o){qi(e,o,t)}),i.h&&mn({},function(t,o){qi(e,o,t)})}function Li(i,e,t){t=Math.min(i.j.length,t);var o=i.h?nt(i.h.Va,i.h,i):null;e:{var u=i.j;let m=-1;for(;;){const b=["count="+t];-1==m?0<t?(m=u[0].g,b.push("ofs="+m)):m=0:b.push("ofs="+m);let B=!0;for(let Q=0;Q<t;Q++){let ie=u[Q].g;const De=u[Q].map;if(ie-=m,0>ie)m=Math.max(0,u[Q].g-100),B=!1;else try{Po(De,b,"req"+ie+"_")}catch{o&&o(De)}}if(B){o=b.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,o}function Ir(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;pe||ft(),ve||(pe(),ve=!0),fe.add(e,i),i.A=0}}function mr(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ge(nt(i.Ma,i),as(i,i.A)),i.A++,0))}function or(i){null!=i.B&&(ne.clearTimeout(i.B),i.B=null)}function bs(i){i.g=new ti(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=bi(i.wa);qi(e,"RID","rpc"),qi(e,"SID",i.K),qi(e,"AID",i.V),qi(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&qi(e,"TO",i.qa),qi(e,"TYPE","xmlhttp"),Fi(i,e),i.o&&i.s&&E(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=Ts(bi(e)),t.s=null,t.S=!0,Ps(t,i)}function Tr(i){null!=i.v&&(ne.clearTimeout(i.v),i.v=null)}function fo(i,e){var t=null;if(i.g==e){Tr(i),or(i),i.g=null;var o=2}else{if(!uo(i.i,e))return;t=e.F,ko(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Vn(o=Ii(),new gs(o,t)),Et(i)}else Ir(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function cn(i,e){return!(co(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ge(nt(i.Na,i,e),as(i,i.C)),i.C++,0)))}(i,e)||2==o&&mr(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:br(i,5);break;case 4:br(i,10);break;case 3:br(i,6);break;default:br(i,2)}}function as(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function br(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var o=nt(i.pb,i);t||(t=new gi("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||Pr(t,"https"),Ts(t)),function ba(i,e){const t=new Lt;if(ne.Image){const o=new Image;o.onload=Be(Xr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Be(Xr,t,o,"TestLoadImage: error",!1,e),o.onabort=Be(Xr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Be(Xr,t,o,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else vr(2);i.H=0,i.h&&i.h.za(e),Ji(i),sn(i)}function Ji(i){if(i.H=0,i.ma=[],i.h){const e=Wa(i.i);(0!=e.length||0!=i.j.length)&&(Ke(i.ma,e),Ke(i.ma,i.j),i.i.i.length=0,xe(i.j),i.j.length=0),i.h.ya()}}function Nr(i,e,t){var o=t instanceof gi?bi(t):new gi(t);if(""!=o.g)e&&(o.g=e+"."+o.g),ss(o,o.m);else{var u=ne.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var m=new gi(null);o&&Pr(m,o),e&&(m.g=e),u&&ss(m,u),t&&(m.l=t),o=m}return e=i.Da,(t=i.F)&&e&&qi(o,t,e),qi(o,"VER",i.ra),Fi(i,o),o}function ws(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ni(t&&i.Ha&&!i.va?new Fs({ob:!0}):i.va)).Oa(i.J),e}function As(){}function us(){if(An&&!(10<=Number(bn)))throw Error("Environmental error: no available transport.")}function Es(i,e){mi.call(this),this.g=new K(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!jt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ds(this)}function ra(i){Yn.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function nc(){si.call(this),this.status=1}function ds(i){this.g=i}function hs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xo(i,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(u=0;16>u;++u)o[u]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var m=i.g[3],b=(e=i.g[0])+(m^(t=i.g[1])&((u=i.g[2])^m))+o[0]+3614090360&4294967295;b=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=(t=(u=(m=(e=t+(b<<7&4294967295|b>>>25))+((b=m+(u^e&(t^u))+o[1]+3905402710&4294967295)<<12&4294967295|b>>>20))+((b=u+(t^m&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^u&(m^e))+o[3]+3250441966&4294967295)<<22&4294967295|b>>>10))+((b=e+(m^t&(u^m))+o[4]+4118548399&4294967295)<<7&4294967295|b>>>25))+((b=m+(u^e&(t^u))+o[5]+1200080426&4294967295)<<12&4294967295|b>>>20))+((b=u+(t^m&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^u&(m^e))+o[7]+4249261313&4294967295)<<22&4294967295|b>>>10))+((b=e+(m^t&(u^m))+o[8]+1770035416&4294967295)<<7&4294967295|b>>>25))+((b=m+(u^e&(t^u))+o[9]+2336552879&4294967295)<<12&4294967295|b>>>20))+((b=u+(t^m&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^u&(m^e))+o[11]+2304563134&4294967295)<<22&4294967295|b>>>10))+((b=e+(m^t&(u^m))+o[12]+1804603682&4294967295)<<7&4294967295|b>>>25))+((b=m+(u^e&(t^u))+o[13]+4254626195&4294967295)<<12&4294967295|b>>>20))+((b=u+(t^m&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|b>>>15))+((b=t+(e^u&(m^e))+o[15]+1236535329&4294967295)<<22&4294967295|b>>>10))+((b=e+(u^m&(t^u))+o[1]+4129170786&4294967295)<<5&4294967295|b>>>27))+((b=m+(t^u&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|b>>>23))+((b=u+(e^t&(m^e))+o[11]+643717713&4294967295)<<14&4294967295|b>>>18))+((b=t+(m^e&(u^m))+o[0]+3921069994&4294967295)<<20&4294967295|b>>>12))+((b=e+(u^m&(t^u))+o[5]+3593408605&4294967295)<<5&4294967295|b>>>27))+((b=m+(t^u&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|b>>>23))+((b=u+(e^t&(m^e))+o[15]+3634488961&4294967295)<<14&4294967295|b>>>18))+((b=t+(m^e&(u^m))+o[4]+3889429448&4294967295)<<20&4294967295|b>>>12))+((b=e+(u^m&(t^u))+o[9]+568446438&4294967295)<<5&4294967295|b>>>27))+((b=m+(t^u&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|b>>>23))+((b=u+(e^t&(m^e))+o[3]+4107603335&4294967295)<<14&4294967295|b>>>18))+((b=t+(m^e&(u^m))+o[8]+1163531501&4294967295)<<20&4294967295|b>>>12))+((b=e+(u^m&(t^u))+o[13]+2850285829&4294967295)<<5&4294967295|b>>>27))+((b=m+(t^u&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|b>>>23))+((b=u+(e^t&(m^e))+o[7]+1735328473&4294967295)<<14&4294967295|b>>>18))+((b=t+(m^e&(u^m))+o[12]+2368359562&4294967295)<<20&4294967295|b>>>12))+((b=e+(t^u^m)+o[5]+4294588738&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^t^u)+o[8]+2272392833&4294967295)<<11&4294967295|b>>>21))+((b=u+(m^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|b>>>16))+((b=t+(u^m^e)+o[14]+4259657740&4294967295)<<23&4294967295|b>>>9))+((b=e+(t^u^m)+o[1]+2763975236&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^t^u)+o[4]+1272893353&4294967295)<<11&4294967295|b>>>21))+((b=u+(m^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|b>>>16))+((b=t+(u^m^e)+o[10]+3200236656&4294967295)<<23&4294967295|b>>>9))+((b=e+(t^u^m)+o[13]+681279174&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^t^u)+o[0]+3936430074&4294967295)<<11&4294967295|b>>>21))+((b=u+(m^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|b>>>16))+((b=t+(u^m^e)+o[6]+76029189&4294967295)<<23&4294967295|b>>>9))+((b=e+(t^u^m)+o[9]+3654602809&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^t^u)+o[12]+3873151461&4294967295)<<11&4294967295|b>>>21))+((b=u+(m^e^t)+o[15]+530742520&4294967295)<<16&4294967295|b>>>16))+((b=t+(u^m^e)+o[2]+3299628645&4294967295)<<23&4294967295|b>>>9))+((b=e+(u^(t|~m))+o[0]+4096336452&4294967295)<<6&4294967295|b>>>26))+((b=m+(t^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|b>>>22))+((b=u+(e^(m|~t))+o[14]+2878612391&4294967295)<<15&4294967295|b>>>17))+((b=t+(m^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|b>>>11))+((b=e+(u^(t|~m))+o[12]+1700485571&4294967295)<<6&4294967295|b>>>26))+((b=m+(t^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|b>>>22))+((b=u+(e^(m|~t))+o[10]+4293915773&4294967295)<<15&4294967295|b>>>17))+((b=t+(m^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|b>>>11))+((b=e+(u^(t|~m))+o[8]+1873313359&4294967295)<<6&4294967295|b>>>26))+((b=m+(t^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|b>>>22))+((b=u+(e^(m|~t))+o[6]+2734768916&4294967295)<<15&4294967295|b>>>17))+((b=t+(m^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|b>>>11))+((m=(e=t+((b=e+(u^(t|~m))+o[4]+4149444226&4294967295)<<6&4294967295|b>>>26))+((b=m+(t^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|b>>>22))^((u=m+((b=u+(e^(m|~t))+o[2]+718787259&4294967295)<<15&4294967295|b>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(b<<21&4294967295|b>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+m&4294967295}function dr(i,e){this.h=e;for(var t=[],o=!0,u=i.length-1;0<=u;u--){var m=0|i[u];o&&m==e||(t[u]=m,o=!1)}this.g=t}(L=Ni.prototype).Oa=function(i){this.M=i},L.ha=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$i.g(),this.C=function ue(i){return i.h||(i.h=i.i())}(this.u?this.u:$i),this.g.onreadystatechange=nt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(m){return void io(this,m)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const m of o.keys())t.set(m,o.get(m))}o=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),u=ne.FormData&&i instanceof ne.FormData,!(0<=Re(es,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,b]of t)this.g.setRequestHeader(m,b);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ls(this),0<this.B&&((this.L=function Vr(i){return An&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nt(this.ua,this)):this.A=te(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){io(this,m)}},L.ua=function(){typeof Oe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vn(this,"timeout"),this.abort(8))},L.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Vn(this,"complete"),Vn(this,"abort"),vs(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vs(this,!0)),Ni.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?Na(this):this.kb())},L.kb=function(){Na(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Co(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=K.prototype).ra=8,L.H=1,L.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new ti(this,this.l,i);let m=this.s;if(this.U&&(m?(m=_t(m),Xe(m,this.U)):m=this.U),null!==this.o||this.O||(u.I=m,m=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Li(this,u,e),qi(t=bi(this.I),"RID",i),qi(t,"CVER",22),this.F&&qi(t,"X-HTTP-Session-Id",this.F),Fi(this,t),m&&(this.O?e="headers="+encodeURIComponent(String(D(m)))+"&"+e:this.o&&E(t,this.o,m)),Eo(this.i,u),this.bb&&qi(t,"TYPE","init"),this.P?(qi(t,"$req",e),qi(t,"SID","null"),u.aa=!0,Dr(u,t,null)):Dr(u,t,e),this.H=2}}else 3==this.H&&(i?Si(this,i):0==this.j.length||ys(this.i)||Si(this))},L.Ma=function(){if(this.u=null,bs(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ge(nt(this.jb,this),i)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vr(10),Ct(this),bs(this))},L.ib=function(){null!=this.v&&(this.v=null,Ct(this),mr(this),vr(19))},L.pb=function(i){i?(this.l.info("Successfully pinged google.com"),vr(2)):(this.l.info("Failed to ping google.com"),vr(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=As.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},us.prototype.g=function(i,e){return new Es(i,e)},ut(Es,mi),Es.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;vr(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=Nr(i,null,i.Y),Et(i)},Es.prototype.close=function(){Te(this.g)},Es.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Z(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Et(e)},Es.prototype.N=function(){this.g.h=null,delete this.j,Te(this.g),delete this.g,Es.$.N.call(this)},ut(ra,Yn),ut(nc,si),ut(ds,As),ds.prototype.Ba=function(){Vn(this.g,"a")},ds.prototype.Aa=function(i){Vn(this.g,new ra(i))},ds.prototype.za=function(i){Vn(this.g,new nc)},ds.prototype.ya=function(){Vn(this.g,"b")},ut(hs,function Ur(){this.blockSize=-1}),hs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hs.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,o=this.m,u=this.h,m=0;m<e;){if(0==u)for(;m<=t;)xo(this,i,m),m+=this.blockSize;if("string"==typeof i){for(;m<e;)if(o[u++]=i.charCodeAt(m++),u==this.blockSize){xo(this,o),u=0;break}}else for(;m<e;)if(o[u++]=i[m++],u==this.blockSize){xo(this,o),u=0;break}}this.h=u,this.i+=e},hs.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)i[t++]=this.g[e]>>>o&255;return i};var yl={};function Ko(i){return-128<=i&&128>i?function hi(i,e){var t=yl;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new dr([0|e],0>e?-1:0)}):new dr([0|i],0>i?-1:0)}function Vs(i){if(isNaN(i)||!isFinite(i))return wa;if(0>i)return ir(Vs(-i));for(var e=[],t=1,o=0;i>=t;o++)e[o]=i/t|0,t*=Yo;return new dr(e,0)}var Yo=4294967296,wa=Ko(0),Fa=Ko(1),Rl=Ko(16777216);function po(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Hr(i){return-1==i.h}function ir(i){for(var e=i.g.length,t=[],o=0;o<e;o++)t[o]=~i.g[o];return new dr(t,~i.h).add(Fa)}function mo(i,e){return i.add(ir(e))}function Sr(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Ea(i,e){this.g=i,this.h=e}function sa(i,e){if(po(e))throw Error("division by zero");if(po(i))return new Ea(wa,wa);if(Hr(i))return e=sa(ir(i),e),new Ea(ir(e.g),ir(e.h));if(Hr(e))return e=sa(i,ir(e)),new Ea(ir(e.g),e.h);if(30<i.g.length){if(Hr(i)||Hr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Fa,o=e;0>=o.X(i);)t=Ya(t),o=Ya(o);var u=oa(t,1),m=oa(o,1);for(o=oa(o,2),t=oa(t,2);!po(o);){var b=m.add(o);0>=b.X(i)&&(u=u.add(t),m=b),o=oa(o,1),t=oa(t,1)}return e=mo(i,u.R(e)),new Ea(u,e)}for(u=wa;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),b=(m=Vs(t)).R(e);Hr(b)||0<b.X(i);)b=(m=Vs(t-=o)).R(e);po(m)&&(m=Fa),u=u.add(m),i=mo(i,b)}return new Ea(u,i)}function Ya(i){for(var e=i.g.length+1,t=[],o=0;o<e;o++)t[o]=i.D(o)<<1|i.D(o-1)>>>31;return new dr(t,i.h)}function oa(i,e){var t=e>>5;e%=32;for(var o=i.g.length-t,u=[],m=0;m<o;m++)u[m]=0<e?i.D(m+t)>>>e|i.D(m+t+1)<<32-e:i.D(m+t);return new dr(u,i.h)}(L=dr.prototype).ea=function(){if(Hr(this))return-ir(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);i+=(0<=o?o:Yo+o)*e,e*=Yo}return i},L.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(po(this))return"0";if(Hr(this))return"-"+ir(this).toString(i);for(var e=Vs(Math.pow(i,6)),t=this,o="";;){var u=sa(t,e).g,m=((0<(t=mo(t,u.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(po(t=u))return m+o;for(;6>m.length;)m="0"+m;o=m+o}},L.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},L.X=function(i){return Hr(i=mo(this,i))?-1:po(i)?0:1},L.abs=function(){return Hr(this)?ir(this):this},L.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0,u=0;u<=e;u++){var m=o+(65535&this.D(u))+(65535&i.D(u)),b=(m>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=b>>>16,t[u]=(b&=65535)<<16|(m&=65535)}return new dr(t,-2147483648&t[t.length-1]?-1:0)},L.R=function(i){if(po(this)||po(i))return wa;if(Hr(this))return Hr(i)?ir(this).R(ir(i)):ir(ir(this).R(i));if(Hr(i))return ir(this.R(ir(i)));if(0>this.X(Rl)&&0>i.X(Rl))return Vs(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var m=this.D(o)>>>16,b=65535&this.D(o),B=i.D(u)>>>16,Q=65535&i.D(u);t[2*o+2*u]+=b*Q,Sr(t,2*o+2*u),t[2*o+2*u+1]+=m*Q,Sr(t,2*o+2*u+1),t[2*o+2*u+1]+=b*B,Sr(t,2*o+2*u+1),t[2*o+2*u+2]+=m*B,Sr(t,2*o+2*u+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new dr(t,0)},L.gb=function(i){return sa(this,i).h},L.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&i.D(o);return new dr(t,this.h&i.h)},L.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|i.D(o);return new dr(t,this.h|i.h)},L.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^i.D(o);return new dr(t,this.h^i.h)},us.prototype.createWebChannel=us.prototype.g,Es.prototype.send=Es.prototype.u,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,A.COMPLETE="complete",Le.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",mi.prototype.listen=mi.prototype.O,Ni.prototype.listenOnce=Ni.prototype.P,Ni.prototype.getLastError=Ni.prototype.Sa,Ni.prototype.getLastErrorCode=Ni.prototype.Ia,Ni.prototype.getStatus=Ni.prototype.da,Ni.prototype.getResponseJson=Ni.prototype.Wa,Ni.prototype.getResponseText=Ni.prototype.ja,Ni.prototype.send=Ni.prototype.ha,Ni.prototype.setWithCredentials=Ni.prototype.Oa,hs.prototype.digest=hs.prototype.l,hs.prototype.reset=hs.prototype.reset,hs.prototype.update=hs.prototype.j,dr.prototype.add=dr.prototype.add,dr.prototype.multiply=dr.prototype.R,dr.prototype.modulo=dr.prototype.gb,dr.prototype.compare=dr.prototype.X,dr.prototype.toNumber=dr.prototype.ea,dr.prototype.toString=dr.prototype.toString,dr.prototype.getBits=dr.prototype.D,dr.fromNumber=Vs,dr.fromString=function Ml(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return ir(Ml(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Vs(Math.pow(e,8)),o=wa,u=0;u<i.length;u+=8){var m=Math.min(8,i.length-u),b=parseInt(i.substring(u,u+m),e);8>m?(m=Vs(Math.pow(e,m)),o=o.R(m).add(Vs(b))):o=(o=o.R(t)).add(Vs(b))}return o};var bc=He.createWebChannelTransport=function(){return new us},jc=He.getStatEventTarget=function(){return Ii()},aa=He.ErrorCode=ct,wc=He.EventType=A,kl=He.Event=Hn,H=He.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},se=He.FetchXmlHttpFactory=Fs,G=He.WebChannel=Le,_e=He.XhrIo=Ni,it=He.Md5=hs,Yt=He.Integer=dr;const dn="@firebase/firestore";class zn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");let ar="9.23.0";const Ui=new ce.Yd("@firebase/firestore");function Qi(){return Ui.logLevel}function Gi(i){Ui.setLogLevel(i)}function hn(i,...e){if(Ui.logLevel<=ce.in.DEBUG){const t=e.map(Ms);Ui.debug(`Firestore (${ar}): ${i}`,...t)}}function Ai(i,...e){if(Ui.logLevel<=ce.in.ERROR){const t=e.map(Ms);Ui.error(`Firestore (${ar}): ${i}`,...t)}}function gr(i,...e){if(Ui.logLevel<=ce.in.WARN){const t=e.map(Ms);Ui.warn(`Firestore (${ar}): ${i}`,...t)}}function Ms(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Bn(i="Unexpected state"){const e=`FIRESTORE (${ar}) INTERNAL ASSERTION FAILED: `+i;throw Ai(e),new Error(e)}function oi(i,e){i||Bn()}function Bs(i,e){i||Bn()}function Pn(i,e){return i}const Gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends S.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Zo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ad{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zn.UNAUTHENTICATED))}shutdown(){}}class zc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ol{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const m=ie=>this.i!==u?(u=this.i,t(ie)):Promise.resolve();let b=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new fs,e.enqueueRetryable(()=>m(this.currentUser))};const B=()=>{const ie=b;e.enqueueRetryable((0,f.Z)(function*(){yield ie.promise,yield m(o.currentUser)}))},Q=ie=>{hn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ie,this.auth.addAuthTokenListener(this.o),B()};this.t.onInit(ie=>Q(ie)),setTimeout(()=>{if(!this.auth){const ie=this.t.getImmediate({optional:!0});ie?Q(ie):(hn("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new fs)}},0),B()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(hn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(oi("string"==typeof o.accessToken),new Zo(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return oi(null===e||"string"==typeof e),new zn(e)}}class vl{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qo{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new vl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ld{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ec{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=m=>{null!=m.error&&hn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const b=m.token!==this.T;return this.T=m.token,hn("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const u=m=>{hn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>u(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?u(m):hn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(oi("string"==typeof t.token),this.T=t.token,new ld(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mu(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Fr{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=mu(40);for(let m=0;m<u.length;++m)o.length<20&&u[m]<t&&(o+=e.charAt(u[m]%e.length))}return o}}function Ri(i,e){return i<e?-1:i>e?1:0}function Za(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function Cc(i){return i+"\0"}class jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new jr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ri(this.nanoseconds,e.nanoseconds):Ri(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wi(e)}static min(){return new wi(new jr(0,0))}static max(){return new wi(new jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qa{constructor(e,t,o){void 0===t?t=0:t>e.length&&Bn(),void 0===o?o=e.length-t:o>e.length-t&&Bn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===qa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qa?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const m=e.get(u),b=t.get(u);if(m<b)return-1;if(m>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yi extends qa{construct(e,t,o){return new yi(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new _n(Gt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new yi(t)}static emptyPath(){return new yi([])}}const Dc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends qa{construct(e,t,o){return new Di(e,t,o)}static isValidIdentifier(e){return Dc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const m=()=>{if(0===o.length)throw new _n(Gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let b=!1;for(;u<e.length;){const B=e[u];if("\\"===B){if(u+1===e.length)throw new _n(Gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Q=e[u+1];if("\\"!==Q&&"."!==Q&&"`"!==Q)throw new _n(Gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=Q,u+=2}else"`"===B?(b=!b,u++):"."!==B||b?(o+=B,u++):(m(),u++)}if(m(),b)throw new _n(Gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(t)}static emptyPath(){return new Di([])}}class Zn{constructor(e){this.path=e}static fromPath(e){return new Zn(yi.fromString(e))}static fromName(e){return new Zn(yi.fromString(e).popFirst(5))}static empty(){return new Zn(yi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zn(new yi(e.slice()))}}class ro{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function Qa(i){return i.fields.find(e=>2===e.kind)}function Io(i){return i.fields.filter(e=>2!==e.kind)}ro.UNKNOWN_ID=-1;class Xa{constructor(e,t){this.fieldPath=e,this.kind=t}}class Da{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Da(0,Cs.min())}}function el(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=wi.fromTimestamp(1e9===o?new jr(t+1,0):new jr(t,o));return new Cs(u,Zn.empty(),e)}function la(i){return new Cs(i.readTime,i.key,-1)}class Cs{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Cs(wi.min(),Zn.empty(),-1)}static max(){return new Cs(wi.max(),Zn.empty(),-1)}}function ca(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Zn.comparator(i.documentKey,e.documentKey),0!==t?t:Ri(i.largestBatchId,e.largestBatchId))}const xa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ia{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ua(i){return da.apply(this,arguments)}function da(){return da=(0,f.Z)(function*(i){if(i.code!==Gt.FAILED_PRECONDITION||i.message!==xa)throw i;hn("LocalStore","Unexpectedly lost primary lease")}),da.apply(this,arguments)}class Ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ut((o,u)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,u)},this.catchCallback=m=>{this.wrapFailure(t,m).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ut?t:Ut.resolve(t)}catch(t){return Ut.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ut.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ut.reject(t)}static resolve(e){return new Ut((t,o)=>{t(e)})}static reject(e){return new Ut((t,o)=>{o(e)})}static waitFor(e){return new Ut((t,o)=>{let u=0,m=0,b=!1;e.forEach(B=>{++u,B.next(()=>{++m,b&&m===u&&t()},Q=>o(Q))}),b=!0,m===u&&t()})}static or(e){let t=Ut.resolve(!1);for(const o of e)t=t.next(u=>u?Ut.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,m)=>{o.push(t.call(this,u,m))}),this.waitFor(o)}static mapArray(e,t){return new Ut((o,u)=>{const m=e.length,b=new Array(m);let B=0;for(let Q=0;Q<m;Q++){const ie=Q;t(e[ie]).next(De=>{b[ie]=De,++B,B===m&&o(b)},De=>u(De))}})}static doWhile(e,t){return new Ut((o,u)=>{const m=()=>{!0===e()?t().next(()=>{m()},u):o()};m()})}}class bl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new fs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Kr(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const u=Ta(o.target.error);this.v.reject(new Kr(e,u))}}static open(e,t,o,u){try{return new bl(t,e.transaction(u,o))}catch(m){throw new Kr(t,m)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(hn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pl(t)}}class rr{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===rr.S((0,S.z$)())&&Ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return hn("SimpleDb","Removing database:",e),tl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,S.hl)())return!1;if(rr.C())return!0;const e=(0,S.z$)(),t=rr.S(e),o=0<t&&t<10,u=rr.N(e),m=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,f.Z)(function*(){return t.db||(hn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=b=>{o(b.target.result)},m.onblocked=()=>{u(new Kr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=b=>{const B=b.target.error;u("VersionError"===B.name?new _n(Gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===B.name?new _n(Gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+B):new Kr(e,B))},m.onupgradeneeded=b=>{hn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.V.O(b.target.result,m.transaction,b.oldVersion,t.version).next(()=>{hn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var m=this;return(0,f.Z)(function*(){const b="readonly"===t;let B=0;for(;;){++B;try{m.db=yield m.$(e);const Q=bl.open(m.db,e,b?"readonly":"readwrite",o),ie=u(Q).next(De=>(Q.P(),De)).catch(De=>(Q.abort(De),Ut.reject(De))).toPromise();return ie.catch(()=>{}),yield Q.R,ie}catch(Q){const ie=Q,De="FirebaseError"!==ie.name&&B<3;if(hn("SimpleDb","Transaction failed with error:",ie.message,"Retrying:",De),m.close(),!De)return Promise.reject(ie)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ha{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return tl(this.L.delete())}}class Kr extends _n{constructor(e,t){super(Gt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wl(i){return"IndexedDbTransactionError"===i.name}class Pl{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(hn("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(hn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),tl(o)}add(e){return hn("SimpleDb","ADD",this.store.name,e,e),tl(this.store.add(e))}get(e){return tl(this.store.get(e)).next(t=>(void 0===t&&(t=null),hn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return hn("SimpleDb","DELETE",this.store.name,e),tl(this.store.delete(e))}count(){return hn("SimpleDb","COUNT",this.store.name),tl(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),m=[];return this.W(u,(b,B)=>{m.push(B)}).next(()=>m)}{const u=this.store.getAll(o.range);return new Ut((m,b)=>{u.onerror=B=>{b(B.target.error)},u.onsuccess=B=>{m(B.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Ut((u,m)=>{o.onerror=b=>{m(b.target.error)},o.onsuccess=b=>{u(b.target.result)}})}J(e,t){hn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const u=this.cursor(o);return this.W(u,(m,b,B)=>B.delete())}X(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.W(u,t)}Z(e){const t=this.cursor({});return new Ut((o,u)=>{t.onerror=m=>{const b=Ta(m.target.error);u(b)},t.onsuccess=m=>{const b=m.target.result;b?e(b.primaryKey,b.value).next(B=>{B?b.continue():o()}):o()}})}W(e,t){const o=[];return new Ut((u,m)=>{e.onerror=b=>{m(b.target.error)},e.onsuccess=b=>{const B=b.target.result;if(!B)return void u();const Q=new ha(B),ie=t(B.primaryKey,B.value,Q);if(ie instanceof Ut){const De=ie.catch(dt=>(Q.done(),Ut.reject(dt)));o.push(De)}Q.isDone?u():null===Q.K?B.continue():B.continue(Q.K)}}).next(()=>Ut.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tl(i){return new Ut((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Ta(o.target.error);t(u)}})}let nl=!1;function Ta(i){const e=rr.S((0,S.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new _n("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nl||(nl=!0,setTimeout(()=>{throw o},0)),o}}return i}class No{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;hn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){t.task=null;try{hn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){wl(o)?hn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield ua(o)}yield t.et(6e4)}))}}class Gd{constructor(e,t){this.localStore=e,this.persistence=t}nt(){var e=this;return(0,f.Z)(function*(t=50){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>e.st(o,t))}).apply(this,arguments)}st(e,t){const o=new Set;let u=t,m=!0;return Ut.doWhile(()=>!0===m&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return hn("IndexBackiller",`Processing collection: ${b}`),this.it(e,b,u).next(B=>{u-=B,o.add(b)});m=!1})).next(()=>t-u)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(m=>{const b=m.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.rt(u,m)).next(B=>(hn("IndexBackiller",`Updating offset: ${B}`),this.localStore.indexManager.updateCollectionGroup(e,t,B))).next(()=>b.size)}))}rt(e,t){let o=e;return t.changes.forEach((u,m)=>{const b=la(m);ca(b,o)>0&&(o=b)}),new Cs(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Us=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function zr(i){return null==i}function Sa(i){return 0===i&&1/i==-1/0}function ts(i){return"number"==typeof i&&Number.isInteger(i)&&!Sa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Rs(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=R(e)),e=Fo(i.get(t),e);return R(e)}function Fo(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const m=i.charAt(u);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function R(i){return i+"\x01\x01"}function N(i){const e=i.length;if(oi(e>=2),2===e)return oi("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),yi.emptyPath();const t=e-2,o=[];let u="";for(let m=0;m<e;){const b=i.indexOf("\x01",m);switch((b<0||b>t)&&Bn(),i.charAt(b+1)){case"\x01":const B=i.substring(m,b);let Q;0===u.length?Q=B:(u+=B,Q=u,u=""),o.push(Q);break;case"\x10":u+=i.substring(m,b),u+="\0";break;case"\x11":u+=i.substring(m,b+1);break;default:Bn()}m=b+2}return new yi(o)}const x=["userId","batchId"];function j(i,e){return[i,Rs(e)]}function J(i,e,t){return[i,Rs(e),t]}const me={},Se=["prefixPath","collectionGroup","readTime","documentId"],Pt=["prefixPath","collectionGroup","documentId"],tn=["collectionGroup","readTime","prefixPath","documentId"],Qn=["canonicalId","targetId"],ni=["targetId","path"],Wi=["path","targetId"],ns=["collectionId","parent"],Hs=["indexId","uid"],fa=["uid","sequenceNumber"],La=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xs=["indexId","uid","orderedDocumentKey"],$c=["userId","collectionPath","documentId"],ic=["userId","collectionPath","largestBatchId"],Lo=["userId","collectionGroup","largestBatchId"],Va=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gu=[...Va,"documentOverlays"],El=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Gc=El,xc=[...Gc,"indexConfiguration","indexState","indexEntries"];class Ic extends Ia{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Js(i,e){const t=Pn(i);return rr.M(t.ht,e)}function Qo(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Aa(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function _u(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class kr{constructor(e,t){this.comparator=e,this.root=t||ls.EMPTY}insert(e,t){return new kr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?o(e.key,t):1,t&&u&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ls{constructor(e,t,o,u,m){this.key=e,this.value=t,this.color=o??ls.RED,this.left=u??ls.EMPTY,this.right=m??ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,m){return new ls(e??this.key,t??this.value,o??this.color,u??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const m=o(e,u.key);return u=m<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===m?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return ls.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bn();const e=this.left.check();if(e!==this.right.check())throw Bn();return e+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1,ls.EMPTY=new class{constructor(){this.size=0}get key(){throw Bn()}get value(){throw Bn()}get color(){throw Bn()}get left(){throw Bn()}get right(){throw Bn()}copy(i,e,t,o,u){return this}insert(i,e,t){return new ls(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $r{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wd(this.data.getIterator())}getIteratorFrom(e){return new Wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,m=o.getNext().key;if(0!==this.comparator(u,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $r(this.comparator);return t.data=e,t}}class Wd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tc(i){return i.hasNext()?i.getNext():void 0}class To{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new To([])}unionWith(e){let t=new $r(Di.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new To(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class yu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Kd(){return typeof atob<"u"}class ks{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new yu("Invalid base64 string: "+u):u}}(e);return new ks(t)}static fromUint8Array(e){const t=function(o){let u="";for(let m=0;m<o.length;++m)u+=String.fromCharCode(o[m]);return u}(e);return new ks(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ri(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ks.EMPTY_BYTE_STRING=new ks("");const jh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nl(i){if(oi(!!i),"string"==typeof i){let e=0;const t=jh.exec(i);if(oi(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Yr(i.seconds),nanos:Yr(i.nanos)}}function Yr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function il(i){return"string"==typeof i?ks.fromBase64String(i):ks.fromUint8Array(i)}function Kc(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rc(i){const e=i.mapValue.fields.__previous_value__;return Kc(e)?rc(e):e}function vu(i){const e=Nl(i.mapValue.fields.__local_write_time__.timestampValue);return new jr(e.seconds,e.nanos)}class bu{constructor(e,t,o,u,m,b,B,Q,ie){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=m,this.forceLongPolling=b,this.autoDetectLongPolling=B,this.longPollingOptions=Q,this.useFetchStreams=ie}}class rl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}const go={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sc={nullValue:"NULL_VALUE"};function Xo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kc(i)?4:Ma(i)?9007199254740991:10:Bn()}function Ba(i,e){if(i===e)return!0;const t=Xo(i);if(t!==Xo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return vu(i).isEqual(vu(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const m=Nl(o.timestampValue),b=Nl(u.timestampValue);return m.seconds===b.seconds&&m.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,il(i.bytesValue).isEqual(il(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Yr(o.geoPointValue.latitude)===Yr(u.geoPointValue.latitude)&&Yr(o.geoPointValue.longitude)===Yr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Yr(o.integerValue)===Yr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const m=Yr(o.doubleValue),b=Yr(u.doubleValue);return m===b?Sa(m)===Sa(b):isNaN(m)&&isNaN(b)}return!1}(i,e);case 9:return Za(i.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:return function(o,u){const m=o.mapValue.fields||{},b=u.mapValue.fields||{};if(Qo(m)!==Qo(b))return!1;for(const B in m)if(m.hasOwnProperty(B)&&(void 0===b[B]||!Ba(m[B],b[B])))return!1;return!0}(i,e);default:return Bn()}var u}function sl(i,e){return void 0!==(i.values||[]).find(t=>Ba(t,e))}function so(i,e){if(i===e)return 0;const t=Xo(i),o=Xo(e);if(t!==o)return Ri(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ri(i.booleanValue,e.booleanValue);case 2:return function(u,m){const b=Yr(u.integerValue||u.doubleValue),B=Yr(m.integerValue||m.doubleValue);return b<B?-1:b>B?1:b===B?0:isNaN(b)?isNaN(B)?0:-1:1}(i,e);case 3:return Yc(i.timestampValue,e.timestampValue);case 4:return Yc(vu(i),vu(e));case 5:return Ri(i.stringValue,e.stringValue);case 6:return function(u,m){const b=il(u),B=il(m);return b.compareTo(B)}(i.bytesValue,e.bytesValue);case 7:return function(u,m){const b=u.split("/"),B=m.split("/");for(let Q=0;Q<b.length&&Q<B.length;Q++){const ie=Ri(b[Q],B[Q]);if(0!==ie)return ie}return Ri(b.length,B.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,m){const b=Ri(Yr(u.latitude),Yr(m.latitude));return 0!==b?b:Ri(Yr(u.longitude),Yr(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,m){const b=u.values||[],B=m.values||[];for(let Q=0;Q<b.length&&Q<B.length;++Q){const ie=so(b[Q],B[Q]);if(ie)return ie}return Ri(b.length,B.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,m){if(u===go.mapValue&&m===go.mapValue)return 0;if(u===go.mapValue)return 1;if(m===go.mapValue)return-1;const b=u.fields||{},B=Object.keys(b),Q=m.fields||{},ie=Object.keys(Q);B.sort(),ie.sort();for(let De=0;De<B.length&&De<ie.length;++De){const dt=Ri(B[De],ie[De]);if(0!==dt)return dt;const zt=so(b[B[De]],Q[ie[De]]);if(0!==zt)return zt}return Ri(B.length,ie.length)}(i.mapValue,e.mapValue);default:throw Bn()}}function Yc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ri(i,e);const t=Nl(i),o=Nl(e),u=Ri(t.seconds,o.seconds);return 0!==u?u:Ri(t.nanos,o.nanos)}function oc(i){return Zc(i)}function Zc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Nl(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?il(i.bytesValue).toBase64():"referenceValue"in i?Zn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",m=!0;for(const b of o.values||[])m?m=!1:u+=",",u+=Zc(b);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let m="{",b=!0;for(const B of u)b?b=!1:m+=",",m+=`${B}:${Zc(o.fields[B])}`;return m+"}"}(i.mapValue):Bn();var e}function qc(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Eu(i){return!!i&&"integerValue"in i}function ac(i){return!!i&&"arrayValue"in i}function Sc(i){return!!i&&"nullValue"in i}function Cl(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ac(i){return!!i&&"mapValue"in i}function Fl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Aa(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Fl(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Ma(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ua(i){return"nullValue"in i?sc:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?qc(rl.empty(),Zn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Bn()}function Yd(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?qc(rl.empty(),Zn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?go:Bn()}function Ll(i,e){const t=so(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Cu(i,e){const t=so(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class eo{constructor(e){this.value=e}static empty(){return new eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ac(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(t)}setAll(e){let t=Di.emptyPath(),o={},u=[];e.forEach((b,B)=>{if(!t.isImmediateParentOf(B)){const Q=this.getFieldsMap(t);this.applyChanges(Q,o,u),o={},u=[],t=B.popLast()}b?o[B.lastSegment()]=Fl(b):u.push(B.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,o,u)}delete(e){const t=this.field(e.popLast());Ac(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Ac(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Aa(t,(u,m)=>e[u]=m);for(const u of o)delete e[u]}clone(){return new eo(Fl(this.value))}}function Du(i){const e=[];return Aa(i.fields,(t,o)=>{const u=new Di([t]);if(Ac(o)){const m=Du(o.mapValue).fields;if(0===m.length)e.push(u);else for(const b of m)e.push(u.child(b))}else e.push(u)}),new To(e)}class Gr{constructor(e,t,o,u,m,b,B){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=m,this.data=b,this.documentState=B}static newInvalidDocument(e){return new Gr(e,0,wi.min(),wi.min(),wi.min(),eo.empty(),0)}static newFoundDocument(e,t,o,u){return new Gr(e,1,t,wi.min(),o,u,0)}static newNoDocument(e,t){return new Gr(e,2,t,wi.min(),wi.min(),eo.empty(),0)}static newUnknownDocument(e,t){return new Gr(e,3,t,wi.min(),wi.min(),eo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dl{constructor(e,t){this.position=e,this.inclusive=t}}function cd(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const m=e[u],b=i.position[u];if(o=m.field.isKeyField()?Zn.comparator(Zn.fromName(b.referenceValue),t.key):so(b,t.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function O(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ba(i.position[t],e.position[t]))return!1;return!0}class z{constructor(e,t="asc"){this.field=e,this.dir=t}}function ee(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ze{}class Je extends ze{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Bo(e,t,o):"array-contains"===t?new Ha(e,o):"in"===t?new ma(e,o):"not-in"===t?new zh(e,o):"array-contains-any"===t?new Rc(e,o):new Je(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Mc(e,o):new Qc(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(so(t,this.value)):null!==t&&Xo(this.value)===Xo(t)&&this.matchesComparison(so(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Tt extends ze{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Tt(e,t)}matches(e){return Wt(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Wt(i){return"and"===i.op}function On(i){return"or"===i.op}function Nn(i){return jn(i)&&Wt(i)}function jn(i){for(const e of i.filters)if(e instanceof Tt)return!1;return!0}function $n(i){if(i instanceof Je)return i.field.canonicalString()+i.op.toString()+oc(i.value);if(Nn(i))return i.filters.map(e=>$n(e)).join(",");{const e=i.filters.map(t=>$n(t)).join(",");return`${i.op}(${e})`}}function Ei(i,e){return i instanceof Je?(t=i,(o=e)instanceof Je&&t.op===o.op&&t.field.isEqual(o.field)&&Ba(t.value,o.value)):i instanceof Tt?function(t,o){return o instanceof Tt&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,m,b)=>u&&Ei(m,o.filters[b]),!0)}(i,e):void Bn();var t,o}function Vo(i,e){const t=i.filters.concat(e);return Tt.create(t,i.op)}function ms(i){return i instanceof Je?`${(e=i).field.canonicalString()} ${e.op} ${oc(e.value)}`:i instanceof Tt?function(e){return e.op.toString()+" {"+e.getFilters().map(ms).join(" ,")+"}"}(i):"Filter";var e}class Bo extends Je{constructor(e,t,o){super(e,t,o),this.key=Zn.fromName(o.referenceValue)}matches(e){const t=Zn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Mc extends Je{constructor(e,t){super(e,"in",t),this.keys=pa(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Qc extends Je{constructor(e,t){super(e,"not-in",t),this.keys=pa(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pa(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Zn.fromName(o.referenceValue))}class Ha extends Je{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ac(t)&&sl(t.arrayValue,this.value)}}class ma extends Je{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sl(this.value.arrayValue,t)}}class zh extends Je{constructor(e,t){super(e,"not-in",t)}matches(e){if(sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sl(this.value.arrayValue,t)}}class Rc extends Je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ac(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>sl(this.value.arrayValue,o))}}class $h{constructor(e,t=null,o=[],u=[],m=null,b=null,B=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=m,this.startAt=b,this.endAt=B,this.dt=null}}function ud(i,e=null,t=[],o=[],u=null,m=null,b=null){return new $h(i,e,t,o,u,m,b)}function ol(i){const e=Pn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>$n(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),zr(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>oc(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>oc(o)).join(",")),e.dt=t}return e.dt}function kc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!ee(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Ei(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!O(i.startAt,e.startAt)&&O(i.endAt,e.endAt)}function xu(i){return Zn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Vl(i,e){return i.filters.filter(t=>t instanceof Je&&t.field.isEqual(e))}function Bl(i,e,t){let o=sc,u=!0;for(const m of Vl(i,e)){let b=sc,B=!0;switch(m.op){case"<":case"<=":b=Ua(m.value);break;case"==":case"in":case">=":b=m.value;break;case">":b=m.value,B=!1;break;case"!=":case"not-in":b=sc}Ll({value:o,inclusive:u},{value:b,inclusive:B})<0&&(o=b,u=B)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const b=t.position[m];Ll({value:o,inclusive:u},{value:b,inclusive:t.inclusive})<0&&(o=b,u=t.inclusive);break}return{value:o,inclusive:u}}function cr(i,e,t){let o=go,u=!0;for(const m of Vl(i,e)){let b=go,B=!0;switch(m.op){case">=":case">":b=Yd(m.value),B=!1;break;case"==":case"in":case"<=":b=m.value;break;case"<":b=m.value,B=!1;break;case"!=":case"not-in":b=go}Cu({value:o,inclusive:u},{value:b,inclusive:B})>0&&(o=b,u=B)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const b=t.position[m];Cu({value:o,inclusive:u},{value:b,inclusive:t.inclusive})>0&&(o=b,u=t.inclusive);break}return{value:o,inclusive:u}}class al{constructor(e,t=null,o=[],u=[],m=null,b="F",B=null,Q=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=m,this.limitType=b,this.startAt=B,this.endAt=Q,this.wt=null,this._t=null}}function Xc(i,e,t,o,u,m,b,B){return new al(i,e,t,o,u,m,b,B)}function Oc(i){return new al(i)}function xl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Iu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function k(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function y(i){return null!==i.collectionGroup}function w(i){const e=Pn(i);if(null===e.wt){e.wt=[];const t=k(e),o=Iu(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new z(t)),e.wt.push(new z(Di.keyField(),"asc"));else{let u=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(u=!0);if(!u){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new z(Di.keyField(),m))}}}return e.wt}function V(i){const e=Pn(i);if(!e._t)if("F"===e.limitType)e._t=ud(e.path,e.collectionGroup,w(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of w(e))t.push(new z(m.field,"desc"===m.dir?"asc":"desc"));const o=e.endAt?new Dl(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Dl(e.startAt.position,e.startAt.inclusive):null;e._t=ud(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e._t}function ae(i,e){e.getFirstInequalityField(),k(i);const t=i.filters.concat([e]);return new al(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Me(i,e,t){return new al(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Rt(i,e){return kc(V(i),V(e))&&i.limitType===e.limitType}function Xt(i){return`${ol(V(i))}|lt:${i.limitType}`}function Rn(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>ms(o)).join(", ")}]`),zr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>oc(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>oc(o)).join(",")),`Target(${t})`}(V(i))}; limitType=${i.limitType})`}function ii(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Zn.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of w(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,m,b){const B=cd(u,m,b);return u.inclusive?B<=0:B<0}(t.startAt,w(t),o)||t.endAt&&!function(u,m,b){const B=cd(u,m,b);return u.inclusive?B>=0:B>0}(t.endAt,w(t),o)));var t,o}function Mi(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ki(i){return(e,t)=>{let o=!1;for(const u of w(i)){const m=Zr(u,e,t);if(0!==m)return m;o=o||u.field.isKeyField()}return 0}}function Zr(i,e,t){const o=i.field.isKeyField()?Zn.comparator(e.key,t.key):function(u,m,b){const B=m.data.field(u),Q=b.data.field(u);return null!==B&&null!==Q?so(B,Q):Bn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Bn()}}class _o{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,m]of o)if(this.equalsFn(u,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let m=0;m<u.length;m++)if(this.equalsFn(u[m][0],e))return void(u[m]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,o)=>{for(const[u,m]of o)e(u,m)})}isEmpty(){return _u(this.inner)}size(){return this.innerSize}}const Tu=new kr(Zn.comparator);function So(){return Tu}const Or=new kr(Zn.comparator);function Su(...i){let e=Or;for(const t of i)e=e.insert(t.key,t);return e}function Zd(i){let e=Or;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Jo(){return ja()}function Au(){return ja()}function ja(){return new _o(i=>i.toString(),(i,e)=>i.isEqual(e))}const ll=new kr(Zn.comparator),lc=new $r(Zn.comparator);function Gn(...i){let e=lc;for(const t of i)e=e.add(t);return e}const qd=new $r(Ri);function cc(){return qd}function jf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sa(e)?"-0":e}}function Ds(i){return{integerValue:""+i}}function Mu(i,e){return ts(e)?Ds(e):jf(i,e)}class zf{constructor(){this._=void 0}}function $f(i,e,t){return i instanceof Pc?function(o,u){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Kc(u)&&(u=rc(u)),u&&(m.fields.__previous_value__=u),{mapValue:m}}(t,e):i instanceof Ul?qp(i,e):i instanceof Hl?Ru(i,e):function(o,u){const m=dd(o,u),b=Gh(m)+Gh(o.gt);return Eu(m)&&Eu(o.gt)?Ds(b):jf(o.serializer,b)}(i,e)}function tg(i,e,t){return i instanceof Ul?qp(i,e):i instanceof Hl?Ru(i,e):t}function dd(i,e){return i instanceof uc?Eu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Pc extends zf{}class Ul extends zf{constructor(e){super(),this.elements=e}}function qp(i,e){const t=ng(e);for(const o of i.elements)t.some(u=>Ba(u,o))||t.push(o);return{arrayValue:{values:t}}}class Hl extends zf{constructor(e){super(),this.elements=e}}function Ru(i,e){let t=ng(e);for(const o of i.elements)t=t.filter(u=>!Ba(u,o));return{arrayValue:{values:t}}}class uc extends zf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Gh(i){return Yr(i.integerValue||i.doubleValue)}function ng(i){return ac(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Gf{constructor(e,t){this.field=e,this.transform=t}}class Wh{constructor(e,t){this.version=e,this.transformResults=t}}class js{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new js}static exists(e){return new js(void 0,e)}static updateTime(e){return new js(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hd(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class fd{}function pd(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ul(i.key,js.none()):new Jc(i.key,i.data,js.none());{const t=i.data,o=eo.empty();let u=new $r(Di.comparator);for(let m of e.fields)if(!u.has(m)){let b=t.field(m);null===b&&m.length>1&&(m=m.popLast(),b=t.field(m)),null===b?o.delete(m):o.set(m,b),u=u.add(m)}return new cl(i.key,o,new To(u.toArray()),js.none())}}function Qp(i,e,t){i instanceof Jc?function(o,u,m){const b=o.value.clone(),B=Kf(o.fieldTransforms,u,m.transformResults);b.setAll(B),u.convertToFoundDocument(m.version,b).setHasCommittedMutations()}(i,e,t):i instanceof cl?function(o,u,m){if(!hd(o.precondition,u))return void u.convertToUnknownDocument(m.version);const b=Kf(o.fieldTransforms,u,m.transformResults),B=u.data;B.setAll(Wf(o)),B.setAll(b),u.convertToFoundDocument(m.version,B).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function md(i,e,t,o){return i instanceof Jc?function(u,m,b,B){if(!hd(u.precondition,m))return b;const Q=u.value.clone(),ie=ig(u.fieldTransforms,B,m);return Q.setAll(ie),m.convertToFoundDocument(m.version,Q).setHasLocalMutations(),null}(i,e,t,o):i instanceof cl?function(u,m,b,B){if(!hd(u.precondition,m))return b;const Q=ig(u.fieldTransforms,B,m),ie=m.data;return ie.setAll(Wf(u)),ie.setAll(Q),m.convertToFoundDocument(m.version,ie).setHasLocalMutations(),null===b?null:b.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(De=>De.field))}(i,e,t,o):(b=t,hd(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):b);var m,b}function Kh(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),m=dd(o.transform,u||null);null!=m&&(null===t&&(t=eo.empty()),t.set(o.field,m))}return t||null}function ku(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Za(t,o,(u,m)=>function l_(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Ul&&o instanceof Ul||t instanceof Hl&&o instanceof Hl?Za(t.elements,o.elements,Ba):t instanceof uc&&o instanceof uc?Ba(t.gt,o.gt):t instanceof Pc&&o instanceof Pc);var t,o}(u,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Jc extends fd{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class cl extends fd{constructor(e,t,o,u,m=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Wf(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Kf(i,e,t){const o=new Map;oi(i.length===t.length);for(let u=0;u<t.length;u++){const m=i[u],b=m.transform,B=e.data.field(m.field);o.set(m.field,tg(b,B,t[u]))}return o}function ig(i,e,t){const o=new Map;for(const u of i){const m=u.transform,b=t.data.field(u.field);o.set(u.field,$f(m,b,e))}return o}class ul extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eu extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xp{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const m=this.mutations[u];m.key.isEqual(e.key)&&Qp(m,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=md(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=md(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Au();return this.mutations.forEach(u=>{const m=e.get(u.key),b=m.overlayedDocument;let B=this.applyToLocalView(b,m.mutatedFields);B=t.has(u.key)?null:B;const Q=pd(b,B);null!==Q&&o.set(u.key,Q),b.isValidDocument()||b.convertToNoDocument(wi.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gn())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(t,o)=>ku(t,o))&&Za(this.baseMutations,e.baseMutations,(t,o)=>ku(t,o))}}class Jp{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){oi(e.mutations.length===o.length);let u=ll;const m=e.mutations;for(let b=0;b<m.length;b++)u=u.insert(m[b].key,o[b].version);return new Jp(e,t,o,u)}}class em{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tm{constructor(e,t){this.count=e,this.unchangedNames=t}}var oo,wr;function Yh(i){switch(i){default:return Bn();case Gt.CANCELLED:case Gt.UNKNOWN:case Gt.DEADLINE_EXCEEDED:case Gt.RESOURCE_EXHAUSTED:case Gt.INTERNAL:case Gt.UNAVAILABLE:case Gt.UNAUTHENTICATED:return!1;case Gt.INVALID_ARGUMENT:case Gt.NOT_FOUND:case Gt.ALREADY_EXISTS:case Gt.PERMISSION_DENIED:case Gt.FAILED_PRECONDITION:case Gt.ABORTED:case Gt.OUT_OF_RANGE:case Gt.UNIMPLEMENTED:case Gt.DATA_LOSS:return!0}}function Qd(i){if(void 0===i)return Ai("GRPC error has no .code"),Gt.UNKNOWN;switch(i){case oo.OK:return Gt.OK;case oo.CANCELLED:return Gt.CANCELLED;case oo.UNKNOWN:return Gt.UNKNOWN;case oo.DEADLINE_EXCEEDED:return Gt.DEADLINE_EXCEEDED;case oo.RESOURCE_EXHAUSTED:return Gt.RESOURCE_EXHAUSTED;case oo.INTERNAL:return Gt.INTERNAL;case oo.UNAVAILABLE:return Gt.UNAVAILABLE;case oo.UNAUTHENTICATED:return Gt.UNAUTHENTICATED;case oo.INVALID_ARGUMENT:return Gt.INVALID_ARGUMENT;case oo.NOT_FOUND:return Gt.NOT_FOUND;case oo.ALREADY_EXISTS:return Gt.ALREADY_EXISTS;case oo.PERMISSION_DENIED:return Gt.PERMISSION_DENIED;case oo.FAILED_PRECONDITION:return Gt.FAILED_PRECONDITION;case oo.ABORTED:return Gt.ABORTED;case oo.OUT_OF_RANGE:return Gt.OUT_OF_RANGE;case oo.UNIMPLEMENTED:return Gt.UNIMPLEMENTED;case oo.DATA_LOSS:return Gt.DATA_LOSS;default:return Bn()}}(wr=oo||(oo={}))[wr.OK=0]="OK",wr[wr.CANCELLED=1]="CANCELLED",wr[wr.UNKNOWN=2]="UNKNOWN",wr[wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wr[wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wr[wr.NOT_FOUND=5]="NOT_FOUND",wr[wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",wr[wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",wr[wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",wr[wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wr[wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wr[wr.ABORTED=10]="ABORTED",wr[wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",wr[wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",wr[wr.INTERNAL=13]="INTERNAL",wr[wr.UNAVAILABLE=14]="UNAVAILABLE",wr[wr.DATA_LOSS=15]="DATA_LOSS";class tu{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return nu}static getOrCreateInstance(){return null===nu&&(nu=new tu),nu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let nu=null;function zl(){return new TextEncoder}const iu=new Yt([4294967295,4294967295],0);function Xd(i){const e=zl().encode(i),t=new it;return t.update(e),new Uint8Array(t.digest())}function gd(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new Yt([t,o],0),new Yt([u,m],0)]}class Yf{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new Jd(`Invalid padding: ${t}`);if(o<0)throw new Jd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Jd(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new Jd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Yt.fromNumber(this.It)}Et(e,t,o){let u=e.add(t.multiply(Yt.fromNumber(o)));return 1===u.compare(iu)&&(u=new Yt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Xd(e),[o,u]=gd(t);for(let m=0;m<this.hashCount;m++){const b=this.Et(o,u,m);if(!this.At(b))return!1}return!0}static create(e,t,o){const u=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),b=new Yf(m,u,t);return o.forEach(B=>b.insert(B)),b}insert(e){if(0===this.It)return;const t=Xd(e),[o,u]=gd(t);for(let m=0;m<this.hashCount;m++){const b=this.Et(o,u,m);this.Rt(b)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _d{constructor(e,t,o,u,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new _d(wi.min(),u,new kr(Ri),So(),Gn())}}class Ou{constructor(e,t,o,u,m){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Ou(o,t,Gn(),Gn(),Gn())}}class Zf{constructor(e,t,o,u){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=u}}class yd{constructor(e,t){this.targetId=e,this.Vt=t}}class Nc{constructor(e,t,o=ks.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class nm{constructor(){this.St=0,this.Dt=$l(),this.Ct=ks.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Gn(),t=Gn(),o=Gn();return this.Dt.forEach((u,m)=>{switch(m){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Bn()}}),new Ou(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=$l()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class q_{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=So(),this.zt=cs(),this.Wt=new kr(Ri)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:Bn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,u)=>{this.te(u)&&t(u)})}ne(e){var t;const o=e.targetId,u=e.Vt.count,m=this.se(o);if(m){const b=m.target;if(xu(b))if(0===u){const B=new Zn(b.path);this.Yt(o,B,Gr.newNoDocument(B,wi.min()))}else oi(1===u);else{const B=this.ie(o);if(B!==u){const Q=this.re(e,B);0!==Q&&(this.ee(o),this.Wt=this.Wt.insert(o,2===Q?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=tu.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(ie,De,dt){var zt,an,Fn,ci,fi,hr;const Lr={localCacheCount:De,existenceFilterCount:dt.count},Cr=dt.unchangedNames;return Cr&&(Lr.bloomFilter={applied:0===ie,hashCount:null!==(zt=Cr?.hashCount)&&void 0!==zt?zt:0,bitmapLength:null!==(ci=null===(Fn=null===(an=Cr?.bits)||void 0===an?void 0:an.bitmap)||void 0===Fn?void 0:Fn.length)&&void 0!==ci?ci:0,padding:null!==(hr=null===(fi=Cr?.bits)||void 0===fi?void 0:fi.padding)&&void 0!==hr?hr:0}),Lr}(Q,B,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:m="",padding:b=0},hashCount:B=0}=o;let Q,ie;try{Q=il(m).toUint8Array()}catch(De){if(De instanceof yu)return gr("Decoding the base64 bloom filter in existence filter failed ("+De.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw De}try{ie=new Yf(Q,b,B)}catch(De){return gr(De instanceof Jd?"BloomFilter error: ":"Applying bloom filter failed: ",De),1}return 0===ie.It?1:u!==t-this.oe(e.targetId,ie)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(m=>{const b=this.Gt.ue(),B=`projects/${b.projectId}/databases/${b.database}/documents/${m.path.canonicalString()}`;t.vt(B)||(this.Yt(e,m,null),u++)}),u}ce(e){const t=new Map;this.Qt.forEach((m,b)=>{const B=this.se(b);if(B){if(m.current&&xu(B.target)){const Q=new Zn(B.target.path);null!==this.jt.get(Q)||this.ae(b,Q)||this.Yt(b,Q,Gr.newNoDocument(Q,e))}m.Mt&&(t.set(b,m.Ot()),m.Ft())}});let o=Gn();this.zt.forEach((m,b)=>{let B=!0;b.forEachWhile(Q=>{const ie=this.se(Q);return!ie||"TargetPurposeLimboResolution"===ie.purpose||(B=!1,!1)}),B&&(o=o.add(m))}),this.jt.forEach((m,b)=>b.setReadTime(e));const u=new _d(e,t,this.Wt,this.jt,o);return this.jt=So(),this.zt=cs(),this.Wt=new kr(Ri),u}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,t)?u.Bt(t,1):u.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new nm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new $r(Ri),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||hn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nm),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function cs(){return new kr(Zn.comparator)}function $l(){return new kr(Zn.comparator)}const Zh={asc:"ASCENDING",desc:"DESCENDING"},im={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rg={and:"AND",or:"OR"};class qf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gl(i,e){return i.useProto3Json||zr(e)?e:{value:e}}function Pu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dc(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function rm(i,e){return Pu(i,e.toTimestamp())}function er(i){return oi(!!i),wi.fromTimestamp(function(e){const t=Nl(e);return new jr(t.seconds,t.nanos)}(i))}function Qf(i,e){return(t=i,new yi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function qh(i){const e=yi.fromString(i);return oi(ou(e)),e}function vd(i,e){return Qf(i.databaseId,e.path)}function Wl(i,e){const t=qh(e);if(t.get(1)!==i.databaseId.projectId)throw new _n(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new _n(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Zn(og(t))}function sm(i,e){return Qf(i.databaseId,e)}function sg(i){const e=qh(i);return 4===e.length?yi.emptyPath():og(e)}function Qh(i){return new yi(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function og(i){return oi(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function om(i,e,t){return{name:vd(i,e),fields:t.value.mapValue.fields}}function ag(i,e,t){const o=Wl(i,e.name),u=er(e.updateTime),m=e.createTime?er(e.createTime):wi.min(),b=new eo({mapValue:{fields:e.fields}}),B=Gr.newFoundDocument(o,u,m,b);return t&&B.setHasCommittedMutations(),t?B.setHasCommittedMutations():B}function bd(i,e){let t;if(e instanceof Jc)t={update:om(i,e.key,e.value)};else if(e instanceof ul)t={delete:vd(i,e.key)};else if(e instanceof cl)t={update:om(i,e.key,e.data),updateMask:ug(e.fieldMask)};else{if(!(e instanceof eu))return Bn();t={verify:vd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,m){const b=m.transform;if(b instanceof Pc)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ul)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Hl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof uc)return{fieldPath:m.field.canonicalString(),increment:b.gt};throw Bn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:rm(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Bn()),t;var u}function Xf(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?js.updateTime(er(u.updateTime)):void 0!==u.exists?js.exists(u.exists):js.none():js.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(m,b){let B=null;"setToServerValue"in b?(oi("REQUEST_TIME"===b.setToServerValue),B=new Pc):"appendMissingElements"in b?B=new Ul(b.appendMissingElements.values||[]):"removeAllFromArray"in b?B=new Hl(b.removeAllFromArray.values||[]):"increment"in b?B=new uc(m,b.increment):Bn();const Q=Di.fromServerFormat(b.fieldPath);return new Gf(Q,B)}(i,u)):[];var u;if(e.update){const u=Wl(i,e.update.name),m=new eo({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new To((e.updateMask.fieldPaths||[]).map(ie=>Di.fromServerFormat(ie)));return new cl(u,m,b,t,o)}return new Jc(u,m,t,o)}if(e.delete){const u=Wl(i,e.delete);return new ul(u,t)}if(e.verify){const u=Wl(i,e.verify);return new eu(u,t)}return Bn()}function am(i,e){return{documents:[sm(i,e.path)]}}function cg(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=sm(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sm(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(Q){if(0!==Q.length)return lm(Tt.create(Q,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const m=function(Q){if(0!==Q.length)return Q.map(ie=>{return{field:ru((De=ie).field),direction:eh(De.dir)};var De})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const b=Gl(i,e.limit);var B,Q;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(B=e.startAt).inclusive,values:B.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Q=e.endAt).inclusive,values:Q.position}),t}function Jh(i){let e=sg(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){oi(1===o);const De=t.from[0];De.allDescendants?u=De.collectionId:e=e.child(De.collectionId)}let m=[];t.where&&(m=function(De){const dt=ep(De);return dt instanceof Tt&&Nn(dt)?dt.getFilters():[dt]}(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(De=>{return new z(su((dt=De).field),function(zt){switch(zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(dt.direction));var dt}));let B=null;t.limit&&(B=function(De){let dt;return dt="object"==typeof De?De.value:De,zr(dt)?null:dt}(t.limit));let Q=null;var De;t.startAt&&(Q=new Dl((De=t.startAt).values||[],!!De.before));let ie=null;return t.endAt&&(ie=function(De){return new Dl(De.values||[],!De.before)}(t.endAt)),Xc(e,u,b,m,B,"F",Q,ie)}function ep(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=su(e.unaryFilter.field);return Je.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=su(e.unaryFilter.field);return Je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=su(e.unaryFilter.field);return Je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=su(e.unaryFilter.field);return Je.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Bn()}}(i):void 0!==i.fieldFilter?Je.create(su((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Tt.create(e.compositeFilter.filters.map(t=>ep(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Bn()}}(e.compositeFilter.op))}(i):Bn();var e}function eh(i){return Zh[i]}function Q_(i){return im[i]}function ef(i){return rg[i]}function ru(i){return{fieldPath:i.canonicalString()}}function su(i){return Di.fromServerFormat(i.fieldPath)}function lm(i){return i instanceof Je?function(e){if("=="===e.op){if(Cl(e.value))return{unaryFilter:{field:ru(e.field),op:"IS_NAN"}};if(Sc(e.value))return{unaryFilter:{field:ru(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Cl(e.value))return{unaryFilter:{field:ru(e.field),op:"IS_NOT_NAN"}};if(Sc(e.value))return{unaryFilter:{field:ru(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ru(e.field),op:Q_(e.op),value:e.value}}}(i):i instanceof Tt?function(e){const t=e.getFilters().map(o=>lm(o));return 1===t.length?t[0]:{compositeFilter:{op:ef(e.op),filters:t}}}(i):Bn()}function ug(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ou(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class hc{constructor(e,t,o,u,m=wi.min(),b=wi.min(),B=ks.EMPTY_BYTE_STRING,Q=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=B,this.expectedCount=Q}withSequenceNumber(e){return new hc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tp{constructor(e){this.fe=e}}function dg(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:th(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:vd(u=i.fe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Pu(u,m.version.toTimestamp()),createTime:Pu(u,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:fc(e.version)};else{if(!e.isUnknownDocument())return Bn();o.unknownDocument={path:t.path.toArray(),version:fc(e.version)}}var u,m;return o}function th(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function fc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ra(i){const e=new jr(i.seconds,i.nanoseconds);return wi.fromTimestamp(e)}function Fc(i,e){const t=(e.baseMutations||[]).map(m=>Xf(i.fe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const o=e.mutations.map(m=>Xf(i.fe,m)),u=jr.fromMillis(e.localWriteTimeMs);return new Xp(e.batchId,u,t,o)}function Nu(i){const e=Ra(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Ra(i.lastLimboFreeSnapshotVersion):wi.min();let o;var u;return void 0!==i.query.documents?(oi(1===(u=i.query).documents.length),o=V(Oc(sg(u.documents[0])))):o=V(Jh(i.query)),new hc(o,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,ks.fromBase64String(i.resumeToken))}function hg(i,e){const t=fc(e.snapshotVersion),o=fc(e.lastLimboFreeSnapshotVersion);let u;u=xu(e.target)?am(i.fe,e.target):cg(i.fe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ol(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function ip(i){const e=Jh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Me(e,e.limit,"L"):e}function nh(i,e){return new em(e.largestBatchId,Xf(i.fe,e.overlayMutation))}function wd(i,e){const t=e.path.lastSegment();return[i,Rs(e.path.popLast()),t]}function fg(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:fc(o.readTime),documentKey:Rs(o.documentKey.path),largestBatchId:o.largestBatchId}}class u_{getBundleMetadata(e,t){return pg(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Ra(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return pg(e).put({bundleId:(o=t).id,createTime:fc(er(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return rp(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:ip(u.bundledQuery),readTime:Ra(u.readTime)};var u})}saveNamedQuery(e,t){return rp(e).put({name:(o=t).name,readTime:fc(er(o.readTime)),bundledQuery:o.bundledQuery});var o}}function pg(i){return Js(i,"bundles")}function rp(i){return Js(i,"namedQueries")}class sp{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new sp(e,t.uid||"")}getOverlay(e,t){return ih(e).get(wd(this.userId,t)).next(o=>o?nh(this.serializer,o):null)}getOverlays(e,t){const o=Jo();return Ut.forEach(t,u=>this.getOverlay(e,u).next(m=>{null!==m&&o.set(u,m)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((m,b)=>{const B=new em(t,b);u.push(this.we(e,B))}),Ut.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(b=>u.add(Rs(b.getCollectionPath())));const m=[];return u.forEach(b=>{const B=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);m.push(ih(e).J("collectionPathOverlayIndex",B))}),Ut.waitFor(m)}getOverlaysForCollection(e,t,o){const u=Jo(),m=Rs(t),b=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return ih(e).j("collectionPathOverlayIndex",b).next(B=>{for(const Q of B){const ie=nh(this.serializer,Q);u.set(ie.getKey(),ie)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const m=Jo();let b;const B=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ih(e).X({index:"collectionGroupOverlayIndex",range:B},(Q,ie,De)=>{const dt=nh(this.serializer,ie);m.size()<u||dt.largestBatchId===b?(m.set(dt.getKey(),dt),b=dt.largestBatchId):De.done()}).next(()=>m)}we(e,t){return ih(e).put(function(o,u,m){const[b,B,Q]=wd(u,m.mutation.key);return{userId:u,collectionPath:B,documentId:Q,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:bd(o.fe,m.mutation)}}(this.serializer,this.userId,t))}}function ih(i){return Js(i,"documentOverlays")}class Fu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Yr(e.integerValue));else if("doubleValue"in e){const o=Yr(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),Sa(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(il(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?Ma(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Bn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const u of Object.keys(o))this.Te(u,t),this.me(o[u],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const u of o)this.me(u,t)}ve(e,t){this.ye(t,37),Zn.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function mg(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function gg(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const m=mg(255&t[u]);if(o+=m,8!==m)break}return o}(i);return Math.ceil(e/8)}Fu.Ve=new Fu;class _g{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const u=t.codePointAt(0);this.De(240|u>>>18),this.De(128|63&u>>>12),this.De(128|63&u>>>6),this.De(128|63&u)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const u=t.codePointAt(0);this.Ne(240|u>>>18),this.Ne(128|63&u>>>12),this.Ne(128|63&u>>>6),this.Ne(128|63&u)}}this.ke()}Oe(e){const t=this.Fe(e),o=gg(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Le(e){const t=this.Fe(e),o=gg(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(u){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,u,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class tf{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class yg{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Il{constructor(){this.je=new _g,this.ze=new tf(this.je),this.We=new yg(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Kl{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Kl(this.indexId,this.documentKey,this.arrayValue,o)}}function Lu(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=cm(i.arrayValue,e.arrayValue),0!==t?t:(t=cm(i.directionalValue,e.directionalValue),0!==t?t:Zn.comparator(i.documentKey,e.documentKey)))}function cm(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class d_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){oi(e.collectionGroup===this.collectionId);const t=Qa(e);if(void 0!==t&&!this.en(t))return!1;const o=Io(e);let u=new Set,m=0,b=0;for(;m<o.length&&this.en(o[m]);++m)u=u.add(o[m].fieldPath.canonicalString());if(m===o.length)return!0;if(void 0!==this.Ze){if(!u.has(this.Ze.field.canonicalString())){const B=o[m];if(!this.nn(this.Ze,B)||!this.sn(this.Ye[b++],B))return!1}++m}for(;m<o.length;++m)if(b>=this.Ye.length||!this.sn(this.Ye[b++],o[m]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function op(i){var e,t;if(oi(i instanceof Je||i instanceof Tt),i instanceof Je){if(i instanceof ma){const u=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>Je.create(i.field,"==",m)))||[];return Tt.create(u,"or")}return i}const o=i.filters.map(u=>op(u));return Tt.create(o,i.op)}function vg(i){if(0===i.getFilters().length)return[];const e=Yl(op(i));return oi(nf(e)),ap(e)||lp(e)?[e]:e.getFilters()}function ap(i){return i instanceof Je}function lp(i){return i instanceof Tt&&Nn(i)}function nf(i){return ap(i)||lp(i)||function(e){if(e instanceof Tt&&On(e)){for(const t of e.getFilters())if(!ap(t)&&!lp(t))return!1;return!0}return!1}(i)}function Yl(i){if(oi(i instanceof Je||i instanceof Tt),i instanceof Je)return i;if(1===i.filters.length)return Yl(i.filters[0]);const e=i.filters.map(o=>Yl(o));let t=Tt.create(e,i.op);return t=za(t),nf(t)?t:(oi(t instanceof Tt),oi(Wt(t)),oi(t.filters.length>1),t.filters.reduce((o,u)=>cp(o,u)))}function cp(i,e){let t;return oi(i instanceof Je||i instanceof Tt),oi(e instanceof Je||e instanceof Tt),t=i instanceof Je?e instanceof Je?Tt.create([i,e],"and"):rf(i,e):e instanceof Je?rf(e,i):function(o,u){if(oi(o.filters.length>0&&u.filters.length>0),Wt(o)&&Wt(u))return Vo(o,u.getFilters());const m=On(o)?o:u,b=On(o)?u:o,B=m.filters.map(Q=>cp(Q,b));return Tt.create(B,"or")}(i,e),za(t)}function rf(i,e){if(Wt(e))return Vo(e,i.getFilters());{const t=e.filters.map(o=>cp(i,o));return Tt.create(t,"or")}}function za(i){if(oi(i instanceof Je||i instanceof Tt),i instanceof Je)return i;const e=i.getFilters();if(1===e.length)return za(e[0]);if(jn(i))return i;const t=e.map(u=>za(u)),o=[];return t.forEach(u=>{u instanceof Je?o.push(u):u instanceof Tt&&(u.op===i.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:Tt.create(o,i.op)}class up{constructor(){this.rn=new rh}addToCollectionParentIndex(e,t){return this.rn.add(t),Ut.resolve()}getCollectionParents(e,t){return Ut.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ut.resolve()}deleteFieldIndex(e,t){return Ut.resolve()}getDocumentsMatchingTarget(e,t){return Ut.resolve(null)}getIndexType(e,t){return Ut.resolve(0)}getFieldIndexes(e,t){return Ut.resolve([])}getNextCollectionGroupToUpdate(e){return Ut.resolve(null)}getMinOffset(e,t){return Ut.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return Ut.resolve(Cs.min())}updateCollectionGroup(e,t,o){return Ut.resolve()}updateIndexEntries(e,t){return Ut.resolve()}}class rh{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new $r(yi.comparator),m=!u.has(o);return this.index[t]=u.add(o),m}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new $r(yi.comparator)).toArray()}}const dp=new Uint8Array(0);class h_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new rh,this.un=new _o(o=>ol(o),(o,u)=>kc(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const m={collectionId:o,parent:Rs(u)};return bg(e).put(m)}return Ut.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Cc(t),""],!1,!0);return bg(e).j(u).next(m=>{for(const b of m){if(b.collectionId!==t)break;o.push(N(b.parent))}return o})}addFieldIndex(e,t){const o=sh(e),u={indexId:(b=t).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(B=>[B.fieldPath.canonicalString(),B.kind])};var b;delete u.indexId;const m=o.add(u);if(t.indexState){const b=Lc(e);return m.next(B=>{b.put(fg(B,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const o=sh(e),u=Lc(e),m=Ed(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Ed(e);let u=!0;const m=new Map;return Ut.forEach(this.cn(t),b=>this.an(e,b).next(B=>{u&&(u=!!B),m.set(b,B)})).next(()=>{if(u){let b=Gn();const B=[];return Ut.forEach(m,(Q,ie)=>{var De;hn("IndexedDbIndexManager",`Using index ${De=Q,`id=${De.indexId}|cg=${De.collectionGroup}|f=${De.fields.map(Cr=>`${Cr.fieldPath}:${Cr.kind}`).join(",")}`} to execute ${ol(t)}`);const dt=function(Cr,ya){const zo=Qa(ya);if(void 0===zo)return null;for(const to of Vl(Cr,zo.fieldPath))switch(to.op){case"array-contains-any":return to.value.arrayValue.values||[];case"array-contains":return[to.value]}return null}(ie,Q),zt=function(Cr,ya){const zo=new Map;for(const to of Io(ya))for(const tc of Vl(Cr,to.fieldPath))switch(tc.op){case"==":case"in":zo.set(to.fieldPath.canonicalString(),tc.value);break;case"not-in":case"!=":return zo.set(to.fieldPath.canonicalString(),tc.value),Array.from(zo.values())}return null}(ie,Q),an=function(Cr,ya){const zo=[];let to=!0;for(const tc of Io(ya)){const Uf=0===tc.kind?Bl(Cr,tc.fieldPath,Cr.startAt):cr(Cr,tc.fieldPath,Cr.startAt);zo.push(Uf.value),to&&(to=Uf.inclusive)}return new Dl(zo,to)}(ie,Q),Fn=function(Cr,ya){const zo=[];let to=!0;for(const tc of Io(ya)){const Uf=0===tc.kind?cr(Cr,tc.fieldPath,Cr.endAt):Bl(Cr,tc.fieldPath,Cr.endAt);zo.push(Uf.value),to&&(to=Uf.inclusive)}return new Dl(zo,to)}(ie,Q),ci=this.hn(Q,ie,an),fi=this.hn(Q,ie,Fn),hr=this.ln(Q,ie,zt),Lr=this.fn(Q.indexId,dt,ci,an.inclusive,fi,Fn.inclusive,hr);return Ut.forEach(Lr,Cr=>o.H(Cr,t.limit).next(ya=>{ya.forEach(zo=>{const to=Zn.fromSegments(zo.documentKey);b.has(to)||(b=b.add(to),B.push(to))})}))}).next(()=>B)}return Ut.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:vg(Tt.create(e.filters,"and")).map(o=>ud(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,u,m,b,B){const Q=(null!=t?t.length:1)*Math.max(o.length,m.length),ie=Q/(null!=t?t.length:1),De=[];for(let dt=0;dt<Q;++dt){const zt=t?this.dn(t[dt/ie]):dp,an=this.wn(e,zt,o[dt%ie],u),Fn=this._n(e,zt,m[dt%ie],b),ci=B.map(fi=>this.wn(e,zt,fi,!0));De.push(...this.createRange(an,Fn,ci))}return De}wn(e,t,o,u){const m=new Kl(e,Zn.empty(),t,o);return u?m:m.Je()}_n(e,t,o,u){const m=new Kl(e,Zn.empty(),t,o);return u?m.Je():m}an(e,t){const o=new d_(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(m=>{let b=null;for(const B of m)o.tn(B)&&(!b||B.fields.length>b.fields.length)&&(b=B);return b})}getIndexType(e,t){let o=2;const u=this.cn(t);return Ut.forEach(u,m=>this.an(e,m).next(b=>{b?0!==o&&b.fields.length<function(B){let Q=new $r(Di.comparator),ie=!1;for(const De of B.filters)for(const dt of De.getFlattenedFilters())dt.field.isKeyField()||("array-contains"===dt.op||"array-contains-any"===dt.op?ie=!0:Q=Q.add(dt.field));for(const De of B.orderBy)De.field.isKeyField()||(Q=Q.add(De.field));return Q.size+(ie?1:0)}(m)&&(o=1):o=0})).next(()=>null!==t.limit&&u.length>1&&2===o?1:o)}mn(e,t){const o=new Il;for(const u of Io(e)){const m=t.data.field(u.fieldPath);if(null==m)return null;const b=o.He(u.kind);Fu.Ve._e(m,b)}return o.Qe()}dn(e){const t=new Il;return Fu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new Il;return Fu.Ve._e(qc(this.databaseId,t),o.He(function(u){const m=Io(u);return 0===m.length?0:m[m.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let u=[];u.push(new Il);let m=0;for(const b of Io(e)){const B=o[m++];for(const Q of u)if(this.yn(t,b.fieldPath)&&ac(B))u=this.pn(u,b,B);else{const ie=Q.He(b.kind);Fu.Ve._e(B,ie)}}return this.In(u)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const u=[...e],m=[];for(const b of o.arrayValue.values||[])for(const B of u){const Q=new Il;Q.seed(B.Qe()),Fu.Ve._e(b,Q.He(t.kind)),m.push(Q)}return m}yn(e,t){return!!e.filters.find(o=>o instanceof Je&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=sh(e),u=Lc(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(m=>{const b=[];return Ut.forEach(m,B=>u.get([B.indexId,this.uid]).next(Q=>{b.push(function(ie,De){const dt=De?new Da(De.sequenceNumber,new Cs(Ra(De.readTime),new Zn(N(De.documentKey)),De.largestBatchId)):Da.empty(),zt=ie.fields.map(([an,Fn])=>new Xa(Di.fromServerFormat(an),Fn));return new ro(ie.indexId,ie.collectionGroup,zt,dt)}(B,Q))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const m=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==m?m:Ri(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=sh(e),m=Lc(e);return this.Tn(e).next(b=>u.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(B=>Ut.forEach(B,Q=>m.put(fg(Q.indexId,this.user,b,o)))))}updateIndexEntries(e,t){const o=new Map;return Ut.forEach(t,(u,m)=>{const b=o.get(u.collectionGroup);return(b?Ut.resolve(b):this.getFieldIndexes(e,u.collectionGroup)).next(B=>(o.set(u.collectionGroup,B),Ut.forEach(B,Q=>this.En(e,u,Q).next(ie=>{const De=this.An(m,Q);return ie.isEqual(De)?Ut.resolve():this.vn(e,m,Q,ie,De)}))))})}Rn(e,t,o,u){return Ed(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,u){return Ed(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const u=Ed(e);let m=new $r(Lu);return u.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(b,B)=>{m=m.add(new Kl(o.indexId,t,B.arrayValue,B.directionalValue))}).next(()=>m)}An(e,t){let o=new $r(Lu);const u=this.mn(t,e);if(null==u)return o;const m=Qa(t);if(null!=m){const b=e.data.field(m.fieldPath);if(ac(b))for(const B of b.arrayValue.values||[])o=o.add(new Kl(t.indexId,e.key,this.dn(B),u))}else o=o.add(new Kl(t.indexId,e.key,dp,u));return o}vn(e,t,o,u,m){hn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(B,Q,ie,De,dt){const zt=B.getIterator(),an=Q.getIterator();let Fn=Tc(zt),ci=Tc(an);for(;Fn||ci;){let fi=!1,hr=!1;if(Fn&&ci){const Lr=ie(Fn,ci);Lr<0?hr=!0:Lr>0&&(fi=!0)}else null!=Fn?hr=!0:fi=!0;fi?(De(ci),ci=Tc(an)):hr?(dt(Fn),Fn=Tc(zt)):(Fn=Tc(zt),ci=Tc(an))}}(u,m,Lu,B=>{b.push(this.Rn(e,t,o,B))},B=>{b.push(this.Pn(e,t,o,B))}),Ut.waitFor(b)}Tn(e){let t=1;return Lc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,m)=>{m.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((b,B)=>Lu(b,B)).filter((b,B,Q)=>!B||0!==Lu(b,Q[B-1]));const u=[];u.push(e);for(const b of o){const B=Lu(b,e),Q=Lu(b,t);if(0===B)u[0]=e.Je();else if(B>0&&Q<0)u.push(b),u.push(b.Je());else if(Q>0)break}u.push(t);const m=[];for(let b=0;b<u.length;b+=2){if(this.bn(u[b],u[b+1]))return[];m.push(IDBKeyRange.bound([u[b].indexId,this.uid,u[b].arrayValue,u[b].directionalValue,dp,[]],[u[b+1].indexId,this.uid,u[b+1].arrayValue,u[b+1].directionalValue,dp,[]]))}return m}bn(e,t){return Lu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ga)}getMinOffset(e,t){return Ut.mapArray(this.cn(t),o=>this.an(e,o).next(u=>u||Bn())).next(ga)}}function bg(i){return Js(i,"collectionParents")}function Ed(i){return Js(i,"indexEntries")}function sh(i){return Js(i,"indexConfiguration")}function Lc(i){return Js(i,"indexState")}function ga(i){oi(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;ca(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Cs(e.readTime,e.documentKey,t)}const oh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ka{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ka(e,ka.DEFAULT_COLLECTION_PERCENTILE,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function f_(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),m=[],b=IDBKeyRange.only(t.batchId);let B=0;const Q=o.X({range:b},(De,dt,zt)=>(B++,zt.delete()));m.push(Q.next(()=>{oi(1===B)}));const ie=[];for(const De of t.mutations){const dt=J(e,De.key.path,t.batchId);m.push(u.delete(dt)),ie.push(De.key)}return Ut.waitFor(m).next(()=>ie)}function um(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Bn();e=i.noDocument}return JSON.stringify(e).length}ka.DEFAULT_COLLECTION_PERCENTILE=10,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ka.DEFAULT=new ka(41943040,ka.DEFAULT_COLLECTION_PERCENTILE,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ka.DISABLED=new ka(-1,0,0);class Vu{constructor(e,t,o,u){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=u,this.Vn={}}static de(e,t,o,u){oi(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Vu(m,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return au(e).X({index:"userMutationsIndex",range:o},(u,m,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const m=lu(e),b=au(e);return b.add({}).next(B=>{oi("number"==typeof B);const Q=new Xp(B,t,o,u),ie=function(zt,an,Fn){const ci=Fn.baseMutations.map(hr=>bd(zt.fe,hr)),fi=Fn.mutations.map(hr=>bd(zt.fe,hr));return{userId:an,batchId:Fn.batchId,localWriteTimeMs:Fn.localWriteTime.toMillis(),baseMutations:ci,mutations:fi}}(this.serializer,this.userId,Q),De=[];let dt=new $r((zt,an)=>Ri(zt.canonicalString(),an.canonicalString()));for(const zt of u){const an=J(this.userId,zt.key.path,B);dt=dt.add(zt.key.path.popLast()),De.push(b.put(ie)),De.push(m.put(an,me))}return dt.forEach(zt=>{De.push(this.indexManager.addToCollectionParentIndex(e,zt))}),e.addOnCommittedListener(()=>{this.Vn[B]=Q.keys()}),Ut.waitFor(De).next(()=>Q)})}lookupMutationBatch(e,t){return au(e).get(t).next(o=>o?(oi(o.userId===this.userId),Fc(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?Ut.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.Vn[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return au(e).X({index:"userMutationsIndex",range:u},(b,B,Q)=>{B.userId===this.userId&&(oi(B.batchId>=o),m=Fc(this.serializer,B)),Q.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return au(e).X({index:"userMutationsIndex",range:t,reverse:!0},(u,m,b)=>{o=m.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return au(e).j("userMutationsIndex",t).next(o=>o.map(u=>Fc(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=j(this.userId,t.path),u=IDBKeyRange.lowerBound(o),m=[];return lu(e).X({range:u},(b,B,Q)=>{const[ie,De,dt]=b,zt=N(De);if(ie===this.userId&&t.path.isEqual(zt))return au(e).get(dt).next(an=>{if(!an)throw Bn();oi(an.userId===this.userId),m.push(Fc(this.serializer,an))});Q.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new $r(Ri);const u=[];return t.forEach(m=>{const b=j(this.userId,m.path),B=IDBKeyRange.lowerBound(b),Q=lu(e).X({range:B},(ie,De,dt)=>{const[zt,an,Fn]=ie,ci=N(an);zt===this.userId&&m.path.isEqual(ci)?o=o.add(Fn):dt.done()});u.push(Q)}),Ut.waitFor(u).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,m=j(this.userId,o),b=IDBKeyRange.lowerBound(m);let B=new $r(Ri);return lu(e).X({range:b},(Q,ie,De)=>{const[dt,zt,an]=Q,Fn=N(zt);dt===this.userId&&o.isPrefixOf(Fn)?Fn.length===u&&(B=B.add(an)):De.done()}).next(()=>this.Dn(e,B))}Dn(e,t){const o=[],u=[];return t.forEach(m=>{u.push(au(e).get(m).next(b=>{if(null===b)throw Bn();oi(b.userId===this.userId),o.push(Fc(this.serializer,b))}))}),Ut.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return f_(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ut.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ut.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return lu(e).X({range:o},(m,b,B)=>{if(m[0]===this.userId){const Q=N(m[1]);u.push(Q)}else B.done()}).next(()=>{oi(0===u.length)})})}containsKey(e,t){return wg(e,this.userId,t)}xn(e){return sf(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wg(i,e,t){const o=j(e,t.path),u=o[1],m=IDBKeyRange.lowerBound(o);let b=!1;return lu(i).X({range:m,Y:!0},(B,Q,ie)=>{const[De,dt,zt]=B;De===e&&dt===u&&(b=!0),ie.done()}).next(()=>b)}function au(i){return Js(i,"mutations")}function lu(i){return Js(i,"documentMutations")}function sf(i){return Js(i,"mutationQueues")}class Bu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bu(0)}static Mn(){return new Bu(-1)}}class ah{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new Bu(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>wi.fromTimestamp(new jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.On(e,u)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Cd(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(oi(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let u=0;const m=[];return Cd(e).X((b,B)=>{const Q=Nu(B);Q.sequenceNumber<=t&&null===o.get(Q.targetId)&&(u++,m.push(this.removeTargetData(e,Q)))}).next(()=>Ut.waitFor(m)).next(()=>u)}forEachTarget(e,t){return Cd(e).X((o,u)=>{const m=Nu(u);t(m)})}$n(e){return Tl(e).get("targetGlobalKey").next(t=>(oi(null!==t),t))}On(e,t){return Tl(e).put("targetGlobalKey",t)}Fn(e,t){return Cd(e).put(hg(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=ol(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return Cd(e).X({range:u,index:"queryTargetsIndex"},(b,B,Q)=>{const ie=Nu(B);kc(t,ie.target)&&(m=ie,Q.done())}).next(()=>m)}addMatchingKeys(e,t,o){const u=[],m=cu(e);return t.forEach(b=>{const B=Rs(b.path);u.push(m.put({targetId:o,path:B})),u.push(this.referenceDelegate.addReference(e,o,b))}),Ut.waitFor(u)}removeMatchingKeys(e,t,o){const u=cu(e);return Ut.forEach(t,m=>{const b=Rs(m.path);return Ut.waitFor([u.delete([o,b]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,t){const o=cu(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=cu(e);let m=Gn();return u.X({range:o,Y:!0},(b,B,Q)=>{const ie=N(b[1]),De=new Zn(ie);m=m.add(De)}).next(()=>m)}containsKey(e,t){const o=Rs(t.path),u=IDBKeyRange.bound([o],[Cc(o)],!1,!0);let m=0;return cu(e).X({index:"documentTargetsIndex",Y:!0,range:u},([b,B],Q,ie)=>{0!==b&&(m++,ie.done())}).next(()=>m>0)}le(e,t){return Cd(e).get(t).next(o=>o?Nu(o):null)}}function Cd(i){return Js(i,"targets")}function Tl(i){return Js(i,"targetGlobal")}function cu(i){return Js(i,"targetDocuments")}function Dd([i,e],[t,o]){const u=Ri(i,t);return 0===u?Ri(e,o):u}class hp{constructor(e){this.Ln=e,this.buffer=new $r(Dd),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Dd(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fp{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;hn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){wl(o)?hn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ua(o)}yield t.Qn(3e5)}))}}class dm{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Ut.resolve(Us.ct);const o=new hp(t);return this.jn.forEachTarget(e,u=>o.Kn(u.sequenceNumber)).next(()=>this.jn.Wn(e,u=>o.Kn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(hn("LruGarbageCollector","Garbage collection skipped; disabled"),Ut.resolve(oh)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(hn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oh):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,u,m,b,B,Q,ie;const De=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(dt=>(dt>this.params.maximumSequenceNumbersToCollect?(hn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${dt}`),u=this.params.maximumSequenceNumbersToCollect):u=dt,b=Date.now(),this.nthSequenceNumber(e,u))).next(dt=>(o=dt,B=Date.now(),this.removeTargets(e,o,t))).next(dt=>(m=dt,Q=Date.now(),this.removeOrphanedDocuments(e,o))).next(dt=>(ie=Date.now(),Qi()<=ce.in.DEBUG&&hn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-De}ms\n\tDetermined least recently used ${u} in `+(B-b)+`ms\n\tRemoved ${m} targets in `+(Q-B)+`ms\n\tRemoved ${dt} documents in `+(ie-Q)+`ms\nTotal Duration: ${ie-De}ms`),Ut.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:m,documentsRemoved:dt})))}}class Eg{constructor(e,t){this.db=e,this.garbageCollector=function pp(i,e){return new dm(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,u)=>t(u))}addReference(e,t,o){return Uu(e,o)}removeReference(e,t,o){return Uu(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Uu(e,t)}Xn(e,t){return function(o,u){let m=!1;return sf(o).Z(b=>wg(o,b,u).next(B=>(B&&(m=!0),Ut.resolve(!B)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let m=0;return this.Yn(e,(b,B)=>{if(B<=t){const Q=this.Xn(e,b).next(ie=>{if(!ie)return m++,o.getEntry(e,b).next(()=>(o.removeEntry(b,wi.min()),cu(e).delete([0,Rs(b.path)])))});u.push(Q)}}).next(()=>Ut.waitFor(u)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Uu(e,t)}Yn(e,t){const o=cu(e);let u,m=Us.ct;return o.X({index:"documentTargetsIndex"},([b,B],{path:Q,sequenceNumber:ie})=>{0===b?(m!==Us.ct&&t(new Zn(N(u)),m),m=ie,u=Q):m=Us.ct}).next(()=>{m!==Us.ct&&t(new Zn(N(u)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Uu(i,e){return cu(i).put((o=i.currentSequenceNumber,{targetId:0,path:Rs(e.path),sequenceNumber:o}));var o}class Cg{constructor(){this.changes=new _o(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Ut.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class p_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Hu(e).put(o)}removeEntry(e,t,o){return Hu(e).delete(function(u,m){const b=u.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],th(m),b[b.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=Gr.newInvalidDocument(t);return Hu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(lh(t))},(u,m)=>{o=this.ts(t,m)}).next(()=>o)}es(e,t){let o={size:0,document:Gr.newInvalidDocument(t)};return Hu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(lh(t))},(u,m)=>{o={document:this.ts(t,m),size:um(m)}}).next(()=>o)}getEntries(e,t){let o=So();return this.ns(e,t,(u,m)=>{const b=this.ts(u,m);o=o.insert(u,b)}).next(()=>o)}ss(e,t){let o=So(),u=new kr(Zn.comparator);return this.ns(e,t,(m,b)=>{const B=this.ts(m,b);o=o.insert(m,B),u=u.insert(m,um(b))}).next(()=>({documents:o,rs:u}))}ns(e,t,o){if(t.isEmpty())return Ut.resolve();let u=new $r(hm);t.forEach(Q=>u=u.add(Q));const m=IDBKeyRange.bound(lh(u.first()),lh(u.last())),b=u.getIterator();let B=b.getNext();return Hu(e).X({index:"documentKeyIndex",range:m},(Q,ie,De)=>{const dt=Zn.fromSegments([...ie.prefixPath,ie.collectionGroup,ie.documentId]);for(;B&&hm(B,dt)<0;)o(B,null),B=b.getNext();B&&B.isEqual(dt)&&(o(B,ie),B=b.hasNext()?b.getNext():null),B?De.G(lh(B)):De.done()}).next(()=>{for(;B;)o(B,null),B=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,t,o,u){const m=t.path,b=[m.popLast().toArray(),m.lastSegment(),th(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],B=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hu(e).j(IDBKeyRange.bound(b,B,!0)).next(Q=>{let ie=So();for(const De of Q){const dt=this.ts(Zn.fromSegments(De.prefixPath.concat(De.collectionGroup,De.documentId)),De);dt.isFoundDocument()&&(ii(t,dt)||u.has(dt.key))&&(ie=ie.insert(dt.key,dt))}return ie})}getAllFromCollectionGroup(e,t,o,u){let m=So();const b=Dg(t,o),B=Dg(t,Cs.max());return Hu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,B,!0)},(Q,ie,De)=>{const dt=this.ts(Zn.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);m=m.insert(dt.key,dt),m.size===u&&De.done()}).next(()=>m)}newChangeBuffer(e){return new mp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return af(e).get("remoteDocumentGlobalKey").next(t=>(oi(!!t),t))}Zn(e,t){return af(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function np(i,e){let t;if(e.document)t=ag(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Zn.fromSegments(e.noDocument.path),u=Ra(e.noDocument.readTime);t=Gr.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Bn();{const o=Zn.fromSegments(e.unknownDocument.path),u=Ra(e.unknownDocument.version);t=Gr.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new jr(o[0],o[1]);return wi.fromTimestamp(u)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(wi.min()))return o}return Gr.newInvalidDocument(e)}}function sr(i){return new p_(i)}class mp extends Cg{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new _o(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new $r((m,b)=>Ri(m.canonicalString(),b.canonicalString()));return this.changes.forEach((m,b)=>{const B=this.us.get(m);if(t.push(this.os.removeEntry(e,m,B.readTime)),b.isValidDocument()){const Q=dg(this.os.serializer,b);u=u.add(m.path.popLast());const ie=um(Q);o+=ie-B.size,t.push(this.os.addEntry(e,m,Q))}else if(o-=B.size,this.trackRemovals){const Q=dg(this.os.serializer,b.convertToNoDocument(wi.min()));t.push(this.os.addEntry(e,m,Q))}}),u.forEach(m=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.os.updateMetadata(e,o)),Ut.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:u})=>(u.forEach((m,b)=>{this.us.set(m,{size:b,readTime:o.get(m).readTime})}),o))}}function af(i){return Js(i,"remoteDocumentGlobal")}function Hu(i){return Js(i,"remoteDocumentsV14")}function lh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Dg(i,e){const t=e.documentKey.path.toArray();return[i,th(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hm(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let m=0;m<t.length-2&&m<o.length-2;++m)if(u=Ri(t[m],o[m]),u)return u;return u=Ri(t.length,o.length),u||(u=Ri(t[t.length-2],o[o.length-2]),u||Ri(t[t.length-1],o[o.length-1]))}class xg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lf{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&md(o.mutation,u,To.empty(),jr.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Gn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Gn()){const u=Jo();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(m=>{let b=Su();return m.forEach((B,Q)=>{b=b.insert(B,Q.overlayedDocument)}),b}))}getOverlayedDocuments(e,t){const o=Jo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Gn()))}populateOverlays(e,t,o){const u=[];return o.forEach(m=>{t.has(m)||u.push(m)}),this.documentOverlayCache.getOverlays(e,u).next(m=>{m.forEach((b,B)=>{t.set(b,B)})})}computeViews(e,t,o,u){let m=So();const b=ja(),B=ja();return t.forEach((Q,ie)=>{const De=o.get(ie.key);u.has(ie.key)&&(void 0===De||De.mutation instanceof cl)?m=m.insert(ie.key,ie):void 0!==De?(b.set(ie.key,De.mutation.getFieldMask()),md(De.mutation,ie,De.mutation.getFieldMask(),jr.now())):b.set(ie.key,To.empty())}),this.recalculateAndSaveOverlays(e,m).next(Q=>(Q.forEach((ie,De)=>b.set(ie,De)),t.forEach((ie,De)=>{var dt;return B.set(ie,new xg(De,null!==(dt=b.get(ie))&&void 0!==dt?dt:null))}),B))}recalculateAndSaveOverlays(e,t){const o=ja();let u=new kr((b,B)=>b-B),m=Gn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(b=>{for(const B of b)B.keys().forEach(Q=>{const ie=t.get(Q);if(null===ie)return;let De=o.get(Q)||To.empty();De=B.applyToLocalView(ie,De),o.set(Q,De);const dt=(u.get(B.batchId)||Gn()).add(Q);u=u.insert(B.batchId,dt)})}).next(()=>{const b=[],B=u.getReverseIterator();for(;B.hasNext();){const Q=B.getNext(),ie=Q.key,De=Q.value,dt=Au();De.forEach(zt=>{if(!m.has(zt)){const an=pd(t.get(zt),o.get(zt));null!==an&&dt.set(zt,an),m=m.add(zt)}}),b.push(this.documentOverlayCache.saveOverlays(e,ie,dt))}return Ut.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Zn.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):y(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(m=>{const b=u-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-m.size):Ut.resolve(Jo());let B=-1,Q=m;return b.next(ie=>Ut.forEach(ie,(De,dt)=>(B<dt.largestBatchId&&(B=dt.largestBatchId),m.get(De)?Ut.resolve():this.remoteDocumentCache.getEntry(e,De).next(zt=>{Q=Q.insert(De,zt)}))).next(()=>this.populateOverlays(e,ie,m)).next(()=>this.computeViews(e,Q,ie,Gn())).next(De=>({batchId:B,changes:Zd(De)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zn(t)).next(o=>{let u=Su();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let m=Su();return this.indexManager.getCollectionParents(e,u).next(b=>Ut.forEach(b,B=>{const Q=(ie=t,De=B.child(u),new al(De,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,De;return this.getDocumentsMatchingCollectionQuery(e,Q,o).next(ie=>{ie.forEach((De,dt)=>{m=m.insert(De,dt)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,u))).next(m=>{u.forEach((B,Q)=>{const ie=Q.getKey();null===m.get(ie)&&(m=m.insert(ie,Gr.newInvalidDocument(ie)))});let b=Su();return m.forEach((B,Q)=>{const ie=u.get(B);void 0!==ie&&md(ie.mutation,Q,To.empty(),jr.now()),ii(t,Q)&&(b=b.insert(B,Q))}),b})}}class fm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ut.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:er(o.createTime)}),Ut.resolve()}getNamedQuery(e,t){return Ut.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:ip(o.bundledQuery),readTime:er(o.readTime)}),Ut.resolve();var o}}class pm{constructor(){this.overlays=new kr(Zn.comparator),this.ls=new Map}getOverlay(e,t){return Ut.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Jo();return Ut.forEach(t,u=>this.getOverlay(e,u).next(m=>{null!==m&&o.set(u,m)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,m)=>{this.we(e,t,m)}),Ut.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(m=>this.overlays=this.overlays.remove(m)),this.ls.delete(o)),Ut.resolve()}getOverlaysForCollection(e,t,o){const u=Jo(),m=t.length+1,b=new Zn(t.child("")),B=this.overlays.getIteratorFrom(b);for(;B.hasNext();){const Q=B.getNext().value,ie=Q.getKey();if(!t.isPrefixOf(ie.path))break;ie.path.length===m&&Q.largestBatchId>o&&u.set(Q.getKey(),Q)}return Ut.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let m=new kr((ie,De)=>ie-De);const b=this.overlays.getIterator();for(;b.hasNext();){const ie=b.getNext().value;if(ie.getKey().getCollectionGroup()===t&&ie.largestBatchId>o){let De=m.get(ie.largestBatchId);null===De&&(De=Jo(),m=m.insert(ie.largestBatchId,De)),De.set(ie.getKey(),ie)}}const B=Jo(),Q=m.getIterator();for(;Q.hasNext()&&(Q.getNext().value.forEach((ie,De)=>B.set(ie,De)),!(B.size()>=u)););return Ut.resolve(B)}we(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const b=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new em(t,o));let m=this.ls.get(t);void 0===m&&(m=Gn(),this.ls.set(t,m)),this.ls.set(t,m.add(o.key))}}class cf{constructor(){this.fs=new $r(Os.ds),this.ws=new $r(Os._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Os(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Os(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new Zn(new yi([])),o=new Os(t,e),u=new Os(t,e+1),m=[];return this.ws.forEachInRange([o,u],b=>{this.ys(b),m.push(b.key)}),m}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Zn(new yi([])),o=new Os(t,e),u=new Os(t,e+1);let m=Gn();return this.ws.forEachInRange([o,u],b=>{m=m.add(b.key)}),m}containsKey(e){const t=new Os(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Os{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Zn.comparator(e.key,t.key)||Ri(e.As,t.As)}static _s(e,t){return Ri(e.As,t.As)||Zn.comparator(e.key,t.key)}}class gp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new $r(Os.ds)}checkEmpty(e){return Ut.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const m=this.vs;this.vs++;const b=new Xp(m,t,o,u);this.mutationQueue.push(b);for(const B of u)this.Rs=this.Rs.add(new Os(B.key,m)),this.indexManager.addToCollectionParentIndex(e,B.key.path.popLast());return Ut.resolve(b)}lookupMutationBatch(e,t){return Ut.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.bs(t+1),m=u<0?0:u;return Ut.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Ut.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Os(t,0),u=new Os(t,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([o,u],b=>{const B=this.Ps(b.As);m.push(B)}),Ut.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new $r(Ri);return t.forEach(u=>{const m=new Os(u,0),b=new Os(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,b],B=>{o=o.add(B.As)})}),Ut.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let m=o;Zn.isDocumentKey(m)||(m=m.child(""));const b=new Os(new Zn(m),0);let B=new $r(Ri);return this.Rs.forEachWhile(Q=>{const ie=Q.key.path;return!!o.isPrefixOf(ie)&&(ie.length===u&&(B=B.add(Q.As)),!0)},b),Ut.resolve(this.Vs(B))}Vs(e){const t=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){oi(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Ut.forEach(t.mutations,u=>{const m=new Os(u.key,t.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Os(t,0),u=this.Rs.firstAfterOrEqual(o);return Ut.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Ut.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ju{constructor(e){this.Ds=e,this.docs=new kr(Zn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),m=u?u.size:0,b=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:b}),this.size+=b-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Ut.resolve(o?o.document.mutableCopy():Gr.newInvalidDocument(t))}getEntries(e,t){let o=So();return t.forEach(u=>{const m=this.docs.get(u);o=o.insert(u,m?m.document.mutableCopy():Gr.newInvalidDocument(u))}),Ut.resolve(o)}getDocumentsMatchingQuery(e,t,o,u){let m=So();const b=t.path,B=new Zn(b.child("")),Q=this.docs.getIteratorFrom(B);for(;Q.hasNext();){const{key:ie,value:{document:De}}=Q.getNext();if(!b.isPrefixOf(ie.path))break;ie.path.length>b.length+1||ca(la(De),o)<=0||(u.has(De.key)||ii(t,De))&&(m=m.insert(De.key,De.mutableCopy()))}return Ut.resolve(m)}getAllFromCollectionGroup(e,t,o,u){Bn()}Cs(e,t){return Ut.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new m_(this)}getSize(e){return Ut.resolve(this.size)}}class m_ extends Cg{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Ut.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ch{constructor(e){this.persistence=e,this.xs=new _o(t=>ol(t),kc),this.lastRemoteSnapshotVersion=wi.min(),this.highestTargetId=0,this.Ns=0,this.ks=new cf,this.targetCount=0,this.Ms=Bu.kn()}forEachTarget(e,t){return this.xs.forEach((o,u)=>t(u)),Ut.resolve()}getLastRemoteSnapshotVersion(e){return Ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ut.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ut.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),Ut.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ut.resolve()}updateTargetData(e,t){return this.Fn(t),Ut.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ut.resolve()}removeTargets(e,t,o){let u=0;const m=[];return this.xs.forEach((b,B)=>{B.sequenceNumber<=t&&null===o.get(B.targetId)&&(this.xs.delete(b),m.push(this.removeMatchingKeysForTargetId(e,B.targetId)),u++)}),Ut.waitFor(m).next(()=>u)}getTargetCount(e){return Ut.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return Ut.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),Ut.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const u=this.persistence.referenceDelegate,m=[];return u&&t.forEach(b=>{m.push(u.markPotentiallyOrphaned(e,b))}),Ut.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ut.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return Ut.resolve(o)}containsKey(e,t){return Ut.resolve(this.ks.containsKey(t))}}class uh{constructor(e,t){this.$s={},this.overlays={},this.Os=new Us(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ch(this),this.indexManager=new up,this.remoteDocumentCache=new ju(o=>this.referenceDelegate.Ls(o)),this.serializer=new tp(t),this.qs=new fm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new gp(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){hn("MemoryPersistence","Starting transaction:",e);const u=new g_(this.Os.next());return this.referenceDelegate.Us(),o(u).next(m=>this.referenceDelegate.Ks(u).next(()=>m)).toPromise().then(m=>(u.raiseOnCommittedEvent(),m))}Gs(e,t){return Ut.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class g_ extends Ia{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Qs=new cf,this.js=null}static zs(e){return new xd(e)}get Ws(){if(this.js)return this.js;throw Bn()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),Ut.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),Ut.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ut.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(m=>this.Ws.add(m.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ut.forEach(this.Ws,o=>{const u=Zn.fromPath(o);return this.Hs(e,u).next(m=>{m||t.removeEntry(u,wi.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ut.or([()=>Ut.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class X_{constructor(e){this.serializer=e}O(e,t,o,u){const m=new bl("createOrUpgrade",t);var B;o<1&&u>=1&&(e.createObjectStore("owner"),(B=e).createObjectStore("mutationQueues",{keyPath:"userId"}),B.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",x,{unique:!0}),B.createObjectStore("documentMutations"),Ig(e),function(B){B.createObjectStore("remoteDocuments")}(e));let b=Ut.resolve();return o<3&&u>=3&&(0!==o&&(function(B){B.deleteObjectStore("targetDocuments"),B.deleteObjectStore("targets"),B.deleteObjectStore("targetGlobal")}(e),Ig(e)),b=b.next(()=>function(B){const Q=B.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wi.min().toTimestamp(),targetCount:0};return Q.put("targetGlobalKey",ie)}(m))),o<4&&u>=4&&(0!==o&&(b=b.next(()=>function(B,Q){return Q.store("mutations").j().next(ie=>{B.deleteObjectStore("mutations"),B.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",x,{unique:!0});const De=Q.store("mutations"),dt=ie.map(zt=>De.put(zt));return Ut.waitFor(dt)})}(e,m))),b=b.next(()=>{!function(B){B.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(b=b.next(()=>this.Ys(m))),o<6&&u>=6&&(b=b.next(()=>(function(B){B.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(m)))),o<7&&u>=7&&(b=b.next(()=>this.Zs(m))),o<8&&u>=8&&(b=b.next(()=>this.ti(e,m))),o<9&&u>=9&&(b=b.next(()=>{!function(B){B.objectStoreNames.contains("remoteDocumentChanges")&&B.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(b=b.next(()=>this.ei(m))),o<11&&u>=11&&(b=b.next(()=>{(function(B){B.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(B){B.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(b=b.next(()=>{!function(B){const Q=B.createObjectStore("documentOverlays",{keyPath:$c});Q.createIndex("collectionPathOverlayIndex",ic,{unique:!1}),Q.createIndex("collectionGroupOverlayIndex",Lo,{unique:!1})}(e)})),o<13&&u>=13&&(b=b.next(()=>function(B){const Q=B.createObjectStore("remoteDocumentsV14",{keyPath:Se});Q.createIndex("documentKeyIndex",Pt),Q.createIndex("collectionGroupIndex",tn)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(b=b.next(()=>this.si(e,m))),o<15&&u>=15&&(b=b.next(()=>function(B){B.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),B.createObjectStore("indexState",{keyPath:Hs}).createIndex("sequenceNumberIndex",fa,{unique:!1}),B.createObjectStore("indexEntries",{keyPath:La}).createIndex("documentKeyIndex",Xs,{unique:!1})}(e))),b}Xs(e){let t=0;return e.store("remoteDocuments").X((o,u)=>{t+=um(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(u=>Ut.forEach(u,m=>{const b=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",b).next(B=>Ut.forEach(B,Q=>{oi(Q.userId===m.userId);const ie=Fc(this.serializer,Q);return f_(e,m.userId,ie).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const m=[];return o.X((b,B)=>{const Q=new yi(b),ie=[0,Rs(Q)];m.push(t.get(ie).next(De=>De?Ut.resolve():t.put({targetId:0,path:Rs(Q),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Ut.waitFor(m))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ns});const o=t.store("collectionParents"),u=new rh,m=b=>{if(u.add(b)){const B=b.lastSegment(),Q=b.popLast();return o.put({collectionId:B,parent:Rs(Q)})}};return t.store("remoteDocuments").X({Y:!0},(b,B)=>{const Q=new yi(b);return m(Q.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([b,B,Q],ie)=>{const De=N(B);return m(De.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,u)=>{const m=Nu(u),b=hg(this.serializer,m);return t.put(b)})}ni(e,t){const o=t.store("remoteDocuments"),u=[];return o.X((m,b)=>{const B=t.store("remoteDocumentsV14"),Q=(ie=b,ie.document?new Zn(yi.fromString(ie.document.name).popFirst(5)):ie.noDocument?Zn.fromSegments(ie.noDocument.path):ie.unknownDocument?Zn.fromSegments(ie.unknownDocument.path):Bn()).path.toArray();var ie;const De={prefixPath:Q.slice(0,Q.length-2),collectionGroup:Q[Q.length-2],documentId:Q[Q.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};u.push(B.put(De))}).next(()=>Ut.waitFor(u))}si(e,t){const o=t.store("mutations"),u=sr(this.serializer),m=new uh(xd.zs,this.serializer.fe);return o.j().next(b=>{const B=new Map;return b.forEach(Q=>{var ie;let De=null!==(ie=B.get(Q.userId))&&void 0!==ie?ie:Gn();Fc(this.serializer,Q).keys().forEach(dt=>De=De.add(dt)),B.set(Q.userId,De)}),Ut.forEach(B,(Q,ie)=>{const De=new zn(ie),dt=sp.de(this.serializer,De),zt=m.getIndexManager(De),an=Vu.de(De,this.serializer,zt,m.referenceDelegate);return new lf(u,an,dt,zt).recalculateAndSaveOverlaysForDocumentKeys(new Ic(t,Us.ct),Q).next()})})}}function Ig(i){i.createObjectStore("targetDocuments",{keyPath:ni}).createIndex("documentTargetsIndex",Wi,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qn,{unique:!0}),i.createObjectStore("targetGlobal")}const _p="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yp{constructor(e,t,o,u,m,b,B,Q,ie,De,dt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=m,this.window=b,this.document=B,this.ri=ie,this.oi=De,this.ui=dt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=zt=>Promise.resolve(),!yp.D())throw new _n(Gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Eg(this,u),this.di=t+"main",this.serializer=new tp(Q),this.wi=new rr(this.di,this.ui,new X_(this.serializer)),this.Bs=new ah(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sr(this.serializer),this.qs=new u_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===De&&Ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _n(Gt.FAILED_PRECONDITION,_p);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Us(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,f.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,f.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,f.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(wl(e))return hn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return hn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return zu(e).get("owner").next(t=>Ut.resolve(this.Ri(t)))}Pi(e){return Vc(e).delete(this.clientId)}bi(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Js(o,"clientMetadata");return u.j().next(m=>{const b=e.Si(m,18e5),B=m.filter(Q=>-1===b.indexOf(Q));return Ut.forEach(B,Q=>u.delete(Q.clientId)).next(()=>B)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ut.resolve(!0):zu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new _n(Gt.FAILED_PRECONDITION,_p);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vc(e).j().next(o=>void 0===this.Si(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(t=>(this.isPrimary!==t&&hn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,f.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Ic(t,Us.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Vc(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Vu.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new h_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return sp.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){hn("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",m=15===(b=this.ui)?xc:14===b?Gc:13===b?El:12===b?gu:11===b?Va:void Bn();var b;let B;return this.wi.runTransaction(e,u,m,Q=>(B=new Ic(Q,this.Os?this.Os.next():Us.ct),"readwrite-primary"===t?this.Ti(B).next(ie=>!!ie||this.Ei(B)).next(ie=>{if(!ie)throw Ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new _n(Gt.FAILED_PRECONDITION,xa);return o(B)}).next(ie=>this.vi(B).next(()=>ie)):this.Oi(B).next(()=>o(B)))).then(Q=>(B.raiseOnCommittedEvent(),Q))}Oi(e){return zu(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new _n(Gt.FAILED_PRECONDITION,_p)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zu(e).put("owner",t)}static D(){return rr.D()}Ai(e){const t=zu(e);return t.get("owner").next(o=>this.Ri(o)?(hn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ut.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Ai(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,S.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return hn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ai("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ai("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zu(i){return Js(i,"owner")}function Vc(i){return Js(i,"clientMetadata")}function mm(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class $u{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=u}static Li(e,t){let o=Gn(),u=Gn();for(const m of t.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:u=u.add(m.doc.key)}return new $u(e,t.fromCache,o,u)}}class dl{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.Ki(e,t).next(m=>m||this.Gi(e,t,u,o)).next(m=>m||this.Qi(e,t))}Ki(e,t){if(xl(t))return Ut.resolve(null);let o=V(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Me(t,null,"F"),o=V(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(m=>{const b=Gn(...m);return this.Ui.getDocuments(e,b).next(B=>this.indexManager.getMinOffset(e,o).next(Q=>{const ie=this.ji(t,B);return this.zi(t,ie,b,Q.readTime)?this.Ki(e,Me(t,null,"F")):this.Wi(e,ie,t,Q)}))})))}Gi(e,t,o,u){return xl(t)||u.isEqual(wi.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(m=>{const b=this.ji(t,m);return this.zi(t,b,o,u)?this.Qi(e,t):(Qi()<=ce.in.DEBUG&&hn("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Rn(t)),this.Wi(e,b,t,el(u,-1)))})}ji(e,t){let o=new $r(ki(e));return t.forEach((u,m)=>{ii(e,m)&&(o=o.add(m))}),o}zi(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(u)>0)}Qi(e,t){return Qi()<=ce.in.DEBUG&&hn("QueryEngine","Using full collection scan to execute query:",Rn(t)),this.Ui.getDocumentsMatchingQuery(e,t,Cs.min())}Wi(e,t,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(m=>(t.forEach(b=>{m=m.insert(b.key,b)}),m))}}class df{constructor(e,t,o,u){this.persistence=e,this.Hi=t,this.serializer=u,this.Ji=new kr(Ri),this.Yi=new _o(m=>ol(m),kc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function gm(i,e,t,o){return new df(i,e,t,o)}function _m(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,f.Z)(function*(i,e){const t=Pn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(m=>(u=m,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(m=>{const b=[],B=[];let Q=Gn();for(const ie of u){b.push(ie.batchId);for(const De of ie.mutations)Q=Q.add(De.key)}for(const ie of m){B.push(ie.batchId);for(const De of ie.mutations)Q=Q.add(De.key)}return t.localDocuments.getDocuments(o,Q).next(ie=>({er:ie,removedBatchIds:b,addedBatchIds:B}))})})}),hf.apply(this,arguments)}function dh(i){const e=Pn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function hl(i,e,t){let o=Gn(),u=Gn();return t.forEach(m=>o=o.add(m)),e.getEntries(i,o).next(m=>{let b=So();return t.forEach((B,Q)=>{const ie=m.get(B);Q.isFoundDocument()!==ie.isFoundDocument()&&(u=u.add(B)),Q.isNoDocument()&&Q.version.isEqual(wi.min())?(e.removeEntry(B,Q.readTime),b=b.insert(B,Q)):!ie.isValidDocument()||Q.version.compareTo(ie.version)>0||0===Q.version.compareTo(ie.version)&&ie.hasPendingWrites?(e.addEntry(Q),b=b.insert(B,Q)):hn("LocalStore","Ignoring outdated watch update for ",B,". Current version:",ie.version," Watch version:",Q.version)}),{nr:b,sr:u}})}function Tg(i,e){const t=Pn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Id(i,e){const t=Pn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Bs.getTargetData(o,e).next(m=>m?(u=m,Ut.resolve(u)):t.Bs.allocateTargetId(o).next(b=>(u=new hc(e,b,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function Bc(i,e,t){return hh.apply(this,arguments)}function hh(){return hh=(0,f.Z)(function*(i,e,t){const o=Pn(i),u=o.Ji.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",m,b=>o.persistence.referenceDelegate.removeTarget(b,u)))}catch(b){if(!wl(b))throw b;hn("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),hh.apply(this,arguments)}function $a(i,e,t){const o=Pn(i);let u=wi.min(),m=Gn();return o.persistence.runTransaction("Execute query","readonly",b=>function(B,Q,ie){const De=Pn(B),dt=De.Yi.get(ie);return void 0!==dt?Ut.resolve(De.Ji.get(dt)):De.Bs.getTargetData(Q,ie)}(o,b,V(e)).next(B=>{if(B)return u=B.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(b,B.targetId).next(Q=>{m=Q})}).next(()=>o.Hi.getDocumentsMatchingQuery(b,e,t?u:wi.min(),t?m:Gn())).next(B=>(Ag(o,Mi(e),B),{documents:B,ir:m})))}function pf(i,e){const t=Pn(i),o=Pn(t.Bs),u=t.Ji.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",m=>o.le(m,e).next(b=>b?b.target:null))}function Sg(i,e){const t=Pn(i),o=t.Xi.get(e)||wi.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Zi.getAllFromCollectionGroup(u,e,el(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Ag(t,e,u),u))}function Ag(i,e,t){let o=i.Xi.get(e)||wi.min();t.forEach((u,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),i.Xi.set(e,o)}function vp(){return vp=(0,f.Z)(function*(i,e,t,o){const u=Pn(i);let m=Gn(),b=So();for(const ie of t){const De=e.rr(ie.metadata.name);ie.document&&(m=m.add(De));const dt=e.ur(ie);dt.setReadTime(e.cr(ie.metadata.readTime)),b=b.insert(De,dt)}const B=u.Zi.newChangeBuffer({trackRemovals:!0}),Q=yield Id(u,(ie=o,V(Oc(yi.fromString(`__bundle__/docs/${ie}`)))));var ie;return u.persistence.runTransaction("Apply bundle documents","readwrite",ie=>hl(ie,B,b).next(De=>(B.apply(ie),De)).next(De=>u.Bs.removeMatchingKeysForTargetId(ie,Q.targetId).next(()=>u.Bs.addMatchingKeys(ie,m,Q.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(ie,De.nr,De.sr)).next(()=>De.nr)))}),vp.apply(this,arguments)}function y_(i,e){return mf.apply(this,arguments)}function mf(){return mf=(0,f.Z)(function*(i,e,t=Gn()){const o=yield Id(i,V(ip(e.bundledQuery))),u=Pn(i);return u.persistence.runTransaction("Save named query","readwrite",m=>{const b=er(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return u.qs.saveNamedQuery(m,e);const B=o.withResumeToken(ks.EMPTY_BYTE_STRING,b);return u.Ji=u.Ji.insert(B.targetId,B),u.Bs.updateTargetData(m,B).next(()=>u.Bs.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>u.Bs.addMatchingKeys(m,t,o.targetId)).next(()=>u.qs.saveNamedQuery(m,e))})}),mf.apply(this,arguments)}function ph(i,e){return`firestore_clients_${i}_${e}`}function ym(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Td(i,e){return`firestore_targets_${i}_${e}`}class uu{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static ar(e,t,o){const u=JSON.parse(o);let m,b="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return b&&u.error&&(b="string"==typeof u.error.message&&"string"==typeof u.error.code,b&&(m=new _n(u.error.code,u.error.message))),b?new uu(e,t,u.state,m):(Ai("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class du{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let u,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(u=new _n(o.error.code,o.error.message))),m?new du(e,o.state,u):(Ai("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,m=cc();for(let b=0;u&&b<o.activeTargetIds.length;++b)u=ts(o.activeTargetIds[b]),m=m.add(o.activeTargetIds[b]);return u?new pc(e,m):(Ai("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gf{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gf(t.clientId,t.onlineState):(Ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gu{constructor(){this.activeTargetIds=cc()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bp{constructor(e,t,o,u,m){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new kr(Ri),this.started=!1,this.yr=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.pr=ph(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Gu),this.Tr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(B){return`firestore_bundle_loaded_v2_${B}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const t=yield e.syncEngine.$i();for(const u of t){if(u===e.wr)continue;const m=e.getItem(ph(e.persistenceKey,u));if(m){const b=pc.ar(u,m);b&&(e.gr=e.gr.insert(b.clientId,b))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const u=e.br(o);u&&e.Vr(u)}for(const u of e.yr)e.mr(u);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Td(this.persistenceKey,e));if(o){const u=du.ar(e,o);u&&(t=u.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Td(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Cr(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return hn("SharedClientState","READ",e,t),t}setItem(e,t){hn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){hn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(hn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void Ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,f.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const u=t.Or(o.key);return t.Fr(u,null)}{const u=t.Br(o.key,o.newValue);if(u)return t.Fr(u.clientId,u)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const u=t.Lr(o.key,o.newValue);if(u)return t.qr(u)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const u=t.Ur(o.key,o.newValue);if(u)return t.Kr(u)}}else if(o.key===t.vr){if(null!==o.newValue){const u=t.br(o.newValue);if(u)return t.Vr(u)}}else if(o.key===t.Ir){const u=function(m){let b=Us.ct;if(null!=m)try{const B=JSON.parse(m);oi("number"==typeof B),b=B}catch(B){Ai("SharedClientState","Failed to read sequence number from WebStorage",B)}return b}(o.newValue);u!==Us.ct&&t.sequenceNumberHandler(u)}else if(o.key===t.Rr){const u=t.Gr(o.newValue);yield Promise.all(u.map(m=>t.syncEngine.Qr(m)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const u=new uu(this.currentUser,e,t,o),m=ym(this.persistenceKey,this.currentUser,e);this.setItem(m,u.hr())}Cr(e){const t=ym(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const u=Td(this.persistenceKey,e),m=new du(e,t,o);this.setItem(u,m.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return pc.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),u=Number(o[1]);return uu.ar(new zn(void 0!==o[2]?o[2]:null),u,t)}Ur(e,t){const o=this.Ar.exec(e),u=Number(o[1]);return du.ar(u,t)}br(e){return gf.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,f.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);hn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),u=this.Sr(this.gr),m=this.Sr(o),b=[],B=[];return m.forEach(Q=>{u.has(Q)||b.push(Q)}),u.forEach(Q=>{m.has(Q)||B.push(Q)}),this.syncEngine.Wr(b,B).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=cc();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class wp{constructor(){this.Hr=new Gu,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Gu,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vm{Yr(e){}shutdown(){}}class _f{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){hn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){hn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yf=null;function vf(){return null===yf?yf=268435456+Math.round(2147483648*Math.random()):yf++,"0x"+yf.toString(16)}const v_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bm{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ea="WebChannelConnection";class b_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,u,m){const b=vf(),B=this.To(e,t);hn("RestConnection",`Sending RPC '${e}' ${b}:`,B,o);const Q={};return this.Eo(Q,u,m),this.Ao(e,B,Q,o).then(ie=>(hn("RestConnection",`Received RPC '${e}' ${b}: `,ie),ie),ie=>{throw gr("RestConnection",`RPC '${e}' ${b} failed with error: `,ie,"url: ",B,"request:",o),ie})}vo(e,t,o,u,m,b){return this.Io(e,t,o,u,m)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ar,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,m)=>e[m]=u),o&&o.headers.forEach((u,m)=>e[m]=u)}To(e,t){return`${this.mo}/v1/${t}:${v_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,u){const m=vf();return new Promise((b,B)=>{const Q=new _e;Q.setWithCredentials(!0),Q.listenOnce(wc.COMPLETE,()=>{try{switch(Q.getLastErrorCode()){case aa.NO_ERROR:const De=Q.getResponseJson();hn(ea,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(De)),b(De);break;case aa.TIMEOUT:hn(ea,`RPC '${e}' ${m} timed out`),B(new _n(Gt.DEADLINE_EXCEEDED,"Request time out"));break;case aa.HTTP_ERROR:const dt=Q.getStatus();if(hn(ea,`RPC '${e}' ${m} failed with status:`,dt,"response text:",Q.getResponseText()),dt>0){let zt=Q.getResponseJson();Array.isArray(zt)&&(zt=zt[0]);const an=zt?.error;if(an&&an.status&&an.message){const Fn=function(ci){const fi=ci.toLowerCase().replace(/_/g,"-");return Object.values(Gt).indexOf(fi)>=0?fi:Gt.UNKNOWN}(an.status);B(new _n(Fn,an.message))}else B(new _n(Gt.UNKNOWN,"Server responded with status "+Q.getStatus()))}else B(new _n(Gt.UNAVAILABLE,"Connection failed."));break;default:Bn()}}finally{hn(ea,`RPC '${e}' ${m} completed.`)}});const ie=JSON.stringify(u);hn(ea,`RPC '${e}' ${m} sending request:`,u),Q.send(t,"POST",ie,o,15)})}Ro(e,t,o){const u=vf(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=bc(),B=jc(),Q={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ie=this.longPollingOptions.timeoutSeconds;void 0!==ie&&(Q.longPollingTimeout=Math.round(1e3*ie)),this.useFetchStreams&&(Q.xmlHttpFactory=new se({})),this.Eo(Q.initMessageHeaders,t,o),Q.encodeInitMessageHeaders=!0;const De=m.join("");hn(ea,`Creating RPC '${e}' stream ${u}: ${De}`,Q);const dt=b.createWebChannel(De,Q);let zt=!1,an=!1;const Fn=new bm({ro:fi=>{an?hn(ea,`Not sending because RPC '${e}' stream ${u} is closed:`,fi):(zt||(hn(ea,`Opening RPC '${e}' stream ${u} transport.`),dt.open(),zt=!0),hn(ea,`RPC '${e}' stream ${u} sending:`,fi),dt.send(fi))},oo:()=>dt.close()}),ci=(fi,hr,Lr)=>{fi.listen(hr,Cr=>{try{Lr(Cr)}catch(ya){setTimeout(()=>{throw ya},0)}})};return ci(dt,G.EventType.OPEN,()=>{an||hn(ea,`RPC '${e}' stream ${u} transport opened.`)}),ci(dt,G.EventType.CLOSE,()=>{an||(an=!0,hn(ea,`RPC '${e}' stream ${u} transport closed`),Fn.wo())}),ci(dt,G.EventType.ERROR,fi=>{an||(an=!0,gr(ea,`RPC '${e}' stream ${u} transport errored:`,fi),Fn.wo(new _n(Gt.UNAVAILABLE,"The operation could not be completed")))}),ci(dt,G.EventType.MESSAGE,fi=>{var hr;if(!an){const Lr=fi.data[0];oi(!!Lr);const ya=Lr.error||(null===(hr=Lr[0])||void 0===hr?void 0:hr.error);if(ya){hn(ea,`RPC '${e}' stream ${u} received error:`,ya);const zo=ya.status;let to=function(Uf){const r_=oo[Uf];if(void 0!==r_)return Qd(r_)}(zo),tc=ya.message;void 0===to&&(to=Gt.INTERNAL,tc="Unknown error status: "+zo+" with message "+ya.message),an=!0,Fn.wo(new _n(to,tc)),dt.close()}else hn(ea,`RPC '${e}' stream ${u} received:`,Lr),Fn._o(Lr)}}),ci(B,kl.STAT_EVENT,fi=>{fi.stat===H.PROXY?hn(ea,`RPC '${e}' stream ${u} detected buffering proxy`):fi.stat===H.NOPROXY&&hn(ea,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Fn.fo()},0),Fn}}function Wu(){return typeof window<"u"?window:null}function Zl(){return typeof document<"u"?document:null}function bf(i){return new qf(i,!0)}class wf{constructor(e,t,o=1e3,u=1.5,m=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=u,this.Vo=m,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,t-o);u>0&&hn("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class _a{constructor(e,t,o,u,m,b,B,Q){this.ii=e,this.$o=o,this.Oo=u,this.connection=m,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=B,this.listener=Q,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,f.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,f.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,f.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===Gt.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===Gt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===t&&this.Zo(o,u)},o=>{e(()=>{const u=new _n(Gt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,f.Z)(function*(){e.state=0,e.start()}))}tu(e){return hn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(hn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w_ extends _a{constructor(e,t,o,u,m,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,b),this.serializer=m}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Xh(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(Q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:Bn(),u=e.targetChange.targetIds||[],m=function(Q,ie){return Q.useProto3Json?(oi(void 0===ie||"string"==typeof ie),ks.fromBase64String(ie||"")):(oi(void 0===ie||ie instanceof Uint8Array),ks.fromUint8Array(ie||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,B=b&&function(Q){const ie=void 0===Q.code?Gt.UNKNOWN:Qd(Q.code);return new _n(ie,Q.message||"")}(b);t=new Nc(o,u,m,B||null)}else if("documentChange"in e){const o=e.documentChange,u=Wl(i,o.document.name),m=er(o.document.updateTime),b=o.document.createTime?er(o.document.createTime):wi.min(),B=new eo({mapValue:{fields:o.document.fields}}),Q=Gr.newFoundDocument(u,m,b,B);t=new Zf(o.targetIds||[],o.removedTargetIds||[],Q.key,Q)}else if("documentDelete"in e){const o=e.documentDelete,u=Wl(i,o.document),m=o.readTime?er(o.readTime):wi.min(),b=Gr.newNoDocument(u,m);t=new Zf([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,u=Wl(i,o.document);t=new Zf([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Bn();{const o=e.filter,{count:u=0,unchangedNames:m}=o,b=new tm(u,m);t=new yd(o.targetId,b)}}var Q;return t}(this.serializer,e),o=function(u){if(!("targetChange"in u))return wi.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?wi.min():m.readTime?er(m.readTime):wi.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Qh(this.serializer),t.addTarget=function(u,m){let b;const B=m.target;if(b=xu(B)?{documents:am(u,B)}:{query:cg(u,B)},b.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){b.resumeToken=dc(u,m.resumeToken);const Q=Gl(u,m.expectedCount);null!==Q&&(b.expectedCount=Q)}else if(m.snapshotVersion.compareTo(wi.min())>0){b.readTime=Pu(u,m.snapshotVersion.toTimestamp());const Q=Gl(u,m.expectedCount);null!==Q&&(b.expectedCount=Q)}return b}(this.serializer,e);const o=function Jf(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Qh(this.serializer),t.removeTarget=e,this.Wo(t)}}class mh extends _a{constructor(e,t,o,u,m,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,b),this.serializer=m,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(oi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function lg(i,e){return i&&i.length>0?(oi(void 0!==e),i.map(t=>function(o,u){let m=er(o.updateTime?o.updateTime:u);return m.isEqual(wi.min())&&(m=er(u)),new Wh(m,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=er(e.commitTime);return this.listener.cu(o,t)}return oi(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Qh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>bd(this.serializer,o))};this.Wo(t)}}class J_ extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new _n(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.Io(e,t,o,u,m)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _n(Gt.UNKNOWN,u.toString())})}vo(e,t,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,b])=>this.connection.vo(e,t,o,m,b,u)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new _n(Gt.UNKNOWN,m.toString())})}terminate(){this.lu=!0}}class Mg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ai(t),this.mu=!1):hn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Cp{constructor(e,t,o,u,m){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=m,this.Pu.Yr(B=>{o.enqueueAndForget((0,f.Z)(function*(){var Q;Uo(b)&&(hn("RemoteStore","Restarting streams for network reachability change."),yield(Q=(0,f.Z)(function*(ie){const De=Pn(ie);De.vu.add(4),yield _h(De),De.bu.set("Unknown"),De.vu.delete(4),yield Sd(De)}),function(ie){return Q.apply(this,arguments)})(b))}))}),this.bu=new Mg(o,u)}}function Sd(i){return gh.apply(this,arguments)}function gh(){return gh=(0,f.Z)(function*(i){if(Uo(i))for(const e of i.Ru)yield e(!0)}),gh.apply(this,arguments)}function _h(i){return wm.apply(this,arguments)}function wm(){return wm=(0,f.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),wm.apply(this,arguments)}function Ku(i,e){const t=Pn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Ip(t)?xp(t):Pd(t).Ko()&&Dp(t,e))}function Cf(i,e){const t=Pn(i),o=Pd(t);t.Au.delete(e),o.Ko()&&Rg(t,e),0===t.Au.size&&(o.Ko()?o.jo():Uo(t)&&t.bu.set("Unknown"))}function Dp(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wi.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pd(i).su(e)}function Rg(i,e){i.Vu.qt(e),Pd(i).iu(e)}function xp(i){i.Vu=new q_({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Pd(i).start(),i.bu.gu()}function Ip(i){return Uo(i)&&!Pd(i).Uo()&&i.Au.size>0}function Uo(i){return 0===Pn(i).vu.size}function Df(i){i.Vu=void 0}function fl(i){return yh.apply(this,arguments)}function yh(){return yh=(0,f.Z)(function*(i){i.Au.forEach((e,t)=>{Dp(i,e)})}),yh.apply(this,arguments)}function hu(i,e){return vh.apply(this,arguments)}function vh(){return vh=(0,f.Z)(function*(i,e){Df(i),Ip(i)?(i.bu.Iu(e),xp(i)):i.bu.set("Unknown")}),vh.apply(this,arguments)}function ql(i,e,t){return fu.apply(this,arguments)}function fu(){return fu=(0,f.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof Nc&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(u,m){const b=m.cause;for(const B of m.targetIds)u.Au.has(B)&&(yield u.remoteSyncer.rejectListen(B,b),u.Au.delete(B),u.Vu.removeTarget(B))}),function(u,m){return o.apply(this,arguments)})(i,e)}catch(o){hn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Ad(i,o)}else if(e instanceof Zf?i.Vu.Ht(e):e instanceof yd?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(wi.min()))try{const o=yield dh(i.localStore);t.compareTo(o)>=0&&(yield function(u,m){const b=u.Vu.ce(m);return b.targetChanges.forEach((B,Q)=>{if(B.resumeToken.approximateByteSize()>0){const ie=u.Au.get(Q);ie&&u.Au.set(Q,ie.withResumeToken(B.resumeToken,m))}}),b.targetMismatches.forEach((B,Q)=>{const ie=u.Au.get(B);if(!ie)return;u.Au.set(B,ie.withResumeToken(ks.EMPTY_BYTE_STRING,ie.snapshotVersion)),Rg(u,B);const De=new hc(ie.target,B,Q,ie.sequenceNumber);Dp(u,De)}),u.remoteSyncer.applyRemoteEvent(b)}(i,t))}catch(o){hn("RemoteStore","Failed to raise snapshot:",o),yield Ad(i,o)}var o}),fu.apply(this,arguments)}function Ad(i,e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,f.Z)(function*(i,e,t){if(!wl(e))throw e;i.vu.add(1),yield _h(i),i.bu.set("Offline"),t||(t=()=>dh(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){hn("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield Sd(i)}))}),Tp.apply(this,arguments)}function Yu(i,e){return e().catch(t=>Ad(i,t,e))}function Zu(i){return bh.apply(this,arguments)}function bh(){return bh=(0,f.Z)(function*(i){const e=Pn(i),t=qu(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Sp(e);)try{const u=yield Tg(e.localStore,o);if(null===u){0===e.Eu.length&&t.jo();break}o=u.batchId,kg(e,u)}catch(u){yield Ad(e,u)}Ap(e)&&E_(e)}),bh.apply(this,arguments)}function Sp(i){return Uo(i)&&i.Eu.length<10}function kg(i,e){i.Eu.push(e);const t=qu(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function Ap(i){return Uo(i)&&!qu(i).Uo()&&i.Eu.length>0}function E_(i){qu(i).start()}function Og(i){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,f.Z)(function*(i){qu(i).hu()}),Mp.apply(this,arguments)}function wh(i){return Md.apply(this,arguments)}function Md(){return Md=(0,f.Z)(function*(i){const e=qu(i);for(const t of i.Eu)e.uu(t.mutations)}),Md.apply(this,arguments)}function Rd(i,e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,f.Z)(function*(i,e,t){const o=i.Eu.shift(),u=Jp.from(o,e,t);yield Yu(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Zu(i)}),Sl.apply(this,arguments)}function xf(i,e){return kd.apply(this,arguments)}function kd(){return kd=(0,f.Z)(function*(i,e){var t;e&&qu(i).ou&&(yield(t=(0,f.Z)(function*(o,u){if(Yh(m=u.code)&&m!==Gt.ABORTED){const b=o.Eu.shift();qu(o).Qo(),yield Yu(o,()=>o.remoteSyncer.rejectFailedWrite(b.batchId,u)),yield Zu(o)}var m}),function(o,u){return t.apply(this,arguments)})(i,e)),Ap(i)&&E_(i)}),kd.apply(this,arguments)}function Od(i,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,f.Z)(function*(i,e){const t=Pn(i);t.asyncQueue.verifyOperationInProgress(),hn("RemoteStore","RemoteStore received new credentials");const o=Uo(t);t.vu.add(3),yield _h(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Sd(t)}),Rp.apply(this,arguments)}function If(i,e){return pl.apply(this,arguments)}function pl(){return pl=(0,f.Z)(function*(i,e){const t=Pn(i);e?(t.vu.delete(2),yield Sd(t)):e||(t.vu.add(2),yield _h(t),t.bu.set("Unknown"))}),pl.apply(this,arguments)}function Pd(i){return i.Su||(i.Su=function(e,t,o){const u=Pn(e);return u.fu(),new w_(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:fl.bind(null,i),ao:hu.bind(null,i),nu:ql.bind(null,i)}),i.Ru.push(function(){var e=(0,f.Z)(function*(t){t?(i.Su.Qo(),Ip(i)?xp(i):i.bu.set("Unknown")):(yield i.Su.stop(),Df(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function qu(i){return i.Du||(i.Du=function(e,t,o){const u=Pn(e);return u.fu(),new mh(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Og.bind(null,i),ao:xf.bind(null,i),au:wh.bind(null,i),cu:Rd.bind(null,i)}),i.Ru.push(function(){var e=(0,f.Z)(function*(t){t?(i.Du.Qo(),yield Zu(i)):(yield i.Du.stop(),i.Eu.length>0&&(hn("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class Nd{constructor(e,t,o,u,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=m,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,o,u,m){const b=Date.now()+o,B=new Nd(e,t,b,u,m);return B.start(o),B}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _n(Gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eh(i,e){if(Ai("AsyncQueue",`${e}: ${i}`),wl(i))return new _n(Gt.UNAVAILABLE,`${e}: ${i}`);throw i}class Ch{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Zn.comparator(t.key,o.key):(t,o)=>Zn.comparator(t.key,o.key),this.keyedMap=Su(),this.sortedSet=new kr(this.comparator)}static emptySet(e){return new Ch(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ch)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,m=o.getNext().key;if(!u.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Ch;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Pg{constructor(){this.Cu=new kr(Zn.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Bn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Dh{constructor(e,t,o,u,m,b,B,Q,ie){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=m,this.fromCache=b,this.syncStateChanged=B,this.excludesMetadataChanges=Q,this.hasCachedResults=ie}static fromInitialDocuments(e,t,o,u,m){const b=[];return t.forEach(B=>{b.push({type:0,doc:B})}),new Dh(e,t,Ch.emptySet(t),b,o,u,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class C_{constructor(){this.Nu=void 0,this.listeners=[]}}class D_{constructor(){this.queries=new _o(e=>Xt(e),Rt),this.onlineState="Unknown",this.ku=new Set}}function Em(i,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,f.Z)(function*(i,e){const t=Pn(i),o=e.query;let u=!1,m=t.queries.get(o);if(m||(u=!0,m=new C_),u)try{m.Nu=yield t.onListen(o)}catch(b){const B=Eh(b,`Initialization of query '${Rn(e.query)}' failed`);return void e.onError(B)}t.queries.set(o,m),m.listeners.push(e),e.Mu(t.onlineState),m.Nu&&e.$u(m.Nu)&&Tf(t)}),Cm.apply(this,arguments)}function Dm(i,e){return kp.apply(this,arguments)}function kp(){return kp=(0,f.Z)(function*(i,e){const t=Pn(i),o=e.query;let u=!1;const m=t.queries.get(o);if(m){const b=m.listeners.indexOf(e);b>=0&&(m.listeners.splice(b,1),u=0===m.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),kp.apply(this,arguments)}function xm(i,e){const t=Pn(i);let o=!1;for(const u of e){const b=t.queries.get(u.query);if(b){for(const B of b.listeners)B.$u(u)&&(o=!0);b.Nu=u}}o&&Tf(t)}function x_(i,e,t){const o=Pn(i),u=o.queries.get(e);if(u)for(const m of u.listeners)m.onError(t);o.queries.delete(e)}function Tf(i){i.ku.forEach(e=>{e.next()})}class Im{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Dh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class I_{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Ng{constructor(e){this.serializer=e}rr(e){return Wl(this.serializer,e)}ur(e){return e.metadata.exists?ag(this.serializer,e.document,!1):Gr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return er(e)}}class T_{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Fg(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=yi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new Ng(this.serializer);for(const u of e)if(u.metadata.queries){const m=o.rr(u.metadata.name);for(const b of u.metadata.queries){const B=(t.get(b)||Gn()).add(m);t.set(b,B)}}return t}complete(){var e=this;return(0,f.Z)(function*(){const t=yield function fh(i,e,t,o){return vp.apply(this,arguments)}(e.localStore,new Ng(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const u of e.queries)yield y_(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Fg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Lg{constructor(e){this.key=e}}class Ql{constructor(e){this.key=e}}class Tm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gn(),this.mutatedKeys=Gn(),this.tc=ki(e),this.ec=new Ch(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new Pg,u=t?t.ec:this.ec;let m=t?t.mutatedKeys:this.mutatedKeys,b=u,B=!1;const Q="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,ie="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((De,dt)=>{const zt=u.get(De),an=ii(this.query,dt)?dt:null,Fn=!!zt&&this.mutatedKeys.has(zt.key),ci=!!an&&(an.hasLocalMutations||this.mutatedKeys.has(an.key)&&an.hasCommittedMutations);let fi=!1;zt&&an?zt.data.isEqual(an.data)?Fn!==ci&&(o.track({type:3,doc:an}),fi=!0):this.rc(zt,an)||(o.track({type:2,doc:an}),fi=!0,(Q&&this.tc(an,Q)>0||ie&&this.tc(an,ie)<0)&&(B=!0)):!zt&&an?(o.track({type:0,doc:an}),fi=!0):zt&&!an&&(o.track({type:1,doc:zt}),fi=!0,(Q||ie)&&(B=!0)),fi&&(an?(b=b.add(an),m=ci?m.add(De):m.delete(De)):(b=b.delete(De),m=m.delete(De)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const De="F"===this.query.limitType?b.last():b.first();b=b.delete(De.key),m=m.delete(De.key),o.track({type:1,doc:De})}return{ec:b,ic:o,zi:B,mutatedKeys:m}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const m=e.ic.xu();m.sort((ie,De)=>function(dt,zt){const an=Fn=>{switch(Fn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bn()}};return an(dt)-an(zt)}(ie.type,De.type)||this.tc(ie.doc,De.doc)),this.oc(o);const b=t?this.uc():[],B=0===this.Zu.size&&this.current?1:0,Q=B!==this.Xu;return this.Xu=B,0!==m.length||Q?{snapshot:new Dh(this.query,e.ec,u,m,e.mutatedKeys,0===B,Q,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:b}:{cc:b}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Pg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Gn(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new Ql(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new Lg(o))}),t}hc(e){this.Yu=e.ir,this.Zu=Gn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Dh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Op{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Vg{constructor(e){this.key=e,this.fc=!1}}class ey{constructor(e,t,o,u,m,b){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=m,this.maxConcurrentLimboResolutions=b,this.dc={},this.wc=new _o(B=>Xt(B),Rt),this._c=new Map,this.mc=new Set,this.gc=new kr(Zn.comparator),this.yc=new Map,this.Ic=new cf,this.Tc={},this.Ec=new Map,this.Ac=Bu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Sm(i,e){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,f.Z)(function*(i,e){const t=Rf(i);let o,u;const m=t.wc.get(e);if(m)o=m.targetId,t.sharedClientState.addLocalQueryTarget(o),u=m.view.lc();else{const b=yield Id(t.localStore,V(e)),B=t.sharedClientState.addLocalQueryTarget(b.targetId);o=b.targetId,u=yield xh(t,e,o,"current"===B,b.resumeToken),t.isPrimaryClient&&Ku(t.remoteStore,b)}return u}),Bg.apply(this,arguments)}function xh(i,e,t,o,u){return Am.apply(this,arguments)}function Am(){return Am=(0,f.Z)(function*(i,e,t,o,u){i.Rc=(dt,zt,an)=>{return(Fn=(0,f.Z)(function*(ci,fi,hr,Lr){let Cr=fi.view.sc(hr);Cr.zi&&(Cr=yield $a(ci.localStore,fi.query,!1).then(({documents:to})=>fi.view.sc(to,Cr)));const ya=Lr&&Lr.targetChanges.get(fi.targetId),zo=fi.view.applyChanges(Cr,ci.isPrimaryClient,ya);return Np(ci,fi.targetId,zo.cc),zo.snapshot}),function(ci,fi,hr,Lr){return Fn.apply(this,arguments)})(i,dt,zt,an);var Fn};const m=yield $a(i.localStore,e,!0),b=new Tm(e,m.ir),B=b.sc(m.documents),Q=Ou.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),ie=b.applyChanges(B,i.isPrimaryClient,Q);Np(i,t,ie.cc);const De=new Op(e,t,b);return i.wc.set(e,De),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),ie.snapshot}),Am.apply(this,arguments)}function S_(i,e){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,f.Z)(function*(i,e){const t=Pn(i),o=t.wc.get(e),u=t._c.get(o.targetId);if(u.length>1)return t._c.set(o.targetId,u.filter(m=>!Rt(m,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Bc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Cf(t.remoteStore,o.targetId),mc(t,o.targetId)}).catch(ua))):(mc(t,o.targetId),yield Bc(t.localStore,o.targetId,!0))}),Ih.apply(this,arguments)}function Xl(){return Xl=(0,f.Z)(function*(i,e,t){const o=kf(i);try{const u=yield function(m,b){const B=Pn(m),Q=jr.now(),ie=b.reduce((zt,an)=>zt.add(an.key),Gn());let De,dt;return B.persistence.runTransaction("Locally write mutations","readwrite",zt=>{let an=So(),Fn=Gn();return B.Zi.getEntries(zt,ie).next(ci=>{an=ci,an.forEach((fi,hr)=>{hr.isValidDocument()||(Fn=Fn.add(fi))})}).next(()=>B.localDocuments.getOverlayedDocuments(zt,an)).next(ci=>{De=ci;const fi=[];for(const hr of b){const Lr=Kh(hr,De.get(hr.key).overlayedDocument);null!=Lr&&fi.push(new cl(hr.key,Lr,Du(Lr.value.mapValue),js.exists(!0)))}return B.mutationQueue.addMutationBatch(zt,Q,fi,b)}).next(ci=>{dt=ci;const fi=ci.applyToLocalDocumentSet(De,Fn);return B.documentOverlayCache.saveOverlays(zt,ci.batchId,fi)})}).then(()=>({batchId:dt.batchId,changes:Zd(De)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(m,b,B){let Q=m.Tc[m.currentUser.toKey()];Q||(Q=new kr(Ri)),Q=Q.insert(b,B),m.Tc[m.currentUser.toKey()]=Q}(o,u.batchId,t),yield Uc(o,u.changes),yield Zu(o.remoteStore)}catch(u){const m=Eh(u,"Failed to persist write");t.reject(m)}}),Xl.apply(this,arguments)}function Sf(i,e){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,f.Z)(function*(i,e){const t=Pn(i);try{const o=yield function __(i,e){const t=Pn(i),o=e.snapshotVersion;let u=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const b=t.Zi.newChangeBuffer({trackRemovals:!0});u=t.Ji;const B=[];e.targetChanges.forEach((De,dt)=>{const zt=u.get(dt);if(!zt)return;B.push(t.Bs.removeMatchingKeys(m,De.removedDocuments,dt).next(()=>t.Bs.addMatchingKeys(m,De.addedDocuments,dt)));let an=zt.withSequenceNumber(m.currentSequenceNumber);var Fn,ci,fi;null!==e.targetMismatches.get(dt)?an=an.withResumeToken(ks.EMPTY_BYTE_STRING,wi.min()).withLastLimboFreeSnapshotVersion(wi.min()):De.resumeToken.approximateByteSize()>0&&(an=an.withResumeToken(De.resumeToken,o)),u=u.insert(dt,an),ci=an,fi=De,(0===(Fn=zt).resumeToken.approximateByteSize()||ci.snapshotVersion.toMicroseconds()-Fn.snapshotVersion.toMicroseconds()>=3e8||fi.addedDocuments.size+fi.modifiedDocuments.size+fi.removedDocuments.size>0)&&B.push(t.Bs.updateTargetData(m,an))});let Q=So(),ie=Gn();if(e.documentUpdates.forEach(De=>{e.resolvedLimboDocuments.has(De)&&B.push(t.persistence.referenceDelegate.updateLimboDocument(m,De))}),B.push(hl(m,b,e.documentUpdates).next(De=>{Q=De.nr,ie=De.sr})),!o.isEqual(wi.min())){const De=t.Bs.getLastRemoteSnapshotVersion(m).next(dt=>t.Bs.setTargetsMetadata(m,m.currentSequenceNumber,o));B.push(De)}return Ut.waitFor(B).next(()=>b.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,Q,ie)).next(()=>Q)}).then(m=>(t.Ji=u,m))}(t.localStore,e);e.targetChanges.forEach((u,m)=>{const b=t.yc.get(m);b&&(oi(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?b.fc=!0:u.modifiedDocuments.size>0?oi(b.fc):u.removedDocuments.size>0&&(oi(b.fc),b.fc=!1))}),yield Uc(t,o,e)}catch(o){yield ua(o)}}),Ho.apply(this,arguments)}function Qu(i,e,t){const o=Pn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.wc.forEach((m,b)=>{const B=b.view.Mu(e);B.snapshot&&u.push(B.snapshot)}),function(m,b){const B=Pn(m);B.onlineState=b;let Q=!1;B.queries.forEach((ie,De)=>{for(const dt of De.listeners)dt.Mu(b)&&(Q=!0)}),Q&&Tf(B)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Pp(i,e,t){return ml.apply(this,arguments)}function ml(){return ml=(0,f.Z)(function*(i,e,t){const o=Pn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.yc.get(e),m=u&&u.key;if(m){let b=new kr(Zn.comparator);b=b.insert(m,Gr.newNoDocument(m,wi.min()));const B=Gn().add(m),Q=new _d(wi.min(),new Map,new kr(Ri),b,B);yield Sf(o,Q),o.gc=o.gc.remove(m),o.yc.delete(e),Fp(o)}else yield Bc(o.localStore,e,!1).then(()=>mc(o,e,t)).catch(ua)}),ml.apply(this,arguments)}function Mm(i,e){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,f.Z)(function*(i,e){const t=Pn(i),o=e.batch.batchId;try{const u=yield function ff(i,e){const t=Pn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),m=t.Zi.newChangeBuffer({trackRemovals:!0});return function(b,B,Q,ie){const De=Q.batch,dt=De.keys();let zt=Ut.resolve();return dt.forEach(an=>{zt=zt.next(()=>ie.getEntry(B,an)).next(Fn=>{const ci=Q.docVersions.get(an);oi(null!==ci),Fn.version.compareTo(ci)<0&&(De.applyToRemoteDocument(Fn,Q),Fn.isValidDocument()&&(Fn.setReadTime(Q.commitVersion),ie.addEntry(Fn)))})}),zt.next(()=>b.mutationQueue.removeMutationBatch(B,De))}(t,o,e,m).next(()=>m.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(b){let B=Gn();for(let Q=0;Q<b.mutationResults.length;++Q)b.mutationResults[Q].transformResults.length>0&&(B=B.add(b.batch.mutations[Q].key));return B}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}(t.localStore,e);Ld(t,o,null),Fd(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Uc(t,u)}catch(u){yield ua(u)}}),Xu.apply(this,arguments)}function Th(i,e,t){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,f.Z)(function*(i,e,t){const o=Pn(i);try{const u=yield function(m,b){const B=Pn(m);return B.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let ie;return B.mutationQueue.lookupMutationBatch(Q,b).next(De=>(oi(null!==De),ie=De.keys(),B.mutationQueue.removeMutationBatch(Q,De))).next(()=>B.mutationQueue.performConsistencyCheck(Q)).next(()=>B.documentOverlayCache.removeOverlaysForBatchId(Q,ie,b)).next(()=>B.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Q,ie)).next(()=>B.localDocuments.getDocuments(Q,ie))})}(o.localStore,e);Ld(o,e,t),Fd(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Uc(o,u)}catch(u){yield ua(u)}}),Ju.apply(this,arguments)}function ed(){return ed=(0,f.Z)(function*(i,e){const t=Pn(i);Uo(t.remoteStore)||hn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const b=Pn(m);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",B=>b.mutationQueue.getHighestUnacknowledgedBatchId(B))}(t.localStore);if(-1===o)return void e.resolve();const u=t.Ec.get(o)||[];u.push(e),t.Ec.set(o,u)}catch(o){const u=Eh(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),ed.apply(this,arguments)}function Fd(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Ld(i,e,t){const o=Pn(i);let u=o.Tc[o.currentUser.toKey()];if(u){const m=u.get(e);m&&(t?m.reject(t):m.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function mc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),t&&i.dc.Pc(o,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||Vd(i,o)})}function Vd(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Cf(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),Fp(i))}function Np(i,e,t){for(const o of t)o instanceof Lg?(i.Ic.addReference(o.key,e),Rm(i,o)):o instanceof Ql?(hn("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||Vd(i,o.key)):Bn()}function Rm(i,e){const t=e.key,o=t.path.canonicalString();i.gc.get(t)||i.mc.has(o)||(hn("SyncEngine","New document in limbo: "+t),i.mc.add(o),Fp(i))}function Fp(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new Zn(yi.fromString(e)),o=i.Ac.next();i.yc.set(o,new Vg(t)),i.gc=i.gc.insert(t,o),Ku(i.remoteStore,new hc(V(Oc(t.path)),o,"TargetPurposeLimboResolution",Us.ct))}}function Uc(i,e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,f.Z)(function*(i,e,t){const o=Pn(i),u=[],m=[],b=[];var B;o.wc.isEmpty()||(o.wc.forEach((B,Q)=>{b.push(o.Rc(Q,e,t).then(ie=>{if((ie||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(Q.targetId,ie?.fromCache?"not-current":"current"),ie){u.push(ie);const De=$u.Li(Q.targetId,ie);m.push(De)}}))}),yield Promise.all(b),o.dc.nu(u),yield(B=(0,f.Z)(function*(Q,ie){const De=Pn(Q);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",dt=>Ut.forEach(ie,zt=>Ut.forEach(zt.Fi,an=>De.persistence.referenceDelegate.addReference(dt,zt.targetId,an)).next(()=>Ut.forEach(zt.Bi,an=>De.persistence.referenceDelegate.removeReference(dt,zt.targetId,an)))))}catch(dt){if(!wl(dt))throw dt;hn("LocalStore","Failed to update sequence numbers: "+dt)}for(const dt of ie){const zt=dt.targetId;if(!dt.fromCache){const an=De.Ji.get(zt),ci=an.withLastLimboFreeSnapshotVersion(an.snapshotVersion);De.Ji=De.Ji.insert(zt,ci)}}}),function(Q,ie){return B.apply(this,arguments)})(o.localStore,m))}),Lp.apply(this,arguments)}function Ug(i,e){return gc.apply(this,arguments)}function gc(){return gc=(0,f.Z)(function*(i,e){const t=Pn(i);if(!t.currentUser.isEqual(e)){hn("SyncEngine","User change. New user:",e.toKey());const o=yield _m(t.localStore,e);t.currentUser=e,(u=t).Ec.forEach(b=>{b.forEach(B=>{B.reject(new _n(Gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Uc(t,o.er)}var u}),gc.apply(this,arguments)}function ta(i,e){const t=Pn(i),o=t.yc.get(e);if(o&&o.fc)return Gn().add(o.key);{let u=Gn();const m=t._c.get(e);if(!m)return u;for(const b of m){const B=t.wc.get(b);u=u.unionWith(B.view.nc)}return u}}function gl(i,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,f.Z)(function*(i,e){const t=Pn(i),o=yield $a(t.localStore,e.query,!0),u=e.view.hc(o);return t.isPrimaryClient&&Np(t,e.targetId,u.cc),u}),Bd.apply(this,arguments)}function M_(i,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,f.Z)(function*(i,e){const t=Pn(i);return Sg(t.localStore,e).then(o=>Uc(t,o))}),Vp.apply(this,arguments)}function R_(i,e,t,o){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,f.Z)(function*(i,e,t,o){const u=Pn(i),m=yield function(b,B){const Q=Pn(b),ie=Pn(Q.mutationQueue);return Q.persistence.runTransaction("Lookup mutation documents","readonly",De=>ie.Sn(De,B).next(dt=>dt?Q.localDocuments.getDocuments(De,dt):Ut.resolve(null)))}(u.localStore,e);var B;null!==m?("pending"===t?yield Zu(u.remoteStore):"acknowledged"===t||"rejected"===t?(Ld(u,e,o||null),Fd(u,e),B=e,Pn(Pn(u.localStore).mutationQueue).Cn(B)):Bn(),yield Uc(u,m)):hn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Bp.apply(this,arguments)}function Af(){return Af=(0,f.Z)(function*(i,e){const t=Pn(i);if(Rf(t),kf(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Hg(t,o.toArray());t.vc=!0,yield If(t.remoteStore,!0);for(const m of u)Ku(t.remoteStore,m)}else if(!1===e&&!1!==t.vc){const o=[];let u=Promise.resolve();t._c.forEach((m,b)=>{t.sharedClientState.isLocalQueryTarget(b)?o.push(b):u=u.then(()=>(mc(t,b),Bc(t.localStore,b,!0))),Cf(t.remoteStore,b)}),yield u,yield Hg(t,o),function(m){const b=Pn(m);b.yc.forEach((B,Q)=>{Cf(b.remoteStore,Q)}),b.Ic.Ts(),b.yc=new Map,b.gc=new kr(Zn.comparator)}(t),t.vc=!1,yield If(t.remoteStore,!1)}}),Af.apply(this,arguments)}function Hg(i,e,t){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,f.Z)(function*(i,e,t){const o=Pn(i),u=[],m=[];for(const b of e){let B;const Q=o._c.get(b);if(Q&&0!==Q.length){B=yield Id(o.localStore,V(Q[0]));for(const ie of Q){const De=o.wc.get(ie),dt=yield gl(o,De);dt.snapshot&&m.push(dt.snapshot)}}else{const ie=yield pf(o.localStore,b);B=yield Id(o.localStore,ie),yield xh(o,Mh(ie),b,!1,B.resumeToken)}u.push(B)}return o.dc.nu(m),u}),Ah.apply(this,arguments)}function Mh(i){return Xc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Up(i){const e=Pn(i);return Pn(Pn(e.localStore).persistence).$i()}function jg(i,e,t,o){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,f.Z)(function*(i,e,t,o){const u=Pn(i);if(u.vc)return void hn("SyncEngine","Ignoring unexpected query state notification.");const m=u._c.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const b=yield Sg(u.localStore,Mi(m[0])),B=_d.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ks.EMPTY_BYTE_STRING);yield Uc(u,b,B);break}case"rejected":yield Bc(u.localStore,e,!0),mc(u,e,o);break;default:Bn()}}),Ud.apply(this,arguments)}function td(i,e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,f.Z)(function*(i,e,t){const o=Rf(i);if(o.vc){for(const u of e){if(o._c.has(u)){hn("SyncEngine","Adding an already active target "+u);continue}const m=yield pf(o.localStore,u),b=yield Id(o.localStore,m);yield xh(o,Mh(m),b.targetId,!1,b.resumeToken),Ku(o.remoteStore,b)}for(const u of t)o._c.has(u)&&(yield Bc(o.localStore,u,!1).then(()=>{Cf(o.remoteStore,u),mc(o,u)}).catch(ua))}}),Mf.apply(this,arguments)}function Rf(i){const e=Pn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ta.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pp.bind(null,e),e.dc.nu=xm.bind(null,e.eventManager),e.dc.Pc=x_.bind(null,e.eventManager),e}function kf(i){const e=Pn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Th.bind(null,e),e}class Hd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,f.Z)(function*(){t.serializer=bf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gm(this.persistence,new dl,e.initialUser,this.serializer)}createPersistence(e){return new uh(xd.zs,this.serializer)}createSharedClientState(e){return new wp}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rh extends Hd{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield kf(o.Vc.syncEngine),yield Zu(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return gm(this.persistence,new dl,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new fp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new Gd(t,this.persistence);return new No(e.asyncQueue,o)}createPersistence(e){const t=mm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ka.withCacheSize(this.cacheSizeBytes):ka.DEFAULT;return new yp(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Wu(),Zl(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new wp}}class $g extends Rh{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield t().call(o,e);const u=o.Vc.syncEngine;o.sharedClientState instanceof bp&&(o.sharedClientState.syncEngine={jr:R_.bind(null,u),zr:jg.bind(null,u),Wr:td.bind(null,u),$i:Up.bind(null,u),Qr:M_.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var m=(0,f.Z)(function*(b){yield function km(i,e){return Af.apply(this,arguments)}(o.Vc.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start():b||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(b&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():b||o.indexBackfillerScheduler.stop())});return function(b){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Wu();if(!bp.D(t))throw new _n(Gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=mm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bp(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class jd{initialize(e,t){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Qu(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ug.bind(null,o.syncEngine),yield If(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new D_}createDatastore(e){const t=bf(e.databaseInfo.databaseId),o=new b_(e.databaseInfo);return new J_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,m=B=>Qu(this.syncEngine,B,0),b=_f.D()?new _f:new vm,new Cp(t,o,u,m,b);var t,o,u,m,b}createSyncEngine(e,t){return function(o,u,m,b,B,Q,ie){const De=new ey(o,u,m,b,B,Q);return ie&&(De.vc=!0),De}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,f.Z)(function*(t){const o=Pn(t);hn("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield _h(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Om(i,e=10240){let t=0;return{read:()=>(0,f.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class kh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Gg{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new fs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,f.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),u=Number(o);isNaN(u)&&e.Mc(`length string (${o}) is not valid number`);const m=yield e.$c(u);return new I_(JSON.parse(m),t.length+u)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,f.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,f.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,f.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class k_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,f.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new _n(Gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,f.Z)(function*(m,b){const B=Pn(m),Q=Qh(B.serializer)+"/documents",ie={documents:b.map(an=>vd(B.serializer,an))},De=yield B.vo("BatchGetDocuments",Q,ie,b.length),dt=new Map;De.forEach(an=>{const Fn=function c_(i,e){return"found"in e?function(t,o){oi(!!o.found);const u=Wl(t,o.found.name),m=er(o.found.updateTime),b=o.found.createTime?er(o.found.createTime):wi.min(),B=new eo({mapValue:{fields:o.found.fields}});return Gr.newFoundDocument(u,m,b,B)}(i,e):"missing"in e?function(t,o){oi(!!o.missing),oi(!!o.readTime);const u=Wl(t,o.missing),m=er(o.readTime);return Gr.newNoDocument(u,m)}(i,e):Bn()}(B.serializer,an);dt.set(Fn.key.toString(),Fn)});const zt=[];return b.forEach(an=>{const Fn=dt.get(an.toString());oi(!!Fn),zt.push(Fn)}),zt}),function(m,b){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ul(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const m=Zn.fromPath(u);e.mutations.push(new eu(m,e.precondition(m)))}),yield(o=(0,f.Z)(function*(u,m){const b=Pn(u),B=Qh(b.serializer)+"/documents",Q={writes:m.map(ie=>bd(b.serializer,ie))};yield b.Io("Commit",B,Q)}),function(u,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bn();t=wi.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new _n(Gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wi.min())?js.exists(!1):js.updateTime(t):js.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wi.min()))throw new _n(Gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return js.updateTime(t)}return js.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Pm{constructor(e,t,o,u,m){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=m,this.Bc=o.maxAttempts,this.qo=new wf(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,f.Z)(function*(){const t=new k_(e.datastore),o=e.qc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(m=>{e.Uc(m)}))}).catch(u=>{e.Uc(u)})}))}qc(e){try{const t=this.updateFunction(e);return!zr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Yh(t)}return!1}}class Wg{constructor(e,t,o,u){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=zn.UNAUTHENTICATED,this.clientId=Fr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var b=(0,f.Z)(function*(B){hn("FirestoreClient","Received user=",B.uid),yield m.authCredentialListener(B),m.user=B});return function(B){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(o,b=>(hn("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _n(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Eh(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Oh(i,e){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),hn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,f.Z)(function*(m){o.isEqual(m)||(yield _m(e.localStore,m),o=m)});return function(m){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Ph.apply(this,arguments)}function jp(i,e){return zp.apply(this,arguments)}function zp(){return zp=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield $p(i);hn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Od(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,m)=>Od(e.remoteStore,m)),i._onlineComponents=e}),zp.apply(this,arguments)}function Nm(i){return"FirebaseError"===i.name?i.code===Gt.FAILED_PRECONDITION||i.code===Gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function $p(i){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,f.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){hn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Oh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Nm(t))throw t;gr("Error using user provided cache. Falling back to memory cache: "+t),yield Oh(i,new Hd)}}else hn("FirestoreClient","Using default OfflineComponentProvider"),yield Oh(i,new Hd);return i._offlineComponents}),Gp.apply(this,arguments)}function c(i){return s.apply(this,arguments)}function s(){return s=(0,f.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(hn("FirestoreClient","Using user provided OnlineComponentProvider"),yield jp(i,i._uninitializedComponentsProvider._online)):(hn("FirestoreClient","Using default OnlineComponentProvider"),yield jp(i,new jd))),i._onlineComponents}),s.apply(this,arguments)}function a(i){return $p(i).then(e=>e.persistence)}function d(i){return $p(i).then(e=>e.localStore)}function g(i){return c(i).then(e=>e.remoteStore)}function C(i){return c(i).then(e=>e.syncEngine)}function W(i){return oe.apply(this,arguments)}function oe(){return oe=(0,f.Z)(function*(i){const e=yield c(i),t=e.eventManager;return t.onListen=Sm.bind(null,e.syncEngine),t.onUnlisten=S_.bind(null,e.syncEngine),t}),oe.apply(this,arguments)}function Zt(i,e,t={}){const o=new fs;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(u,m,b,B,Q){const ie=new kh({next:dt=>{m.enqueueAndForget(()=>Dm(u,De));const zt=dt.docs.has(b);!zt&&dt.fromCache?Q.reject(new _n(Gt.UNAVAILABLE,"Failed to get document because the client is offline.")):zt&&dt.fromCache&&B&&"server"===B.source?Q.reject(new _n(Gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(dt)},error:dt=>Q.reject(dt)}),De=new Im(Oc(b.path),ie,{includeMetadataChanges:!0,Ku:!0});return Em(u,De)}(yield W(i),i.asyncQueue,e,t,o)})),o.promise}function Dn(i,e,t={}){const o=new fs;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(u,m,b,B,Q){const ie=new kh({next:dt=>{m.enqueueAndForget(()=>Dm(u,De)),dt.fromCache&&"server"===B.source?Q.reject(new _n(Gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(dt)},error:dt=>Q.reject(dt)}),De=new Im(b,ie,{includeMetadataChanges:!0,Ku:!0});return Em(u,De)}(yield W(i),i.asyncQueue,e,t,o)})),o.promise}function zs(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Ao=new Map;function nd(i,e,t){if(!t)throw new _n(Gt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Jl(i,e,t,o){if(!0===e&&!0===o)throw new _n(Gt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Oa(i){if(!Zn.isDocumentKey(i))throw new _n(Gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function _c(i){if(Zn.isDocumentKey(i))throw new _n(Gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Al(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Bn()}function Yi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _n(Gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Al(i);throw new _n(Gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Fm(i,e){if(e<=0)throw new _n(Gt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Nh{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new _n(Gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _n(Gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jl("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=zs(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new _n(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new _n(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new _n(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ec{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _n(Gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _n(Gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nh(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ad;switch(t.type){case"firstParty":return new qo(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new _n(Gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ao.get(e);t&&(hn("ComponentProvider","Removing Datastore"),Ao.delete(e),t.terminate())}(this),Promise.resolve()}}function Lm(i,e,t,o={}){var u;const m=(i=Yi(i,ec))._getSettings(),b=`${e}:${t}`;if("firestore.googleapis.com"!==m.host&&m.host!==b&&gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},m),{host:b,ssl:!1})),o.mockUserToken){let B,Q;if("string"==typeof o.mockUserToken)B=o.mockUserToken,Q=zn.MOCK_USER;else{B=(0,S.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const ie=o.mockUserToken.sub||o.mockUserToken.user_id;if(!ie)throw new _n(Gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Q=new zn(ie)}i._authCredentials=new zc(new Zo(B,Q))}}class $s{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $s(this.firestore,e,this._key)}}class ai{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ai(this.firestore,e,this._query)}}class Ci extends ai{constructor(e,t,o){super(e,t,Oc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $s(this.firestore,null,new Zn(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function Hi(i,e,...t){if(i=(0,S.m9)(i),nd("collection","path",e),i instanceof ec){const o=yi.fromString(e,...t);return _c(o),new Ci(i,null,o)}{if(!(i instanceof $s||i instanceof Ci))throw new _n(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yi.fromString(e,...t));return _c(o),new Ci(i.firestore,null,o)}}function ur(i,e){if(i=Yi(i,ec),nd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _n(Gt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ai(i,null,(t=e,new al(yi.emptyPath(),t)));var t}function jo(i,e,...t){if(i=(0,S.m9)(i),1===arguments.length&&(e=Fr.A()),nd("doc","path",e),i instanceof ec){const o=yi.fromString(e,...t);return Oa(o),new $s(i,null,new Zn(o))}{if(!(i instanceof $s||i instanceof Ci))throw new _n(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yi.fromString(e,...t));return Oa(o),new $s(i.firestore,i instanceof Ci?i.converter:null,new Zn(o))}}function Hc(i,e){return i=(0,S.m9)(i),e=(0,S.m9)(e),(i instanceof $s||i instanceof Ci)&&(e instanceof $s||e instanceof Ci)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Gs(i,e){return i=(0,S.m9)(i),e=(0,S.m9)(e),i instanceof ai&&e instanceof ai&&i.firestore===e.firestore&&Rt(i._query,e._query)&&i.converter===e.converter}class na{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wf(this,"async_queue_retry"),this.Xc=()=>{const t=Zl();t&&hn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Zl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Zl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new fs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,f.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!wl(t))throw t;hn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Ai("INTERNAL UNHANDLED ERROR: ",function(m){let b=m.message||"";return m.stack&&(b=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),b}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const u=Nd.createAndSchedule(this,e,t,o,m=>this.na(m));return this.zc.push(u),u}Zc(){this.Wc&&Bn()}verifyOperationInProgress(){}sa(){var e=this;return(0,f.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Ar(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Vm{constructor(){this._progressObserver={},this._taskCompletionResolver=new fs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Kg=-1;class _r extends ec{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new na,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lh(this),this._firestoreClient.terminate()}}function Ws(i){return i._firestoreClient||Lh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Lh(i){var e,t,o;const u=i._freezeSettings(),m=(B=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new bu(i._databaseId,B,i._persistenceKey,(ie=u).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,zs(ie.experimentalLongPollingOptions),ie.useFetchStreams));var B,ie;i._firestoreClient=new Wg(i._authCredentials,i._appCheckCredentials,i._queue,m),null!==(t=u.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}function Bm(i,e){N_(i=Yi(i,_r));const t=Ws(i);if(t._uninitializedComponentsProvider)throw new _n(Gt.FAILED_PRECONDITION,"SDK cache is already specified.");gr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),u=new jd;return O_(t,u,new Rh(u,o.cacheSizeBytes,e?.forceOwnership))}function Uy(i){N_(i=Yi(i,_r));const e=Ws(i);if(e._uninitializedComponentsProvider)throw new _n(Gt.FAILED_PRECONDITION,"SDK cache is already specified.");gr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),o=new jd;return O_(e,o,new $g(o,t.cacheSizeBytes))}function O_(i,e,t){const o=new fs;return i.asyncQueue.enqueue((0,f.Z)(function*(){try{yield Oh(i,t),yield jp(i,e),o.resolve()}catch(u){const m=u;if(!Nm(m))throw m;gr("Error enabling indexeddb cache. Falling back to memory cache: "+m),o.reject(m)}})).then(()=>o.promise)}function Hy(i){if(i._initialized&&!i._terminated)throw new _n(Gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fs;return i._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(t=(0,f.Z)(function*(o){if(!rr.D())return Promise.resolve();const u=o+"main";yield rr.delete(u)}),function(o){return t.apply(this,arguments)})(mm(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function jy(i){return function(e){const t=new fs;return e.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Sh(i,e){return ed.apply(this,arguments)}(yield C(e),t)})),t.promise}(Ws(i=Yi(i,_r)))}function ty(i){return function be(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield a(i),t=yield g(i);return e.setNetworkEnabled(!0),function(o){const u=Pn(o);return u.vu.delete(0),Sd(u)}(t)}))}(Ws(i=Yi(i,_r)))}function ny(i){return function vt(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield a(i),t=yield g(i);return e.setNetworkEnabled(!1),(o=(0,f.Z)(function*(u){const m=Pn(u);m.vu.add(0),yield _h(m),m.bu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(Ws(i=Yi(i,_r)))}function zy(i,e){const t=Ws(i=Yi(i,_r)),o=new Vm;return function Ki(i,e,t,o){const u=function(m,b){let B;return B="string"==typeof m?zl().encode(m):m,Q=function(Q,ie){if(Q instanceof Uint8Array)return Om(Q,void 0);if(Q instanceof ArrayBuffer)return Om(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(B),new Gg(Q,b);var Q}(t,bf(e));i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function zg(i,e,t){const o=Pn(i);var u;(u=(0,f.Z)(function*(m,b,B){try{const Q=yield b.getMetadata();if(yield function(zt,an){const Fn=Pn(zt),ci=er(an.createTime);return Fn.persistence.runTransaction("hasNewerBundle","readonly",fi=>Fn.qs.getBundleMetadata(fi,an.id)).then(fi=>!!fi&&fi.createTime.compareTo(ci)>=0)}(m.localStore,Q))return yield b.close(),B._completeWith({taskState:"Success",documentsLoaded:(zt=Q).totalDocuments,bytesLoaded:zt.totalBytes,totalDocuments:zt.totalDocuments,totalBytes:zt.totalBytes}),Promise.resolve(new Set);B._updateProgress(Fg(Q));const ie=new T_(Q,m.localStore,b.serializer);let De=yield b.bc();for(;De;){const zt=yield ie.zu(De);zt&&B._updateProgress(zt),De=yield b.bc()}const dt=yield ie.complete();return yield Uc(m,dt.Ju,void 0),yield function(zt,an){const Fn=Pn(zt);return Fn.persistence.runTransaction("Save bundle","readwrite",ci=>Fn.qs.saveBundleMetadata(ci,an))}(m.localStore,Q),B._completeWith(dt.progress),Promise.resolve(dt.Hu)}catch(Q){return gr("SyncEngine",`Loading bundle failed with ${Q}`),B._failWith(Q),Promise.resolve(new Set)}var zt}),function(m,b,B){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield C(i),u,o)}))}(t,i._databaseId,e,o),o}function iy(i,e){return function Er(i,e){return i.asyncQueue.enqueue((0,f.Z)(function*(){return function(t,o){const u=Pn(t);return u.persistence.runTransaction("Get named query","readonly",m=>u.qs.getNamedQuery(m,o))}(yield d(i),e)}))}(Ws(i=Yi(i,_r)),e).then(t=>t?new ai(i,null,t.query):null)}function N_(i){if(i._initialized||i._terminated)throw new _n(Gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class id{constructor(e){this._byteString=e}static fromBase64String(e){try{return new id(ks.fromBase64String(e))}catch(t){throw new _n(Gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new id(ks.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _n(Gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vh{constructor(e){this._methodName=e}}class Um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _n(Gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _n(Gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ri(this._lat,e._lat)||Ri(this._long,e._long)}}const ry=/^__.*__$/;class sy{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jc(e,this.data,t,this.fieldTransforms)}}class F_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new cl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bn()}}class Zg{constructor(e,t,o,u,m,b){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===m&&this.ua(),this.fieldTransforms=m||[],this.fieldMask=b||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return zm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(oy(this.ca)&&ry.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Gy{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||bf(e)}ya(e,t,o,u=!1){return new Zg({ca:e,methodName:t,ga:o,path:Di.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pf(i){const e=i._freezeSettings(),t=bf(i._databaseId);return new Gy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function qg(i,e,t,o,u,m={}){const b=i.ya(m.merge||m.mergeFields?2:0,e,t,u);U_("Data must be an object, but it was:",b,o);const B=cy(o,b);let Q,ie;if(m.merge)Q=new To(b.fieldMask),ie=b.fieldTransforms;else if(m.mergeFields){const De=[];for(const dt of m.mergeFields){const zt=Wp(e,dt,t);if(!b.contains(zt))throw new _n(Gt.INVALID_ARGUMENT,`Field '${zt}' is specified in your field mask but missing from your input data.`);H_(De,zt)||De.push(zt)}Q=new To(De),ie=b.fieldTransforms.filter(dt=>Q.covers(dt.field))}else Q=null,ie=b.fieldTransforms;return new sy(new eo(B),Q,ie)}class Hm extends Vh{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hm}}function ay(i,e,t){return new Zg({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class L_ extends Vh{_toFieldTransform(e){return new Gf(e.path,new Pc)}isEqual(e){return e instanceof L_}}class Wy extends Vh{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ay(this,e,!0),o=this.pa.map(m=>Nf(m,t)),u=new Ul(o);return new Gf(e.path,u)}isEqual(e){return this===e}}class Ky extends Vh{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ay(this,e,!0),o=this.pa.map(m=>Nf(m,t)),u=new Hl(o);return new Gf(e.path,u)}isEqual(e){return this===e}}class Yy extends Vh{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new uc(e.serializer,Mu(e.serializer,this.Ia));return new Gf(e.path,t)}isEqual(e){return this===e}}function V_(i,e,t,o){const u=i.ya(1,e,t);U_("Data must be an object, but it was:",u,o);const m=[],b=eo.empty();Aa(o,(Q,ie)=>{const De=jm(e,Q,t);ie=(0,S.m9)(ie);const dt=u.da(De);if(ie instanceof Hm)m.push(De);else{const zt=Nf(ie,dt);null!=zt&&(m.push(De),b.set(De,zt))}});const B=new To(m);return new F_(b,B,u.fieldTransforms)}function B_(i,e,t,o,u,m){const b=i.ya(1,e,t),B=[Wp(e,o,t)],Q=[u];if(m.length%2!=0)throw new _n(Gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let zt=0;zt<m.length;zt+=2)B.push(Wp(e,m[zt])),Q.push(m[zt+1]);const ie=[],De=eo.empty();for(let zt=B.length-1;zt>=0;--zt)if(!H_(ie,B[zt])){const an=B[zt];let Fn=Q[zt];Fn=(0,S.m9)(Fn);const ci=b.da(an);if(Fn instanceof Hm)ie.push(an);else{const fi=Nf(Fn,ci);null!=fi&&(ie.push(an),De.set(an,fi))}}const dt=new To(ie);return new F_(De,dt,b.fieldTransforms)}function ly(i,e,t,o=!1){return Nf(t,i.ya(o?4:3,e))}function Nf(i,e){if(uy(i=(0,S.m9)(i)))return U_("Unsupported field value:",e,i),cy(i,e);if(i instanceof Vh)return function(t,o){if(!oy(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const u=[];let m=0;for(const b of t){let B=Nf(b,o.wa(m));null==B&&(B={nullValue:"NULL_VALUE"}),u.push(B),m++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,S.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mu(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=jr.fromDate(t);return{timestampValue:Pu(o.serializer,u)}}if(t instanceof jr){const u=new jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pu(o.serializer,u)}}if(t instanceof Um)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof id)return{bytesValue:dc(o.serializer,t._byteString)};if(t instanceof $s){const u=o.databaseId,m=t.firestore._databaseId;if(!m.isEqual(u))throw o._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qf(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${Al(t)}`)}(i,e)}function cy(i,e){const t={};return _u(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(i,(o,u)=>{const m=Nf(u,e.ha(o));null!=m&&(t[o]=m)}),{mapValue:{fields:t}}}function uy(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof jr||i instanceof Um||i instanceof id||i instanceof $s||i instanceof Vh)}function U_(i,e,t){if(!uy(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Al(t);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Wp(i,e,t){if((e=(0,S.m9)(e))instanceof rd)return e._internalPath;if("string"==typeof e)return jm(i,e);throw zm("Field path arguments must be of type string or ",i,!1,void 0,t)}const dy=new RegExp("[~\\*/\\[\\]]");function jm(i,e,t){if(e.search(dy)>=0)throw zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new rd(...e.split("."))._internalPath}catch{throw zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function zm(i,e,t,o,u){const m=o&&!o.isEmpty(),b=void 0!==u;let B=`Function ${e}() called with invalid data`;t&&(B+=" (via `toFirestore()`)"),B+=". ";let Q="";return(m||b)&&(Q+=" (found",m&&(Q+=` in field ${o}`),b&&(Q+=` in document ${u}`),Q+=")"),new _n(Gt.INVALID_ARGUMENT,B+i+Q)}function H_(i,e){return i.some(t=>t.isEqual(e))}class Kp{constructor(e,t,o,u,m){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new $s(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($m("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hy extends Kp{data(){return super.data()}}function $m(i,e){return"string"==typeof e?jm(i,e):e instanceof rd?e._internalPath:e._delegate._internalPath}function j_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new _n(Gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gm{}class Ff extends Gm{}function Lf(i,e,...t){let o=[];e instanceof Gm&&o.push(e),o=o.concat(t),function(u){const m=u.filter(B=>B instanceof pu).length,b=u.filter(B=>B instanceof Wm).length;if(m>1||m>0&&b>0)throw new _n(Gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Wm extends Ff{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Wm(e,t,o)}_apply(e){const t=this._parse(e);return z_(e._query,t),new ai(e.firestore,e.converter,ae(e._query,t))}_parse(e){const t=Pf(e.firestore);return function(u,m,b,B,Q,ie,De){let dt;if(Q.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new _n(Gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){Jy(De,ie);const zt=[];for(const an of De)zt.push(yo(B,u,an));dt={arrayValue:{values:zt}}}else dt=yo(B,u,De)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||Jy(De,ie),dt=ly(b,"where",De,"in"===ie||"not-in"===ie);return Je.create(Q,ie,dt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Zy(i,e,t){const o=e,u=$m("where",i);return Wm._create(u,o,t)}class pu extends Gm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pu(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:Tt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,u){let m=o;const b=u.getFlattenedFilters();for(const B of b)z_(m,B),m=ae(m,B)}(e._query,t),new ai(e.firestore,e.converter,ae(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class py extends Ff{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new py(e,t)}_apply(e){const t=function(o,u,m){if(null!==o.startAt)throw new _n(Gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new _n(Gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new z(u,m);return function(B,Q){if(null===Iu(B)){const ie=k(B);null!==ie&&$_(0,ie,Q.field)}}(o,b),b}(e._query,this._field,this._direction);return new ai(e.firestore,e.converter,function(o,u){const m=o.explicitOrderBy.concat([u]);return new al(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function my(i,e="asc"){const t=e,o=$m("orderBy",i);return py._create(o,t)}class Km extends Ff{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Km(e,t,o)}_apply(e){return new ai(e.firestore,e.converter,Me(e._query,this._limit,this._limitType))}}function Zv(i){return Fm("limit",i),Km._create("limit",i,"F")}function zi(i){return Fm("limitToLast",i),Km._create("limitToLast",i,"L")}class Qg extends Ff{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Qg(e,t,o)}_apply(e){const t=Ym(e,this.type,this._docOrFields,this._inclusive);return new ai(e.firestore,e.converter,(u=t,new al((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function qy(...i){return Qg._create("startAt",i,!0)}function Qy(...i){return Qg._create("startAfter",i,!1)}class zd extends Ff{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new zd(e,t,o)}_apply(e){const t=Ym(e,this.type,this._docOrFields,this._inclusive);return new ai(e.firestore,e.converter,(u=t,new al((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Xy(...i){return zd._create("endBefore",i,!1)}function Xg(...i){return zd._create("endAt",i,!0)}function Ym(i,e,t,o){if(t[0]=(0,S.m9)(t[0]),t[0]instanceof Kp)return function(u,m,b,B,Q){if(!B)throw new _n(Gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const ie=[];for(const De of w(u))if(De.field.isKeyField())ie.push(qc(m,B.key));else{const dt=B.data.field(De.field);if(Kc(dt))throw new _n(Gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+De.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===dt){const zt=De.field.canonicalString();throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${zt}' (used as the orderBy) does not exist.`)}ie.push(dt)}return new Dl(ie,Q)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=Pf(i.firestore);return function(m,b,B,Q,ie,De){const dt=m.explicitOrderBy;if(ie.length>dt.length)throw new _n(Gt.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const zt=[];for(let an=0;an<ie.length;an++){const Fn=ie[an];if(dt[an].field.isKeyField()){if("string"!=typeof Fn)throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof Fn}`);if(!y(m)&&-1!==Fn.indexOf("/"))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Q}() must be a plain document ID, but '${Fn}' contains a slash.`);const ci=m.path.child(yi.fromString(Fn));if(!Zn.isDocumentKey(ci))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Q}() must result in a valid document path, but '${ci}' is not because it contains an odd number of segments.`);const fi=new Zn(ci);zt.push(qc(b,fi))}else{const ci=ly(B,Q,Fn);zt.push(ci)}}return new Dl(zt,De)}(i._query,i.firestore._databaseId,u,e,t,o)}}function yo(i,e,t){if("string"==typeof(t=(0,S.m9)(t))){if(""===t)throw new _n(Gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y(e)&&-1!==t.indexOf("/"))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(yi.fromString(t));if(!Zn.isDocumentKey(o))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return qc(i,new Zn(o))}if(t instanceof $s)return qc(i,t._key);throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Al(t)}.`)}function Jy(i,e){if(!Array.isArray(i)||0===i.length)throw new _n(Gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z_(i,e){if(e.isInequality()){const o=k(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const m=Iu(i);null!==m&&$_(0,u,m)}const t=function(o,u){for(const m of o)for(const b of m.getFlattenedFilters())if(u.indexOf(b.op)>=0)return b.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new _n(Gt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function $_(i,e,t){if(!t.isEqual(e))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Jg{convertValue(e,t="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return Aa(e,(u,m)=>{o[u]=this.convertValue(m,t)}),o}convertGeoPoint(e){return new Um(Yr(e.latitude),Yr(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=rc(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const t=Nl(e);return new jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=yi.fromString(e);oi(ou(o));const u=new rl(o.get(1),o.get(3)),m=new Zn(o.popFirst(5));return u.isEqual(t)||Ai(`Document ${m} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}function Zm(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class _y extends Jg{constructor(e){super(),this.firestore=e}convertBytes(e){return new id(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $s(this.firestore,null,t)}}class Vf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bf extends Kp{constructor(e,t,o,u,m,b){super(e,t,o,u,b),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field($m("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class qm extends Bf{data(e={}){return super.data(e)}}class sd{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Vf(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new qm(this._firestore,this._userDataWriter,o.key,o,new Vf(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _n(Gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(b=>({type:"added",doc:new qm(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Vf(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:m++}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(b=>u||3!==b.type).map(b=>{const B=new qm(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Vf(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let Q=-1,ie=-1;return 0!==b.type&&(Q=m.indexOf(b.doc.key),m=m.delete(b.doc.key)),1!==b.type&&(m=m.add(b.doc),ie=m.indexOf(b.doc.key)),{type:yy(b.type),doc:B,oldIndex:Q,newIndex:ie}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bn()}}function vy(i,e){return i instanceof Bf&&e instanceof Bf?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof sd&&e instanceof sd&&i._firestore===e._firestore&&Gs(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function by(i){i=Yi(i,$s);const e=Yi(i.firestore,_r);return Zt(Ws(e),i._key).then(t=>xy(e,i,t))}class Bh extends Jg{constructor(e){super(),this.firestore=e}convertBytes(e){return new id(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $s(this.firestore,null,t)}}function Qm(i){i=Yi(i,$s);const e=Yi(i.firestore,_r),t=Ws(e),o=new Bh(e);return function At(i,e){const t=new fs;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(u,m,b){try{const B=yield function(Q,ie){const De=Pn(Q);return De.persistence.runTransaction("read document","readonly",dt=>De.localDocuments.getDocument(dt,ie))}(u,m);B.isFoundDocument()?b.resolve(B):B.isNoDocument()?b.resolve(null):b.reject(new _n(Gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(B){const Q=Eh(B,`Failed to get document '${m} from cache`);b.reject(Q)}}),function(u,m,b){return o.apply(this,arguments)})(yield d(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Bf(e,o,i._key,u,new Vf(null!==u&&u.hasLocalMutations,!0),i.converter))}function Xm(i){i=Yi(i,$s);const e=Yi(i.firestore,_r);return Zt(Ws(e),i._key,{source:"server"}).then(t=>xy(e,i,t))}function nv(i){i=Yi(i,ai);const e=Yi(i.firestore,_r),t=Ws(e),o=new Bh(e);return j_(i._query),Dn(t,i._query).then(u=>new sd(e,o,i,u))}function iv(i){i=Yi(i,ai);const e=Yi(i.firestore,_r),t=Ws(e),o=new Bh(e);return function En(i,e){const t=new fs;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(u,m,b){try{const B=yield $a(u,m,!0),Q=new Tm(m,B.ir),ie=Q.sc(B.documents),De=Q.applyChanges(ie,!1);b.resolve(De.snapshot)}catch(B){const Q=Eh(B,`Failed to execute query '${m} against cache`);b.reject(Q)}}),function(u,m,b){return o.apply(this,arguments)})(yield d(i),e,t);var o})),t.promise}(t,i._query).then(u=>new sd(e,o,i,u))}function rv(i){i=Yi(i,ai);const e=Yi(i.firestore,_r),t=Ws(e),o=new Bh(e);return Dn(t,i._query,{source:"server"}).then(u=>new sd(e,o,i,u))}function wy(i,e,t){i=Yi(i,$s);const o=Yi(i.firestore,_r),u=Zm(i.converter,e,t);return Yp(o,[qg(Pf(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,js.none())])}function Ey(i,e,t,...o){i=Yi(i,$s);const u=Yi(i.firestore,_r),m=Pf(u);let b;return b="string"==typeof(e=(0,S.m9)(e))||e instanceof rd?B_(m,"updateDoc",i._key,e,t,o):V_(m,"updateDoc",i._key,e),Yp(u,[b.toMutation(i._key,js.exists(!0))])}function Cy(i){return Yp(Yi(i.firestore,_r),[new ul(i._key,js.none())])}function sv(i,e){const t=Yi(i.firestore,_r),o=jo(i),u=Zm(i.converter,e);return Yp(t,[qg(Pf(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,js.exists(!1))]).then(()=>o)}function Dy(i,...e){var t,o,u;i=(0,S.m9)(i);let m={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||Ar(e[b])||(m=e[b],b++);const B={includeMetadataChanges:m.includeMetadataChanges};if(Ar(e[b])){const dt=e[b];e[b]=null===(t=dt.next)||void 0===t?void 0:t.bind(dt),e[b+1]=null===(o=dt.error)||void 0===o?void 0:o.bind(dt),e[b+2]=null===(u=dt.complete)||void 0===u?void 0:u.bind(dt)}let Q,ie,De;if(i instanceof $s)ie=Yi(i.firestore,_r),De=Oc(i._key.path),Q={next:dt=>{e[b]&&e[b](xy(ie,i,dt))},error:e[b+1],complete:e[b+2]};else{const dt=Yi(i,ai);ie=Yi(dt.firestore,_r),De=dt._query;const zt=new Bh(ie);Q={next:an=>{e[b]&&e[b](new sd(ie,zt,dt,an))},error:e[b+1],complete:e[b+2]},j_(i._query)}return function(dt,zt,an,Fn){const ci=new kh(Fn),fi=new Im(zt,ci,an);return dt.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Em(yield W(dt),fi)})),()=>{ci.Dc(),dt.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Dm(yield W(dt),fi)}))}}(Ws(ie),De,B,Q)}function ov(i,e){return function ri(i,e){const t=new kh(e);return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield W(i),u=t,Pn(o).ku.add(u),void u.next();var o,u})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield W(i),u=t,void Pn(o).ku.delete(u);var o,u}))}}(Ws(i=Yi(i,_r)),Ar(e)?e:{next:e})}function Yp(i,e){return function(t,o){const u=new fs;return t.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function A_(i,e,t){return Xl.apply(this,arguments)}(yield C(t),o,u)})),u.promise}(Ws(i),e)}function xy(i,e,t){const o=t.docs.get(e._key),u=new Bh(i);return new Bf(i,u,e._key,o,new Vf(t.hasPendingWrites,t.fromCache),e.converter)}const hv={maxAttempts:5};class G_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pf(e)}set(e,t,o){this._verifyNotCommitted();const u=Uh(e,this._firestore),m=Zm(u.converter,t,o),b=qg(this._dataReader,"WriteBatch.set",u._key,m,null!==u.converter,o);return this._mutations.push(b.toMutation(u._key,js.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const m=Uh(e,this._firestore);let b;return b="string"==typeof(t=(0,S.m9)(t))||t instanceof rd?B_(this._dataReader,"WriteBatch.update",m._key,t,o,u):V_(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(b.toMutation(m._key,js.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uh(e,this._firestore);return this._mutations=this._mutations.concat(new ul(t._key,js.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _n(Gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uh(i,e){if((i=(0,S.m9)(i)).firestore!==e)throw new _n(Gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class fv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Pf(e)}get(e){const t=Uh(e,this._firestore),o=new _y(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return Bn();const m=u[0];if(m.isFoundDocument())return new Kp(this._firestore,o,m.key,m,t.converter);if(m.isNoDocument())return new Kp(this._firestore,o,t._key,null,t.converter);throw Bn()})}set(e,t,o){const u=Uh(e,this._firestore),m=Zm(u.converter,t,o),b=qg(this._dataReader,"Transaction.set",u._key,m,null!==u.converter,o);return this._transaction.set(u._key,b),this}update(e,t,o,...u){const m=Uh(e,this._firestore);let b;return b="string"==typeof(t=(0,S.m9)(t))||t instanceof rd?B_(this._dataReader,"Transaction.update",m._key,t,o,u):V_(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,b),this}delete(e){const t=Uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uh(e,this._firestore),o=new Bh(this._firestore);return super.get(e).then(u=>new Bf(this._firestore,o,t._key,u._document,new Vf(!1,!1),t.converter))}}function Jm(i,e,t){i=Yi(i,_r);const o=Object.assign(Object.assign({},hv),t);return function(u){if(u.maxAttempts<1)throw new _n(Gt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,m,b){const B=new fs;return u.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const Q=yield function P(i){return c(i).then(e=>e.datastore)}(u);new Pm(u.asyncQueue,Q,b,m,B).run()})),B.promise}(Ws(i),u=>e(new fv(i,u)),o)}function pv(){return new Hm("deleteField")}function Ty(){return new L_("serverTimestamp")}function mv(...i){return new Wy("arrayUnion",i)}function Sy(...i){return new Ky("arrayRemove",i)}function gv(i){return new Yy("increment",i)}!function(i,e=!0){ar=F.SDK_VERSION,(0,F._registerComponent)(new _.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const m=t.getProvider("app").getImmediate(),b=new _r(new Ol(t.getProvider("auth-internal")),new Ec(t.getProvider("app-check-internal")),function(B,Q){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new _n(Gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(B.options.projectId,Q)}(m,o),m);return u=Object.assign({useFetchStreams:e},u),b._setSettings(u),b},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(dn,"3.13.0",i),(0,F.registerVersion)(dn,"3.13.0","esm2017")}()},3854:(fn,ot,M)=>{"use strict";M.d(ot,{$s:()=>je,BH:()=>Re,DV:()=>Ln,Dv:()=>Jt,G6:()=>Wn,GJ:()=>on,L:()=>Oe,LL:()=>Ue,Pz:()=>ke,Sg:()=>xe,UG:()=>mt,UI:()=>Cn,US:()=>we,Wj:()=>kn,Wl:()=>In,Yr:()=>An,ZB:()=>ye,ZR:()=>Ae,aH:()=>Fe,b$:()=>vn,cI:()=>Qt,dS:()=>Oi,eu:()=>nn,g5:()=>_,gK:()=>yt,gQ:()=>Ee,h$:()=>L,hl:()=>xn,hu:()=>F,jU:()=>jt,lb:()=>Sn,m9:()=>ui,ne:()=>et,p$:()=>de,pd:()=>gt,q4:()=>Be,r3:()=>wn,ru:()=>Ht,tV:()=>ne,uI:()=>ge,ug:()=>Un,vZ:()=>_t,w1:()=>hi,w9:()=>St,xO:()=>Dt,xb:()=>Jn,z$:()=>Ke,zI:()=>qe,zd:()=>lt});const f={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},F=function(rt,Qe){if(!rt)throw _(Qe)},_=function(rt){return new Error("Firebase Database ("+f.SDK_VERSION+") INTERNAL ASSERT FAILED: "+rt)},ce=function(rt){const Qe=[];let pe=0;for(let ve=0;ve<rt.length;ve++){let fe=rt.charCodeAt(ve);fe<128?Qe[pe++]=fe:fe<2048?(Qe[pe++]=fe>>6|192,Qe[pe++]=63&fe|128):55296==(64512&fe)&&ve+1<rt.length&&56320==(64512&rt.charCodeAt(ve+1))?(fe=65536+((1023&fe)<<10)+(1023&rt.charCodeAt(++ve)),Qe[pe++]=fe>>18|240,Qe[pe++]=fe>>12&63|128,Qe[pe++]=fe>>6&63|128,Qe[pe++]=63&fe|128):(Qe[pe++]=fe>>12|224,Qe[pe++]=fe>>6&63|128,Qe[pe++]=63&fe|128)}return Qe},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(rt,Qe){if(!Array.isArray(rt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const pe=Qe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let fe=0;fe<rt.length;fe+=3){const ft=rt[fe],$e=fe+1<rt.length,le=$e?rt[fe+1]:0,q=fe+2<rt.length,te=q?rt[fe+2]:0;let $t=(15&le)<<2|te>>6,ln=63&te;q||(ln=64,$e||($t=64)),ve.push(pe[ft>>2],pe[(3&ft)<<4|le>>4],pe[$t],pe[ln])}return ve.join("")},encodeString(rt,Qe){return this.HAS_NATIVE_SUPPORT&&!Qe?btoa(rt):this.encodeByteArray(ce(rt),Qe)},decodeString(rt,Qe){return this.HAS_NATIVE_SUPPORT&&!Qe?atob(rt):function(rt){const Qe=[];let pe=0,ve=0;for(;pe<rt.length;){const fe=rt[pe++];if(fe<128)Qe[ve++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const ft=rt[pe++];Qe[ve++]=String.fromCharCode((31&fe)<<6|63&ft)}else if(fe>239&&fe<365){const q=((7&fe)<<18|(63&rt[pe++])<<12|(63&rt[pe++])<<6|63&rt[pe++])-65536;Qe[ve++]=String.fromCharCode(55296+(q>>10)),Qe[ve++]=String.fromCharCode(56320+(1023&q))}else{const ft=rt[pe++],$e=rt[pe++];Qe[ve++]=String.fromCharCode((15&fe)<<12|(63&ft)<<6|63&$e)}}return Qe.join("")}(this.decodeStringToByteArray(rt,Qe))},decodeStringToByteArray(rt,Qe){this.init_();const pe=Qe?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let fe=0;fe<rt.length;){const ft=pe[rt.charAt(fe++)],le=fe<rt.length?pe[rt.charAt(fe)]:0;++fe;const te=fe<rt.length?pe[rt.charAt(fe)]:64;++fe;const st=fe<rt.length?pe[rt.charAt(fe)]:64;if(++fe,null==ft||null==le||null==te||null==st)throw new He;ve.push(ft<<2|le>>4),64!==te&&(ve.push(le<<4&240|te>>2),64!==st&&ve.push(te<<6&192|st))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let rt=0;rt<this.ENCODED_VALS.length;rt++)this.byteToCharMap_[rt]=this.ENCODED_VALS.charAt(rt),this.charToByteMap_[this.byteToCharMap_[rt]]=rt,this.byteToCharMapWebSafe_[rt]=this.ENCODED_VALS_WEBSAFE.charAt(rt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[rt]]=rt,rt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(rt)]=rt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(rt)]=rt)}}};class He extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L=function(rt){const Qe=ce(rt);return we.encodeByteArray(Qe,!0)},Oe=function(rt){return L(rt).replace(/\./g,"")},ne=function(rt){try{return we.decodeString(rt,!0)}catch(Qe){console.error("base64Decode failed: ",Qe)}return null};function de(rt){return ye(void 0,rt)}function ye(rt,Qe){if(!(Qe instanceof Object))return Qe;switch(Qe.constructor){case Date:return new Date(Qe.getTime());case Object:void 0===rt&&(rt={});break;case Array:rt=[];break;default:return Qe}for(const pe in Qe)!Qe.hasOwnProperty(pe)||!Ie(pe)||(rt[pe]=ye(rt[pe],Qe[pe]));return rt}function Ie(rt){return"__proto__"!==rt}const nt=()=>{try{return function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const rt=process.env.__FIREBASE_DEFAULTS__;return rt?JSON.parse(rt):void 0})()||(()=>{if(typeof document>"u")return;let rt;try{rt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Qe=rt&&ne(rt[1]);return Qe&&JSON.parse(Qe)})()}catch(rt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${rt}`)}},Be=rt=>{var Qe,pe;return null===(pe=null===(Qe=nt())||void 0===Qe?void 0:Qe.emulatorHosts)||void 0===pe?void 0:pe[rt]},Fe=()=>{var rt;return null===(rt=nt())||void 0===rt?void 0:rt.config},ke=rt=>{var Qe;return null===(Qe=nt())||void 0===Qe?void 0:Qe[`_${rt}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Qe,pe)=>{this.resolve=Qe,this.reject=pe})}wrapCallback(Qe){return(pe,ve)=>{pe?this.reject(pe):this.resolve(ve),"function"==typeof Qe&&(this.promise.catch(()=>{}),1===Qe.length?Qe(pe):Qe(pe,ve))}}}function xe(rt,Qe){if(rt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=Qe||"demo-project",fe=rt.iat||0,ft=rt.sub||rt.user_id;if(!ft)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:fe,exp:fe+3600,auth_time:fe,sub:ft,user_id:ft,firebase:{sign_in_provider:"custom",identities:{}}},rt);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify($e)),""].join(".")}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function mt(){var rt;const Qe=null===(rt=nt())||void 0===rt?void 0:rt.forceEnvironment;if("node"===Qe)return!0;if("browser"===Qe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function jt(){return"object"==typeof self&&self.self===self}function Ht(){const rt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof rt&&void 0!==rt.id}function vn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function hi(){const rt=Ke();return rt.indexOf("MSIE ")>=0||rt.indexOf("Trident/")>=0}function An(){return!0===f.NODE_CLIENT||!0===f.NODE_ADMIN}function Wn(){return!mt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xn(){try{return"object"==typeof indexedDB}catch{return!1}}function nn(){return new Promise((rt,Qe)=>{try{let pe=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(ve);fe.onsuccess=()=>{fe.result.close(),pe||self.indexedDB.deleteDatabase(ve),rt(!0)},fe.onupgradeneeded=()=>{pe=!1},fe.onerror=()=>{var ft;Qe((null===(ft=fe.error)||void 0===ft?void 0:ft.message)||"")}}catch(pe){Qe(pe)}})}function qe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ae extends Error{constructor(Qe,pe,ve){super(pe),this.code=Qe,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(Qe,pe,ve){this.service=Qe,this.serviceName=pe,this.errors=ve}create(Qe,...pe){const ve=pe[0]||{},fe=`${this.service}/${Qe}`,ft=this.errors[Qe],$e=ft?function pt(rt,Qe){return rt.replace(at,(pe,ve)=>{const fe=Qe[ve];return null!=fe?String(fe):`<${ve}?>`})}(ft,ve):"Error";return new Ae(fe,`${this.serviceName}: ${$e} (${fe}).`,ve)}}const at=/\{\$([^}]+)}/g;function Qt(rt){return JSON.parse(rt)}function In(rt){return JSON.stringify(rt)}const bn=function(rt){let Qe={},pe={},ve={},fe="";try{const ft=rt.split(".");Qe=Qt(ne(ft[0])||""),pe=Qt(ne(ft[1])||""),fe=ft[2],ve=pe.d||{},delete pe.d}catch{}return{header:Qe,claims:pe,data:ve,signature:fe}},St=function(rt){const pe=bn(rt).claims;return!!pe&&"object"==typeof pe&&pe.hasOwnProperty("iat")},on=function(rt){const Qe=bn(rt).claims;return"object"==typeof Qe&&!0===Qe.admin};function wn(rt,Qe){return Object.prototype.hasOwnProperty.call(rt,Qe)}function Ln(rt,Qe){if(Object.prototype.hasOwnProperty.call(rt,Qe))return rt[Qe]}function Jn(rt){for(const Qe in rt)if(Object.prototype.hasOwnProperty.call(rt,Qe))return!1;return!0}function Cn(rt,Qe,pe){const ve={};for(const fe in rt)Object.prototype.hasOwnProperty.call(rt,fe)&&(ve[fe]=Qe.call(pe,rt[fe],fe,rt));return ve}function _t(rt,Qe){if(rt===Qe)return!0;const pe=Object.keys(rt),ve=Object.keys(Qe);for(const fe of pe){if(!ve.includes(fe))return!1;const ft=rt[fe],$e=Qe[fe];if(he(ft)&&he($e)){if(!_t(ft,$e))return!1}else if(ft!==$e)return!1}for(const fe of ve)if(!pe.includes(fe))return!1;return!0}function he(rt){return null!==rt&&"object"==typeof rt}function Dt(rt){const Qe=[];for(const[pe,ve]of Object.entries(rt))Array.isArray(ve)?ve.forEach(fe=>{Qe.push(encodeURIComponent(pe)+"="+encodeURIComponent(fe))}):Qe.push(encodeURIComponent(pe)+"="+encodeURIComponent(ve));return Qe.length?"&"+Qe.join("&"):""}function lt(rt){const Qe={};return rt.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[fe,ft]=ve.split("=");Qe[decodeURIComponent(fe)]=decodeURIComponent(ft)}}),Qe}function gt(rt){const Qe=rt.indexOf("?");if(!Qe)return"";const pe=rt.indexOf("#",Qe);return rt.substring(Qe,pe>0?pe:void 0)}class Ee{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Qe=1;Qe<this.blockSize;++Qe)this.pad_[Qe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Qe,pe){pe||(pe=0);const ve=this.W_;if("string"==typeof Qe)for(let st=0;st<16;st++)ve[st]=Qe.charCodeAt(pe)<<24|Qe.charCodeAt(pe+1)<<16|Qe.charCodeAt(pe+2)<<8|Qe.charCodeAt(pe+3),pe+=4;else for(let st=0;st<16;st++)ve[st]=Qe[pe]<<24|Qe[pe+1]<<16|Qe[pe+2]<<8|Qe[pe+3],pe+=4;for(let st=16;st<80;st++){const $t=ve[st-3]^ve[st-8]^ve[st-14]^ve[st-16];ve[st]=4294967295&($t<<1|$t>>>31)}let te,Pe,fe=this.chain_[0],ft=this.chain_[1],$e=this.chain_[2],le=this.chain_[3],q=this.chain_[4];for(let st=0;st<80;st++){st<40?st<20?(te=le^ft&($e^le),Pe=1518500249):(te=ft^$e^le,Pe=1859775393):st<60?(te=ft&$e|le&(ft|$e),Pe=2400959708):(te=ft^$e^le,Pe=3395469782);const $t=(fe<<5|fe>>>27)+te+q+Pe+ve[st]&4294967295;q=le,le=$e,$e=4294967295&(ft<<30|ft>>>2),ft=fe,fe=$t}this.chain_[0]=this.chain_[0]+fe&4294967295,this.chain_[1]=this.chain_[1]+ft&4294967295,this.chain_[2]=this.chain_[2]+$e&4294967295,this.chain_[3]=this.chain_[3]+le&4294967295,this.chain_[4]=this.chain_[4]+q&4294967295}update(Qe,pe){if(null==Qe)return;void 0===pe&&(pe=Qe.length);const ve=pe-this.blockSize;let fe=0;const ft=this.buf_;let $e=this.inbuf_;for(;fe<pe;){if(0===$e)for(;fe<=ve;)this.compress_(Qe,fe),fe+=this.blockSize;if("string"==typeof Qe){for(;fe<pe;)if(ft[$e]=Qe.charCodeAt(fe),++$e,++fe,$e===this.blockSize){this.compress_(ft),$e=0;break}}else for(;fe<pe;)if(ft[$e]=Qe[fe],++$e,++fe,$e===this.blockSize){this.compress_(ft),$e=0;break}}this.inbuf_=$e,this.total_+=pe}digest(){const Qe=[];let pe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let fe=this.blockSize-1;fe>=56;fe--)this.buf_[fe]=255&pe,pe/=256;this.compress_(this.buf_);let ve=0;for(let fe=0;fe<5;fe++)for(let ft=24;ft>=0;ft-=8)Qe[ve]=this.chain_[fe]>>ft&255,++ve;return Qe}}function et(rt,Qe){const pe=new xt(rt,Qe);return pe.subscribe.bind(pe)}class xt{constructor(Qe,pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(()=>{Qe(this)}).catch(ve=>{this.error(ve)})}next(Qe){this.forEachObserver(pe=>{pe.next(Qe)})}error(Qe){this.forEachObserver(pe=>{pe.error(Qe)}),this.close(Qe)}complete(){this.forEachObserver(Qe=>{Qe.complete()}),this.close()}subscribe(Qe,pe,ve){let fe;if(void 0===Qe&&void 0===pe&&void 0===ve)throw new Error("Missing Observer.");fe=function un(rt,Qe){if("object"!=typeof rt||null===rt)return!1;for(const pe of Qe)if(pe in rt&&"function"==typeof rt[pe])return!0;return!1}(Qe,["next","error","complete"])?Qe:{next:Qe,error:pe,complete:ve},void 0===fe.next&&(fe.next=Ot),void 0===fe.error&&(fe.error=Ot),void 0===fe.complete&&(fe.complete=Ot);const ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),ft}unsubscribeOne(Qe){void 0===this.observers||void 0===this.observers[Qe]||(delete this.observers[Qe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Qe){if(!this.finalized)for(let pe=0;pe<this.observers.length;pe++)this.sendOne(pe,Qe)}sendOne(Qe,pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Qe])try{pe(this.observers[Qe])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(Qe){this.finalized||(this.finalized=!0,void 0!==Qe&&(this.finalError=Qe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}const Jt=function(rt,Qe,pe,ve){let fe;if(ve<Qe?fe="at least "+Qe:ve>pe&&(fe=0===pe?"none":"no more than "+pe),fe)throw new Error(rt+" failed: Was called with "+ve+(1===ve?" argument.":" arguments.")+" Expects "+fe+".")};function yt(rt,Qe){return`${rt} failed: ${Qe} argument `}function kn(rt,Qe,pe,ve){if((!ve||pe)&&"function"!=typeof pe)throw new Error(yt(rt,Qe)+"must be a valid function.")}function Sn(rt,Qe,pe,ve){if((!ve||pe)&&("object"!=typeof pe||null===pe))throw new Error(yt(rt,Qe)+"must be a valid context object.")}const Oi=function(rt){const Qe=[];let pe=0;for(let ve=0;ve<rt.length;ve++){let fe=rt.charCodeAt(ve);if(fe>=55296&&fe<=56319){const ft=fe-55296;ve++,F(ve<rt.length,"Surrogate pair missing trail surrogate."),fe=65536+(ft<<10)+(rt.charCodeAt(ve)-56320)}fe<128?Qe[pe++]=fe:fe<2048?(Qe[pe++]=fe>>6|192,Qe[pe++]=63&fe|128):fe<65536?(Qe[pe++]=fe>>12|224,Qe[pe++]=fe>>6&63|128,Qe[pe++]=63&fe|128):(Qe[pe++]=fe>>18|240,Qe[pe++]=fe>>12&63|128,Qe[pe++]=fe>>6&63|128,Qe[pe++]=63&fe|128)}return Qe},Un=function(rt){let Qe=0;for(let pe=0;pe<rt.length;pe++){const ve=rt.charCodeAt(pe);ve<128?Qe++:ve<2048?Qe+=2:ve>=55296&&ve<=56319?(Qe+=4,pe++):Qe+=3}return Qe},Vn=1e3,Ye=2,Z=144e5,X=.5;function je(rt,Qe=Vn,pe=Ye){const ve=Qe*Math.pow(pe,rt),fe=Math.round(X*ve*(Math.random()-.5)*2);return Math.min(Z,ve+fe)}function ui(rt){return rt&&rt._delegate?rt._delegate:rt}},8096:function(fn){fn.exports=function(ot){function M(F){if(f[F])return f[F].exports;var _=f[F]={exports:{},id:F,loaded:!1};return ot[F].call(_.exports,_,_.exports,M),_.loaded=!0,_.exports}var f={};return M.m=ot,M.c=f,M.p="dist/",M(0)}([function(ot,M,f){"use strict";function F(mt){return mt&&mt.__esModule?mt:{default:mt}}var _=Object.assign||function(mt){for(var jt=1;jt<arguments.length;jt++){var Ht=arguments[jt];for(var vn in Ht)Object.prototype.hasOwnProperty.call(Ht,vn)&&(mt[vn]=Ht[vn])}return mt},S=(F(f(1)),f(6)),we=F(S),L=F(f(7)),ne=F(f(8)),ye=F(f(9)),Ve=F(f(10)),ht=F(f(11)),nt=F(f(14)),Be=[],ut=!1,Fe={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ke=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(ut=!0),ut)return Be=(0,ht.default)(Be,Fe),(0,Ve.default)(Be,Fe.once),Be},Re=function(){Be=(0,nt.default)(),ke()};ot.exports={init:function(mt){Fe=_(Fe,mt),Be=(0,nt.default)();var jt=document.all&&!window.atob;return function(mt){return!0===mt||"mobile"===mt&&ye.default.mobile()||"phone"===mt&&ye.default.phone()||"tablet"===mt&&ye.default.tablet()||"function"==typeof mt&&!0===mt()}(Fe.disable)||jt?void Be.forEach(function(mt,jt){mt.node.removeAttribute("data-aos"),mt.node.removeAttribute("data-aos-easing"),mt.node.removeAttribute("data-aos-duration"),mt.node.removeAttribute("data-aos-delay")}):(Fe.disableMutationObserver||ne.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),Fe.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Fe.easing),document.querySelector("body").setAttribute("data-aos-duration",Fe.duration),document.querySelector("body").setAttribute("data-aos-delay",Fe.delay),"DOMContentLoaded"===Fe.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?ke(!0):"load"===Fe.startEvent?window.addEventListener(Fe.startEvent,function(){ke(!0)}):document.addEventListener(Fe.startEvent,function(){ke(!0)}),window.addEventListener("resize",(0,L.default)(ke,Fe.debounceDelay,!0)),window.addEventListener("orientationchange",(0,L.default)(ke,Fe.debounceDelay,!0)),window.addEventListener("scroll",(0,we.default)(function(){(0,Ve.default)(Be,Fe.once)},Fe.throttleDelay)),Fe.disableMutationObserver||ne.default.ready("[data-aos]",Re),Be)},refresh:ke,refreshHard:Re}},function(ot,M){},,,,,function(ot,M){(function(f){"use strict";function F(Ke,ge,mt){function jt(Mt){var pn=nn,St=qe;return nn=qe=void 0,at=Mt,Ae=Ke.apply(St,pn)}function rn(Mt){var pn=Mt-pt;return void 0===pt||pn>=ge||pn<0||In&&Mt-at>=Ne}function hi(){var Mt=xe();return rn(Mt)?_i(Mt):void(Ue=setTimeout(hi,function vn(Mt){var on=ge-(Mt-pt);return In?Re(on,Ne-(Mt-at)):on}(Mt)))}function _i(Mt){return Ue=void 0,bn&&nn?jt(Mt):(nn=qe=void 0,Ae)}function xn(){var Mt=xe(),pn=rn(Mt);if(nn=arguments,qe=this,pt=Mt,pn){if(void 0===Ue)return function Ht(Mt){return at=Mt,Ue=setTimeout(hi,ge),Qt?jt(Mt):Ae}(pt);if(In)return Ue=setTimeout(hi,ge),jt(pt)}return void 0===Ue&&(Ue=setTimeout(hi,ge)),Ae}var nn,qe,Ne,Ae,Ue,pt,at=0,Qt=!1,In=!1,bn=!0;if("function"!=typeof Ke)throw new TypeError(Oe);return ge=He(ge)||0,ce(mt)&&(Qt=!!mt.leading,Ne=(In="maxWait"in mt)?ke(He(mt.maxWait)||0,ge):Ne,bn="trailing"in mt?!!mt.trailing:bn),xn.cancel=function An(){void 0!==Ue&&clearTimeout(Ue),at=0,nn=pt=qe=Ue=void 0},xn.flush=function Wn(){return void 0===Ue?Ae:_i(xe())},xn}function ce(Ke){var ge=typeof Ke>"u"?"undefined":L(Ke);return!!Ke&&("object"==ge||"function"==ge)}function we(Ke){return"symbol"==(typeof Ke>"u"?"undefined":L(Ke))||function S(Ke){return!!Ke&&"object"==(typeof Ke>"u"?"undefined":L(Ke))}(Ke)&&Fe.call(Ke)==de}function He(Ke){if("number"==typeof Ke)return Ke;if(we(Ke))return ne;if(ce(Ke)){var ge="function"==typeof Ke.valueOf?Ke.valueOf():Ke;Ke=ce(ge)?ge+"":ge}if("string"!=typeof Ke)return 0===Ke?Ke:+Ke;Ke=Ke.replace(ye,"");var mt=Ve.test(Ke);return mt||We.test(Ke)?ht(Ke.slice(2),mt?2:8):Ie.test(Ke)?ne:+Ke}var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ke){return typeof Ke}:function(Ke){return Ke&&"function"==typeof Symbol&&Ke.constructor===Symbol&&Ke!==Symbol.prototype?"symbol":typeof Ke},Oe="Expected a function",ne=NaN,de="[object Symbol]",ye=/^\s+|\s+$/g,Ie=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,We=/^0o[0-7]+$/i,ht=parseInt,Ze="object"==(typeof f>"u"?"undefined":L(f))&&f&&f.Object===Object&&f,nt="object"==(typeof self>"u"?"undefined":L(self))&&self&&self.Object===Object&&self,Be=Ze||nt||Function("return this")(),Fe=Object.prototype.toString,ke=Math.max,Re=Math.min,xe=function(){return Be.Date.now()};ot.exports=function _(Ke,ge,mt){var jt=!0,Ht=!0;if("function"!=typeof Ke)throw new TypeError(Oe);return ce(mt)&&(jt="leading"in mt?!!mt.leading:jt,Ht="trailing"in mt?!!mt.trailing:Ht),F(Ke,ge,{leading:jt,maxWait:ge,trailing:Ht})}}).call(M,function(){return this}())},function(ot,M){(function(f){"use strict";function _(xe){var Ke=typeof xe>"u"?"undefined":He(xe);return!!xe&&("object"==Ke||"function"==Ke)}function S(xe){return"symbol"==(typeof xe>"u"?"undefined":He(xe))||function ce(xe){return!!xe&&"object"==(typeof xe>"u"?"undefined":He(xe))}(xe)&&ut.call(xe)==ne}function we(xe){if("number"==typeof xe)return xe;if(S(xe))return Oe;if(_(xe)){var Ke="function"==typeof xe.valueOf?xe.valueOf():xe;xe=_(Ke)?Ke+"":Ke}if("string"!=typeof xe)return 0===xe?xe:+xe;xe=xe.replace(de,"");var ge=Ie.test(xe);return ge||Ve.test(xe)?We(xe.slice(2),ge?2:8):ye.test(xe)?Oe:+xe}var He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(xe){return typeof xe}:function(xe){return xe&&"function"==typeof Symbol&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},L="Expected a function",Oe=NaN,ne="[object Symbol]",de=/^\s+|\s+$/g,ye=/^[-+]0x[0-9a-f]+$/i,Ie=/^0b[01]+$/i,Ve=/^0o[0-7]+$/i,We=parseInt,ht="object"==(typeof f>"u"?"undefined":He(f))&&f&&f.Object===Object&&f,Ze="object"==(typeof self>"u"?"undefined":He(self))&&self&&self.Object===Object&&self,nt=ht||Ze||Function("return this")(),ut=Object.prototype.toString,Fe=Math.max,ke=Math.min,Re=function(){return nt.Date.now()};ot.exports=function F(xe,Ke,ge){function mt(bn){var Mt=xn,pn=nn;return xn=nn=void 0,pt=bn,Ne=xe.apply(pn,Mt)}function vn(bn){var Mt=bn-Ue;return void 0===Ue||Mt>=Ke||Mt<0||Qt&&bn-pt>=qe}function rn(){var bn=Re();return vn(bn)?hi(bn):void(Ae=setTimeout(rn,function Ht(bn){var St=Ke-(bn-Ue);return Qt?ke(St,qe-(bn-pt)):St}(bn)))}function hi(bn){return Ae=void 0,In&&xn?mt(bn):(xn=nn=void 0,Ne)}function Wn(){var bn=Re(),Mt=vn(bn);if(xn=arguments,nn=this,Ue=bn,Mt){if(void 0===Ae)return function jt(bn){return pt=bn,Ae=setTimeout(rn,Ke),at?mt(bn):Ne}(Ue);if(Qt)return Ae=setTimeout(rn,Ke),mt(Ue)}return void 0===Ae&&(Ae=setTimeout(rn,Ke)),Ne}var xn,nn,qe,Ne,Ae,Ue,pt=0,at=!1,Qt=!1,In=!0;if("function"!=typeof xe)throw new TypeError(L);return Ke=we(Ke)||0,_(ge)&&(at=!!ge.leading,qe=(Qt="maxWait"in ge)?Fe(we(ge.maxWait)||0,Ke):qe,In="trailing"in ge?!!ge.trailing:In),Wn.cancel=function _i(){void 0!==Ae&&clearTimeout(Ae),pt=0,xn=Ue=nn=Ae=void 0},Wn.flush=function An(){return void 0===Ae?Ne:hi(Re())},Wn}}).call(M,function(){return this}())},function(ot,M){"use strict";function f(He){var L=void 0,Oe=void 0;for(L=0;L<He.length;L+=1)if((Oe=He[L]).dataset&&Oe.dataset.aos||Oe.children&&f(Oe.children))return!0;return!1}function F(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function S(He){He&&He.forEach(function(L){var Oe=Array.prototype.slice.call(L.addedNodes),ne=Array.prototype.slice.call(L.removedNodes);if(f(Oe.concat(ne)))return we()})}Object.defineProperty(M,"__esModule",{value:!0});var we=function(){};M.default={isSupported:function _(){return!!F()},ready:function ce(He,L){var Oe=window.document,de=new(F())(S);we=L,de.observe(Oe.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(ot,M){"use strict";function F(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(M,"__esModule",{value:!0});var _=function(){function Oe(ne,de){for(var ye=0;ye<de.length;ye++){var Ie=de[ye];Ie.enumerable=Ie.enumerable||!1,Ie.configurable=!0,"value"in Ie&&(Ie.writable=!0),Object.defineProperty(ne,Ie.key,Ie)}}return function(ne,de,ye){return de&&Oe(ne.prototype,de),ye&&Oe(ne,ye),ne}}(),ce=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,S=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,we=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,He=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,L=function(){function Oe(){!function f(Oe,ne){if(!(Oe instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,Oe)}return _(Oe,[{key:"phone",value:function(){var ne=F();return!(!ce.test(ne)&&!S.test(ne.substr(0,4)))}},{key:"mobile",value:function(){var ne=F();return!(!we.test(ne)&&!He.test(ne.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),Oe}();M.default=new L},function(ot,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.default=function(_,ce){var S=window.pageYOffset,we=window.innerHeight;_.forEach(function(He,L){!function(_,ce,S){var we=_.node.getAttribute("data-aos-once");ce>_.position?_.node.classList.add("aos-animate"):typeof we<"u"&&("false"===we||!S&&"true"!==we)&&_.node.classList.remove("aos-animate")}(He,we+S,ce)})}},function(ot,M,f){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var ce=function F(we){return we&&we.__esModule?we:{default:we}}(f(12));M.default=function(we,He){return we.forEach(function(L,Oe){L.node.classList.add("aos-init"),L.position=(0,ce.default)(L.node,He.offset)}),we}},function(ot,M,f){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var ce=function F(we){return we&&we.__esModule?we:{default:we}}(f(13));M.default=function(we,He){var L=0,Oe=0,ne=window.innerHeight,de={offset:we.getAttribute("data-aos-offset"),anchor:we.getAttribute("data-aos-anchor"),anchorPlacement:we.getAttribute("data-aos-anchor-placement")};switch(de.offset&&!isNaN(de.offset)&&(Oe=parseInt(de.offset)),de.anchor&&document.querySelectorAll(de.anchor)&&(we=document.querySelectorAll(de.anchor)[0]),L=(0,ce.default)(we).top,de.anchorPlacement){case"top-bottom":break;case"center-bottom":L+=we.offsetHeight/2;break;case"bottom-bottom":L+=we.offsetHeight;break;case"top-center":L+=ne/2;break;case"bottom-center":L+=ne/2+we.offsetHeight;break;case"center-center":L+=ne/2+we.offsetHeight/2;break;case"top-top":L+=ne;break;case"bottom-top":L+=we.offsetHeight+ne;break;case"center-top":L+=we.offsetHeight/2+ne}return de.anchorPlacement||de.offset||isNaN(He)||(Oe=He),L+Oe}},function(ot,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(F){for(var _=0,ce=0;F&&!isNaN(F.offsetLeft)&&!isNaN(F.offsetTop);)_+=F.offsetLeft-("BODY"!=F.tagName?F.scrollLeft:0),ce+=F.offsetTop-("BODY"!=F.tagName?F.scrollTop:0),F=F.offsetParent;return{top:ce,left:_}}},function(ot,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(F){return F=F||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(F,function(_){return{node:_}})}}])},4121:(fn,ot,M)=>{"use strict";M.d(ot,{X:()=>F});var f=M(8023);class F extends f.x{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const S=super._subscribe(ce);return!S.closed&&ce.next(this._value),S}getValue(){const{hasError:ce,thrownError:S,_value:we}=this;if(ce)throw S;return this._throwIfClosed(),we}next(ce){super.next(this._value=ce)}}},7241:(fn,ot,M)=>{"use strict";M.d(ot,{y:()=>L});var f=M(4021),F=M(4813),_=M(3122),ce=M(7824),S=M(2046),we=M(5975),He=M(1519);let L=(()=>{class ye{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const We=new ye;return We.source=this,We.operator=Ve,We}subscribe(Ve,We,ht){const Ze=function de(ye){return ye&&ye instanceof f.Lv||function ne(ye){return ye&&(0,we.m)(ye.next)&&(0,we.m)(ye.error)&&(0,we.m)(ye.complete)}(ye)&&(0,F.Nn)(ye)}(Ve)?Ve:new f.Hp(Ve,We,ht);return(0,He.x)(()=>{const{operator:nt,source:Be}=this;Ze.add(nt?nt.call(Ze,Be):Be?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(We){Ve.error(We)}}forEach(Ve,We){return new(We=Oe(We))((ht,Ze)=>{const nt=new f.Hp({next:Be=>{try{Ve(Be)}catch(ut){Ze(ut),nt.unsubscribe()}},error:Ze,complete:ht});this.subscribe(nt)})}_subscribe(Ve){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Ve)}[_.L](){return this}pipe(...Ve){return(0,ce.U)(Ve)(this)}toPromise(Ve){return new(Ve=Oe(Ve))((We,ht)=>{let Ze;this.subscribe(nt=>Ze=nt,nt=>ht(nt),()=>We(Ze))})}}return ye.create=Ie=>new ye(Ie),ye})();function Oe(ye){var Ie;return null!==(Ie=ye??S.v.Promise)&&void 0!==Ie?Ie:Promise}},8023:(fn,ot,M)=>{"use strict";M.d(ot,{x:()=>He});var f=M(7241),F=M(4813);const ce=(0,M(5776).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var S=M(8308),we=M(1519);let He=(()=>{class Oe extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const ye=new L(this,this);return ye.operator=de,ye}_throwIfClosed(){if(this.closed)throw new ce}next(de){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(de)}})}error(de){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:ye}=this;for(;ye.length;)ye.shift().error(de)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:ye,isStopped:Ie,observers:Ve}=this;return ye||Ie?F.Lc:(this.currentObservers=null,Ve.push(de),new F.w0(()=>{this.currentObservers=null,(0,S.P)(Ve,de)}))}_checkFinalizedStatuses(de){const{hasError:ye,thrownError:Ie,isStopped:Ve}=this;ye?de.error(Ie):Ve&&de.complete()}asObservable(){const de=new f.y;return de.source=this,de}}return Oe.create=(ne,de)=>new L(ne,de),Oe})();class L extends He{constructor(ne,de){super(),this.destination=ne,this.source=de}next(ne){var de,ye;null===(ye=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===ye||ye.call(de,ne)}error(ne){var de,ye;null===(ye=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===ye||ye.call(de,ne)}complete(){var ne,de;null===(de=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===de||de.call(ne)}_subscribe(ne){var de,ye;return null!==(ye=null===(de=this.source)||void 0===de?void 0:de.subscribe(ne))&&void 0!==ye?ye:F.Lc}}},4021:(fn,ot,M)=>{"use strict";M.d(ot,{Hp:()=>ht,Lv:()=>ye});var f=M(5975),F=M(4813),_=M(2046),ce=M(4922),S=M(408);const we=Oe("C",void 0,void 0);function Oe(Fe,ke,Re){return{kind:Fe,value:ke,error:Re}}var ne=M(4146),de=M(1519);class ye extends F.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,F.Nn)(ke)&&ke.add(this)):this.destination=ut}static create(ke,Re,xe){return new ht(ke,Re,xe)}next(ke){this.isStopped?Be(function L(Fe){return Oe("N",Fe,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Be(function He(Fe){return Oe("E",void 0,Fe)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Be(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ie=Function.prototype.bind;function Ve(Fe,ke){return Ie.call(Fe,ke)}class We{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Re}=this;if(Re.next)try{Re.next(ke)}catch(xe){Ze(xe)}}error(ke){const{partialObserver:Re}=this;if(Re.error)try{Re.error(ke)}catch(xe){Ze(xe)}else Ze(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Re){Ze(Re)}}}class ht extends ye{constructor(ke,Re,xe){let Ke;if(super(),(0,f.m)(ke)||!ke)Ke={next:ke??void 0,error:Re??void 0,complete:xe??void 0};else{let ge;this&&_.v.useDeprecatedNextContext?(ge=Object.create(ke),ge.unsubscribe=()=>this.unsubscribe(),Ke={next:ke.next&&Ve(ke.next,ge),error:ke.error&&Ve(ke.error,ge),complete:ke.complete&&Ve(ke.complete,ge)}):Ke=ke}this.destination=new We(Ke)}}function Ze(Fe){_.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(Fe):(0,ce.h)(Fe)}function Be(Fe,ke){const{onStoppedNotification:Re}=_.v;Re&&ne.z.setTimeout(()=>Re(Fe,ke))}const ut={closed:!0,next:S.Z,error:function nt(Fe){throw Fe},complete:S.Z}},4813:(fn,ot,M)=>{"use strict";M.d(ot,{Lc:()=>we,w0:()=>S,Nn:()=>He});var f=M(5975);const _=(0,M(5776).d)(Oe=>function(de){Oe(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((ye,Ie)=>`${Ie+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var ce=M(8308);class S{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const Ve of de)Ve.remove(this);else de.remove(this);const{initialTeardown:ye}=this;if((0,f.m)(ye))try{ye()}catch(Ve){ne=Ve instanceof _?Ve.errors:[Ve]}const{_finalizers:Ie}=this;if(Ie){this._finalizers=null;for(const Ve of Ie)try{L(Ve)}catch(We){ne=ne??[],We instanceof _?ne=[...ne,...We.errors]:ne.push(We)}}if(ne)throw new _(ne)}}add(ne){var de;if(ne&&ne!==this)if(this.closed)L(ne);else{if(ne instanceof S){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ne)}}_hasParent(ne){const{_parentage:de}=this;return de===ne||Array.isArray(de)&&de.includes(ne)}_addParent(ne){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ne),de):de?[de,ne]:ne}_removeParent(ne){const{_parentage:de}=this;de===ne?this._parentage=null:Array.isArray(de)&&(0,ce.P)(de,ne)}remove(ne){const{_finalizers:de}=this;de&&(0,ce.P)(de,ne),ne instanceof S&&ne._removeParent(this)}}S.EMPTY=(()=>{const Oe=new S;return Oe.closed=!0,Oe})();const we=S.EMPTY;function He(Oe){return Oe instanceof S||Oe&&"closed"in Oe&&(0,f.m)(Oe.remove)&&(0,f.m)(Oe.add)&&(0,f.m)(Oe.unsubscribe)}function L(Oe){(0,f.m)(Oe)?Oe():Oe.unsubscribe()}},2046:(fn,ot,M)=>{"use strict";M.d(ot,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},561:(fn,ot,M)=>{"use strict";M.d(ot,{c:()=>we});var f=M(7241),F=M(4813),_=M(4601),ce=M(8499),S=M(2085);class we extends f.y{constructor(L,Oe){super(),this.source=L,this.subjectFactory=Oe,this._subject=null,this._refCount=0,this._connection=null,(0,S.A)(L)&&(this.lift=L.lift)}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:L}=this;this._subject=this._connection=null,L?.unsubscribe()}connect(){let L=this._connection;if(!L){L=this._connection=new F.w0;const Oe=this.getSubject();L.add(this.source.subscribe((0,ce.x)(Oe,void 0,()=>{this._teardown(),Oe.complete()},ne=>{this._teardown(),Oe.error(ne)},()=>this._teardown()))),L.closed&&(this._connection=null,L=F.w0.EMPTY)}return L}refCount(){return(0,_.x)()(this)}}},5696:(fn,ot,M)=>{"use strict";M.d(ot,{a:()=>ne});var f=M(7241),F=M(447),_=M(237),ce=M(8330),S=M(2692),we=M(6651),He=M(9299),L=M(8499),Oe=M(6903);function ne(...Ie){const Ve=(0,we.yG)(Ie),We=(0,we.jO)(Ie),{args:ht,keys:Ze}=(0,F.D)(Ie);if(0===ht.length)return(0,_.D)([],Ve);const nt=new f.y(function de(Ie,Ve,We=ce.y){return ht=>{ye(Ve,()=>{const{length:Ze}=Ie,nt=new Array(Ze);let Be=Ze,ut=Ze;for(let Fe=0;Fe<Ze;Fe++)ye(Ve,()=>{const ke=(0,_.D)(Ie[Fe],Ve);let Re=!1;ke.subscribe((0,L.x)(ht,xe=>{nt[Fe]=xe,Re||(Re=!0,ut--),ut||ht.next(We(nt.slice()))},()=>{--Be||ht.complete()}))},ht)},ht)}}(ht,Ve,Ze?Be=>(0,He.n)(Ze,Be):ce.y));return We?nt.pipe((0,S.Z)(We)):nt}function ye(Ie,Ve,We){Ie?(0,Oe.f)(We,Ie,Ve):Ve()}},3729:(fn,ot,M)=>{"use strict";M.d(ot,{z:()=>S});var f=M(549),_=M(6651),ce=M(237);function S(...we){return function F(){return(0,f.J)(1)}()((0,ce.D)(we,(0,_.yG)(we)))}},3072:(fn,ot,M)=>{"use strict";M.d(ot,{P:()=>_});var f=M(7241),F=M(5955);function _(ce){return new f.y(S=>{(0,F.Xf)(ce()).subscribe(S)})}},9018:(fn,ot,M)=>{"use strict";M.d(ot,{E:()=>F});const F=new(M(7241).y)(S=>S.complete())},4967:(fn,ot,M)=>{"use strict";M.d(ot,{D:()=>L});var f=M(7241),F=M(447),_=M(5955),ce=M(6651),S=M(8499),we=M(2692),He=M(9299);function L(...Oe){const ne=(0,ce.jO)(Oe),{args:de,keys:ye}=(0,F.D)(Oe),Ie=new f.y(Ve=>{const{length:We}=de;if(!We)return void Ve.complete();const ht=new Array(We);let Ze=We,nt=We;for(let Be=0;Be<We;Be++){let ut=!1;(0,_.Xf)(de[Be]).subscribe((0,S.x)(Ve,Fe=>{ut||(ut=!0,nt--),ht[Be]=Fe},()=>Ze--,void 0,()=>{(!Ze||!ut)&&(nt||Ve.next(ye?(0,He.n)(ye,ht):ht),Ve.complete())}))}});return ne?Ie.pipe((0,we.Z)(ne)):Ie}},237:(fn,ot,M)=>{"use strict";M.d(ot,{D:()=>ke});var f=M(5955),F=M(7513),_=M(4119),we=M(7241),L=M(4565),Oe=M(5975),ne=M(6903);function ye(Re,xe){if(!Re)throw new Error("Iterable cannot be null");return new we.y(Ke=>{(0,ne.f)(Ke,xe,()=>{const ge=Re[Symbol.asyncIterator]();(0,ne.f)(Ke,xe,()=>{ge.next().then(mt=>{mt.done?Ke.complete():Ke.next(mt.value)})},0,!0)})})}var Ie=M(2021),Ve=M(9450),We=M(6602),ht=M(6920),Ze=M(2604),nt=M(5626),Be=M(1559);function ke(Re,xe){return xe?function Fe(Re,xe){if(null!=Re){if((0,Ie.c)(Re))return function ce(Re,xe){return(0,f.Xf)(Re).pipe((0,_.R)(xe),(0,F.Q)(xe))}(Re,xe);if((0,We.z)(Re))return function He(Re,xe){return new we.y(Ke=>{let ge=0;return xe.schedule(function(){ge===Re.length?Ke.complete():(Ke.next(Re[ge++]),Ke.closed||this.schedule())})})}(Re,xe);if((0,Ve.t)(Re))return function S(Re,xe){return(0,f.Xf)(Re).pipe((0,_.R)(xe),(0,F.Q)(xe))}(Re,xe);if((0,Ze.D)(Re))return ye(Re,xe);if((0,ht.T)(Re))return function de(Re,xe){return new we.y(Ke=>{let ge;return(0,ne.f)(Ke,xe,()=>{ge=Re[L.h](),(0,ne.f)(Ke,xe,()=>{let mt,jt;try{({value:mt,done:jt}=ge.next())}catch(Ht){return void Ke.error(Ht)}jt?Ke.complete():Ke.next(mt)},0,!0)}),()=>(0,Oe.m)(ge?.return)&&ge.return()})}(Re,xe);if((0,Be.L)(Re))return function ut(Re,xe){return ye((0,Be.Q)(Re),xe)}(Re,xe)}throw(0,nt.z)(Re)}(Re,xe):(0,f.Xf)(Re)}},4581:(fn,ot,M)=>{"use strict";M.d(ot,{R:()=>ne});var f=M(5955),F=M(7241),_=M(4882),ce=M(6602),S=M(5975),we=M(2692);const He=["addListener","removeListener"],L=["addEventListener","removeEventListener"],Oe=["on","off"];function ne(We,ht,Ze,nt){if((0,S.m)(Ze)&&(nt=Ze,Ze=void 0),nt)return ne(We,ht,Ze).pipe((0,we.Z)(nt));const[Be,ut]=function Ve(We){return(0,S.m)(We.addEventListener)&&(0,S.m)(We.removeEventListener)}(We)?L.map(Fe=>ke=>We[Fe](ht,ke,Ze)):function ye(We){return(0,S.m)(We.addListener)&&(0,S.m)(We.removeListener)}(We)?He.map(de(We,ht)):function Ie(We){return(0,S.m)(We.on)&&(0,S.m)(We.off)}(We)?Oe.map(de(We,ht)):[];if(!Be&&(0,ce.z)(We))return(0,_.z)(Fe=>ne(Fe,ht,Ze))((0,f.Xf)(We));if(!Be)throw new TypeError("Invalid event target");return new F.y(Fe=>{const ke=(...Re)=>Fe.next(1<Re.length?Re:Re[0]);return Be(ke),()=>ut(ke)})}function de(We,ht){return Ze=>nt=>We[Ze](ht,nt)}},5955:(fn,ot,M)=>{"use strict";M.d(ot,{Xf:()=>Ie});var f=M(4911),F=M(6602),_=M(9450),ce=M(7241),S=M(2021),we=M(2604),He=M(5626),L=M(6920),Oe=M(1559),ne=M(5975),de=M(4922),ye=M(3122);function Ie(Fe){if(Fe instanceof ce.y)return Fe;if(null!=Fe){if((0,S.c)(Fe))return function Ve(Fe){return new ce.y(ke=>{const Re=Fe[ye.L]();if((0,ne.m)(Re.subscribe))return Re.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,F.z)(Fe))return function We(Fe){return new ce.y(ke=>{for(let Re=0;Re<Fe.length&&!ke.closed;Re++)ke.next(Fe[Re]);ke.complete()})}(Fe);if((0,_.t)(Fe))return function ht(Fe){return new ce.y(ke=>{Fe.then(Re=>{ke.closed||(ke.next(Re),ke.complete())},Re=>ke.error(Re)).then(null,de.h)})}(Fe);if((0,we.D)(Fe))return nt(Fe);if((0,L.T)(Fe))return function Ze(Fe){return new ce.y(ke=>{for(const Re of Fe)if(ke.next(Re),ke.closed)return;ke.complete()})}(Fe);if((0,Oe.L)(Fe))return function Be(Fe){return nt((0,Oe.Q)(Fe))}(Fe)}throw(0,He.z)(Fe)}function nt(Fe){return new ce.y(ke=>{(function ut(Fe,ke){var Re,xe,Ke,ge;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Re=(0,f.KL)(Fe);!(xe=yield Re.next()).done;)if(ke.next(xe.value),ke.closed)return}catch(mt){Ke={error:mt}}finally{try{xe&&!xe.done&&(ge=Re.return)&&(yield ge.call(Re))}finally{if(Ke)throw Ke.error}}ke.complete()})})(Fe,ke).catch(Re=>ke.error(Re))})}},1860:(fn,ot,M)=>{"use strict";M.d(ot,{T:()=>we});var f=M(549),F=M(5955),_=M(9018),ce=M(6651),S=M(237);function we(...He){const L=(0,ce.yG)(He),Oe=(0,ce._6)(He,1/0),ne=He;return ne.length?1===ne.length?(0,F.Xf)(ne[0]):(0,f.J)(Oe)((0,S.D)(ne,L)):_.E}},4945:(fn,ot,M)=>{"use strict";M.d(ot,{of:()=>_});var f=M(6651),F=M(237);function _(...ce){const S=(0,f.yG)(ce);return(0,F.D)(ce,S)}},3787:(fn,ot,M)=>{"use strict";M.d(ot,{_:()=>_});var f=M(7241),F=M(5975);function _(ce,S){const we=(0,F.m)(ce)?ce:()=>ce,He=L=>L.error(we());return new f.y(S?L=>S.schedule(He,0,L):He)}},1995:(fn,ot,M)=>{"use strict";M.d(ot,{H:()=>S});var f=M(7241),F=M(6523),_=M(1830);function S(we=0,He,L=F.P){let Oe=-1;return null!=He&&((0,_.K)(He)?L=He:Oe=He),new f.y(ne=>{let de=function ce(we){return we instanceof Date&&!isNaN(we)}(we)?+we-L.now():we;de<0&&(de=0);let ye=0;return L.schedule(function(){ne.closed||(ne.next(ye++),0<=Oe?this.schedule(void 0,Oe):ne.complete())},de)})}},8499:(fn,ot,M)=>{"use strict";M.d(ot,{x:()=>F});var f=M(4021);function F(ce,S,we,He,L){return new _(ce,S,we,He,L)}class _ extends f.Lv{constructor(S,we,He,L,Oe,ne){super(S),this.onFinalize=Oe,this.shouldUnsubscribe=ne,this._next=we?function(de){try{we(de)}catch(ye){S.error(ye)}}:super._next,this._error=L?function(de){try{L(de)}catch(ye){S.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=He?function(){try{He()}catch(de){S.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var S;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(S=this.onFinalize)||void 0===S||S.call(this))}}}},3568:(fn,ot,M)=>{"use strict";M.d(ot,{K:()=>ce});var f=M(5955),F=M(8499),_=M(2085);function ce(S){return(0,_.e)((we,He)=>{let ne,L=null,Oe=!1;L=we.subscribe((0,F.x)(He,void 0,void 0,de=>{ne=(0,f.Xf)(S(de,ce(S)(we))),L?(L.unsubscribe(),L=null,ne.subscribe(He)):Oe=!0})),Oe&&(L.unsubscribe(),L=null,ne.subscribe(He))})}},4551:(fn,ot,M)=>{"use strict";M.d(ot,{b:()=>_});var f=M(4882),F=M(5975);function _(ce,S){return(0,F.m)(S)?(0,f.z)(ce,S,1):(0,f.z)(ce,1)}},3151:(fn,ot,M)=>{"use strict";M.d(ot,{b:()=>ce});var f=M(6523),F=M(2085),_=M(8499);function ce(S,we=f.z){return(0,F.e)((He,L)=>{let Oe=null,ne=null,de=null;const ye=()=>{if(Oe){Oe.unsubscribe(),Oe=null;const Ve=ne;ne=null,L.next(Ve)}};function Ie(){const Ve=de+S,We=we.now();if(We<Ve)return Oe=this.schedule(void 0,Ve-We),void L.add(Oe);ye()}He.subscribe((0,_.x)(L,Ve=>{ne=Ve,de=we.now(),Oe||(Oe=we.schedule(Ie,S),L.add(Oe))},()=>{ye(),L.complete()},void 0,()=>{ne=Oe=null}))})}},2686:(fn,ot,M)=>{"use strict";M.d(ot,{d:()=>_});var f=M(2085),F=M(8499);function _(ce){return(0,f.e)((S,we)=>{let He=!1;S.subscribe((0,F.x)(we,L=>{He=!0,we.next(L)},()=>{He||we.next(ce),we.complete()}))})}},2147:(fn,ot,M)=>{"use strict";M.d(ot,{x:()=>ce});var f=M(8330),F=M(2085),_=M(8499);function ce(we,He=f.y){return we=we??S,(0,F.e)((L,Oe)=>{let ne,de=!0;L.subscribe((0,_.x)(Oe,ye=>{const Ie=He(ye);(de||!we(ne,Ie))&&(de=!1,ne=Ie,Oe.next(ye))}))})}function S(we,He){return we===He}},4970:(fn,ot,M)=>{"use strict";M.d(ot,{h:()=>_});var f=M(2085),F=M(8499);function _(ce,S){return(0,f.e)((we,He)=>{let L=0;we.subscribe((0,F.x)(He,Oe=>ce.call(S,Oe,L++)&&He.next(Oe)))})}},5490:(fn,ot,M)=>{"use strict";M.d(ot,{x:()=>F});var f=M(2085);function F(_){return(0,f.e)((ce,S)=>{try{ce.subscribe(S)}finally{S.add(_)}})}},9676:(fn,ot,M)=>{"use strict";M.d(ot,{P:()=>He});var f=M(7472),F=M(4970),_=M(5598),ce=M(2686),S=M(8623),we=M(8330);function He(L,Oe){const ne=arguments.length>=2;return de=>de.pipe(L?(0,F.h)((ye,Ie)=>L(ye,Ie,de)):we.y,(0,_.q)(1),ne?(0,ce.d)(Oe):(0,S.T)(()=>new f.K))}},7969:(fn,ot,M)=>{"use strict";M.d(ot,{U:()=>_});var f=M(2085),F=M(8499);function _(ce,S){return(0,f.e)((we,He)=>{let L=0;we.subscribe((0,F.x)(He,Oe=>{He.next(ce.call(S,Oe,L++))}))})}},116:(fn,ot,M)=>{"use strict";M.d(ot,{h:()=>F});var f=M(7969);function F(_){return(0,f.U)(()=>_)}},549:(fn,ot,M)=>{"use strict";M.d(ot,{J:()=>_});var f=M(4882),F=M(8330);function _(ce=1/0){return(0,f.z)(F.y,ce)}},4882:(fn,ot,M)=>{"use strict";M.d(ot,{z:()=>L});var f=M(7969),F=M(5955),_=M(2085),ce=M(6903),S=M(8499),He=M(5975);function L(Oe,ne,de=1/0){return(0,He.m)(ne)?L((ye,Ie)=>(0,f.U)((Ve,We)=>ne(ye,Ve,Ie,We))((0,F.Xf)(Oe(ye,Ie))),de):("number"==typeof ne&&(de=ne),(0,_.e)((ye,Ie)=>function we(Oe,ne,de,ye,Ie,Ve,We,ht){const Ze=[];let nt=0,Be=0,ut=!1;const Fe=()=>{ut&&!Ze.length&&!nt&&ne.complete()},ke=xe=>nt<ye?Re(xe):Ze.push(xe),Re=xe=>{Ve&&ne.next(xe),nt++;let Ke=!1;(0,F.Xf)(de(xe,Be++)).subscribe((0,S.x)(ne,ge=>{Ie?.(ge),Ve?ke(ge):ne.next(ge)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(nt--;Ze.length&&nt<ye;){const ge=Ze.shift();We?(0,ce.f)(ne,We,()=>Re(ge)):Re(ge)}Fe()}catch(ge){ne.error(ge)}}))};return Oe.subscribe((0,S.x)(ne,ke,()=>{ut=!0,Fe()})),()=>{ht?.()}}(ye,Ie,Oe,de)))}},7513:(fn,ot,M)=>{"use strict";M.d(ot,{Q:()=>ce});var f=M(6903),F=M(2085),_=M(8499);function ce(S,we=0){return(0,F.e)((He,L)=>{He.subscribe((0,_.x)(L,Oe=>(0,f.f)(L,S,()=>L.next(Oe),we),()=>(0,f.f)(L,S,()=>L.complete(),we),Oe=>(0,f.f)(L,S,()=>L.error(Oe),we)))})}},4601:(fn,ot,M)=>{"use strict";M.d(ot,{x:()=>_});var f=M(2085),F=M(8499);function _(){return(0,f.e)((ce,S)=>{let we=null;ce._refCount++;const He=(0,F.x)(S,void 0,void 0,void 0,()=>{if(!ce||ce._refCount<=0||0<--ce._refCount)return void(we=null);const L=ce._connection,Oe=we;we=null,L&&(!Oe||L===Oe)&&L.unsubscribe(),S.unsubscribe()});ce.subscribe(He),He.closed||(we=ce.connect())})}},7479:(fn,ot,M)=>{"use strict";M.d(ot,{R:()=>ce});var f=M(2085),F=M(8499);function ce(S,we){return(0,f.e)(function _(S,we,He,L,Oe){return(ne,de)=>{let ye=He,Ie=we,Ve=0;ne.subscribe((0,F.x)(de,We=>{const ht=Ve++;Ie=ye?S(Ie,We,ht):(ye=!0,We),L&&de.next(Ie)},Oe&&(()=>{ye&&de.next(Ie),de.complete()})))}}(S,we,arguments.length>=2,!0))}},815:(fn,ot,M)=>{"use strict";M.d(ot,{B:()=>S});var f=M(5955),F=M(8023),_=M(4021),ce=M(2085);function S(He={}){const{connector:L=(()=>new F.x),resetOnError:Oe=!0,resetOnComplete:ne=!0,resetOnRefCountZero:de=!0}=He;return ye=>{let Ie,Ve,We,ht=0,Ze=!1,nt=!1;const Be=()=>{Ve?.unsubscribe(),Ve=void 0},ut=()=>{Be(),Ie=We=void 0,Ze=nt=!1},Fe=()=>{const ke=Ie;ut(),ke?.unsubscribe()};return(0,ce.e)((ke,Re)=>{ht++,!nt&&!Ze&&Be();const xe=We=We??L();Re.add(()=>{ht--,0===ht&&!nt&&!Ze&&(Ve=we(Fe,de))}),xe.subscribe(Re),!Ie&&ht>0&&(Ie=new _.Hp({next:Ke=>xe.next(Ke),error:Ke=>{nt=!0,Be(),Ve=we(ut,Oe,Ke),xe.error(Ke)},complete:()=>{Ze=!0,Be(),Ve=we(ut,ne),xe.complete()}}),(0,f.Xf)(ke).subscribe(Ie))})(ye)}}function we(He,L,...Oe){if(!0===L)return void He();if(!1===L)return;const ne=new _.Hp({next:()=>{ne.unsubscribe(),He()}});return(0,f.Xf)(L(...Oe)).subscribe(ne)}},1927:(fn,ot,M)=>{"use strict";M.d(ot,{O:()=>ce});var f=M(3729),F=M(6651),_=M(2085);function ce(...S){const we=(0,F.yG)(S);return(0,_.e)((He,L)=>{(we?(0,f.z)(S,He,we):(0,f.z)(S,He)).subscribe(L)})}},4119:(fn,ot,M)=>{"use strict";M.d(ot,{R:()=>F});var f=M(2085);function F(_,ce=0){return(0,f.e)((S,we)=>{we.add(_.schedule(()=>S.subscribe(we),ce))})}},1528:(fn,ot,M)=>{"use strict";M.d(ot,{w:()=>ce});var f=M(5955),F=M(2085),_=M(8499);function ce(S,we){return(0,F.e)((He,L)=>{let Oe=null,ne=0,de=!1;const ye=()=>de&&!Oe&&L.complete();He.subscribe((0,_.x)(L,Ie=>{Oe?.unsubscribe();let Ve=0;const We=ne++;(0,f.Xf)(S(Ie,We)).subscribe(Oe=(0,_.x)(L,ht=>L.next(we?we(Ie,ht,We,Ve++):ht),()=>{Oe=null,ye()}))},()=>{de=!0,ye()}))})}},5598:(fn,ot,M)=>{"use strict";M.d(ot,{q:()=>ce});var f=M(9018),F=M(2085),_=M(8499);function ce(S){return S<=0?()=>f.E:(0,F.e)((we,He)=>{let L=0;we.subscribe((0,_.x)(He,Oe=>{++L<=S&&(He.next(Oe),S<=L&&He.complete())}))})}},3528:(fn,ot,M)=>{"use strict";M.d(ot,{R:()=>S});var f=M(2085),F=M(8499),_=M(5955),ce=M(408);function S(we){return(0,f.e)((He,L)=>{(0,_.Xf)(we).subscribe((0,F.x)(L,()=>L.complete(),ce.Z)),!L.closed&&He.subscribe(L)})}},8168:(fn,ot,M)=>{"use strict";M.d(ot,{b:()=>S});var f=M(5975),F=M(2085),_=M(8499),ce=M(8330);function S(we,He,L){const Oe=(0,f.m)(we)||He||L?{next:we,error:He,complete:L}:we;return Oe?(0,F.e)((ne,de)=>{var ye;null===(ye=Oe.subscribe)||void 0===ye||ye.call(Oe);let Ie=!0;ne.subscribe((0,_.x)(de,Ve=>{var We;null===(We=Oe.next)||void 0===We||We.call(Oe,Ve),de.next(Ve)},()=>{var Ve;Ie=!1,null===(Ve=Oe.complete)||void 0===Ve||Ve.call(Oe),de.complete()},Ve=>{var We;Ie=!1,null===(We=Oe.error)||void 0===We||We.call(Oe,Ve),de.error(Ve)},()=>{var Ve,We;Ie&&(null===(Ve=Oe.unsubscribe)||void 0===Ve||Ve.call(Oe)),null===(We=Oe.finalize)||void 0===We||We.call(Oe)}))}):ce.y}},8623:(fn,ot,M)=>{"use strict";M.d(ot,{T:()=>ce});var f=M(7472),F=M(2085),_=M(8499);function ce(we=S){return(0,F.e)((He,L)=>{let Oe=!1;He.subscribe((0,_.x)(L,ne=>{Oe=!0,L.next(ne)},()=>Oe?L.complete():L.error(we())))})}function S(){return new f.K}},3466:(fn,ot,M)=>{"use strict";M.d(ot,{o:()=>S});var f=M(4813);class F extends f.w0{constructor(He,L){super()}schedule(He,L=0){return this}}const _={setInterval(we,He,...L){const{delegate:Oe}=_;return Oe?.setInterval?Oe.setInterval(we,He,...L):setInterval(we,He,...L)},clearInterval(we){const{delegate:He}=_;return(He?.clearInterval||clearInterval)(we)},delegate:void 0};var ce=M(8308);class S extends F{constructor(He,L){super(He,L),this.scheduler=He,this.work=L,this.pending=!1}schedule(He,L=0){var Oe;if(this.closed)return this;this.state=He;const ne=this.id,de=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(de,ne,L)),this.pending=!0,this.delay=L,this.id=null!==(Oe=this.id)&&void 0!==Oe?Oe:this.requestAsyncId(de,this.id,L),this}requestAsyncId(He,L,Oe=0){return _.setInterval(He.flush.bind(He,this),Oe)}recycleAsyncId(He,L,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return L;null!=L&&_.clearInterval(L)}execute(He,L){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(He,L);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(He,L){let ne,Oe=!1;try{this.work(He)}catch(de){Oe=!0,ne=de||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:He,scheduler:L}=this,{actions:Oe}=L;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Oe,this),null!=He&&(this.id=this.recycleAsyncId(L,He,null)),this.delay=null,super.unsubscribe()}}}},474:(fn,ot,M)=>{"use strict";M.d(ot,{v:()=>_});var f=M(2069);class F{constructor(S,we=F.now){this.schedulerActionCtor=S,this.now=we}schedule(S,we=0,He){return new this.schedulerActionCtor(this,S).schedule(He,we)}}F.now=f.l.now;class _ extends F{constructor(S,we=F.now){super(S,we),this.actions=[],this._active=!1}flush(S){const{actions:we}=this;if(this._active)return void we.push(S);let He;this._active=!0;do{if(He=S.execute(S.state,S.delay))break}while(S=we.shift());if(this._active=!1,He){for(;S=we.shift();)S.unsubscribe();throw He}}}},9239:(fn,ot,M)=>{"use strict";M.d(ot,{Z:()=>He});var f=M(3466),F=M(4813);const _={schedule(Oe){let ne=requestAnimationFrame,de=cancelAnimationFrame;const{delegate:ye}=_;ye&&(ne=ye.requestAnimationFrame,de=ye.cancelAnimationFrame);const Ie=ne(Ve=>{de=void 0,Oe(Ve)});return new F.w0(()=>de?.(Ie))},requestAnimationFrame(...Oe){const{delegate:ne}=_;return(ne?.requestAnimationFrame||requestAnimationFrame)(...Oe)},cancelAnimationFrame(...Oe){const{delegate:ne}=_;return(ne?.cancelAnimationFrame||cancelAnimationFrame)(...Oe)},delegate:void 0};var S=M(474);const He=new class we extends S.v{flush(ne){let de;this._active=!0,ne?de=ne.id:(de=this._scheduled,this._scheduled=void 0);const{actions:ye}=this;let Ie;ne=ne||ye.shift();do{if(Ie=ne.execute(ne.state,ne.delay))break}while((ne=ye[0])&&ne.id===de&&ye.shift());if(this._active=!1,Ie){for(;(ne=ye[0])&&ne.id===de&&ye.shift();)ne.unsubscribe();throw Ie}}}(class ce extends f.o{constructor(ne,de){super(ne,de),this.scheduler=ne,this.work=de}requestAsyncId(ne,de,ye=0){return null!==ye&&ye>0?super.requestAsyncId(ne,de,ye):(ne.actions.push(this),ne._scheduled||(ne._scheduled=_.requestAnimationFrame(()=>ne.flush(void 0))))}recycleAsyncId(ne,de,ye=0){var Ie;if(null!=ye?ye>0:this.delay>0)return super.recycleAsyncId(ne,de,ye);const{actions:Ve}=ne;null!=de&&de===ne._scheduled&&(null===(Ie=Ve[Ve.length-1])||void 0===Ie?void 0:Ie.id)!==de&&(_.cancelAnimationFrame(de),ne._scheduled=void 0)}})},6523:(fn,ot,M)=>{"use strict";M.d(ot,{P:()=>ce,z:()=>_});var f=M(3466);const _=new(M(474).v)(f.o),ce=_},2069:(fn,ot,M)=>{"use strict";M.d(ot,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},4146:(fn,ot,M)=>{"use strict";M.d(ot,{z:()=>f});const f={setTimeout(F,_,...ce){const{delegate:S}=f;return S?.setTimeout?S.setTimeout(F,_,...ce):setTimeout(F,_,...ce)},clearTimeout(F){const{delegate:_}=f;return(_?.clearTimeout||clearTimeout)(F)},delegate:void 0}},4565:(fn,ot,M)=>{"use strict";M.d(ot,{h:()=>F});const F=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3122:(fn,ot,M)=>{"use strict";M.d(ot,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7472:(fn,ot,M)=>{"use strict";M.d(ot,{K:()=>F});const F=(0,M(5776).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"})},6651:(fn,ot,M)=>{"use strict";M.d(ot,{_6:()=>we,jO:()=>ce,yG:()=>S});var f=M(5975),F=M(1830);function _(He){return He[He.length-1]}function ce(He){return(0,f.m)(_(He))?He.pop():void 0}function S(He){return(0,F.K)(_(He))?He.pop():void 0}function we(He,L){return"number"==typeof _(He)?He.pop():L}},447:(fn,ot,M)=>{"use strict";M.d(ot,{D:()=>S});const{isArray:f}=Array,{getPrototypeOf:F,prototype:_,keys:ce}=Object;function S(He){if(1===He.length){const L=He[0];if(f(L))return{args:L,keys:null};if(function we(He){return He&&"object"==typeof He&&F(He)===_}(L)){const Oe=ce(L);return{args:Oe.map(ne=>L[ne]),keys:Oe}}}return{args:He,keys:null}}},8308:(fn,ot,M)=>{"use strict";function f(F,_){if(F){const ce=F.indexOf(_);0<=ce&&F.splice(ce,1)}}M.d(ot,{P:()=>f})},5776:(fn,ot,M)=>{"use strict";function f(F){const ce=F(S=>{Error.call(S),S.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}M.d(ot,{d:()=>f})},9299:(fn,ot,M)=>{"use strict";function f(F,_){return F.reduce((ce,S,we)=>(ce[S]=_[we],ce),{})}M.d(ot,{n:()=>f})},1519:(fn,ot,M)=>{"use strict";M.d(ot,{O:()=>ce,x:()=>_});var f=M(2046);let F=null;function _(S){if(f.v.useDeprecatedSynchronousErrorHandling){const we=!F;if(we&&(F={errorThrown:!1,error:null}),S(),we){const{errorThrown:He,error:L}=F;if(F=null,He)throw L}}else S()}function ce(S){f.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=S)}},6903:(fn,ot,M)=>{"use strict";function f(F,_,ce,S=0,we=!1){const He=_.schedule(function(){ce(),we?F.add(this.schedule(null,S)):this.unsubscribe()},S);if(F.add(He),!we)return He}M.d(ot,{f:()=>f})},8330:(fn,ot,M)=>{"use strict";function f(F){return F}M.d(ot,{y:()=>f})},6602:(fn,ot,M)=>{"use strict";M.d(ot,{z:()=>f});const f=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2604:(fn,ot,M)=>{"use strict";M.d(ot,{D:()=>F});var f=M(5975);function F(_){return Symbol.asyncIterator&&(0,f.m)(_?.[Symbol.asyncIterator])}},5975:(fn,ot,M)=>{"use strict";function f(F){return"function"==typeof F}M.d(ot,{m:()=>f})},2021:(fn,ot,M)=>{"use strict";M.d(ot,{c:()=>_});var f=M(3122),F=M(5975);function _(ce){return(0,F.m)(ce[f.L])}},6920:(fn,ot,M)=>{"use strict";M.d(ot,{T:()=>_});var f=M(4565),F=M(5975);function _(ce){return(0,F.m)(ce?.[f.h])}},9450:(fn,ot,M)=>{"use strict";M.d(ot,{t:()=>F});var f=M(5975);function F(_){return(0,f.m)(_?.then)}},1559:(fn,ot,M)=>{"use strict";M.d(ot,{L:()=>ce,Q:()=>_});var f=M(4911),F=M(5975);function _(S){return(0,f.FC)(this,arguments,function*(){const He=S.getReader();try{for(;;){const{value:L,done:Oe}=yield(0,f.qq)(He.read());if(Oe)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(L)}}finally{He.releaseLock()}})}function ce(S){return(0,F.m)(S?.getReader)}},1830:(fn,ot,M)=>{"use strict";M.d(ot,{K:()=>F});var f=M(5975);function F(_){return _&&(0,f.m)(_.schedule)}},2085:(fn,ot,M)=>{"use strict";M.d(ot,{A:()=>F,e:()=>_});var f=M(5975);function F(ce){return(0,f.m)(ce?.lift)}function _(ce){return S=>{if(F(S))return S.lift(function(we){try{return ce(we,this)}catch(He){this.error(He)}});throw new TypeError("Unable to lift unknown Observable type")}}},2692:(fn,ot,M)=>{"use strict";M.d(ot,{Z:()=>ce});var f=M(7969);const{isArray:F}=Array;function ce(S){return(0,f.U)(we=>function _(S,we){return F(we)?S(...we):S(we)}(S,we))}},408:(fn,ot,M)=>{"use strict";function f(){}M.d(ot,{Z:()=>f})},7824:(fn,ot,M)=>{"use strict";M.d(ot,{U:()=>_,z:()=>F});var f=M(8330);function F(...ce){return _(ce)}function _(ce){return 0===ce.length?f.y:1===ce.length?ce[0]:function(we){return ce.reduce((He,L)=>L(He),we)}}},4922:(fn,ot,M)=>{"use strict";M.d(ot,{h:()=>_});var f=M(2046),F=M(4146);function _(ce){F.z.setTimeout(()=>{const{onUnhandledError:S}=f.v;if(!S)throw ce;S(ce)})}},5626:(fn,ot,M)=>{"use strict";function f(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(ot,{z:()=>f})},3148:(fn,ot,M)=>{"use strict";M.d(ot,{n:()=>Oe});var f=M(8239),F=M(4945),_=M(7969);const ce=[{name:"Deadlift",description:"weight training exercise in which a loaded barbell or bar is lifted off the ground to the level of the hips, torso perpendicular to the floor, before being placed back on the ground.",link:"https://www.youtube.com/embed/vRKDvt695pg"},{name:"Squat",description:"squat is a strength exercise in which the trainee lowers their hips from a standing position and then stands back up. During the descent, the hip and knee joints flex while the ankle joint dorsiflexes; conversely the hip and knee joints extend and the ankle joint plantarflexes when standing up. Squats also help your hip muscles",link:"https://www.youtube.com/embed/gsNoPYwWXeM"},{name:"Bench press",description:"The bench press, or chest press, is a weight training exercise where the trainee presses a weight upwards while lying on a weight training bench. Although the bench press is a full-body exercise, the muscles primarily used are the pectoralis major, the anterior deltoids, and the triceps, among other stabilizing muscles. A barbell is generally used to hold the weight, but a pair of dumbbells can also be used.",link:"https://www.youtube.com/embed/gRVjAtPip0Y"},{name:"barbell row",description:"Barbell Rows are a full body, compound exercise. They work your upper-back, lower back, hips and arms. They build a stronger, muscular back and bigger biceps. Barbell Rows are one of the most effective assistance exercises you can do to increase your Squat, Bench Press and Deadlift.",link:"https://www.youtube.com/embed/FWJR5Ve8bnQ"},{name:"overhead press",description:"The Overhead Press is a full body, compound exercise. Your shoulders and arms press the weight over your head while your legs, lower back and abs balance you. The Overhead Press is one of the best exercises to build strong, muscular and healthy shoulders with bigger arms.To avoid shoulder pain, Overhead Press with a narrow grip so you don't flare your elbows. Then shrug your shoulders at the top. Press the bar over your head, lock your elbows and shrug your shoulders towards the ceiling. This engages your traps and prevents shoulder impingement.",link:"https://www.youtube.com/embed/F3QY5vMz_6I"},{name:"neutral lat pulldown",description:"Our lats won't be able to engage if our torso is upright and our arms are pointing directly up. Like with pull-ups, we need to lean back slightly so that our shoulder socket is pointing a little upwards, allowing us to better engage the lats.When completing a rep, your main focus should be on pulling your elbows down to your sides. This cue will help you to activate your lats more, rather than recruiting other muscles like the biceps to help more than they should",link:"https://www.youtube.com/embed/kVB6SlEyjQM"},{name:"Face Pull",description:"Face pulls target the posterior deltoids of the shoulder, which are often neglected by other shoulder exercises. You use a cable pulley machine to pull the weight straight toward your forehead. Exercising the rear delts will prevent muscular imbalance and build overall shoulder strength. This exercise isn't hard to do as long as you pay attention to your form. You can use face pulls as part of an upper body strength training regimen.",link:"https://www.youtube.com/embed/rep-qVOkqgk"},{name:"lat pull down",description:"Our lats won't be able to engage if our torso is upright and our arms are pointing directly up. Like with pull-ups, we need to lean back slightly so that our shoulder socket is pointing a little upwards, allowing us to better engage the lats.When completing a rep, your main focus should be on pulling your elbows down to your sides. This cue will help you to activate your lats more, rather than recruiting other muscles like the biceps to help more than they should",link:"https://www.youtube.com/embed/kVB6SlEyjQM"},{name:"Romanian Deadlift",description:"Everyone should deadlift - yeah, we said it - but not everyone is ready to deadlift right away. \u201cThe Romanian deadlift, in my opinion, is easier to execute correctly than the conventional deadlift,\u201d says Hoobler. \u201cIf someone was learning to deadlift, I would start them with this move, with the bar beginning on a rack. This way, they can eccentrically load first, where they're stronger and have more control.\u201d The eccentric phase of the Romanian deadlift is the portion of the lift where the bar is being lowered to the floor. People are usually stronger in the portion of a lift.",link:"https://www.youtube.com/embed/2SHsk9AzdjA"},{name:"dumbbell row",description:"The dumbbell row, also known as the single-arm dumbbell row, is one of those exercises that will stay in style. It's simple as heck to do \u2014 you kneel on a bench and row your arm to your side \u2014 and it requires just a dumbbell to load the movement. It's also a unilateral exercise, which trains one side of your body simultaneously. Single-arm moves help to even out muscular imbalances and burn more calories over time since you're doubling your workload.",link:"https://www.youtube.com/embed/-koP10y1qZI"},{name:"machine row",description:"Machine row is a stable exercise for your pulling muscles, which means that you don't have to think about balance or trajectory, but can focus on getting contact with the right muscles.",link:"https://www.youtube.com/embed/A3M3sdXTT9Y"},{name:"one arm cable row",description:"one-arm cable row is a exercise machine exercise that primarily targets the middle back and to a lesser degree also targets the shoulders and triceps. The only one-arm cable row equipment that you really need is the following: cable machine. There are however many different one-arm cable row variations that you can try out that may require different types of one-arm cable row equipment or may even require no equipment at all.",link:"https://www.youtube.com/embed/CrylzZHfO1c"},{name:"Straight Arm Cable Pull Down",description:"The straight arm lat pull down is a variation of the lat pull down and an exercise used to build the muscles of the back. While the exercise will primarily target the lats, you will also notice a fair amount of bicep and middle back activation. The back is a muscle group that requires a fair amount of variation. So, experiment with several different angles and hand positions to maximize your back muscle growth.",link:"https://www.youtube.com/embed/r34PR1mxzmU"},{name:"dumbbell fly",description:"The dumbbell fly utilizes a chest fly movement pattern to isolate the muscles fo the chest to better help the muscles grow and become stronger. The dumbbell fly is often thought of as a classic bodybuilding movement as the goal of the exercise is to isolate the chest for aesthetic purposes. The movement itself can be used to help build a stronger bench press but isn't typically thought of from an increased performance stand-point. Thus, this movement is best reserved for traditional chest workouts in bodybuilding style splits.",link:"https://www.youtube.com/embed/eozdVDA78K0"},{name:"pec-deck",description:"A pec deck is a machine designed to increase strength and muscle mass in the chest. It's so effective that the American Council on Exercise ranked it as one of the best exercises for building chest muscles. \u201cThe pec deck works both your chest and its supporting muscles, primarily your pectoralis major, which is the muscle that allows you to swing and bring your arms together,\u201d explains Caleb Backe, a certified personal trainer and health and wellness expert for Maple Holistics.",link:"https://www.youtube.com/embed/JJitfZKlKk4"},{name:"CABLE CROSSOVER",description:"Cable crossovers target the pectoralis major muscles' sternal heads, found in the bottom of your chest as well as activating muscles in your shoulder and back. The standing Cable crossover exercise recruits the third most muscle fibres in your chest, only behind bench press and flyes.",link:"https://www.youtube.com/embed/taI4XduLpTk"},{name:"hanging leg raises",description:"Raise your legs until the torso makes a 90-degree angle with the legs. Exhale as you perform this movement and hold the contraction for a second or so. Go back slowly to the starting position as you breathe in. Repeat for the recommended amount of repetitions.",link:"https://www.youtube.com/embed/ttdkm6ESUjI"},{name:"side bends",description:"Stand straight up with one dumbbell in each hand, palms facing in. Keep your feet firmly on the floor with a shoulder width stance. Keeping your back straight and your eyes facing forwards, bend down to the right as far as you can, then back up again. Without pausing at the top, bend down to the left.",link:"https://www.youtube.com/embed/ltVi1F5SBkE"},{name:"Cable crunches",description:"Cable crunches activate muscles throughout your upper abs and lower abs, including the rectus abdominis (the six-pack ab muscle). A strong core is essential for performing more challenging compound exercises like the deadlift, bench press, and pull-up",link:"https://www.youtube.com/embed/ToJeyhydUxU"},{name:"BENT OVER BARBELL ROW",description:"Stand holding a barbell with your palms facing up. Bend your knees slightly and lean forward by bending at the waist. Keeping your back straight, and elbows close to your body, row the barbell towards your chest, squeezing your back muscles. Slowly lower to the starting position.",link:"https://www.youtube.com/embed/FWJR5Ve8bnQ"},{name:"STRAIGHT ARM PULLDOWN",description:"A straight arm pulldown isolates and works your latissimus dorsi muscles, commonly know as the lats. For those of you who don't know, this muscle group is commonly referred to as the lats and is found in the middle of your back.",link:"https://www.youtube.com/embed/wcVDItawocI"},{name:"seated row",description:"Specifically, the seated row targets the muscles in your upper back and also the latissimus dorsi \u2014 a muscle on the outer side of the chest wall. This exercise will help improve your posture and help protect your shoulders.",link:"https://www.youtube.com/embed/GZbfZ033f74"},{name:"wide grip seated row",description:"Specifically, the seated row targets the muscles in your upper back and also the latissimus dorsi \u2014 a muscle on the outer side of the chest wall. This exercise will help improve your posture and help protect your shoulders.",link:"https://www.youtube.com/embed/GZbfZ033f74"},{name:"lateral raise",description:"Lateral raises add width and definition to your shoulder area if done consistently and correctly. This exercise is extremely effective in building muscle, and there are a wide variety of adaptations for you to choose between. This will allow you to exercise the muscles from different angles with different types of equipment.",link:"https://www.youtube.com/embed/3VcKaXpzqRo"},{name:"SHOULDER PRESS",description:"The shoulder press is one of the best exercises for strengthening your shoulders and upper back. The biggest benefactor of the shoulder press is the front portion of your shoulder muscle (anterior deltoid) but you'll also be working out your deltoids, triceps, trapezius and pecs. ",link:"https://www.youtube.com/embed/qEwKCR5JCog"},{name:"FRONT PLATE RAISE",description:"Plate front raises are one of the simplest and most effective movements you can do to strengthen your deltoids. The goal with the movement is to grab a weight plate, stand tall, and repeatedly raise it in front of your body. In doing so, your shoulders have to work hard and get stronger.",link:"https://www.youtube.com/embed/hFo-LIkCozU"},{name:"HAMMER CURL",description:"Hammer curls target the long head of the bicep as well as the brachialis (another muscle in the upper arm) and the brachioradialis (one of the key forearm muscles). The hammer curl is a relatively simple exercise that beginners can quickly master.",link:"https://www.youtube.com/embed/zC3nLlEvin4"},{name:"high rope Face Pull",description:"Face pulls target the posterior deltoids of the shoulder, which are often neglected by other shoulder exercises. You use a cable pulley machine to pull the weight straight toward your forehead. Exercising the rear delts will prevent muscular imbalance and build overall shoulder strength. This exercise isn't hard to do as long as you pay attention to your form. You can use face pulls as part of an upper body strength training regimen.",link:"https://www.youtube.com/embed/rep-qVOkqgk"},{name:"OVERHEAD ROPE EXTENSION",description:"The overhead cable triceps extension is a great isolation exercise to increase triceps muscle growth, elbow stability and strength, and improve pressing performance for most strength sports. Be sure to focus on a good muscular stretch and contraction, rather than lifting heavy.",link:"https://www.youtube.com/embed/e7BivLfMN40"},{name:"REVERSE GRIP PUSHDOWN",description:"Reverse-grip tricep pushdowns are triceps exercises designed to isolate and build strength in your triceps muscles. The exercise can be practiced with a resistance band or by placing a straight bar attachment on a pulley machine in a high pulley position. To practice reverse-grip triceps pushdowns, stand with your feet shoulder-width apart, grip the straight bar or resistance band with an underhand grip, and pull it down toward your quads.",link:"https://www.youtube.com/embed/o2HRy4ay4rE"},{name:"JM Press",description:"To perform the JM Press, you'll take the lying position and approximate hand-placement of a traditional close-grip bench press and perform the movement by lowering the bar toward your chin and back up to the starting position",link:"https://www.youtube.com/embed/hOCW9cE-GJg"},{name:"FLAT BARBELL BENCH PRESS",description:"The bench press, or chest press, is a weight training exercise where the trainee presses a weight upwards while lying on a weight training bench. Although the bench press is a full-body exercise, the muscles primarily used are the pectoralis major, the anterior deltoids, and the triceps, among other stabilizing muscles. A barbell is generally used to hold the weight, but a pair of dumbbells can also be used.",link:"https://www.youtube.com/embed/gRVjAtPip0Y"},{name:"INCLINE BENCH PRESS",description:"The purpose of the incline press is to focus more of the work on the upper pecs. The main benefit in performing incline presses is to develop the upper portion of the pectoral muscles. When the bench is set at an incline (15 to 30 degrees), you activate your shoulders more since it's comparable to a shoulder press.",link:"https://www.youtube.com/embed/SrqOu55lrYU"},{name:"SEATED SHOULDER PRESS",description:"Sit on the bench holding two dumbbells at shoulder height with an overhand grip. Press the weights up above your head until your arms are fully extended. Return slowly to the start position.",link:"https://www.youtube.com/embed/qEwKCR5JCog"},{name:"FLAT BENCH DUMBELL FLYES",description:"The goal of the dumbbell fly is to move in a slightly different way that you do during other chest-focused exercises like presses. When you perform a fly, you adduct the chest muscle, which means squeezing the pecs to move your arms inward toward the midline of your body. That squeeze will be the key to growth, helping to develop the inner chest muscle to finish out the shape of your pecs.",link:"https://www.youtube.com/embed/y_Z2LftZDvk"},{name:"STANDING DUMBELL LATERAL RAISES",description:"Lateral raises add width and definition to your shoulder area if done consistently and correctly. This exercise is extremely effective in building muscle, and there are a wide variety of adaptations for you to choose between. This will allow you to exercise the muscles from different angles with different types of equipment.",link:"https://www.youtube.com/embed/3VcKaXpzqRo"},{name:"TRICEP ROPE PUSHDOWN",description:"As you prepare for this move, face the tricep pushdown cable machine and grasp the horizontal cable bar or rope attachment (depending on the machine your gym has) with an overhand grip.1 Adjust the bar or rope grips to about chest level.",link:"https://www.youtube.com/embed/vB5OHsJ3EME"},{name:"EZ BAR SKULLCRUSHER",description:"The EZ bar skullcrusher is a variation of the skullcrusher and an exercise used to strengthen the muscles of the triceps. The triceps can be trained in many different ways to promote growth and overhead extensions, such as the EZ bar skullcrusher, are an effective way to target the long head of the tricep. Having bigger and stronger triceps are not only important from an aesthetic standpoint but can also help contribute to better performance on pressing motions such as the bench press.",link:"https://www.youtube.com/embed/D47mYdoKllE"},{name:"DUMBBELL SHRUG",description:"Assume a standing position with the dumbbells on both sides of your body. Hinge forward, inhale, and grab the dumbbells with a neutral grip. Stand up tall and ensure your spine remains neutral. Contract the traps to elevate the shoulders. Squeeze hard at the top and slowly lower the dumbbells back to the starting position. Repeat for the desired number of repetitions.",link:"https://www.youtube.com/embed/cJRVVxmytaM"},{name:"BARBELL CURL",description:"The barbell curl targets your biceps brachii muscle as well as the brachialis, a muscle responsible for elbow flexion. With regular practice, barbell curls can help you build bigger biceps.",link:"https://www.youtube.com/embed/kwG2ipFRgfo"},{name:"LEG RAISES",description:"Besides working the lower abs and inner thighs, leg lifts also help with hip strength and flexibility due to the motion of your legs and hips during the move. Plus, the move gets your low back involved, which is beneficial for anyone who is interested in strengthening the full core region.",link:"https://www.youtube.com/embed/JB2oyawG9KI"},{name:"BARBELL SQUAT",description:"squat is a strength exercise in which the trainee lowers their hips from a standing position and then stands back up. During the descent, the hip and knee joints flex while the ankle joint dorsiflexes; conversely the hip and knee joints extend and the ankle joint plantarflexes when standing up. Squats also help your hip muscles",link:"https://www.youtube.com/embed/gsNoPYwWXeM"},{name:"LEG PRESS",description:"The leg press develops and strengthens several muscles, such as the quadriceps, hamstring, and gluteal muscles. Since the calf muscles play a critical role in supporting these muscles, the calf muscles also become stronger.",link:"https://www.youtube.com/embed/IZxyjW7MPJQ"},{name:"BARBELL LUNGES",description:"A barbell lunge is an incredible compound exercise that uses numerous muscle groups at one time. This is great as it can be incorporated in a variety of different training programs but different variables may need to be adjusted in order for the exercise to lead you to your goals. Barbell lunges are a unilateral exercise that helps with full-body coordination.",link:"https://www.youtube.com/embed/I__9oV1UDv0"},{name:"LEG CURL",description:"Leg curls target the hamstrings (biceps femoris, semitendinosus, and semimembranosus) and calf muscles (gastrocnemius and soleus muscles). When lowering your feet back down, your buttocks (gluteus muscles), thighs (quadriceps), and front of the shins (tibialis anterior) are activated too.",link:"https://www.youtube.com/embed/ELOCsoDSmrg"},{name:"CALF PRESS",description:"Doesnt rly matter what you do calfs still wont grow tbh",link:"https://www.youtube.com/embed/IrxfRHGiGE0"},{name:"CLOSE-GRIP BARBELL BENCH PRESS",description:"The close grip bench press primarily works the upper chest, triceps, and anterior deltoids. Compared to the standard barbell bench press, the shoulders and triceps take more of the load.",link:"https://www.youtube.com/embed/nEF0bv2FW94"},{name:"CABLE OVERHEAD TRI EXTENSIONS",description:"The overhead tricep extension is a great exercise to work the triceps. It's comparable to performing tricep extensions with your elbows at your sides. Both versions are excellent for isolating the triceps. It's also a great way to work on stability at the shoulders and core.",link:"https://www.youtube.com/embed/ns-RGsbzqok"},{name:"DUMBELL TRI KICKBACK",description:"How to: Stand with your knees bent and lean forward slightly, with a dumbbell in each hand. Keeping your back straight, bend your dumbell-holding arm 90 degrees at the elbow so your triceps are aligned with your back and your biceps are perpendicular to the floor. Engage your core and your triceps and hinge at the elbow, lifting the dumbbell up and back as you try and straighten your arm. Your triceps should stay still; only your elbow moves. Guide the weight upward until your arm is straight, pause, then lower back to 90 degrees. That's one rep.",link:"https://www.youtube.com/embed/6SS6K3lAwZ8"},{name:"EZ-BAR PREACHER CURL",description:"Grab the bar so your wrists are turned toward each other. Sit and tighten up your arms, shoulders, and torso. Starting with your arms straight, curl the bar as high as you can with without moving anything but your elbows. Lower the bar and repeat.",link:"https://www.youtube.com/embed/Gydpcouclx8"},{name:"REVERSE GRIP LAT PULLDOWN",description:"Keep some tone through your abdominals as you pull the bar into your body to ensure you don't arch excessively through the spine.Don't allow momentum to dictate the movement, control the weight throughout the entirety of each rep. If you feel your biceps being overused and your back remaining under active, consider utilizing a false grip (i.e. don't wrap the thumb around the dumbbell).Don't allow the head to jut forward as you pull. Similarly, ensure the shoulder blade moves on the rib cage. Don't lock the shoulder blade down and just move through the glenohumeral joint.",link:"https://www.youtube.com/embed/apzFTbsm7HU"},{name:"DUMBELL SHOULDER PRESS",description:"The shoulder press is one of the best exercises for strengthening your shoulders and upper back. The biggest benefactor of the shoulder press is the front portion of your shoulder muscle (anterior deltoid) but you'll also be working out your deltoids, triceps, trapezius and pecs. ",link:"https://www.youtube.com/embed/qEwKCR5JCog"},{name:"INCLINE CURL",description:"Incline dumbbell curls target your biceps brachii, which is the biggest muscle in the biceps region. As you curl up, you're putting resistance on the biceps brachii, which in turn engages and tightens, a process called a concentric contraction.22.5.2019",link:"https://www.youtube.com/embed/soxrZlIl35U"},{name:"SEATED CABLE ROW",description:"Specifically, the seated row targets the muscles in your upper back and also the latissimus dorsi \u2014 a muscle on the outer side of the chest wall. This exercise will help improve your posture and help protect your shoulders.",link:"https://www.youtube.com/embed/GZbfZ033f74"},{name:"TRICEP PRESSDOWN",description:"As you prepare for this move, face the tricep pushdown cable machine and grasp the horizontal cable bar or rope attachment (depending on the machine your gym has) with an overhand grip.1 Adjust the bar or rope grips to about chest level.",link:"https://www.youtube.com/embed/vB5OHsJ3EME"},{name:"Incline Dumbbell press",description:"The incline dumbbell bench press is a variation of the incline bench press and an exercise used to build the muscles of the chest. The shoulders and triceps will be indirectly involved as well.Utilizing an incline will allow you to better target the upper portion of the chest, a lagging part for a lot of lifters.The use of dumbbells will also promote balanced and equal strength among both sides of the chest. They can also help prevent shoulder and pec injuries when performing presses.",link:"https://www.youtube.com/embed/8iPEnn-ltC8"},{name:"dumbbell HAMMER CURL",description:"Hammer curls target the long head of the bicep as well as the brachialis (another muscle in the upper arm) and the brachioradialis (one of the key forearm muscles). The hammer curl is a relatively simple exercise that beginners can quickly master.",link:"https://www.youtube.com/embed/zC3nLlEvin4"},{name:"OVERHEAD TRICEPS EXTENSION",description:"The most common way to perform this exercise is using a dumbbell (or kettlebell) while standing or sitting. Hold the weight overhead by grasping the inside dumbbell plate surface with both hands, or by grasping both handles of the kettlebell. Slowly bend your elbows and lower the weight behind your head as far as you can. Remember to keep your trunk upright and your core engaged. The weight should follow the path of your spine.Then, at the lowest point, straighten your elbows and extend the weight back overhead. Hold the fully extended position for a moment, then repeat. Keep the movement slow and controlled.",link:"https://www.youtube.com/embed/-Vyt2QdsR7E"},{name:"WIDE GRIP FRONT LAT PULLDOWN",description:"A wide grip is better for lifters who want to increase lat strength or size or for those looking to improve their pull-ups. A close grip is better for those looking to target their mid and upper back or increase the strength of their back overall.",link:"https://www.youtube.com/embed/lueEJGjTuPQ"},{name:"LEG EXTENSION",description:"The leg extension, or knee extension, is a type of strength training exercise. It's an excellent move for strengthening your quadriceps, which are in the front of your upper legs.",link:"https://www.youtube.com/embed/YyvSfVjQeL0"},{name:"SEATED LEG CURL",description:"The seated leg curl produced greater hamstring hypertrophy than the lying leg curl. It caused more muscle growth of semitendinosus, semimembranosus and the biceps femoris long head",link:"https://www.youtube.com/embed/ELOCsoDSmrg"},{name:"cable Face Pulls",description:"Face pulls target the posterior deltoids of the shoulder, which are often neglected by other shoulder exercises. You use a cable pulley machine to pull the weight straight toward your forehead. Exercising the rear delts will prevent muscular imbalance and build overall shoulder strength. This exercise isn't hard to do as long as you pay attention to your form. You can use face pulls as part of an upper body strength training regimen.",link:"https://www.youtube.com/embed/rep-qVOkqgk"},{name:"PREACHER CURL",description:"Grab the bar so your wrists are turned toward each other. Sit and tighten up your arms, shoulders, and torso. Starting with your arms straight, curl the bar as high as you can with without moving anything but your elbows. Lower the bar and repeat.",link:"https://www.youtube.com/embed/Gydpcouclx8"},{name:"LYING EZ BAR EXTENSION",description:"The lying EZ-Bar triceps extension increases the strength and size of the triceps while also engaging the shoulders. The exercise is designed for a big range of motion, which stretches the triceps and allows for more muscle activation.",link:"https://www.youtube.com/embed/hOwZLq1VSRg"}];M(4835);var we=M(4537),He=M(3229),L=M(302);let Oe=(()=>{const de=class{constructor(Ie,Ve){this.afs=Ie,this.router=Ve,this.cachedWorkouts=[]}addWorkout(Ie){this.afs.collection("lastUpdate").doc("dates").set({date:new Date}),this.afs.doc("/workouts/"+Ie.id).set(Ie).then(()=>{alert(`added ${Ie.name}`)}).catch(Ve=>{console.log(Ve),alert(Ve)})}deleteWorkout(Ie,Ve){var We=this;return(0,f.Z)(function*(){yield We.afs.collection("users").doc(Ve).collection("addedWorkouts").doc(Ie).delete(),We.router.navigate(["/gym"])})()}addWorkoutForNormies(Ie,Ve){this.afs.collection("users").doc(Ve).collection("addedWorkouts").doc(`${Ie.id}`).set(Ie),this.afs.doc("/workoutsPersonal/"+Ie.id).set(Ie).then(()=>{console.log("added workout")}).catch(We=>{console.log(We),alert(We)})}getPersonalWorkouts(Ie){let Ve=[];return this.afs.collection("users").doc(Ie).collection("addedWorkouts").get().subscribe(Ze=>{Ze.forEach(nt=>{Ve.push(nt.data())})}),(0,F.of)(Ve)}getWorkouts(){let Ie=JSON.parse(localStorage.getItem("cacheWorkouts")||"[]");if(Ie.length>0){const Ve=this.afs.collection("lastUpdate").doc("dates").get().pipe((0,_.U)(Ze=>Ze.data().date)),We=JSON.parse(localStorage.getItem("cacheSaveDate")||"[]"),ht=Ve.subscribe(Ze=>{const nt=new Date(We),Be=new Date(1e3*Ze.seconds+Ze.nanoseconds/1e6);nt.getTime()<Be.getTime()?Ie=this.updateCacheData().subscribe(ut=>{}):ht.unsubscribe()});return(0,F.of)(Ie)}return this.afs.collection("workouts").get().pipe((0,_.U)(We=>{const ht=[];return We.forEach(Ze=>{ht.push(Ze.data())}),ht.sort((Ze,nt)=>Ze.sort-nt.sort),this.cachedWorkouts=ht,localStorage.setItem("cacheSaveDate",JSON.stringify(new Date)),localStorage.setItem("cacheWorkouts",JSON.stringify(ht)),ht}))}updateCacheData(){return this.afs.collection("workouts").get().pipe((0,_.U)(Ve=>{const We=[];return Ve.forEach(ht=>{We.push(ht.data())}),We.sort((ht,Ze)=>ht.sort-Ze.sort),localStorage.setItem("cacheSaveDate",JSON.stringify(new Date)),localStorage.setItem("cacheWorkouts",JSON.stringify(We)),We}))}getWorkoutFromFirestore(Ie,Ve){return this.afs.collection(Ie).doc(Ve).get().pipe((0,_.U)(We=>We.exists?We.data():null))}addCompletedWorkout(Ie,Ve){const We=Math.floor(888888*Math.random()+111111);this.afs.collection("users").doc(Ie).collection("completedWorkouts").doc(`${We}`).set(Ve)}getCompletedWorkouts(Ie){let Ve=[];return this.afs.collection("users").doc(Ie).collection("completedWorkouts").get().subscribe(Ze=>{Ze.forEach(nt=>{Ve.push(nt.data())}),Ve.sort((nt,Be)=>Be.date-nt.date)}),(0,F.of)(Ve)}getExercise(Ie){const Ve=ce.find(We=>We.name.toLowerCase()===Ie.toLowerCase());return(0,F.of)(Ve)}};let ne=de;return de.\u0275fac=function(Ve){return new(Ve||de)(we.LFG(He.ST),we.LFG(L.F0))},de.\u0275prov=we.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),ne})()},8063:(fn,ot,M)=>{"use strict";M.d(ot,{a:()=>ce});var f=M(4537),F=M(302),_=M(3772);let ce=(()=>{const we=class{constructor(L,Oe){this.router=L,this.afAuth=Oe}canActivate(L,Oe){return new Promise((ne,de)=>{this.afAuth.onAuthStateChanged(ye=>{ye?ne(!0):(console.log("Auth Guard: user is not logged in"),this.router.navigate(["/gym"]),ne(!1))})})}};let S=we;return we.\u0275fac=function(Oe){return new(Oe||we)(f.LFG(F.F0),f.LFG(_.zQ))},we.\u0275prov=f.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),S})()},2684:(fn,ot,M)=>{"use strict";M.d(ot,{e:()=>F});var f=M(4537);let F=(()=>{const ce=class{add(we,He){this.clear(),this.messages.push({message:we,type:He}),setTimeout(()=>{this.messages.length=0},4e3)}clear(){this.messages.length=0}getMessages(){return this.messages}constructor(){this.messages=[]}};let _=ce;return ce.\u0275fac=function(He){return new(He||ce)},ce.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),_})()},6263:(fn,ot,M)=>{"use strict";var f=M(5998),F=M(302),_=M(4537);let ce=(()=>{const s=class{};let c=s;return s.\u0275fac=function(g){return new(g||s)},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-notfound"]],decls:3,vars:0,template:function(g,C){1&g&&(_.TgZ(0,"div")(1,"h1"),_._uU(2," 404 invalid location "),_.qZA()())},styles:["div[_ngcontent-%COMP%]{position:absolute;left:30%;top:10%}h1[_ngcontent-%COMP%]{font-size:60px}"]}),c})();var S=M(92),we=M(8239),He=M(2194),L=M(3854),Oe=M(7467),ne=M(5422),de=M(3910),Ie=(M(4835),M(3772)),Ve=M(3229),We=M(8692),ht=M(2684);let Ze=(()=>{const s=class{constructor(d,g,C,P,W){this.router=d,this.afAuth=g,this.afs=C,this.location=P,this.messageService=W,this.userLoggedIn=!1,this.userFull=null,this.afAuth.onAuthStateChanged(oe=>{this.userLoggedIn=!!oe})}loginUser(d,g){return this.afAuth.signInWithEmailAndPassword(d,g).then(()=>{this.messageService.add("welcome back summoner","success"),this.location.back()}).catch(C=>{if(console.log("Auth Service: login error..."),console.log("error code",C.code),console.log("error",C),C.code)return{isValid:!1,message:C.message}})}googleLogin(){var d=this;const g=new He.V,C=(0,He.o)();(0,He.c)(C,g).then(function(){var P=(0,we.Z)(function*(W){He.V.credentialFromResult(W);const vt=W.user;let At=vt.email.toLowerCase();const Zt=d.afs.doc("/users/"+At);d.afs.doc(`users/${At}`).get().subscribe(En=>{En.exists?d.messageService.add("Welcome back","success"):(d.messageService.add("Hi :)","success"),Zt.set({accountType:"normie",displayName:vt?.displayName,email:vt.email,email_lower:At,photoURL:vt.photoURL},{merge:!0}))}),d.location.back()});return function(W){return P.apply(this,arguments)}}()).catch(P=>{this.messageService.add(P,"error"),console.log(P),He.V.credentialFromError(P)})}signupUser(d){return this.afAuth.createUserWithEmailAndPassword(d.email,d.password).then(g=>{let C=d.email.toLowerCase();this.afs.doc("/users/"+C).set({accountType:"normie",displayName:d.displayName,displayName_lower:d.displayName.toLowerCase(),email:d.email,email_lower:C,photoURL:"https://firebasestorage.googleapis.com/v0/b/portfolio-5756d.appspot.com/o/uploads%2F1679212379254_1367902251612x612.jpg?alt=media&token=d8828d33-d1ad-45aa-bbf7-2063923e7f6c"}),this.messageService.add("have fun time using this app","success"),g.user.sendEmailVerification()}).catch(g=>{if(this.messageService.add("signup error","error"),console.log("Auth Service: signup error",g),g.code)return{isValid:!1,message:g.message}})}resetPassword(d){return this.afAuth.sendPasswordResetEmail(d).then(()=>{console.log("Auth Service: reset password success")}).catch(g=>{if(console.log("Auth Service: reset password error..."),console.log(g.code),console.log(g),g.code)return g})}resendVerificationEmail(){var d=this;return(0,we.Z)(function*(){return(yield d.afAuth.currentUser)?.sendEmailVerification().then(()=>{}).catch(g=>{if(console.log("Auth Service: sendVerificationEmail error..."),console.log("error code",g.code),console.log("error",g),g.code)return g})})()}setUserInfo(d){console.log("Auth Service: saving user info..."),this.afs.collection("users").add(d).then(function(g){console.log("Auth Service: setUserInfo response..."),console.log(g)})}getCurrentUser(){return this.afAuth.currentUser}};let c=s;return s.\u0275fac=function(g){return new(g||s)(_.LFG(F.F0),_.LFG(Ie.zQ),_.LFG(Ve.ST),_.LFG(We.Ye),_.LFG(ht.e))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),c})();var nt=M(9638),Be=M(9665),ut=M(8659);function Fe(c,s){if(1&c&&(_.TgZ(0,"div",15)(1,"span"),_._uU(2),_.qZA()()),2&c){const a=_.oxw();_.xp6(2),_.Oqu(a.firebaseErrorMessage)}}let ke=(()=>{const s=class{constructor(d,g){this.authService=d,this.afAuth=g,this.loginForm=new S.cw({email:new S.NI("",[S.kI.required,S.kI.email]),password:new S.NI("",S.kI.required)}),this.firebaseErrorMessage=""}googleLogin(){this.authService.googleLogin()}loginUser(){this.loginForm.invalid||this.authService.loginUser(this.loginForm.value.email,this.loginForm.value.password).then(d=>{null==d?console.log("logging in..."):0==d.isValid&&(console.log("login error",d),this.firebaseErrorMessage=d.message)})}};let c=s;return s.\u0275fac=function(g){return new(g||s)(_.Y36(Ze),_.Y36(Ie.zQ))},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-login"]],decls:30,vars:2,consts:[[1,"mt-[64px]","flex","flex-col","items-center","h-screen"],["mat-raised-button","","color","primary","routerLink","/gym"],[1,"mt-2","bg-inherit"],["type","",3,"formGroup","ngSubmit"],[1,"text-sm","text-yellow-50"],["appearance","outline",1,"bg-white","w-full"],["autocomplete","off","formControlName","email","type","email","matInput","","placeholder","Email"],["autocomplete","off","formControlName","password","type","password","matInput","","placeholder","Password"],["class","error-style",4,"ngIf"],[1,""],["mat-raised-button","","color","primary",1,"w-3/6"],["type","button","mat-raised-button","","color","primary","routerLink","/signup",1,"w-3/6"],[1,"google","flex","h-[50px]","cursor-pointer","justify-center","items-center","flex-col","text-white","rounded","bg-[#792b18]","mt-1",3,"click"],["src","https://workspace.google.com/static/img/products/png/gmail.png?cache=f50ecb6","width","25px"],["type","button","mat-raised-button","","color","primary","routerLink","/lostpass",1,"w-full","mt-[2px]"],[1,"error-style"]],template:function(g,C){1&g&&(_.TgZ(0,"section",0)(1,"button",1),_._uU(2," Home\n"),_.qZA(),_.TgZ(3,"div",2)(4,"form",3),_.NdJ("ngSubmit",function(){return C.loginUser()}),_.TgZ(5,"p")(6,"span",4),_._uU(7,"Email"),_.qZA(),_._UZ(8,"br"),_.TgZ(9,"mat-form-field",5),_._UZ(10,"input",6),_.qZA()(),_.TgZ(11,"p")(12,"span",4),_._uU(13,"Password"),_.qZA(),_._UZ(14,"br"),_.TgZ(15,"mat-form-field",5),_._UZ(16,"input",7),_.qZA()(),_.YNc(17,Fe,3,1,"div",8),_.TgZ(18,"div",9)(19,"button",10),_._uU(20,"Login"),_.qZA(),_.TgZ(21,"button",11),_._uU(22,"Sign up"),_.qZA(),_._UZ(23,"br"),_.qZA(),_.TgZ(24,"div",12),_.NdJ("click",function(){return C.googleLogin()}),_.TgZ(25,"span"),_._uU(26,"google login"),_.qZA(),_._UZ(27,"img",13),_.qZA(),_.TgZ(28,"button",14),_._uU(29,"forgot password?"),_.qZA()()()()),2&g&&(_.xp6(4),_.Q6J("formGroup",C.loginForm),_.xp6(13),_.Q6J("ngIf",""!=C.firebaseErrorMessage))},dependencies:[We.O5,F.rH,S._Y,S.Fj,S.JJ,S.JL,S.sg,S.u,nt.lW,Be.Nt,ut.KE],styles:["section[_ngcontent-%COMP%]{background:linear-gradient(317deg,rgba(128,32,0,1) 0%,rgba(30,32,110,1) 100%)}img[_ngcontent-%COMP%]{max-height:25px}.google[_ngcontent-%COMP%]:hover{background-color:#2f0d04}"]}),c})();var Re=M(1997);function xe(c,s){if(1&c&&(_.TgZ(0,"div",10)(1,"span"),_._uU(2),_.qZA()()),2&c){const a=_.oxw();_.xp6(2),_.Oqu(a.firebaseErrorMessage)}}let Ke=(()=>{const s=class{constructor(d,g,C){this.authService=d,this.router=g,this.afAuth=C,this.firebaseErrorMessage=""}ngOnInit(){this.signupForm=new S.cw({displayName:new S.NI("",S.kI.required),email:new S.NI("",[S.kI.required,S.kI.email]),password:new S.NI("",S.kI.required)})}signup(){this.signupForm.invalid||this.authService.signupUser(this.signupForm.value).then(d=>{null==d?this.router.navigate(["/gym"]):0==d.isValid&&(this.firebaseErrorMessage=d.message)}).catch(()=>{})}};let c=s;return s.\u0275fac=function(g){return new(g||s)(_.Y36(Ze),_.Y36(F.F0),_.Y36(Ie.zQ))},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-signup"]],decls:23,vars:2,consts:[[1,"mt-[64px]","flex","flex-col","items-center","h-screen"],["mat-raised-button","","color","primary","routerLink","/gym"],[1,"mt-10"],[3,"formGroup","ngSubmit"],["appearance","outline"],["autocomplete","off","formControlName","displayName","type","text","matInput","","placeholder","Display Name"],["formControlName","email","type","email","matInput","","placeholder","Email"],["autocomplete","off","formControlName","password","type","password","matInput","","placeholder","Password"],["class","error-style",4,"ngIf"],["mat-raised-button","","color","primary",1,"w-full"],[1,"error-style"]],template:function(g,C){1&g&&(_.TgZ(0,"section",0)(1,"button",1),_._uU(2," Home\n"),_.qZA(),_.TgZ(3,"mat-card",2)(4,"form",3),_.NdJ("ngSubmit",function(){return C.signup()}),_.TgZ(5,"p")(6,"mat-form-field",4)(7,"mat-label"),_._uU(8,"Display name"),_.qZA(),_._UZ(9,"input",5),_.qZA()(),_.TgZ(10,"p")(11,"mat-form-field",4)(12,"mat-label"),_._uU(13,"Email"),_.qZA(),_._UZ(14,"input",6),_.qZA()(),_.TgZ(15,"p")(16,"mat-form-field",4)(17,"mat-label"),_._uU(18,"Password"),_.qZA(),_._UZ(19,"input",7),_.qZA()(),_.YNc(20,xe,3,1,"div",8),_.TgZ(21,"button",9),_._uU(22,"Create account"),_.qZA()()()()),2&g&&(_.xp6(4),_.Q6J("formGroup",C.signupForm),_.xp6(16),_.Q6J("ngIf",""!=C.firebaseErrorMessage))},dependencies:[We.O5,F.rH,S._Y,S.Fj,S.JJ,S.JL,S.sg,S.u,nt.lW,Re.a8,Be.Nt,ut.KE,ut.hX],styles:["section[_ngcontent-%COMP%]{background:linear-gradient(137deg,rgba(128,32,0,1) 0%,rgba(30,32,110,1) 100%)}"]}),c})();var ge=M(4945),mt=M(5490),jt=M(8168),Ht=M(3148),vn=M(7303),rn=M(3704);function hi(c,s){if(1&c){const a=_.EpF();_.TgZ(0,"div",43)(1,"img",44),_.NdJ("click",function(){const C=_.CHM(a).$implicit,P=_.oxw();return _.KtG(P.updateProfileImage(C.downloadURL))}),_.qZA()()}if(2&c){const a=s.$implicit;_.xp6(1),_.Q6J("src",a.downloadURL,_.LSH)}}function _i(c,s){1&c&&(_.TgZ(0,"h3"),_._uU(1,"you haven't saved any workouts yet."),_._UZ(2,"br"),_._uU(3,"once you do they will show here"),_.qZA())}function An(c,s){1&c&&(_.TgZ(0,"span"),_._uU(1,"**"),_.qZA())}function Wn(c,s){if(1&c){const a=_.EpF();_.TgZ(0,"li",45)(1,"span",46),_.NdJ("click",function(){const C=_.CHM(a).index,P=_.oxw();return _.KtG(P.showFull(C))}),_.TgZ(2,"div",47)(3,"span",48),_._uU(4),_.qZA(),_.TgZ(5,"span",49),_._uU(6),_.ALo(7,"date"),_.YNc(8,An,2,0,"span",21),_.qZA()()()()}if(2&c){const a=s.$implicit,d=s.index;_.xp6(4),_.hij("",d+1,"."),_.xp6(2),_.AsE(" ",a.day," ",_.xi3(7,4,a.date.toDate(),"d/M/yy"),""),_.xp6(2),_.Q6J("ngIf",a.notes)}}function xn(c,s){if(1&c&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&c){const a=_.oxw().$implicit;_.xp6(1),_.hij("",a.weight,"kg")}}function nn(c,s){if(1&c&&(_.TgZ(0,"li",54)(1,"div",49)(2,"span",55),_._uU(3),_.YNc(4,xn,2,1,"span",21),_.qZA(),_._uU(5),_.qZA()()),2&c){const a=s.$implicit;_.xp6(3),_.hij(" ",a.exercise," "),_.xp6(1),_.Q6J("ngIf",a.weight),_.xp6(1),_.AsE(" ",a.setsDone,"x",a.reps,"")}}function qe(c,s){if(1&c&&(_.TgZ(0,"div",56),_._uU(1),_.qZA()),2&c){const a=_.oxw(2);_.xp6(1),_.Oqu(a.workoutToShow.notes)}}function Ne(c,s){if(1&c&&(_.TgZ(0,"div",50)(1,"div",51)(2,"h3"),_._uU(3),_.qZA(),_.TgZ(4,"h3"),_._uU(5),_.ALo(6,"date"),_.qZA(),_.TgZ(7,"h3"),_._uU(8),_.qZA()(),_.YNc(9,nn,6,4,"li",52),_.YNc(10,qe,2,1,"div",53),_.qZA()),2&c){const a=_.oxw();_.xp6(3),_.Oqu(a.workoutToShow.day),_.xp6(2),_.Oqu(_.xi3(6,5,a.workoutToShow.date.toDate(),"d MMM, y, h:mm:ss a")),_.xp6(3),_.hij("aprox: ",a.workoutToShow.aproxTime," minutes"),_.xp6(1),_.Q6J("ngForOf",a.workoutToShow.exercises),_.xp6(1),_.Q6J("ngIf",a.workoutToShow.notes)}}function Ae(c,s){if(1&c){const a=_.EpF();_.TgZ(0,"div",57)(1,"button",58),_._uU(2,"add recipes"),_.qZA(),_.TgZ(3,"button",59),_._uU(4,"idk yet"),_.qZA(),_.TgZ(5,"button",46),_.NdJ("click",function(){_.CHM(a);const g=_.oxw();return _.KtG(g.searchItems())}),_._uU(6,"test"),_.qZA()()}}let Ue=(()=>{const s=class{constructor(d,g,C,P,W,oe,be,vt){this.afAuth=d,this.datePipe=g,this.location=C,this.firestore=P,this.authser=W,this.gymService=oe,this.storage=be,this.messageService=vt,this.done=[],this.emailLower="",this.avg=0,this.imgURL="",this.profImages=[],this.prevIndex=-1,this.newArr=[],this.user=null}searchItems(){if(!this.fromDate||!this.toDate)return this.messageService.add("choose 2 dates","error"),this.newArr=this.done,this.done;this.newArr=this.done.filter(d=>{const g=d.date.toMillis(),C=this.fromDate?.getTime();let P=this.toDate?.getTime();return P&&(P+=86400001),(!C||g>=C)&&(!P||g<=P)}),this.aproxTimeAtGym()}resetArr(){this.newArr=this.done}goBack(){this.location.back()}showFull(d){this.prevIndex==d?(this.workoutToShow=void 0,this.prevIndex=-1):(this.prevIndex=d,this.workoutToShow=this.done[d])}ngOnInit(){this.subscribtions=this.afAuth.authState.subscribe(d=>{d&&(this.emailLower=d.email?.toLowerCase(),this.user=this.firestore.collection("users").doc(this.emailLower).valueChanges(),this.user.subscribe(g=>{this.imgURL=g.photoURL})),this.gymService.getCompletedWorkouts(this.emailLower).pipe((0,jt.b)(g=>{this.done=g,this.newArr=g})).subscribe(()=>{setTimeout(()=>{this.aproxTimeAtGym()},1e3)})}),this.getProfImgs().subscribe(d=>{this.profImages=d})}updateProfileImage(d){const g=this.user.subscribe(C=>{C&&(this.firestore.doc(`users/${this.emailLower}`).update({photoURL:d}),this.messageService.add("updated profile pic","success"),g.unsubscribe())})}getProfImgs(){let d=[];return this.firestore.collection("profileImgFiles").get().subscribe(P=>{P.forEach(W=>{d.push(W.data())})}),(0,ge.of)(d)}sortLatestFirst(){this.newArr.sort((d,g)=>g.date-d.date)}sortOldestFirst(){this.newArr.sort((d,g)=>d.date-g.date)}aproxTimeAtGym(){let d=0;this.newArr.forEach(P=>{d+=P.aproxTime});const g=Math.floor(d/60),C=d%60;this.avg=Math.floor(d/this.newArr.length),this.timeSpentHours=g,this.timeSpentMinutes=C}ngOnDestroy(){this.subscribtions.unsubscribe()}uploadFile(d){const g=d.target.files[0];let C=g.name?.replace(/([^a-z0-9.]+)/gi,"");const oe="uploads/"+Date.now()+"_"+C,be=this.storage.ref(oe);this.storage.upload(oe,g).snapshotChanges().pipe((0,mt.x)(()=>{be.getDownloadURL().subscribe(At=>{const Zt=this.user.subscribe(En=>{En&&(this.firestore.doc(`users/${this.emailLower}`).update({photoURL:At}),Zt.unsubscribe())})})})).subscribe()}};let c=s;return s.\u0275fac=function(g){return new(g||s)(_.Y36(Ie.zQ),_.Y36(We.uU),_.Y36(We.Ye),_.Y36(Ve.ST),_.Y36(Ze),_.Y36(Ht.n),_.Y36(vn.Q1),_.Y36(ht.e))},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-dashboard"]],features:[_._Bn([We.uU])],decls:77,vars:19,consts:[[1,"pt-[60px]","flex","flex-col","text-white","pb-12"],[1,"flex","mt-2","items-center","flex-col"],[1,"material-icons-outlined","py-3","px-8","btn-gradient-2",3,"click"],[1,"flex","mb-3"],[1,"dropdown","dropdown-bottom"],["tabindex","0",1,"btn","m-1"],["id","movepls","tabindex","0",1,"dropdown-content","card","card-compact","max-h-[70vh]","p-2","bg-[#350883]","text-primary-content"],[1,"contentIMGS"],["class","card",4,"ngFor","ngForOf"],["for","file-upload",1,"custom-file-upload"],[1,"material-icons-outlined","translate-y-2"],["id","file-upload","type","file",1,"",3,"change"],[3,"src"],[1,"flex","mt-3","ml-2","justify-center"],[1,"dropdown","dropdown-end","translate-y-2"],["tabindex","0",1,"btn","btn-circle","btn-ghost","btn-xs","text-info"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"w-4","h-4","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["tabindex","0",1,"card","compact","dropdown-content","shadow","bg-base-100","rounded-box","w-64"],[1,"card-body","bg-[#512DA8]","border-2","border-solid","border-red-500"],[1,"pb-2","text-center"],[4,"ngIf"],["appearance","fill"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",1,"text-black",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date",1,"text-black",3,"ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["picker",""],[1,"flex","justify-center","gap-3"],[1,"py-2","border-2","border-solid","border-cyan-400","w-5/6","max-w-[200px]","rounded","bg-[#093644]",3,"click"],[1,"material-icons","py-2","border-2","border-solid","border-cyan-400","w-[60px]","rounded","bg-[#093644]",3,"click"],[1,"flex","justify-center"],[1,"holder","ml-1"],[1,"flex","items-center"],[1,"text-xs","mb-1","pr-2"],[1,"flex","justify-center","items-center"],[1,"material-icons-outlined","cursor-pointer",3,"click"],[1,"content"],["class","list-none cursor-pointer",4,"ngFor","ngForOf"],["class","ml-2 mr-1 mt-10 bg-[#1A237E] full",4,"ngIf"],[1,"w-full","grid","place-items-center","mt-4"],["routerLink","/settings/workout",1,"mt-2","border-2","border-solid","border-cyan-400","w-5/6","max-w-[600px]","rounded","px-2"],["class","flex gap-6 mt-5",4,"ngIf"],[1,"card"],["alt","profImg",1,"menuImg",3,"src","click"],[1,"list-none","cursor-pointer"],[3,"click"],[1,"flex","h-full","hover:bg-[#2c765255]","borderStuff"],[1,"bg-blue-900","w-[3ch]","min-w-[3ch]","grid","place-items-center"],[1,"ml-1"],[1,"ml-2","mr-1","mt-10","bg-[#1A237E]","full"],[1,"pb-2"],["class","",4,"ngFor","ngForOf"],["class","pb-1 pt-1 text-center bg-[#006064]",4,"ngIf"],[1,""],[1,"mr-1"],[1,"pb-1","pt-1","text-center","bg-[#006064]"],[1,"flex","gap-6","mt-5"],["routerLink","/settings/recipe"],["routerLink","/settings"]],template:function(g,C){if(1&g&&(_.TgZ(0,"section",0)(1,"div",1)(2,"button",2),_.NdJ("click",function(){return C.goBack()}),_._uU(3,"arrow_back"),_.qZA(),_.TgZ(4,"h1"),_._uU(5),_.ALo(6,"async"),_.qZA(),_.TgZ(7,"div",3)(8,"div",4)(9,"label",5),_._uU(10,"Change profile img"),_.qZA(),_.TgZ(11,"div",6)(12,"div",7),_.YNc(13,hi,2,1,"div",8),_.qZA()()(),_.TgZ(14,"label",9)(15,"span",10),_._uU(16," cloud_upload "),_.qZA(),_.TgZ(17,"span"),_._uU(18," custom Upload"),_.qZA()(),_.TgZ(19,"input",11),_.NdJ("change",function(W){return C.uploadFile(W)}),_.qZA()(),_._UZ(20,"img",12),_.qZA(),_.TgZ(21,"div",13)(22,"h1"),_._uU(23,"workouts done :"),_.qZA(),_.TgZ(24,"div",14)(25,"label",15),_.O4$(),_.TgZ(26,"svg",16),_._UZ(27,"path",17),_.qZA()(),_.kcU(),_.TgZ(28,"div",18)(29,"div",19)(30,"p"),_._uU(31," Timer might not work correctly depending on your browser. Works on atleast chrome/firefox "),_.qZA()()()()(),_.TgZ(32,"div",20),_.YNc(33,_i,4,0,"h3",21),_.TgZ(34,"span"),_._uU(35,"total time spent aprox:"),_._UZ(36,"br"),_._uU(37),_.qZA(),_.TgZ(38,"p"),_._uU(39),_.qZA(),_.TgZ(40,"p"),_._uU(41),_.qZA(),_.TgZ(42,"mat-form-field",22)(43,"mat-label"),_._uU(44,"Enter a date range"),_.qZA(),_.TgZ(45,"mat-date-range-input",23)(46,"input",24),_.NdJ("ngModelChange",function(W){return C.fromDate=W}),_.qZA(),_.TgZ(47,"input",25),_.NdJ("ngModelChange",function(W){return C.toDate=W}),_.qZA()(),_._UZ(48,"mat-datepicker-toggle",26)(49,"mat-date-range-picker",null,27),_.qZA(),_._UZ(51,"br"),_.TgZ(52,"div",28)(53,"button",29),_.NdJ("click",function(){return C.searchItems()}),_.TgZ(54,"span"),_._uU(55,"filter"),_.qZA()(),_.TgZ(56,"button",30),_.NdJ("click",function(){return C.resetArr()}),_._uU(57,"restart_alt"),_.qZA()()(),_.TgZ(58,"div",31)(59,"div",32)(60,"div",33)(61,"p",34),_._uU(62,"items marked with ** have notes"),_.qZA(),_.TgZ(63,"div",35),_._uU(64," sort:"),_.TgZ(65,"span",36),_.NdJ("click",function(){return C.sortLatestFirst()}),_._uU(66," arrow_upward "),_.qZA(),_.TgZ(67,"span",36),_.NdJ("click",function(){return C.sortOldestFirst()}),_._uU(68," arrow_downward "),_.qZA()()(),_.TgZ(69,"div",37),_.YNc(70,Wn,9,7,"li",38),_.qZA()(),_.YNc(71,Ne,11,8,"div",39),_.qZA(),_.TgZ(72,"div",40)(73,"button",41),_._uU(74,"Create new workout"),_.qZA()(),_.YNc(75,Ae,7,0,"div",42),_.ALo(76,"async"),_.qZA()),2&g){const P=_.MAs(50);let W,oe;_.xp6(5),_.Oqu(null==(W=_.lcZ(6,15,C.user))?null:W.displayName),_.xp6(8),_.Q6J("ngForOf",C.profImages),_.xp6(7),_.Q6J("src",C.imgURL,_.LSH),_.xp6(13),_.Q6J("ngIf",0===C.done.length),_.xp6(4),_.AsE("",C.timeSpentHours," hours ",C.timeSpentMinutes," minutes "),_.xp6(2),_.hij("Avg time: ",C.avg," minutes"),_.xp6(2),_.hij("workouts done: ",C.newArr.length,""),_.xp6(4),_.Q6J("rangePicker",P),_.xp6(1),_.Q6J("ngModel",C.fromDate),_.xp6(1),_.Q6J("ngModel",C.toDate),_.xp6(1),_.Q6J("for",P),_.xp6(22),_.Q6J("ngForOf",C.newArr),_.xp6(1),_.Q6J("ngIf",C.workoutToShow),_.xp6(4),_.Q6J("ngIf","admin"==(null==(oe=_.lcZ(76,17,C.user))?null:oe.accountType))}},dependencies:[We.sg,We.O5,F.rH,S.Fj,S.JJ,S.On,rn.nW,rn.wx,rn.zY,rn.By,rn._g,ut.KE,ut.hX,ut.R9,We.Ov,We.uU],styles:[".menuImg[_ngcontent-%COMP%]{width:200px;height:200px;border:1px solid black}.borderStuff[_ngcontent-%COMP%]{border-bottom:1px solid black}.menuImg[_ngcontent-%COMP%]:hover{border:2px green dotted}#movepls[_ngcontent-%COMP%]{transform:translate(-45%)}.btn-gradient-2[_ngcontent-%COMP%]{position:relative;display:inline-flex;justify-content:center;align-items:center;color:#fff;font-size:1.5rem;cursor:pointer;background:linear-gradient(rgb(103,5,13),rgb(20,9,119)) padding-box,linear-gradient(to right,rgb(172,18,18),darkorchid) border-box;border-radius:50em;border:2px solid transparent;filter:drop-shadow(5px 1px 15px #692626)}button[_ngcontent-%COMP%]:hover{background-color:#09092c;opacity:.8}section[_ngcontent-%COMP%]{min-height:100vh;background:rgb(0,0,0);background:linear-gradient(306deg,rgba(0,0,0,1) 0%,rgba(0,75,97,1) 50%,rgba(93,4,13,1) 100%)}h1[_ngcontent-%COMP%]{font-size:1.5rem;font-style:bold}h3[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center}li[_ngcontent-%COMP%]{list-style-type:none;font-size:1rem;background:#311B92}li[_ngcontent-%COMP%]:nth-child(even){background:#4A148C}.full[_ngcontent-%COMP%]{border:2px #880E4F solid;border-radius:10px;height:-moz-fit-content;height:fit-content;overflow:hidden;width:50%;max-width:600px}.holder[_ngcontent-%COMP%]{max-height:70vh;width:48%}.content[_ngcontent-%COMP%]{max-height:90%;overflow:auto;border-radius:5px;border:1px #880E4F solid}.contentIMGS[_ngcontent-%COMP%]{max-height:100%;width:100%;overflow:auto;border-radius:5px;display:grid;grid-template-columns:1fr 1fr 1fr;border:2px solid rebeccapurple}img[_ngcontent-%COMP%]{max-width:90vw;max-height:400px}@media only screen and (max-width: 750px){.contentIMGS[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.menuImg[_ngcontent-%COMP%]{width:150px;height:150px}#movepls[_ngcontent-%COMP%]{transform:translate(-20%)}}@media (min-width:1600px){.contentIMGS[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr 1fr}}input[type=file][_ngcontent-%COMP%]{display:none}.custom-file-upload[_ngcontent-%COMP%]{border:1px solid #ccc;display:inline-block;padding:3px 12px;cursor:pointer;border-radius:5px;background-color:#880e4f}.custom-file-upload[_ngcontent-%COMP%]:hover{background-color:#09092c;opacity:.8}@media only screen and (max-width: 500px){#movepls[_ngcontent-%COMP%]{transform:translate(5%)}}"]}),c})();var pt=M(8063),at=M(8697);function Qt(c,s){if(1&c&&(_.TgZ(0,"div",12)(1,"span"),_._uU(2),_.qZA()()),2&c){const a=_.oxw();_.xp6(2),_.Oqu(a.firebaseErrorMessage)}}function In(c,s){1&c&&(_.TgZ(0,"div")(1,"p"),_._uU(2,"An email has been sent!"),_.qZA(),_.TgZ(3,"button",13)(4,"span",2),_._uU(5,"home"),_.qZA(),_.TgZ(6,"span"),_._uU(7,"Return Home"),_.qZA()()())}const Mt=[{path:"",redirectTo:"gym",pathMatch:"full"},{path:"gym",loadChildren:()=>Promise.all([M.e(592),M.e(338)]).then(M.bind(M,2338)).then(c=>c.GymModule)},{path:"cooking",loadChildren:()=>Promise.all([M.e(592),M.e(30)]).then(M.bind(M,2030)).then(c=>c.CookingModule)},{path:"fi",loadChildren:()=>Promise.all([M.e(592),M.e(441)]).then(M.bind(M,1441)).then(c=>c.SuomiModule)},{path:"cv",loadChildren:()=>Promise.all([M.e(592),M.e(924)]).then(M.bind(M,5924)).then(c=>c.EngModule)},{path:"login",component:ke},{path:"signup",component:Ke},{path:"dashboard",component:Ue,canActivate:[pt.a]},{path:"lostpass",component:(()=>{const s=class{constructor(d,g,C){this.authService=d,this.router=g,this.afAuth=C,this.mailSent=!1,this.isProgressVisible=!1,this.forgotPasswordForm=new S.cw({email:new S.NI("",[S.kI.required,S.kI.email])}),this.firebaseErrorMessage=""}ngOnInit(){this.afAuth.authState.subscribe(d=>{d&&this.forgotPasswordForm.patchValue({email:d.email})})}retrievePassword(){this.isProgressVisible=!0,!this.forgotPasswordForm.invalid&&this.authService.resetPassword(this.forgotPasswordForm.value.email).then(d=>{this.isProgressVisible=!1,null==d?(console.log("password reset email sent..."),this.mailSent=!0):0==d.isValid&&(console.log("login error",d),this.firebaseErrorMessage=d.message)})}};let c=s;return s.\u0275fac=function(g){return new(g||s)(_.Y36(Ze),_.Y36(F.F0),_.Y36(Ie.zQ))},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-lostpass"]],decls:22,vars:6,consts:[[1,"pt-[60px]","flex","flex-col","items-center","h-screen"],["mat-raised-button","","color","primary","routerLink","/gym",1,"mt-3","w-full"],[1,"material-icons"],[1,"max-w-2xl","pt-2"],["type","",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-full"],["autocomplete","off","formControlName","email","type","email","matInput","","placeholder","Email"],["class","error-style",4,"ngIf"],["mat-raised-button","","color","primary",1,"w-full",3,"disabled"],[4,"ngIf"],[1,"progressIndicator"],["color","primary","mode","indeterminate",1,"example-margin"],[1,"error-style"],["mat-raised-button","","color","primary","routerLink","/signin"]],template:function(g,C){1&g&&(_.TgZ(0,"section",0)(1,"div")(2,"button",1)(3,"span",2),_._uU(4,"home"),_.qZA(),_.TgZ(5,"span"),_._uU(6,"Home"),_.qZA()(),_.TgZ(7,"mat-card",3)(8,"form",4),_.NdJ("ngSubmit",function(){return C.retrievePassword()}),_.TgZ(9,"p"),_._uU(10,"A password-reset email will be sent to..."),_.qZA(),_.TgZ(11,"p")(12,"mat-form-field",5)(13,"mat-label"),_._uU(14,"Email"),_.qZA(),_._UZ(15,"input",6),_.qZA()(),_.YNc(16,Qt,3,1,"div",7),_.TgZ(17,"button",8),_._uU(18,"Reset my password"),_.qZA(),_.YNc(19,In,8,0,"div",9),_.qZA()(),_.TgZ(20,"div",10),_._UZ(21,"mat-progress-spinner",11),_.qZA()()()),2&g&&(_.xp6(8),_.Q6J("formGroup",C.forgotPasswordForm),_.xp6(8),_.Q6J("ngIf",""!=C.firebaseErrorMessage),_.xp6(1),_.Q6J("disabled",C.mailSent),_.xp6(2),_.Q6J("ngIf",C.mailSent),_.xp6(1),_.Udp("display",C.isProgressVisible?"inline":"none"))},dependencies:[We.O5,F.rH,S._Y,S.Fj,S.JJ,S.JL,S.sg,S.u,nt.lW,Re.a8,at.Ou,Be.Nt,ut.KE,ut.hX],styles:["section[_ngcontent-%COMP%]{background:rgb(238,174,202);background:radial-gradient(circle,rgba(238,174,202,1) 0%,rgba(148,187,233,1) 100%)}"]}),c})()},{path:"settings",loadChildren:()=>Promise.all([M.e(592),M.e(724)]).then(M.bind(M,8724)).then(c=>c.BackendModule)},{path:"**",component:ce}];let pn=(()=>{const s=class{};let c=s;return s.\u0275fac=function(g){return new(g||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({imports:[F.Bz.forRoot(Mt),F.Bz]}),c})();var St=M(8096);function on(c,s){if(1&c&&(_.TgZ(0,"li",6),_._uU(1),_.qZA()),2&c){const a=s.$implicit;_.xp6(1),_.hij("",a.message,"\n")}}const wn=function(c,s){return{success:c,error:s}};function Ln(c,s){if(1&c){const a=_.EpF();_.TgZ(0,"div",3)(1,"button",4),_.NdJ("click",function(){_.CHM(a);const g=_.oxw(2);return _.KtG(g.clear())}),_._uU(2,"close"),_.qZA(),_.YNc(3,on,2,1,"li",5),_.qZA()}if(2&c){const a=s.$implicit,d=_.oxw(2);_.Q6J("ngClass",_.WLB(2,wn,"success"===a.type,"error"===a.type)),_.xp6(3),_.Q6J("ngForOf",d.messages)}}function Jn(c,s){if(1&c&&(_.TgZ(0,"div",1),_.YNc(1,Ln,4,5,"div",2),_.qZA()),2&c){const a=_.oxw();_.xp6(1),_.Q6J("ngForOf",a.messages)}}let Cn=(()=>{const s=class{clear(){this.messageService.clear()}constructor(d){this.messageService=d,this.messages=d.getMessages()}};let c=s;return s.\u0275fac=function(g){return new(g||s)(_.Y36(ht.e))},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-message-component"]],decls:1,vars:1,consts:[["id","messageDiv",4,"ngIf"],["id","messageDiv"],["class","z-10 absolute message slide-in-top text-center flex justify-center items-center rounded",3,"ngClass",4,"ngFor","ngForOf"],[1,"z-10","absolute","message","slide-in-top","text-center","flex","justify-center","items-center","rounded",3,"ngClass"],[1,"absolute","top-0","right-0","material-icons",3,"click"],["class","list-none",4,"ngFor","ngForOf"],[1,"list-none"]],template:function(g,C){1&g&&_.YNc(0,Jn,2,1,"div",0),2&g&&_.Q6J("ngIf",C.messages.length>0)},dependencies:[We.mk,We.sg,We.O5],styles:[".message[_ngcontent-%COMP%]{height:10vh;width:80vw;max-width:400px;max-height:80px;top:5%;left:40%;box-shadow:0 7px 14px 4px #000000bf}.success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border-color:#c3e6cb;border-left:5px solid #083112}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#f5c6cb;border-left:5px solid #a10c16}.slide-in-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-in-top 1s cubic-bezier(.25,.46,.45,.94) both}@media (max-width:600px){.message[_ngcontent-%COMP%]{left:10%}}@keyframes _ngcontent-%COMP%_slide-in-top{0%{transform:translateY(-1000px);opacity:0}to{transform:translateY(40px);opacity:1}}"]}),c})();function _t(c,s){1&c&&(_.TgZ(0,"button",17),_._uU(1," account_circle "),_.qZA())}function he(c,s){if(1&c&&_._UZ(0,"img",18),2&c){const a=_.oxw(2);_.Q6J("src",a.userProfImg,_.LSH)}}function Xe(c,s){if(1&c){const a=_.EpF();_.TgZ(0,"div",11),_.YNc(1,_t,2,0,"button",12),_.YNc(2,he,1,1,"img",13),_.TgZ(3,"span",14),_.NdJ("click",function(){_.CHM(a);const g=_.oxw();return _.KtG(g.logout())}),_.TgZ(4,"span",15),_._uU(5,"logout"),_.qZA(),_.TgZ(6,"span",16),_._uU(7,"logout"),_.qZA()()()}if(2&c){const a=_.oxw();_.xp6(1),_.Q6J("ngIf",!a.userProfImg),_.xp6(1),_.Q6J("ngIf",a.userProfImg)}}function Dt(c,s){1&c&&(_.TgZ(0,"div",19)(1,"span",20)(2,"span",15),_._uU(3,"login"),_.qZA(),_.TgZ(4,"span",16),_._uU(5,"log in"),_.qZA()(),_.TgZ(6,"div",21)(7,"label",22),_.O4$(),_.TgZ(8,"svg",23),_._UZ(9,"path",24),_.qZA()(),_.kcU(),_.TgZ(10,"div",25)(11,"div",26)(12,"h2",27),_._uU(13,"Why login/Create user?"),_.qZA(),_.TgZ(14,"p"),_._uU(15," You can save workouts so you can track progress better and time spent at the gym and create new workouts yourself. "),_.qZA()()()()())}let lt=(()=>{const s=class{constructor(d,g){this.afAuth=d,this.afs=g,this.userProfImg=""}logout(){this.afAuth.signOut()}getUserProfImg(){return this.afAuth.authState.subscribe(d=>{if(d){const g=d.email?.toLowerCase();this.afs.collection("users").doc(g).valueChanges().subscribe(P=>{this.userProfImg=P.photoURL},P=>{console.error(P)})}})}ngOnInit(){St.init(),St.refresh(),this.getUserProfImg()}};let c=s;return s.\u0275fac=function(g){return new(g||s)(_.Y36(Ie.zQ),_.Y36(Ve.ST))},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-navbar"]],decls:18,vars:4,consts:[["id","navbar",1,"navbar","w-screen","max-h-[60px]","fixed","z-10"],[1,"flex-1","text-gray-400"],["class","cursor-pointer flex",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"flex-none","navigationSide"],[1,"menu","menu-horizontal","text-gray-400"],[1,"rounded-l"],["routerLink","gym"],["routerLink","cooking"],[1,"rounded-r","mr-2"],["routerLink","cv"],[1,"cursor-pointer","flex"],["class","material-icons text-3xl px-1","routerLink","/dashboard",4,"ngIf"],["routerLink","/dashboard","alt","profImg","class","rounded-full max-h-[60px] max-w-[60px] color-change-5x",3,"src",4,"ngIf"],[1,"pr-6","pl-1","ml-2","cursor-pointer","flex","items-center",3,"click"],[1,"material-icons","text-3xl"],[1,"vertical"],["routerLink","/dashboard",1,"material-icons","text-3xl","px-1"],["routerLink","/dashboard","alt","profImg",1,"rounded-full","max-h-[60px]","max-w-[60px]","color-change-5x",3,"src"],[1,"xdd","flex"],["routerLink","login",1,"pr-6","pl-1","cursor-pointer","flex","items-center","wobble-hor-bottom"],[1,"dropdown","dropdown-bottom","translate-y-1"],["tabindex","0",1,"btn","btn-circle","btn-ghost","btn-xs","text-info"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"w-4","h-4","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["tabindex","0",1,"card","compact","dropdown-content","shadow","bg-base-100","rounded-box","w-64"],[1,"card-body"],[1,"card-title"]],template:function(g,C){if(1&g&&(_.TgZ(0,"div",0)(1,"div",1),_.YNc(2,Xe,8,2,"div",2),_.ALo(3,"async"),_.YNc(4,Dt,16,0,"ng-template",null,3,_.W1O),_.qZA(),_.TgZ(6,"div",4)(7,"ul",5)(8,"li",6)(9,"a",7),_._uU(10,"Gym"),_.qZA()(),_.TgZ(11,"li")(12,"a",8),_._uU(13,"Cooking"),_.qZA()(),_.TgZ(14,"li",9)(15,"a",10),_._uU(16,"CV"),_.qZA()()()(),_._UZ(17,"app-message-component"),_.qZA()),2&g){const P=_.MAs(5);_.xp6(2),_.Q6J("ngIf",_.lcZ(3,2,C.afAuth.user))("ngIfElse",P)}},dependencies:[We.O5,F.rH,Cn,We.Ov],styles:["#navbar[_ngcontent-%COMP%]{top:0;background-color:#2a303c;--tw-bg-opacity: 1}li[_ngcontent-%COMP%]{list-style-type:none}li[_ngcontent-%COMP%]:hover{background-color:#030d20}span[_ngcontent-%COMP%]:hover{background-color:#030d20;border-radius:50px}.vertical[_ngcontent-%COMP%]{writing-mode:vertical-rl;text-orientation:mixed;font-size:10px}button[_ngcontent-%COMP%]:hover{background-color:#030d20;border-radius:50px}.xdd[_ngcontent-%COMP%]{color:#43a047}img[_ngcontent-%COMP%]:hover{opacity:.8}img[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ff0000,#ff7300,#fffb00,#48ff00,#00ffd5,#002bff,#7a00ff,#ff00c8,#ff0000) border-box;border:1px solid transparent;filter:drop-shadow(0px 0px 50px #b22cff)}.wobble-hor-bottom[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_wobble-hor-bottom 2s both}@keyframes _ngcontent-%COMP%_wobble-hor-bottom{0%,to{transform:translate(0);transform-origin:50% 50%}15%{transform:translate(-30px) rotate(-6deg)}30%{transform:translate(15px) rotate(6deg)}45%{transform:translate(-15px) rotate(-3.6deg)}60%{transform:translate(9px) rotate(2.4deg)}75%{transform:translate(-6px) rotate(-1.2deg)}}"]}),c})(),gt=(()=>{const s=class{constructor(){this.title="cv"}};let c=s;return s.\u0275fac=function(g){return new(g||s)},s.\u0275cmp=_.Xpm({type:s,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"relative"]],template:function(g,C){1&g&&(_.TgZ(0,"div",0),_._UZ(1,"app-navbar")(2,"router-outlet"),_.qZA())},dependencies:[F.lC,lt]}),c})();var Ee=M(7914),et=M(4091);function bt(c){return new _.vHH(3e3,!1)}function gn(){return typeof window<"u"&&typeof window.document<"u"}function qn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ei(c){switch(c.length){case 0:return new et.ZN;case 1:return c[0];default:return new et.ZE(c)}}function vi(c,s,a,d,g=new Map,C=new Map){const P=[],W=[];let oe=-1,be=null;if(d.forEach(vt=>{const At=vt.get("offset"),Zt=At==oe,En=Zt&&be||new Map;vt.forEach((Dn,ri)=>{let Ki=ri,Er=Dn;if("offset"!==ri)switch(Ki=s.normalizePropertyName(Ki,P),Er){case et.k1:Er=g.get(ri);break;case et.l3:Er=C.get(ri);break;default:Er=s.normalizeStyleValue(ri,Ki,Er,P)}En.set(Ki,Er)}),Zt||W.push(En),be=En,oe=At}),P.length)throw function ft(c){return new _.vHH(3502,!1)}();return W}function Hn(c,s,a,d){switch(s){case"start":c.onStart(()=>d(a&&Vi(a,"start",c)));break;case"done":c.onDone(()=>d(a&&Vi(a,"done",c)));break;case"destroy":c.onDestroy(()=>d(a&&Vi(a,"destroy",c)))}}function Vi(c,s,a){const C=Ii(c.element,c.triggerName,c.fromState,c.toState,s||c.phaseName,a.totalTime??c.totalTime,!!a.disabled),P=c._data;return null!=P&&(C._data=P),C}function Ii(c,s,a,d,g="",C=0,P){return{element:c,triggerName:s,fromState:a,toState:d,phaseName:g,totalTime:C,disabled:!!P}}function ji(c,s,a){let d=c.get(s);return d||c.set(s,d=a),d}function yr(c){const s=c.indexOf(":");return[c.substring(1,s),c.slice(s+1)]}let Ks=(c,s)=>!1,vr=(c,s,a)=>[],gs=null;function Ge(c){const s=c.parentNode||c.host;return s===gs?null:s}(qn()||typeof Element<"u")&&(gn()?(gs=(()=>document.documentElement)(),Ks=(c,s)=>{for(;s;){if(s===c)return!0;s=Ge(s)}return!1}):Ks=(c,s)=>c.contains(s),vr=(c,s,a)=>{if(a)return Array.from(c.querySelectorAll(s));const d=c.querySelector(s);return d?[d]:[]});let Y=null,ue=!1;const si=Ks,$i=vr;let ti=(()=>{class c{validateStyleProperty(a){return function Le(c){Y||(Y=function Yn(){return typeof document<"u"?document.body:null}()||{},ue=!!Y.style&&"WebkitAppearance"in Y.style);let s=!0;return Y.style&&!function A(c){return"ebkit"==c.substring(1,6)}(c)&&(s=c in Y.style,!s&&ue&&(s="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Y.style)),s}(a)}matchesElement(a,d){return!1}containsElement(a,d){return si(a,d)}getParentElement(a){return Ge(a)}query(a,d,g){return $i(a,d,g)}computeStyle(a,d,g){return g||""}animate(a,d,g,C,P,W=[],oe){return new et.ZN(g,C)}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})(),qr=(()=>{class c{}return c.NOOP=new ti,c})();const xs=1e3,Dr="ng-enter",Ps="ng-leave",Is="ng-trigger",Wr=".ng-trigger",Ys="ng-animating",nr=".ng-animating";function Bi(c){if("number"==typeof c)return c;const s=c.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:Qr(parseFloat(s[1]),s[2])}function Qr(c,s){return"s"===s?c*xs:c}function _s(c,s,a){return c.hasOwnProperty("duration")?c:function It(c,s,a){let g,C=0,P="";if("string"==typeof c){const W=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===W)return s.push(bt()),{duration:0,delay:0,easing:""};g=Qr(parseFloat(W[1]),W[2]);const oe=W[3];null!=oe&&(C=Qr(parseFloat(oe),W[4]));const be=W[5];be&&(P=be)}else g=c;if(!a){let W=!1,oe=s.length;g<0&&(s.push(function un(){return new _.vHH(3100,!1)}()),W=!0),C<0&&(s.push(function Ot(){return new _.vHH(3101,!1)}()),W=!0),W&&s.splice(oe,0,bt())}return{duration:g,delay:C,easing:P}}(c,s,a)}function wt(c,s={}){return Object.keys(c).forEach(a=>{s[a]=c[a]}),s}function Bt(c){const s=new Map;return Object.keys(c).forEach(a=>{s.set(a,c[a])}),s}function li(c,s=new Map,a){if(a)for(let[d,g]of a)s.set(d,g);for(let[d,g]of c)s.set(d,g);return s}function pi(c,s,a){return a?s+":"+a+";":""}function gi(c){let s="";for(let a=0;a<c.style.length;a++){const d=c.style.item(a);s+=pi(0,d,c.style.getPropertyValue(d))}for(const a in c.style)c.style.hasOwnProperty(a)&&!a.startsWith("_")&&(s+=pi(0,$o(a),c.style[a]));c.setAttribute("style",s)}function bi(c,s,a){c.style&&(s.forEach((d,g)=>{const C=vo(g);a&&!a.has(g)&&a.set(g,c.style[C]),c.style[C]=d}),qn()&&gi(c))}function Pr(c,s){c.style&&(s.forEach((a,d)=>{const g=vo(d);c.style[g]=""}),qn()&&gi(c))}function ss(c){return Array.isArray(c)?1==c.length?c[0]:(0,et.vP)(c):c}const qi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ts(c){let s=[];if("string"==typeof c){let a;for(;a=qi.exec(c);)s.push(a[1]);qi.lastIndex=0}return s}function Zs(c,s,a){const d=c.toString(),g=d.replace(qi,(C,P)=>{let W=s[P];return null==W&&(a.push(function yt(c){return new _.vHH(3003,!1)}()),W=""),W.toString()});return g==d?c:g}function Rr(c){const s=[];let a=c.next();for(;!a.done;)s.push(a.value),a=c.next();return s}const Pa=/-+([a-z0-9])/g;function vo(c){return c.replace(Pa,(...s)=>s[1].toUpperCase())}function $o(c){return c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function is(c,s,a){switch(s.type){case 7:return c.visitTrigger(s,a);case 0:return c.visitState(s,a);case 1:return c.visitTransition(s,a);case 2:return c.visitSequence(s,a);case 3:return c.visitGroup(s,a);case 4:return c.visitAnimate(s,a);case 5:return c.visitKeyframes(s,a);case 6:return c.visitStyle(s,a);case 8:return c.visitReference(s,a);case 9:return c.visitAnimateChild(s,a);case 10:return c.visitAnimateRef(s,a);case 11:return c.visitQuery(s,a);case 12:return c.visitStagger(s,a);default:throw function Vt(c){return new _.vHH(3004,!1)}()}}function lo(c,s){return window.getComputedStyle(c)[s]}const Qs="*";function Ss(c,s){const a=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(d=>function ys(c,s,a){if(":"==c[0]){const oe=function co(c,s){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,d)=>parseFloat(d)>parseFloat(a);case":decrement":return(a,d)=>parseFloat(d)<parseFloat(a);default:return s.push(function Qe(c){return new _.vHH(3016,!1)}()),"* => *"}}(c,a);if("function"==typeof oe)return void s.push(oe);c=oe}const d=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return a.push(function rt(c){return new _.vHH(3015,!1)}()),s;const g=d[1],C=d[2],P=d[3];s.push(ko(g,P));"<"==C[0]&&!(g==Qs&&P==Qs)&&s.push(ko(P,g))}(d,a,s)):a.push(c),a}const uo=new Set(["true","1"]),Eo=new Set(["false","0"]);function ko(c,s){const a=uo.has(c)||Eo.has(c),d=uo.has(s)||Eo.has(s);return(g,C)=>{let P=c==Qs||c==g,W=s==Qs||s==C;return!P&&a&&"boolean"==typeof g&&(P=g?uo.has(c):Eo.has(c)),!W&&d&&"boolean"==typeof C&&(W=C?uo.has(s):Eo.has(s)),P&&W}}const Oo=new RegExp("s*:selfs*,?","g");function no(c,s,a,d){return new ba(c).build(s,a,d)}class ba{constructor(s){this._driver=s}build(s,a,d){const g=new pr(a);return this._resetContextStyleTimingState(g),is(this,ss(s),g)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles=new Map,s.collectedStyles.set("",new Map),s.currentTime=0}visitTrigger(s,a){let d=a.queryCount=0,g=a.depCount=0;const C=[],P=[];return"@"==s.name.charAt(0)&&a.errors.push(function Sn(){return new _.vHH(3006,!1)}()),s.definitions.forEach(W=>{if(this._resetContextStyleTimingState(a),0==W.type){const oe=W,be=oe.name;be.toString().split(/\s*,\s*/).forEach(vt=>{oe.name=vt,C.push(this.visitState(oe,a))}),oe.name=be}else if(1==W.type){const oe=this.visitTransition(W,a);d+=oe.queryCount,g+=oe.depCount,P.push(oe)}else a.errors.push(function Oi(){return new _.vHH(3007,!1)}())}),{type:7,name:s.name,states:C,transitions:P,queryCount:d,depCount:g,options:null}}visitState(s,a){const d=this.visitStyle(s.styles,a),g=s.options&&s.options.params||null;if(d.containsDynamicStyles){const C=new Set,P=g||{};d.styles.forEach(W=>{W instanceof Map&&W.forEach(oe=>{Ts(oe).forEach(be=>{P.hasOwnProperty(be)||C.add(be)})})}),C.size&&(Rr(C.values()),a.errors.push(function Un(c,s){return new _.vHH(3008,!1)}()))}return{type:0,name:s.name,style:d,options:g?{params:g}:null}}visitTransition(s,a){a.queryCount=0,a.depCount=0;const d=is(this,ss(s.animation),a);return{type:1,matchers:Ss(s.expr,a.errors),animation:d,queryCount:a.queryCount,depCount:a.depCount,options:lr(s.options)}}visitSequence(s,a){return{type:2,steps:s.steps.map(d=>is(this,d,a)),options:lr(s.options)}}visitGroup(s,a){const d=a.currentTime;let g=0;const C=s.steps.map(P=>{a.currentTime=d;const W=is(this,P,a);return g=Math.max(g,a.currentTime),W});return a.currentTime=g,{type:3,steps:C,options:lr(s.options)}}visitAnimate(s,a){const d=function rs(c,s){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return Jr(_s(c,s).duration,0,"");const a=c;if(a.split(/\s+/).some(C=>"{"==C.charAt(0)&&"{"==C.charAt(1))){const C=Jr(0,0,"");return C.dynamic=!0,C.strValue=a,C}const g=_s(a,s);return Jr(g.duration,g.delay,g.easing)}(s.timings,a.errors);a.currentAnimateTimings=d;let g,C=s.styles?s.styles:(0,et.oB)({});if(5==C.type)g=this.visitKeyframes(C,a);else{let P=s.styles,W=!1;if(!P){W=!0;const be={};d.easing&&(be.easing=d.easing),P=(0,et.oB)(be)}a.currentTime+=d.duration+d.delay;const oe=this.visitStyle(P,a);oe.isEmptyStep=W,g=oe}return a.currentAnimateTimings=null,{type:4,timings:d,style:g,options:null}}visitStyle(s,a){const d=this._makeStyleAst(s,a);return this._validateStyleAst(d,a),d}_makeStyleAst(s,a){const d=[],g=Array.isArray(s.styles)?s.styles:[s.styles];for(let W of g)"string"==typeof W?W===et.l3?d.push(W):a.errors.push(new _.vHH(3002,!1)):d.push(Bt(W));let C=!1,P=null;return d.forEach(W=>{if(W instanceof Map&&(W.has("easing")&&(P=W.get("easing"),W.delete("easing")),!C))for(let oe of W.values())if(oe.toString().indexOf("{{")>=0){C=!0;break}}),{type:6,styles:d,easing:P,offset:s.offset,containsDynamicStyles:C,options:null}}_validateStyleAst(s,a){const d=a.currentAnimateTimings;let g=a.currentTime,C=a.currentTime;d&&C>0&&(C-=d.duration+d.delay),s.styles.forEach(P=>{"string"!=typeof P&&P.forEach((W,oe)=>{const be=a.collectedStyles.get(a.currentQuerySelector),vt=be.get(oe);let At=!0;vt&&(C!=g&&C>=vt.startTime&&g<=vt.endTime&&(a.errors.push(function Ye(c,s,a,d,g){return new _.vHH(3010,!1)}()),At=!1),C=vt.startTime),At&&be.set(oe,{startTime:C,endTime:g}),a.options&&function Zi(c,s,a){const d=s.params||{},g=Ts(c);g.length&&g.forEach(C=>{d.hasOwnProperty(C)||a.push(function Jt(c){return new _.vHH(3001,!1)}())})}(W,a.options,a.errors)})})}visitKeyframes(s,a){const d={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Z(){return new _.vHH(3011,!1)}()),d;let C=0;const P=[];let W=!1,oe=!1,be=0;const vt=s.steps.map(Er=>{const tr=this._makeStyleAst(Er,a);let zs=null!=tr.offset?tr.offset:function ho(c){if("string"==typeof c)return null;let s=null;if(Array.isArray(c))c.forEach(a=>{if(a instanceof Map&&a.has("offset")){const d=a;s=parseFloat(d.get("offset")),d.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const a=c;s=parseFloat(a.get("offset")),a.delete("offset")}return s}(tr.styles),Ao=0;return null!=zs&&(C++,Ao=tr.offset=zs),oe=oe||Ao<0||Ao>1,W=W||Ao<be,be=Ao,P.push(Ao),tr});oe&&a.errors.push(function X(){return new _.vHH(3012,!1)}()),W&&a.errors.push(function je(){return new _.vHH(3200,!1)}());const At=s.steps.length;let Zt=0;C>0&&C<At?a.errors.push(function Ft(){return new _.vHH(3202,!1)}()):0==C&&(Zt=1/(At-1));const En=At-1,Dn=a.currentTime,ri=a.currentAnimateTimings,Ki=ri.duration;return vt.forEach((Er,tr)=>{const zs=Zt>0?tr==En?1:Zt*tr:P[tr],Ao=zs*Ki;a.currentTime=Dn+ri.delay+Ao,ri.duration=Ao,this._validateStyleAst(Er,a),Er.offset=zs,d.styles.push(Er)}),d}visitReference(s,a){return{type:8,animation:is(this,ss(s.animation),a),options:lr(s.options)}}visitAnimateChild(s,a){return a.depCount++,{type:9,options:lr(s.options)}}visitAnimateRef(s,a){return{type:10,animation:this.visitReference(s.animation,a),options:lr(s.options)}}visitQuery(s,a){const d=a.currentQuerySelector,g=s.options||{};a.queryCount++,a.currentQuery=s;const[C,P]=function Xr(c){const s=!!c.split(/\s*,\s*/).find(a=>":self"==a);return s&&(c=c.replace(Oo,"")),c=c.replace(/@\*/g,Wr).replace(/@\w+/g,a=>Wr+"-"+a.slice(1)).replace(/:animating/g,nr),[c,s]}(s.selector);a.currentQuerySelector=d.length?d+" "+C:C,ji(a.collectedStyles,a.currentQuerySelector,new Map);const W=is(this,ss(s.animation),a);return a.currentQuery=null,a.currentQuerySelector=d,{type:11,selector:C,limit:g.limit||0,optional:!!g.optional,includeSelf:P,animation:W,originalSelector:s.selector,options:lr(s.options)}}visitStagger(s,a){a.currentQuery||a.errors.push(function Tn(){return new _.vHH(3013,!1)}());const d="full"===s.timings?{duration:0,delay:0,easing:"full"}:_s(s.timings,a.errors,!0);return{type:12,animation:is(this,ss(s.animation),a),timings:d,options:null}}}class pr{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lr(c){return c?(c=wt(c)).params&&(c.params=function Fs(c){return c?wt(c):null}(c.params)):c={},c}function Jr(c,s,a){return{duration:c,delay:s,easing:a}}function Co(c,s,a,d,g,C,P=null,W=!1){return{type:1,element:c,keyframes:s,preStyleProps:a,postStyleProps:d,duration:g,delay:C,totalTime:g+C,easing:P,subTimeline:W}}class Ni{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,a){let d=this._map.get(s);d||this._map.set(s,d=[]),d.push(...a)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const es=new RegExp(":enter","g"),io=new RegExp(":leave","g");function os(c,s,a,d,g,C=new Map,P=new Map,W,oe,be=[]){return(new Na).buildKeyframes(c,s,a,d,g,C,P,W,oe,be)}class Na{buildKeyframes(s,a,d,g,C,P,W,oe,be,vt=[]){be=be||new Ni;const At=new Ls(s,a,be,g,C,vt,[]);At.options=oe;const Zt=oe.delay?Bi(oe.delay):0;At.currentTimeline.delayNextStep(Zt),At.currentTimeline.setStyles([P],null,At.errors,oe),is(this,d,At);const En=At.timelines.filter(Dn=>Dn.containsAnimation());if(En.length&&W.size){let Dn;for(let ri=En.length-1;ri>=0;ri--){const Ki=En[ri];if(Ki.element===a){Dn=Ki;break}}Dn&&!Dn.allowOnlyTimelineStyles()&&Dn.setStyles([W],null,At.errors,oe)}return En.length?En.map(Dn=>Dn.buildKeyframes()):[Co(a,[],[],[],0,Zt,"",!1)]}visitTrigger(s,a){}visitState(s,a){}visitTransition(s,a){}visitAnimateChild(s,a){const d=a.subInstructions.get(a.element);if(d){const g=a.createSubContext(s.options),C=a.currentTimeline.currentTime,P=this._visitSubInstructions(d,g,g.options);C!=P&&a.transformIntoNewTimeline(P)}a.previousNode=s}visitAnimateRef(s,a){const d=a.createSubContext(s.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([s.options,s.animation.options],a,d),this.visitReference(s.animation,d),a.transformIntoNewTimeline(d.currentTimeline.currentTime),a.previousNode=s}_applyAnimationRefDelays(s,a,d){for(const g of s){const C=g?.delay;if(C){const P="number"==typeof C?C:Bi(Zs(C,g?.params??{},a.errors));d.delayNextStep(P)}}}_visitSubInstructions(s,a,d){let C=a.currentTimeline.currentTime;const P=null!=d.duration?Bi(d.duration):null,W=null!=d.delay?Bi(d.delay):null;return 0!==P&&s.forEach(oe=>{const be=a.appendInstructionToTimeline(oe,P,W);C=Math.max(C,be.duration+be.delay)}),C}visitReference(s,a){a.updateOptions(s.options,!0),is(this,s.animation,a),a.previousNode=s}visitSequence(s,a){const d=a.subContextCount;let g=a;const C=s.options;if(C&&(C.params||C.delay)&&(g=a.createSubContext(C),g.transformIntoNewTimeline(),null!=C.delay)){6==g.previousNode.type&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=vs);const P=Bi(C.delay);g.delayNextStep(P)}s.steps.length&&(s.steps.forEach(P=>is(this,P,g)),g.currentTimeline.applyStylesToKeyframe(),g.subContextCount>d&&g.transformIntoNewTimeline()),a.previousNode=s}visitGroup(s,a){const d=[];let g=a.currentTimeline.currentTime;const C=s.options&&s.options.delay?Bi(s.options.delay):0;s.steps.forEach(P=>{const W=a.createSubContext(s.options);C&&W.delayNextStep(C),is(this,P,W),g=Math.max(g,W.currentTimeline.currentTime),d.push(W.currentTimeline)}),d.forEach(P=>a.currentTimeline.mergeTimelineCollectedStyles(P)),a.transformIntoNewTimeline(g),a.previousNode=s}_visitTiming(s,a){if(s.dynamic){const d=s.strValue;return _s(a.params?Zs(d,a.params,a.errors):d,a.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,a){const d=a.currentAnimateTimings=this._visitTiming(s.timings,a),g=a.currentTimeline;d.delay&&(a.incrementTime(d.delay),g.snapshotCurrentStyles());const C=s.style;5==C.type?this.visitKeyframes(C,a):(a.incrementTime(d.duration),this.visitStyle(C,a),g.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=s}visitStyle(s,a){const d=a.currentTimeline,g=a.currentAnimateTimings;!g&&d.hasCurrentStyleProperties()&&d.forwardFrame();const C=g&&g.easing||s.easing;s.isEmptyStep?d.applyEmptyStep(C):d.setStyles(s.styles,C,a.errors,a.options),a.previousNode=s}visitKeyframes(s,a){const d=a.currentAnimateTimings,g=a.currentTimeline.duration,C=d.duration,W=a.createSubContext().currentTimeline;W.easing=d.easing,s.styles.forEach(oe=>{W.forwardTime((oe.offset||0)*C),W.setStyles(oe.styles,oe.easing,a.errors,a.options),W.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(W),a.transformIntoNewTimeline(g+C),a.previousNode=s}visitQuery(s,a){const d=a.currentTimeline.currentTime,g=s.options||{},C=g.delay?Bi(g.delay):0;C&&(6===a.previousNode.type||0==d&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=vs);let P=d;const W=a.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!g.optional,a.errors);a.currentQueryTotal=W.length;let oe=null;W.forEach((be,vt)=>{a.currentQueryIndex=vt;const At=a.createSubContext(s.options,be);C&&At.delayNextStep(C),be===a.element&&(oe=At.currentTimeline),is(this,s.animation,At),At.currentTimeline.applyStylesToKeyframe(),P=Math.max(P,At.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(P),oe&&(a.currentTimeline.mergeTimelineCollectedStyles(oe),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=s}visitStagger(s,a){const d=a.parentContext,g=a.currentTimeline,C=s.timings,P=Math.abs(C.duration),W=P*(a.currentQueryTotal-1);let oe=P*a.currentQueryIndex;switch(C.duration<0?"reverse":C.easing){case"reverse":oe=W-oe;break;case"full":oe=d.currentStaggerTime}const vt=a.currentTimeline;oe&&vt.delayNextStep(oe);const At=vt.currentTime;is(this,s.animation,a),a.previousNode=s,d.currentStaggerTime=g.currentTime-At+(g.startTime-d.currentTimeline.startTime)}}const vs={};class Ls{constructor(s,a,d,g,C,P,W,oe){this._driver=s,this.element=a,this.subInstructions=d,this._enterClassName=g,this._leaveClassName=C,this.errors=P,this.timelines=W,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=oe||new Br(this._driver,a,0),W.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,a){if(!s)return;const d=s;let g=this.options;null!=d.duration&&(g.duration=Bi(d.duration)),null!=d.delay&&(g.delay=Bi(d.delay));const C=d.params;if(C){let P=g.params;P||(P=this.options.params={}),Object.keys(C).forEach(W=>{(!a||!P.hasOwnProperty(W))&&(P[W]=Zs(C[W],P,this.errors))})}}_copyOptions(){const s={};if(this.options){const a=this.options.params;if(a){const d=s.params={};Object.keys(a).forEach(g=>{d[g]=a[g]})}}return s}createSubContext(s=null,a,d){const g=a||this.element,C=new Ls(this._driver,g,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(g,d||0));return C.previousNode=this.previousNode,C.currentAnimateTimings=this.currentAnimateTimings,C.options=this._copyOptions(),C.updateOptions(s),C.currentQueryIndex=this.currentQueryIndex,C.currentQueryTotal=this.currentQueryTotal,C.parentContext=this,this.subContextCount++,C}transformIntoNewTimeline(s){return this.previousNode=vs,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,a,d){const g={duration:a??s.duration,delay:this.currentTimeline.currentTime+(d??0)+s.delay,easing:""},C=new Ti(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,g,s.stretchStartingKeyframe);return this.timelines.push(C),g}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,a,d,g,C,P){let W=[];if(g&&W.push(this.element),s.length>0){s=(s=s.replace(es,"."+this._enterClassName)).replace(io,"."+this._leaveClassName);let be=this._driver.query(this.element,s,1!=d);0!==d&&(be=d<0?be.slice(be.length+d,be.length):be.slice(0,d)),W.push(...be)}return!C&&0==W.length&&P.push(function ui(c){return new _.vHH(3014,!1)}()),W}}class Br{constructor(s,a,d,g){this._driver=s,this.element=a,this.startTime=d,this._elementTimelineStylesLookup=g,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+s),a&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,a){return this.applyStylesToKeyframe(),new Br(this._driver,s,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,a){this._localTimelineStyles.set(s,a),this._globalTimelineStyles.set(s,a),this._styleSummary.set(s,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&this._previousKeyframe.set("easing",s);for(let[a,d]of this._globalTimelineStyles)this._backFill.set(a,d||et.l3),this._currentKeyframe.set(a,et.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,a,d,g){a&&this._previousKeyframe.set("easing",a);const C=g&&g.params||{},P=function D(c,s){const a=new Map;let d;return c.forEach(g=>{if("*"===g){d=d||s.keys();for(let C of d)a.set(C,et.l3)}else li(g,a)}),a}(s,this._globalTimelineStyles);for(let[W,oe]of P){const be=Zs(oe,C,d);this._pendingStyles.set(W,be),this._localTimelineStyles.has(W)||this._backFill.set(W,this._globalTimelineStyles.get(W)??et.l3),this._updateStyle(W,be)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((s,a)=>{this._currentKeyframe.set(a,s)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((s,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,s)}))}snapshotCurrentStyles(){for(let[s,a]of this._localTimelineStyles)this._pendingStyles.set(s,a),this._updateStyle(s,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let a in this._currentKeyframe)s.push(a);return s}mergeTimelineCollectedStyles(s){s._styleSummary.forEach((a,d)=>{const g=this._styleSummary.get(d);(!g||a.time>g.time)&&this._updateStyle(d,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,a=new Set,d=1===this._keyframes.size&&0===this.duration;let g=[];this._keyframes.forEach((W,oe)=>{const be=li(W,new Map,this._backFill);be.forEach((vt,At)=>{vt===et.k1?s.add(At):vt===et.l3&&a.add(At)}),d||be.set("offset",oe/this.duration),g.push(be)});const C=s.size?Rr(s.values()):[],P=a.size?Rr(a.values()):[];if(d){const W=g[0],oe=new Map(W);W.set("offset",0),oe.set("offset",1),g=[W,oe]}return Co(this.element,g,C,P,this.duration,this.startTime,this.easing,!1)}}class Ti extends Br{constructor(s,a,d,g,C,P,W=!1){super(s,a,P.delay),this.keyframes=d,this.preStyleProps=g,this.postStyleProps=C,this._stretchStartingKeyframe=W,this.timings={duration:P.duration,delay:P.delay,easing:P.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:a,duration:d,easing:g}=this.timings;if(this._stretchStartingKeyframe&&a){const C=[],P=d+a,W=a/P,oe=li(s[0]);oe.set("offset",0),C.push(oe);const be=li(s[0]);be.set("offset",ia(W)),C.push(be);const vt=s.length-1;for(let At=1;At<=vt;At++){let Zt=li(s[At]);const En=Zt.get("offset");Zt.set("offset",ia((a+En*d)/P)),C.push(Zt)}d=P,a=0,g="",s=C}return Co(this.element,s,this.preStyleProps,this.postStyleProps,d,a,g,!0)}}function ia(c,s=3){const a=Math.pow(10,s-1);return Math.round(c*a)/a}class I{}const Te=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ct extends I{normalizePropertyName(s,a){return vo(s)}normalizeStyleValue(s,a,d,g){let C="";const P=d.toString().trim();if(Te.has(a)&&0!==d&&"0"!==d)if("number"==typeof d)C="px";else{const W=d.match(/^[+-]?[\d\.]+([a-z]*)$/);W&&0==W[1].length&&g.push(function kn(c,s){return new _.vHH(3005,!1)}())}return P+C}}function sn(c,s,a,d,g,C,P,W,oe,be,vt,At,Zt){return{type:0,element:c,triggerName:s,isRemovalTransition:g,fromState:a,fromStyles:C,toState:d,toStyles:P,timelines:W,queriedElements:oe,preStyleProps:be,postStyleProps:vt,totalTime:At,errors:Zt}}const Et={};class cn{constructor(s,a,d){this._triggerName=s,this.ast=a,this._stateStyles=d}match(s,a,d,g){return function Fi(c,s,a,d,g){return c.some(C=>C(s,a,d,g))}(this.ast.matchers,s,a,d,g)}buildStyles(s,a,d){let g=this._stateStyles.get("*");return void 0!==s&&(g=this._stateStyles.get(s?.toString())||g),g?g.buildStyles(a,d):new Map}build(s,a,d,g,C,P,W,oe,be,vt){const At=[],Zt=this.ast.options&&this.ast.options.params||Et,Dn=this.buildStyles(d,W&&W.params||Et,At),ri=oe&&oe.params||Et,Ki=this.buildStyles(g,ri,At),Er=new Set,tr=new Map,zs=new Map,Ao="void"===g,nd={params:Li(ri,Zt),delay:this.ast.options?.delay},Jl=vt?[]:os(s,a,this.ast.animation,C,P,Dn,Ki,nd,be,At);let Oa=0;if(Jl.forEach(Al=>{Oa=Math.max(Al.duration+Al.delay,Oa)}),At.length)return sn(a,this._triggerName,d,g,Ao,Dn,Ki,[],[],tr,zs,Oa,At);Jl.forEach(Al=>{const Yi=Al.element,Fm=ji(tr,Yi,new Set);Al.preStyleProps.forEach(ec=>Fm.add(ec));const Nh=ji(zs,Yi,new Set);Al.postStyleProps.forEach(ec=>Nh.add(ec)),Yi!==a&&Er.add(Yi)});const _c=Rr(Er.values());return sn(a,this._triggerName,d,g,Ao,Dn,Ki,Jl,_c,tr,zs,Oa)}}function Li(c,s){const a=wt(s);for(const d in c)c.hasOwnProperty(d)&&null!=c[d]&&(a[d]=c[d]);return a}class Ir{constructor(s,a,d){this.styles=s,this.defaultParams=a,this.normalizer=d}buildStyles(s,a){const d=new Map,g=wt(this.defaultParams);return Object.keys(s).forEach(C=>{const P=s[C];null!==P&&(g[C]=P)}),this.styles.styles.forEach(C=>{"string"!=typeof C&&C.forEach((P,W)=>{P&&(P=Zs(P,g,a));const oe=this.normalizer.normalizePropertyName(W,a);P=this.normalizer.normalizeStyleValue(W,oe,P,a),d.set(W,P)})}),d}}class or{constructor(s,a,d){this.name=s,this.ast=a,this._normalizer=d,this.transitionFactories=[],this.states=new Map,a.states.forEach(g=>{this.states.set(g.name,new Ir(g.style,g.options&&g.options.params||{},d))}),Tr(this.states,"true","1"),Tr(this.states,"false","0"),a.transitions.forEach(g=>{this.transitionFactories.push(new cn(s,g,this.states))}),this.fallbackTransition=function bs(c,s,a){return new cn(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(P,W)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,a,d,g){return this.transitionFactories.find(P=>P.match(s,a,d,g))||null}matchStyles(s,a,d){return this.fallbackTransition.buildStyles(s,a,d)}}function Tr(c,s,a){c.has(s)?c.has(a)||c.set(a,c.get(s)):c.has(a)&&c.set(s,c.get(a))}const fo=new Ni;class as{constructor(s,a,d){this.bodyNode=s,this._driver=a,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(s,a){const d=[],g=[],C=no(this._driver,a,d,g);if(d.length)throw function $e(c){return new _.vHH(3503,!1)}();this._animations.set(s,C)}_buildPlayer(s,a,d){const g=s.element,C=vi(0,this._normalizer,0,s.keyframes,a,d);return this._driver.animate(g,C,s.duration,s.delay,s.easing,[],!0)}create(s,a,d={}){const g=[],C=this._animations.get(s);let P;const W=new Map;if(C?(P=os(this._driver,a,C,Dr,Ps,new Map,new Map,d,fo,g),P.forEach(vt=>{const At=ji(W,vt.element,new Map);vt.postStyleProps.forEach(Zt=>At.set(Zt,null))})):(g.push(function le(){return new _.vHH(3300,!1)}()),P=[]),g.length)throw function q(c){return new _.vHH(3504,!1)}();W.forEach((vt,At)=>{vt.forEach((Zt,En)=>{vt.set(En,this._driver.computeStyle(At,En,et.l3))})});const be=ei(P.map(vt=>{const At=W.get(vt.element);return this._buildPlayer(vt,new Map,At)}));return this._playersById.set(s,be),be.onDestroy(()=>this.destroy(s)),this.players.push(be),be}destroy(s){const a=this._getPlayer(s);a.destroy(),this._playersById.delete(s);const d=this.players.indexOf(a);d>=0&&this.players.splice(d,1)}_getPlayer(s){const a=this._playersById.get(s);if(!a)throw function te(c){return new _.vHH(3301,!1)}();return a}listen(s,a,d,g){const C=Ii(a,"","","");return Hn(this._getPlayer(s),d,C,g),()=>{}}command(s,a,d,g){if("register"==d)return void this.register(s,g[0]);if("create"==d)return void this.create(s,a,g[0]||{});const C=this._getPlayer(s);switch(d){case"play":C.play();break;case"pause":C.pause();break;case"reset":C.reset();break;case"restart":C.restart();break;case"finish":C.finish();break;case"init":C.init();break;case"setPosition":C.setPosition(parseFloat(g[0]));break;case"destroy":this.destroy(s)}}}const br="ng-animate-queued",Nr="ng-animate-disabled",Es=[],ra={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ds="__ng_removed";class Ur{get params(){return this.options.params}constructor(s,a=""){this.namespaceId=a;const d=s&&s.hasOwnProperty("value");if(this.value=function Ml(c){return c??null}(d?s.value:s),d){const C=wt(s);delete C.value,this.options=C}else this.options={};this.options.params||(this.options.params={})}absorbOptions(s){const a=s.params;if(a){const d=this.options.params;Object.keys(a).forEach(g=>{null==d[g]&&(d[g]=a[g])})}}}const hs="void",xo=new Ur(hs);class dr{constructor(s,a,d){this.id=s,this.hostElement=a,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,Hr(a,this._hostClassName)}listen(s,a,d,g){if(!this._triggers.has(a))throw function Pe(c,s){return new _.vHH(3302,!1)}();if(null==d||0==d.length)throw function st(c){return new _.vHH(3303,!1)}();if(!function wa(c){return"start"==c||"done"==c}(d))throw function $t(c,s){return new _.vHH(3400,!1)}();const C=ji(this._elementListeners,s,[]),P={name:a,phase:d,callback:g};C.push(P);const W=ji(this._engine.statesByElement,s,new Map);return W.has(a)||(Hr(s,Is),Hr(s,Is+"-"+a),W.set(a,xo)),()=>{this._engine.afterFlush(()=>{const oe=C.indexOf(P);oe>=0&&C.splice(oe,1),this._triggers.has(a)||W.delete(a)})}}register(s,a){return!this._triggers.has(s)&&(this._triggers.set(s,a),!0)}_getTrigger(s){const a=this._triggers.get(s);if(!a)throw function ln(c){return new _.vHH(3401,!1)}();return a}trigger(s,a,d,g=!0){const C=this._getTrigger(a),P=new Ko(this.id,a,s);let W=this._engine.statesByElement.get(s);W||(Hr(s,Is),Hr(s,Is+"-"+a),this._engine.statesByElement.set(s,W=new Map));let oe=W.get(a);const be=new Ur(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&oe&&be.absorbOptions(oe.options),W.set(a,be),oe||(oe=xo),be.value!==hs&&oe.value===be.value){if(!function sa(c,s){const a=Object.keys(c),d=Object.keys(s);if(a.length!=d.length)return!1;for(let g=0;g<a.length;g++){const C=a[g];if(!s.hasOwnProperty(C)||c[C]!==s[C])return!1}return!0}(oe.params,be.params)){const ri=[],Ki=C.matchStyles(oe.value,oe.params,ri),Er=C.matchStyles(be.value,be.params,ri);ri.length?this._engine.reportError(ri):this._engine.afterFlush(()=>{Pr(s,Ki),bi(s,Er)})}return}const Zt=ji(this._engine.playersByElement,s,[]);Zt.forEach(ri=>{ri.namespaceId==this.id&&ri.triggerName==a&&ri.queued&&ri.destroy()});let En=C.matchTransition(oe.value,be.value,s,be.params),Dn=!1;if(!En){if(!g)return;En=C.fallbackTransition,Dn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:a,transition:En,fromState:oe,toState:be,player:P,isFallbackTransition:Dn}),Dn||(Hr(s,br),P.onStart(()=>{ir(s,br)})),P.onDone(()=>{let ri=this.players.indexOf(P);ri>=0&&this.players.splice(ri,1);const Ki=this._engine.playersByElement.get(s);if(Ki){let Er=Ki.indexOf(P);Er>=0&&Ki.splice(Er,1)}}),this.players.push(P),Zt.push(P),P}deregister(s){this._triggers.delete(s),this._engine.statesByElement.forEach(a=>a.delete(s)),this._elementListeners.forEach((a,d)=>{this._elementListeners.set(d,a.filter(g=>g.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const a=this._engine.playersByElement.get(s);a&&(a.forEach(d=>d.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,a){const d=this._engine.driver.query(s,Wr,!0);d.forEach(g=>{if(g[ds])return;const C=this._engine.fetchNamespacesByElement(g);C.size?C.forEach(P=>P.triggerLeaveAnimation(g,a,!1,!0)):this.clearElementCache(g)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(g=>this.clearElementCache(g)))}triggerLeaveAnimation(s,a,d,g){const C=this._engine.statesByElement.get(s),P=new Map;if(C){const W=[];if(C.forEach((oe,be)=>{if(P.set(be,oe.value),this._triggers.has(be)){const vt=this.trigger(s,be,hs,g);vt&&W.push(vt)}}),W.length)return this._engine.markElementAsRemoved(this.id,s,!0,a,P),d&&ei(W).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const a=this._elementListeners.get(s),d=this._engine.statesByElement.get(s);if(a&&d){const g=new Set;a.forEach(C=>{const P=C.name;if(g.has(P))return;g.add(P);const oe=this._triggers.get(P).fallbackTransition,be=d.get(P)||xo,vt=new Ur(hs),At=new Ko(this.id,P,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:P,transition:oe,fromState:be,toState:vt,player:At,isFallbackTransition:!0})})}}removeNode(s,a){const d=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,a),this.triggerLeaveAnimation(s,a,!0))return;let g=!1;if(d.totalAnimations){const C=d.players.length?d.playersByQueriedElement.get(s):[];if(C&&C.length)g=!0;else{let P=s;for(;P=P.parentNode;)if(d.statesByElement.get(P)){g=!0;break}}}if(this.prepareLeaveAnimationListeners(s),g)d.markElementAsRemoved(this.id,s,!1,a);else{const C=s[ds];(!C||C===ra)&&(d.afterFlush(()=>this.clearElementCache(s)),d.destroyInnerAnimations(s),d._onRemovalComplete(s,a))}}insertNode(s,a){Hr(s,this._hostClassName)}drainQueuedTransitions(s){const a=[];return this._queue.forEach(d=>{const g=d.player;if(g.destroyed)return;const C=d.element,P=this._elementListeners.get(C);P&&P.forEach(W=>{if(W.name==d.triggerName){const oe=Ii(C,d.triggerName,d.fromState.value,d.toState.value);oe._data=s,Hn(d.player,W.phase,oe,W.callback)}}),g.markedForDestroy?this._engine.afterFlush(()=>{g.destroy()}):a.push(d)}),this._queue=[],a.sort((d,g)=>{const C=d.transition.ast.depCount,P=g.transition.ast.depCount;return 0==C||0==P?C-P:this._engine.driver.containsElement(d.element,g.element)?1:-1})}destroy(s){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}elementContainsData(s){let a=!1;return this._elementListeners.has(s)&&(a=!0),a=!!this._queue.find(d=>d.element===s)||a,a}}class yl{_onRemovalComplete(s,a){this.onRemovalComplete(s,a)}constructor(s,a,d){this.bodyNode=s,this.driver=a,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(g,C)=>{}}get queuedPlayers(){const s=[];return this._namespaceList.forEach(a=>{a.players.forEach(d=>{d.queued&&s.push(d)})}),s}createNamespace(s,a){const d=new dr(s,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(d,a):(this.newHostElements.set(a,d),this.collectEnterElement(a)),this._namespaceLookup[s]=d}_balanceNamespaceList(s,a){const d=this._namespaceList,g=this.namespacesByHostElement;if(d.length-1>=0){let P=!1,W=this.driver.getParentElement(a);for(;W;){const oe=g.get(W);if(oe){const be=d.indexOf(oe);d.splice(be+1,0,s),P=!0;break}W=this.driver.getParentElement(W)}P||d.unshift(s)}else d.push(s);return g.set(a,s),s}register(s,a){let d=this._namespaceLookup[s];return d||(d=this.createNamespace(s,a)),d}registerTrigger(s,a,d){let g=this._namespaceLookup[s];g&&g.register(a,d)&&this.totalAnimations++}destroy(s,a){if(!s)return;const d=this._fetchNamespace(s);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[s];const g=this._namespaceList.indexOf(d);g>=0&&this._namespaceList.splice(g,1)}),this.afterFlushAnimationsDone(()=>d.destroy(a))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const a=new Set,d=this.statesByElement.get(s);if(d)for(let g of d.values())if(g.namespaceId){const C=this._fetchNamespace(g.namespaceId);C&&a.add(C)}return a}trigger(s,a,d,g){if(Yo(a)){const C=this._fetchNamespace(s);if(C)return C.trigger(a,d,g),!0}return!1}insertNode(s,a,d,g){if(!Yo(a))return;const C=a[ds];if(C&&C.setForRemoval){C.setForRemoval=!1,C.setForMove=!0;const P=this.collectedLeaveElements.indexOf(a);P>=0&&this.collectedLeaveElements.splice(P,1)}if(s){const P=this._fetchNamespace(s);P&&P.insertNode(a,d)}g&&this.collectEnterElement(a)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,a){a?this.disabledNodes.has(s)||(this.disabledNodes.add(s),Hr(s,Nr)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),ir(s,Nr))}removeNode(s,a,d,g){if(Yo(a)){const C=s?this._fetchNamespace(s):null;if(C?C.removeNode(a,g):this.markElementAsRemoved(s,a,!1,g),d){const P=this.namespacesByHostElement.get(a);P&&P.id!==s&&P.removeNode(a,g)}}else this._onRemovalComplete(a,g)}markElementAsRemoved(s,a,d,g,C){this.collectedLeaveElements.push(a),a[ds]={namespaceId:s,setForRemoval:g,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:C}}listen(s,a,d,g,C){return Yo(a)?this._fetchNamespace(s).listen(a,d,g,C):()=>{}}_buildInstruction(s,a,d,g,C){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,d,g,s.fromState.options,s.toState.options,a,C)}destroyInnerAnimations(s){let a=this.driver.query(s,Wr,!0);a.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(s,nr,!0),a.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(s){const a=this.playersByElement.get(s);a&&a.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(s){const a=this.playersByQueriedElement.get(s);a&&a.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return ei(this.players).onDone(()=>s());s()})}processLeaveNode(s){const a=s[ds];if(a&&a.setForRemoval){if(s[ds]=ra,a.namespaceId){this.destroyInnerAnimations(s);const d=this._fetchNamespace(a.namespaceId);d&&d.clearElementCache(s)}this._onRemovalComplete(s,a.setForRemoval)}s.classList?.contains(Nr)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(s=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,g)=>this._balanceNamespaceList(d,g)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)Hr(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{a=this._flushAnimations(d,s)}finally{for(let g=0;g<d.length;g++)d[g]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],a.length?ei(a).onDone(()=>{d.forEach(g=>g())}):d.forEach(g=>g())}}reportError(s){throw function Xn(c){return new _.vHH(3402,!1)}()}_flushAnimations(s,a){const d=new Ni,g=[],C=new Map,P=[],W=new Map,oe=new Map,be=new Map,vt=new Set;this.disabledNodes.forEach(ai=>{vt.add(ai);const Ci=this.driver.query(ai,".ng-animate-queued",!0);for(let Hi=0;Hi<Ci.length;Hi++)vt.add(Ci[Hi])});const At=this.bodyNode,Zt=Array.from(this.statesByElement.keys()),En=po(Zt,this.collectedEnterElements),Dn=new Map;let ri=0;En.forEach((ai,Ci)=>{const Hi=Dr+ri++;Dn.set(Ci,Hi),ai.forEach(ur=>Hr(ur,Hi))});const Ki=[],Er=new Set,tr=new Set;for(let ai=0;ai<this.collectedLeaveElements.length;ai++){const Ci=this.collectedLeaveElements[ai],Hi=Ci[ds];Hi&&Hi.setForRemoval&&(Ki.push(Ci),Er.add(Ci),Hi.hasAnimation?this.driver.query(Ci,".ng-star-inserted",!0).forEach(ur=>Er.add(ur)):tr.add(Ci))}const zs=new Map,Ao=po(Zt,Array.from(Er));Ao.forEach((ai,Ci)=>{const Hi=Ps+ri++;zs.set(Ci,Hi),ai.forEach(ur=>Hr(ur,Hi))}),s.push(()=>{En.forEach((ai,Ci)=>{const Hi=Dn.get(Ci);ai.forEach(ur=>ir(ur,Hi))}),Ao.forEach((ai,Ci)=>{const Hi=zs.get(Ci);ai.forEach(ur=>ir(ur,Hi))}),Ki.forEach(ai=>{this.processLeaveNode(ai)})});const nd=[],Jl=[];for(let ai=this._namespaceList.length-1;ai>=0;ai--)this._namespaceList[ai].drainQueuedTransitions(a).forEach(Hi=>{const ur=Hi.player,jo=Hi.element;if(nd.push(ur),this.collectedEnterElements.length){const _r=jo[ds];if(_r&&_r.setForMove){if(_r.previousTriggersValues&&_r.previousTriggersValues.has(Hi.triggerName)){const Fh=_r.previousTriggersValues.get(Hi.triggerName),yc=this.statesByElement.get(Hi.element);if(yc&&yc.has(Hi.triggerName)){const Ws=yc.get(Hi.triggerName);Ws.value=Fh,yc.set(Hi.triggerName,Ws)}}return void ur.destroy()}}const Hc=!At||!this.driver.containsElement(At,jo),Gs=zs.get(jo),na=Dn.get(jo),Ar=this._buildInstruction(Hi,d,na,Gs,Hc);if(Ar.errors&&Ar.errors.length)return void Jl.push(Ar);if(Hc)return ur.onStart(()=>Pr(jo,Ar.fromStyles)),ur.onDestroy(()=>bi(jo,Ar.toStyles)),void g.push(ur);if(Hi.isFallbackTransition)return ur.onStart(()=>Pr(jo,Ar.fromStyles)),ur.onDestroy(()=>bi(jo,Ar.toStyles)),void g.push(ur);const Vm=[];Ar.timelines.forEach(_r=>{_r.stretchStartingKeyframe=!0,this.disabledNodes.has(_r.element)||Vm.push(_r)}),Ar.timelines=Vm,d.append(jo,Ar.timelines),P.push({instruction:Ar,player:ur,element:jo}),Ar.queriedElements.forEach(_r=>ji(W,_r,[]).push(ur)),Ar.preStyleProps.forEach((_r,Fh)=>{if(_r.size){let yc=oe.get(Fh);yc||oe.set(Fh,yc=new Set),_r.forEach((Ws,Lh)=>yc.add(Lh))}}),Ar.postStyleProps.forEach((_r,Fh)=>{let yc=be.get(Fh);yc||be.set(Fh,yc=new Set),_r.forEach((Ws,Lh)=>yc.add(Lh))})});if(Jl.length){const ai=[];Jl.forEach(Ci=>{ai.push(function Lt(c,s){return new _.vHH(3505,!1)}())}),nd.forEach(Ci=>Ci.destroy()),this.reportError(ai)}const Oa=new Map,_c=new Map;P.forEach(ai=>{const Ci=ai.element;d.has(Ci)&&(_c.set(Ci,Ci),this._beforeAnimationBuild(ai.player.namespaceId,ai.instruction,Oa))}),g.forEach(ai=>{const Ci=ai.element;this._getPreviousPlayers(Ci,!1,ai.namespaceId,ai.triggerName,null).forEach(ur=>{ji(Oa,Ci,[]).push(ur),ur.destroy()})});const Al=Ki.filter(ai=>Ya(ai,oe,be)),Yi=new Map;Rl(Yi,this.driver,tr,be,et.l3).forEach(ai=>{Ya(ai,oe,be)&&Al.push(ai)});const Nh=new Map;En.forEach((ai,Ci)=>{Rl(Nh,this.driver,new Set(ai),oe,et.k1)}),Al.forEach(ai=>{const Ci=Yi.get(ai),Hi=Nh.get(ai);Yi.set(ai,new Map([...Array.from(Ci?.entries()??[]),...Array.from(Hi?.entries()??[])]))});const ec=[],Lm=[],$s={};P.forEach(ai=>{const{element:Ci,player:Hi,instruction:ur}=ai;if(d.has(Ci)){if(vt.has(Ci))return Hi.onDestroy(()=>bi(Ci,ur.toStyles)),Hi.disabled=!0,Hi.overrideTotalTime(ur.totalTime),void g.push(Hi);let jo=$s;if(_c.size>1){let Gs=Ci;const na=[];for(;Gs=Gs.parentNode;){const Ar=_c.get(Gs);if(Ar){jo=Ar;break}na.push(Gs)}na.forEach(Ar=>_c.set(Ar,jo))}const Hc=this._buildAnimation(Hi.namespaceId,ur,Oa,C,Nh,Yi);if(Hi.setRealPlayer(Hc),jo===$s)ec.push(Hi);else{const Gs=this.playersByElement.get(jo);Gs&&Gs.length&&(Hi.parentPlayer=ei(Gs)),g.push(Hi)}}else Pr(Ci,ur.fromStyles),Hi.onDestroy(()=>bi(Ci,ur.toStyles)),Lm.push(Hi),vt.has(Ci)&&g.push(Hi)}),Lm.forEach(ai=>{const Ci=C.get(ai.element);if(Ci&&Ci.length){const Hi=ei(Ci);ai.setRealPlayer(Hi)}}),g.forEach(ai=>{ai.parentPlayer?ai.syncPlayerEvents(ai.parentPlayer):ai.destroy()});for(let ai=0;ai<Ki.length;ai++){const Ci=Ki[ai],Hi=Ci[ds];if(ir(Ci,Ps),Hi&&Hi.hasAnimation)continue;let ur=[];if(W.size){let Hc=W.get(Ci);Hc&&Hc.length&&ur.push(...Hc);let Gs=this.driver.query(Ci,nr,!0);for(let na=0;na<Gs.length;na++){let Ar=W.get(Gs[na]);Ar&&Ar.length&&ur.push(...Ar)}}const jo=ur.filter(Hc=>!Hc.destroyed);jo.length?mo(this,Ci,jo):this.processLeaveNode(Ci)}return Ki.length=0,ec.forEach(ai=>{this.players.push(ai),ai.onDone(()=>{ai.destroy();const Ci=this.players.indexOf(ai);this.players.splice(Ci,1)}),ai.play()}),ec}elementContainsData(s,a){let d=!1;const g=a[ds];return g&&g.setForRemoval&&(d=!0),this.playersByElement.has(a)&&(d=!0),this.playersByQueriedElement.has(a)&&(d=!0),this.statesByElement.has(a)&&(d=!0),this._fetchNamespace(s).elementContainsData(a)||d}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,a,d,g,C){let P=[];if(a){const W=this.playersByQueriedElement.get(s);W&&(P=W)}else{const W=this.playersByElement.get(s);if(W){const oe=!C||C==hs;W.forEach(be=>{be.queued||!oe&&be.triggerName!=g||P.push(be)})}}return(d||g)&&(P=P.filter(W=>!(d&&d!=W.namespaceId||g&&g!=W.triggerName))),P}_beforeAnimationBuild(s,a,d){const C=a.element,P=a.isRemovalTransition?void 0:s,W=a.isRemovalTransition?void 0:a.triggerName;for(const oe of a.timelines){const be=oe.element,vt=be!==C,At=ji(d,be,[]);this._getPreviousPlayers(be,vt,P,W,a.toState).forEach(En=>{const Dn=En.getRealPlayer();Dn.beforeDestroy&&Dn.beforeDestroy(),En.destroy(),At.push(En)})}Pr(C,a.fromStyles)}_buildAnimation(s,a,d,g,C,P){const W=a.triggerName,oe=a.element,be=[],vt=new Set,At=new Set,Zt=a.timelines.map(Dn=>{const ri=Dn.element;vt.add(ri);const Ki=ri[ds];if(Ki&&Ki.removedBeforeQueried)return new et.ZN(Dn.duration,Dn.delay);const Er=ri!==oe,tr=function Sr(c){const s=[];return Ea(c,s),s}((d.get(ri)||Es).map(Oa=>Oa.getRealPlayer())).filter(Oa=>!!Oa.element&&Oa.element===ri),zs=C.get(ri),Ao=P.get(ri),nd=vi(0,this._normalizer,0,Dn.keyframes,zs,Ao),Jl=this._buildPlayer(Dn,nd,tr);if(Dn.subTimeline&&g&&At.add(ri),Er){const Oa=new Ko(s,W,ri);Oa.setRealPlayer(Jl),be.push(Oa)}return Jl});be.forEach(Dn=>{ji(this.playersByQueriedElement,Dn.element,[]).push(Dn),Dn.onDone(()=>function Vs(c,s,a){let d=c.get(s);if(d){if(d.length){const g=d.indexOf(a);d.splice(g,1)}0==d.length&&c.delete(s)}return d}(this.playersByQueriedElement,Dn.element,Dn))}),vt.forEach(Dn=>Hr(Dn,Ys));const En=ei(Zt);return En.onDestroy(()=>{vt.forEach(Dn=>ir(Dn,Ys)),bi(oe,a.toStyles)}),At.forEach(Dn=>{ji(g,Dn,[]).push(En)}),En}_buildPlayer(s,a,d){return a.length>0?this.driver.animate(s.element,a,s.duration,s.delay,s.easing,d):new et.ZN(s.duration,s.delay)}}class Ko{constructor(s,a,d){this.namespaceId=s,this.triggerName=a,this.element=d,this._player=new et.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,this._queuedCallbacks.forEach((a,d)=>{a.forEach(g=>Hn(s,d,void 0,g))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const a=this._player;a.triggerCallback&&s.onStart(()=>a.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,a){ji(this._queuedCallbacks,s,[]).push(a)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const a=this._player;a.triggerCallback&&a.triggerCallback(s)}}function Yo(c){return c&&1===c.nodeType}function Fa(c,s){const a=c.style.display;return c.style.display=s??"none",a}function Rl(c,s,a,d,g){const C=[];a.forEach(oe=>C.push(Fa(oe)));const P=[];d.forEach((oe,be)=>{const vt=new Map;oe.forEach(At=>{const Zt=s.computeStyle(be,At,g);vt.set(At,Zt),(!Zt||0==Zt.length)&&(be[ds]=nc,P.push(be))}),c.set(be,vt)});let W=0;return a.forEach(oe=>Fa(oe,C[W++])),P}function po(c,s){const a=new Map;if(c.forEach(W=>a.set(W,[])),0==s.length)return a;const d=1,g=new Set(s),C=new Map;function P(W){if(!W)return d;let oe=C.get(W);if(oe)return oe;const be=W.parentNode;return oe=a.has(be)?be:g.has(be)?d:P(be),C.set(W,oe),oe}return s.forEach(W=>{const oe=P(W);oe!==d&&a.get(oe).push(W)}),a}function Hr(c,s){c.classList?.add(s)}function ir(c,s){c.classList?.remove(s)}function mo(c,s,a){ei(a).onDone(()=>c.processLeaveNode(s))}function Ea(c,s){for(let a=0;a<c.length;a++){const d=c[a];d instanceof et.ZE?Ea(d.players,s):s.push(d)}}function Ya(c,s,a){const d=a.get(c);if(!d)return!1;let g=s.get(c);return g?d.forEach(C=>g.add(C)):s.set(c,d),a.delete(c),!0}class oa{constructor(s,a,d){this.bodyNode=s,this._driver=a,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(g,C)=>{},this._transitionEngine=new yl(s,a,d),this._timelineEngine=new as(s,a,d),this._transitionEngine.onRemovalComplete=(g,C)=>this.onRemovalComplete(g,C)}registerTrigger(s,a,d,g,C){const P=s+"-"+g;let W=this._triggerCache[P];if(!W){const oe=[],be=[],vt=no(this._driver,C,oe,be);if(oe.length)throw function fe(c,s){return new _.vHH(3404,!1)}();W=function mr(c,s,a){return new or(c,s,a)}(g,vt,this._normalizer),this._triggerCache[P]=W}this._transitionEngine.registerTrigger(a,g,W)}register(s,a){this._transitionEngine.register(s,a)}destroy(s,a){this._transitionEngine.destroy(s,a)}onInsert(s,a,d,g){this._transitionEngine.insertNode(s,a,d,g)}onRemove(s,a,d,g){this._transitionEngine.removeNode(s,a,g||!1,d)}disableAnimations(s,a){this._transitionEngine.markElementAsDisabled(s,a)}process(s,a,d,g){if("@"==d.charAt(0)){const[C,P]=yr(d);this._timelineEngine.command(C,a,P,g)}else this._transitionEngine.trigger(s,a,d,g)}listen(s,a,d,g,C){if("@"==d.charAt(0)){const[P,W]=yr(d);return this._timelineEngine.listen(P,a,W,C)}return this._transitionEngine.listen(s,a,d,g,C)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let jc=(()=>{class c{constructor(a,d,g){this._element=a,this._startStyles=d,this._endStyles=g,this._state=0;let C=c.initialStylesByElement.get(a);C||c.initialStylesByElement.set(a,C=new Map),this._initialStyles=C}start(){this._state<1&&(this._startStyles&&bi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bi(this._element,this._initialStyles),this._endStyles&&(bi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(Pr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pr(this._element,this._endStyles),this._endStyles=null),bi(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function aa(c){let s=null;return c.forEach((a,d)=>{(function wc(c){return"display"===c||"position"===c})(d)&&(s=s||new Map,s.set(d,a))}),s}class kl{constructor(s,a,d,g){this.element=s,this.keyframes=a,this.options=d,this._specialStyles=g,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(s){const a=[];return s.forEach(d=>{a.push(Object.fromEntries(d))}),a}_triggerWebAnimation(s,a,d){return s.animate(this._convertKeyframesToObject(a),d)}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,g)=>{"offset"!==g&&s.set(g,this._finished?d:lo(this.element,g))}),this.currentSnapshot=s}triggerCallback(s){const a="start"===s?this._onStartFns:this._onDoneFns;a.forEach(d=>d()),a.length=0}}class H{validateStyleProperty(s){return!0}validateAnimatableStyleProperty(s){return!0}matchesElement(s,a){return!1}containsElement(s,a){return si(s,a)}getParentElement(s){return Ge(s)}query(s,a,d){return $i(s,a,d)}computeStyle(s,a,d){return window.getComputedStyle(s)[a]}animate(s,a,d,g,C,P=[]){const oe={duration:d,delay:g,fill:0==g?"both":"forwards"};C&&(oe.easing=C);const be=new Map,vt=P.filter(En=>En instanceof kl);(function Go(c,s){return 0===c||0===s})(d,g)&&vt.forEach(En=>{En.currentSnapshot.forEach((Dn,ri)=>be.set(ri,Dn))});let At=function en(c){return c.length?c[0]instanceof Map?c:c.map(s=>Bt(s)):[]}(a).map(En=>li(En));At=function Ga(c,s,a){if(a.size&&s.length){let d=s[0],g=[];if(a.forEach((C,P)=>{d.has(P)||g.push(P),d.set(P,C)}),g.length)for(let C=1;C<s.length;C++){let P=s[C];g.forEach(W=>P.set(W,lo(c,W)))}}return s}(s,At,be);const Zt=function bc(c,s){let a=null,d=null;return Array.isArray(s)&&s.length?(a=aa(s[0]),s.length>1&&(d=aa(s[s.length-1]))):s instanceof Map&&(a=aa(s)),a||d?new jc(c,a,d):null}(s,At);return new kl(s,At,oe,Zt)}}let se=(()=>{class c extends et._j{constructor(a,d){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(d.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(a){const d=this._nextAnimationId.toString();this._nextAnimationId++;const g=Array.isArray(a)?(0,et.vP)(a):a;return it(this._renderer,null,d,"register",[g]),new G(d,this._renderer)}}return c.\u0275fac=function(a){return new(a||c)(_.LFG(_.FYo),_.LFG(We.K0))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})();class G extends et.LC{constructor(s,a){super(),this._id=s,this._renderer=a}create(s,a){return new _e(this._id,s,a||{},this._renderer)}}class _e{constructor(s,a,d,g){this.id=s,this.element=a,this._renderer=g,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(s,a){return this._renderer.listen(this.element,`@@${this.id}:${s}`,a)}_command(s,...a){return it(this._renderer,this.element,this.id,s,a)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function it(c,s,a,d,g){return c.setProperty(s,`@@${a}:${d}`,g)}const dn="@.disabled";let zn=(()=>{class c{constructor(a,d,g){this.delegate=a,this.engine=d,this._zone=g,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(C,P)=>{const W=P?.parentNode(C);W&&P.removeChild(W,C)}}createRenderer(a,d){const C=this.delegate.createRenderer(a,d);if(!(a&&d&&d.data&&d.data.animation)){let vt=this._rendererCache.get(C);return vt||(vt=new ar("",C,this.engine,()=>this._rendererCache.delete(C)),this._rendererCache.set(C,vt)),vt}const P=d.id,W=d.id+"-"+this._currentId;this._currentId++,this.engine.register(W,a);const oe=vt=>{Array.isArray(vt)?vt.forEach(oe):this.engine.registerTrigger(P,W,a,vt.name,vt)};return d.data.animation.forEach(oe),new Ui(this,W,C,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,d,g){a>=0&&a<this._microtaskId?this._zone.run(()=>d(g)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(C=>{const[P,W]=C;P(W)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,g]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(a){return new(a||c)(_.LFG(_.FYo),_.LFG(oa),_.LFG(_.R0b))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})();class ar{constructor(s,a,d,g){this.namespaceId=s,this.delegate=a,this.engine=d,this._onDestroy=g,this.destroyNode=this.delegate.destroyNode?C=>a.destroyNode(C):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(s,a){return this.delegate.createElement(s,a)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,a){this.delegate.appendChild(s,a),this.engine.onInsert(this.namespaceId,a,s,!1)}insertBefore(s,a,d,g=!0){this.delegate.insertBefore(s,a,d),this.engine.onInsert(this.namespaceId,a,s,g)}removeChild(s,a,d){this.engine.onRemove(this.namespaceId,a,this.delegate,d)}selectRootElement(s,a){return this.delegate.selectRootElement(s,a)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,a,d,g){this.delegate.setAttribute(s,a,d,g)}removeAttribute(s,a,d){this.delegate.removeAttribute(s,a,d)}addClass(s,a){this.delegate.addClass(s,a)}removeClass(s,a){this.delegate.removeClass(s,a)}setStyle(s,a,d,g){this.delegate.setStyle(s,a,d,g)}removeStyle(s,a,d){this.delegate.removeStyle(s,a,d)}setProperty(s,a,d){"@"==a.charAt(0)&&a==dn?this.disableAnimations(s,!!d):this.delegate.setProperty(s,a,d)}setValue(s,a){this.delegate.setValue(s,a)}listen(s,a,d){return this.delegate.listen(s,a,d)}disableAnimations(s,a){this.engine.disableAnimations(s,a)}}class Ui extends ar{constructor(s,a,d,g,C){super(a,d,g,C),this.factory=s,this.namespaceId=a}setProperty(s,a,d){"@"==a.charAt(0)?"."==a.charAt(1)&&a==dn?this.disableAnimations(s,d=void 0===d||!!d):this.engine.process(this.namespaceId,s,a.slice(1),d):this.delegate.setProperty(s,a,d)}listen(s,a,d){if("@"==a.charAt(0)){const g=function Qi(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(s);let C=a.slice(1),P="";return"@"!=C.charAt(0)&&([C,P]=function Gi(c){const s=c.indexOf(".");return[c.substring(0,s),c.slice(s+1)]}(C)),this.engine.listen(this.namespaceId,g,C,P,W=>{this.factory.scheduleListenerCallback(W._data||-1,d,W)})}return this.delegate.listen(s,a,d)}}const Ms=[{provide:et._j,useClass:se},{provide:I,useFactory:function Ai(){return new Ct}},{provide:oa,useClass:(()=>{class c extends oa{constructor(a,d,g,C){super(a.body,d,g)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(a){return new(a||c)(_.LFG(We.K0),_.LFG(qr),_.LFG(I),_.LFG(_.z2F))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac}),c})()},{provide:_.FYo,useFactory:function gr(c,s,a){return new zn(c,s,a)},deps:[f.se,oa,_.R0b]}],Bn=[{provide:qr,useFactory:()=>new H},{provide:_.QbO,useValue:"BrowserAnimations"},...Ms],oi=[{provide:qr,useClass:ti},{provide:_.QbO,useValue:"NoopAnimations"},...Ms];let Bs=(()=>{class c{static withConfig(a){return{ngModule:c,providers:a.disableAnimations?oi:Bn}}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=_.oAB({type:c}),c.\u0275inj=_.cJS({providers:Bn,imports:[f.b2]}),c})();const fs_firebase={apiKey:"AIzaSyCy2rbHkA8VMfPLiHBHnUTbu_fBWHYW3Kc",authDomain:"portfolio-5756d.firebaseapp.com",projectId:"portfolio-5756d",storageBucket:"portfolio-5756d.appspot.com",messagingSenderId:"514947058575",appId:"1:514947058575:web:518dc9c1191eafb97459fa",measurementId:"G-NZ6W11TQ0W"};var Zo=M(8939),ad=M(6523),zc=M(7241),Ol=M(1860),vl=M(7969),qo=M(815),ld=M(1528),Ec=M(7479),ps=M(2147),mu=M(2085),Fr=M(8499),Ri=M(5955),Za=M(8330),Cc=M(408),jr=M(6651),yi=M(346),Di=(M(2589),M(3394));const Zn="@firebase/database";let Qa="";function Io(c){Qa=c}class Ca{constructor(s){this.domStorage_=s,this.prefix_="firebase:"}set(s,a){null==a?this.domStorage_.removeItem(this.prefixedName_(s)):this.domStorage_.setItem(this.prefixedName_(s),(0,L.Wl)(a))}get(s){const a=this.domStorage_.getItem(this.prefixedName_(s));return null==a?null:(0,L.cI)(a)}remove(s){this.domStorage_.removeItem(this.prefixedName_(s))}prefixedName_(s){return this.prefix_+s}toString(){return this.domStorage_.toString()}}class Xa{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(s,a){null==a?delete this.cache_[s]:this.cache_[s]=a}get(s){return(0,L.r3)(this.cache_,s)?this.cache_[s]:null}remove(s){delete this.cache_[s]}}const Ja=function(c){try{if(typeof window<"u"&&typeof window[c]<"u"){const s=window[c];return s.setItem("firebase:sentinel","cache"),s.removeItem("firebase:sentinel"),new Ca(s)}}catch{}return new Xa},Da=Ja("localStorage"),el=Ja("sessionStorage"),la=new ne.Yd("@firebase/database"),Cs=function(){let c=1;return function(){return c++}}(),ca=function(c){const s=(0,L.dS)(c),a=new L.gQ;a.update(s);const d=a.digest();return L.US.encodeByteArray(d)},xa=function(...c){let s="";for(let a=0;a<c.length;a++){const d=c[a];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?s+=xa.apply(null,d):s+="object"==typeof d?(0,L.Wl)(d):d,s+=" "}return s};let Ia=null,ua=!0;const da=function(c,s){(0,L.hu)(!s||!0===c||!1===c,"Can't turn on custom loggers persistently."),!0===c?(la.logLevel=ne.in.VERBOSE,Ia=la.log.bind(la),s&&el.set("logging_enabled",!0)):"function"==typeof c?Ia=c:(Ia=null,el.remove("logging_enabled"))},Ut=function(...c){if(!0===ua&&(ua=!1,null===Ia&&!0===el.get("logging_enabled")&&da(!0)),Ia){const s=xa.apply(null,c);Ia(s)}},bl=function(c){return function(...s){Ut(c,...s)}},rr=function(...c){const s="FIREBASE INTERNAL ERROR: "+xa(...c);la.error(s)},ha=function(...c){const s=`FIREBASE FATAL ERROR: ${xa(...c)}`;throw la.error(s),new Error(s)},Kr=function(...c){const s="FIREBASE WARNING: "+xa(...c);la.warn(s)},Pl=function(c){return"number"==typeof c&&(c!=c||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY)},nl="[MIN_NAME]",Ta="[MAX_NAME]",No=function(c,s){if(c===s)return 0;if(c===nl||s===Ta)return-1;if(s===nl||c===Ta)return 1;{const a=me(c),d=me(s);return null!==a?null!==d?a-d==0?c.length-s.length:a-d:-1:null!==d?1:c<s?-1:1}},Gd=function(c,s){return c===s?0:c<s?-1:1},Us=function(c,s){if(s&&c in s)return s[c];throw new Error("Missing required key ("+c+") in object: "+(0,L.Wl)(s))},zr=function(c){if("object"!=typeof c||null===c)return(0,L.Wl)(c);const s=[];for(const d in c)s.push(d);s.sort();let a="{";for(let d=0;d<s.length;d++)0!==d&&(a+=","),a+=(0,L.Wl)(s[d]),a+=":",a+=zr(c[s[d]]);return a+="}",a},Sa=function(c,s){const a=c.length;if(a<=s)return[c];const d=[];for(let g=0;g<a;g+=s)d.push(c.substring(g,g+s>a?a:g+s));return d};function ts(c,s){for(const a in c)c.hasOwnProperty(a)&&s(a,c[a])}const Rs=function(c){(0,L.hu)(!Pl(c),"Invalid JSON number");const d=1023;let g,C,P,W,oe;0===c?(C=0,P=0,g=1/c==-1/0?1:0):(g=c<0,(c=Math.abs(c))>=Math.pow(2,1-d)?(W=Math.min(Math.floor(Math.log(c)/Math.LN2),d),C=W+d,P=Math.round(c*Math.pow(2,52-W)-Math.pow(2,52))):(C=0,P=Math.round(c/Math.pow(2,-1074))));const be=[];for(oe=52;oe;oe-=1)be.push(P%2?1:0),P=Math.floor(P/2);for(oe=11;oe;oe-=1)be.push(C%2?1:0),C=Math.floor(C/2);be.push(g?1:0),be.reverse();const vt=be.join("");let At="";for(oe=0;oe<64;oe+=8){let Zt=parseInt(vt.substr(oe,8),2).toString(16);1===Zt.length&&(Zt="0"+Zt),At+=Zt}return At.toLowerCase()},x=new RegExp("^-?(0*)\\d{1,10}$"),me=function(c){if(x.test(c)){const s=Number(c);if(s>=-2147483648&&s<=2147483647)return s}return null},Se=function(c){try{c()}catch(s){setTimeout(()=>{throw Kr("Exception was thrown by user callback.",s.stack||""),s},Math.floor(0))}},Pt=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},tn=function(c,s){const a=setTimeout(c,s);return"number"==typeof a&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):"object"==typeof a&&a.unref&&a.unref(),a};class Qn{constructor(s,a){this.appName_=s,this.appCheckProvider=a,this.appCheck=a?.getImmediate({optional:!0}),this.appCheck||a?.get().then(d=>this.appCheck=d)}getToken(s){return this.appCheck?this.appCheck.getToken(s):new Promise((a,d)=>{setTimeout(()=>{this.appCheck?this.getToken(s).then(a,d):a(null)},0)})}addTokenChangeListener(s){var a;null===(a=this.appCheckProvider)||void 0===a||a.get().then(d=>d.addTokenListener(s))}notifyForInvalidToken(){Kr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ni{constructor(s,a,d){this.appName_=s,this.firebaseOptions_=a,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(g=>this.auth_=g)}getToken(s){return this.auth_?this.auth_.getToken(s).catch(a=>a&&"auth/token-not-initialized"===a.code?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,d)=>{setTimeout(()=>{this.auth_?this.getToken(s).then(a,d):a(null)},0)})}addTokenChangeListener(s){this.auth_?this.auth_.addAuthTokenListener(s):this.authProvider_.get().then(a=>a.addAuthTokenListener(s))}removeTokenChangeListener(s){this.authProvider_.get().then(a=>a.removeAuthTokenListener(s))}notifyForInvalidToken(){let s='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';s+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kr(s)}}let Wi=(()=>{class c{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}return c.OWNER="owner",c})();const $c=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gu="websocket",El="long_polling";class Gc{constructor(s,a,d,g,C=!1,P="",W=!1,oe=!1){this.secure=a,this.namespace=d,this.webSocketOnly=g,this.nodeAdmin=C,this.persistenceKey=P,this.includeNamespaceInQueryParams=W,this.isUsingEmulator=oe,this._host=s.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Da.get("host:"+s)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(s){s!==this.internalHost&&(this.internalHost=s,this.isCacheableHost()&&Da.set("host:"+this._host,this.internalHost))}toString(){let s=this.toURLString();return this.persistenceKey&&(s+="<"+this.persistenceKey+">"),s}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ic(c,s,a){let d;if((0,L.hu)("string"==typeof s,"typeof type must == string"),(0,L.hu)("object"==typeof a,"typeof params must == object"),s===gu)d=(c.secure?"wss://":"ws://")+c.internalHost+"/.ws?";else{if(s!==El)throw new Error("Unknown connection type: "+s);d=(c.secure?"https://":"http://")+c.internalHost+"/.lp?"}(function xc(c){return c.host!==c.internalHost||c.isCustomHost()||c.includeNamespaceInQueryParams})(c)&&(a.ns=c.namespace);const g=[];return ts(a,(C,P)=>{g.push(C+"="+P)}),d+g.join("&")}class Js{constructor(){this.counters_={}}incrementCounter(s,a=1){(0,L.r3)(this.counters_,s)||(this.counters_[s]=0),this.counters_[s]+=a}get(){return(0,L.p$)(this.counters_)}}const Qo={},Aa={};function _u(c){const s=c.toString();return Qo[s]||(Qo[s]=new Js),Qo[s]}class Wc{constructor(s){this.onMessage_=s,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(s,a){this.closeAfterResponse=s,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(s,a){for(this.pendingResponses[s]=a;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let g=0;g<d.length;++g)d[g]&&Se(()=>{this.onMessage_(d[g])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class go{constructor(s,a,d,g,C,P,W){this.connId=s,this.repoInfo=a,this.applicationId=d,this.appCheckToken=g,this.authToken=C,this.transportSessionId=P,this.lastSessionId=W,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bl(s),this.stats_=_u(a),this.urlFn=oe=>(this.appCheckToken&&(oe.ac=this.appCheckToken),Ic(a,El,oe))}open(s,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new Wc(s),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(c){if((0,L.Yr)()||"complete"===document.readyState)c();else{let s=!1;const a=function(){document.body?s||(s=!0,c()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sc((...C)=>{const[P,W,oe,be,vt]=C;if(this.incrementIncomingBytes_(C),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===P)this.id=W,this.password=oe;else{if("close"!==P)throw new Error("Unrecognized command received: "+P);W?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(W,()=>{this.onClosed_()})):this.onClosed_()}},(...C)=>{const[P,W]=C;this.incrementIncomingBytes_(C),this.myPacketOrderer.handleResponse(P,W)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v="5",this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&$c.test(location.hostname)&&(d.r="f");const g=this.urlFn(d);this.log_("Connecting via long-poll to "+g),this.scriptTagHolder.addTag(g,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){go.forceAllow_=!0}static forceDisallow(){go.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!go.forceAllow_&&(go.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(s){const a=(0,L.Wl)(s);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const d=(0,L.h$)(a),g=Sa(d,1840);for(let C=0;C<g.length;C++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,g.length,g[C]),this.curSegmentNum++}addDisconnectPingFrame(s,a){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=s,d.pw=a,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(s){const a=(0,L.Wl)(s).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class sc{constructor(s,a,d,g){if(this.onDisconnect=d,this.urlFn=g,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=s,this.onMessageCB=a;else{this.uniqueCallbackIdentifier=Cs(),window["pLPCommand"+this.uniqueCallbackIdentifier]=s,window["pRTLPCB"+this.uniqueCallbackIdentifier]=a,this.myIFrame=sc.createIFrame_();let C="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(C='<script>document.domain="'+document.domain+'";<\/script>');const P="<html><body>"+C+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(P),this.myIFrame.doc.close()}catch(W){Ut("frame writing exception"),W.stack&&Ut(W.stack),Ut(W)}}}static createIFrame_(){const s=document.createElement("iframe");if(s.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(s);try{s.contentWindow.document||Ut("No IE domain setting required")}catch{const d=document.domain;s.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return s.contentDocument?s.doc=s.contentDocument:s.contentWindow?s.doc=s.contentWindow.document:s.document&&(s.doc=s.document),s}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const s=this.onDisconnect;s&&(this.onDisconnect=null,s())}startLongPoll(s,a){for(this.myID=s,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const s={};s.id=this.myID,s.pw=this.myPW,s.ser=this.currentSerial;let a=this.urlFn(s),d="",g=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const P=this.pendingSegs.shift();d=d+"&seg"+g+"="+P.seg+"&ts"+g+"="+P.ts+"&d"+g+"="+P.d,g++}return a+=d,this.addLongPollTag_(a,this.currentSerial),!0}return!1}enqueueSegment(s,a,d){this.pendingSegs.push({seg:s,ts:a,d}),this.alive&&this.newRequest_()}addLongPollTag_(s,a){this.outstandingRequests.add(a);const d=()=>{this.outstandingRequests.delete(a),this.newRequest_()},g=setTimeout(d,Math.floor(25e3));this.addTag(s,()=>{clearTimeout(g),d()})}addTag(s,a){(0,L.Yr)()?this.doNodeLongPoll(s,a):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=s,d.onload=d.onreadystatechange=function(){const g=d.readyState;(!g||"loaded"===g||"complete"===g)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),a())},d.onerror=()=>{Ut("Long-poll script failed to load: "+s),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch{}},Math.floor(1))}}let sl=null;typeof MozWebSocket<"u"?sl=MozWebSocket:typeof WebSocket<"u"&&(sl=WebSocket);let so=(()=>{class c{constructor(a,d,g,C,P,W,oe){this.connId=a,this.applicationId=g,this.appCheckToken=C,this.authToken=P,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bl(this.connId),this.stats_=_u(d),this.connURL=c.connectionURL_(d,W,oe,C,g),this.nodeAdmin=d.nodeAdmin}static connectionURL_(a,d,g,C,P){const W={v:"5"};return!(0,L.Yr)()&&typeof location<"u"&&location.hostname&&$c.test(location.hostname)&&(W.r="f"),d&&(W.s=d),g&&(W.ls=g),C&&(W.ac=C),P&&(W.p=P),Ic(a,gu,W)}open(a,d){this.onDisconnect=d,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Da.set("previous_websocket_failure",!0);try{let g;if((0,L.Yr)()){g={headers:{"User-Agent":`Firebase/5/${Qa}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(g.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(g.headers["X-Firebase-AppCheck"]=this.appCheckToken);const P=process.env,W=0===this.connURL.indexOf("wss://")?P.HTTPS_PROXY||P.https_proxy:P.HTTP_PROXY||P.http_proxy;W&&(g.proxy={origin:W})}this.mySock=new sl(this.connURL,[],g)}catch(g){this.log_("Error instantiating WebSocket.");const C=g.message||g.data;return C&&this.log_(C),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=g=>{this.handleIncomingFrame(g)},this.mySock.onerror=g=>{this.log_("WebSocket error.  Closing connection.");const C=g.message||g.data;C&&this.log_(C),this.onClosed_()}}start(){}static forceDisallow(){c.forceDisallow_=!0}static isAvailable(){let a=!1;if(typeof navigator<"u"&&navigator.userAgent){const g=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);g&&g.length>1&&parseFloat(g[1])<4.4&&(a=!0)}return!a&&null!==sl&&!c.forceDisallow_}static previouslyFailed(){return Da.isInMemoryStorage||!0===Da.get("previous_websocket_failure")}markConnectionHealthy(){Da.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const g=(0,L.cI)(d);this.onMessage(g)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){const d=Number(a);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(null===this.mySock)return;const d=a.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const g=this.extractFrameCount_(d);null!==g&&this.appendFrame_(g)}}send(a){this.resetKeepAlive();const d=(0,L.Wl)(a);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const g=Sa(d,16384);g.length>1&&this.sendString_(String(g.length));for(let C=0;C<g.length;C++)this.sendString_(g[C])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(a){try{this.mySock.send(a)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return c.responsesRequiredToBeHealthy=2,c.healthyTimeout=3e4,c})(),Yc=(()=>{class c{constructor(a){this.initTransports_(a)}static get ALL_TRANSPORTS(){return[go,so]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(a){const d=so&&so.isAvailable();let g=d&&!so.previouslyFailed();if(a.webSocketOnly&&(d||Kr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),g=!0),g)this.transports_=[so];else{const C=this.transports_=[];for(const P of c.ALL_TRANSPORTS)P&&P.isAvailable()&&C.push(P);c.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return c.globalTransportInitialized_=!1,c})();class Cu{constructor(s,a,d,g,C,P,W,oe,be,vt){this.id=s,this.repoInfo_=a,this.applicationId_=d,this.appCheckToken_=g,this.authToken_=C,this.onMessage_=P,this.onReady_=W,this.onDisconnect_=oe,this.onKill_=be,this.lastSessionId=vt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bl("c:"+this.id+":"),this.transportManager_=new Yc(a),this.log_("Connection created"),this.start_()}start_(){const s=this.transportManager_.initialTransport();this.conn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,d)},Math.floor(0));const g=s.healthyTimeout||0;g>0&&(this.healthyTimeout_=tn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(g)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(s){return a=>{s===this.conn_?this.onConnectionLost_(a):s===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(s){return a=>{2!==this.state_&&(s===this.rx_?this.onPrimaryMessageReceived_(a):s===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(s){this.sendData_({t:"d",d:s})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(s){if("t"in s){const a=s.t;"a"===a?this.upgradeIfSecondaryHealthy_():"r"===a?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===a&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(s){const a=Us("t",s),d=Us("d",s);if("c"===a)this.onSecondaryControl_(d);else{if("d"!==a)throw new Error("Unknown protocol layer: "+a);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(s){const a=Us("t",s),d=Us("d",s);"c"===a?this.onControl_(d):"d"===a&&this.onDataMessage_(d)}onDataMessage_(s){this.onPrimaryResponse_(),this.onMessage_(s)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(s){const a=Us("t",s);if("d"in s){const d=s.d;if("h"===a){const g=Object.assign({},d);this.repoInfo_.isUsingEmulator&&(g.h=this.repoInfo_.host),this.onHandshake_(g)}else if("n"===a){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let g=0;g<this.pendingDataMessages.length;++g)this.onDataMessage_(this.pendingDataMessages[g]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===a?this.onConnectionShutdown_(d):"r"===a?this.onReset_(d):"e"===a?rr("Server Error: "+d):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rr("Unknown control packet command: "+a)}}onHandshake_(s){const a=s.ts,d=s.v,g=s.h;this.sessionId=s.s,this.repoInfo_.host=g,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==d&&Kr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const s=this.transportManager_.upgradeTransport();s&&this.startUpgrade_(s)}startUpgrade_(s){this.secondaryConn_=new s(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=s.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,d),tn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(s){this.log_("Reset packet received.  New host: "+s),this.repoInfo_.host=s,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(s,a){this.log_("Realtime connection established."),this.conn_=s,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const s=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===s||this.rx_===s)&&this.close()}onConnectionLost_(s){this.conn_=null,s||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Da.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(s){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(s),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(s){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(s)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class eo{put(s,a,d,g){}merge(s,a,d,g){}refreshAuthToken(s){}refreshAppCheckToken(s){}onDisconnectPut(s,a,d){}onDisconnectMerge(s,a,d){}onDisconnectCancel(s,a){}reportStats(s){}}class Du{constructor(s){this.allowedEvents_=s,this.listeners_={},(0,L.hu)(Array.isArray(s)&&s.length>0,"Requires a non-empty array")}trigger(s,...a){if(Array.isArray(this.listeners_[s])){const d=[...this.listeners_[s]];for(let g=0;g<d.length;g++)d[g].callback.apply(d[g].context,a)}}on(s,a,d){this.validateEventType_(s),this.listeners_[s]=this.listeners_[s]||[],this.listeners_[s].push({callback:a,context:d});const g=this.getInitialEvent(s);g&&a.apply(d,g)}off(s,a,d){this.validateEventType_(s);const g=this.listeners_[s]||[];for(let C=0;C<g.length;C++)if(g[C].callback===a&&(!d||d===g[C].context))return void g.splice(C,1)}validateEventType_(s){(0,L.hu)(this.allowedEvents_.find(a=>a===s),"Unknown event: "+s)}}class Gr extends Du{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gr}getInitialEvent(s){return(0,L.hu)("online"===s,"Unknown event type: "+s),[this.online_]}currentlyOnline(){return this.online_}}const Dl=32,cd=768;class O{constructor(s,a){if(void 0===a){this.pieces_=s.split("/");let d=0;for(let g=0;g<this.pieces_.length;g++)this.pieces_[g].length>0&&(this.pieces_[d]=this.pieces_[g],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=s,this.pieceNum_=a}toString(){let s="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(s+="/"+this.pieces_[a]);return s||"/"}}function z(){return new O("")}function ee(c){return c.pieceNum_>=c.pieces_.length?null:c.pieces_[c.pieceNum_]}function ze(c){return c.pieces_.length-c.pieceNum_}function Je(c){let s=c.pieceNum_;return s<c.pieces_.length&&s++,new O(c.pieces_,s)}function Tt(c){return c.pieceNum_<c.pieces_.length?c.pieces_[c.pieces_.length-1]:null}function On(c,s=0){return c.pieces_.slice(c.pieceNum_+s)}function Nn(c){if(c.pieceNum_>=c.pieces_.length)return null;const s=[];for(let a=c.pieceNum_;a<c.pieces_.length-1;a++)s.push(c.pieces_[a]);return new O(s,0)}function jn(c,s){const a=[];for(let d=c.pieceNum_;d<c.pieces_.length;d++)a.push(c.pieces_[d]);if(s instanceof O)for(let d=s.pieceNum_;d<s.pieces_.length;d++)a.push(s.pieces_[d]);else{const d=s.split("/");for(let g=0;g<d.length;g++)d[g].length>0&&a.push(d[g])}return new O(a,0)}function $n(c){return c.pieceNum_>=c.pieces_.length}function Ei(c,s){const a=ee(c),d=ee(s);if(null===a)return s;if(a===d)return Ei(Je(c),Je(s));throw new Error("INTERNAL ERROR: innerPath ("+s+") is not within outerPath ("+c+")")}function Vo(c,s){const a=On(c,0),d=On(s,0);for(let g=0;g<a.length&&g<d.length;g++){const C=No(a[g],d[g]);if(0!==C)return C}return a.length===d.length?0:a.length<d.length?-1:1}function ms(c,s){if(ze(c)!==ze(s))return!1;for(let a=c.pieceNum_,d=s.pieceNum_;a<=c.pieces_.length;a++,d++)if(c.pieces_[a]!==s.pieces_[d])return!1;return!0}function Bo(c,s){let a=c.pieceNum_,d=s.pieceNum_;if(ze(c)>ze(s))return!1;for(;a<c.pieces_.length;){if(c.pieces_[a]!==s.pieces_[d])return!1;++a,++d}return!0}class Mc{constructor(s,a){this.errorPrefix_=a,this.parts_=On(s,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,L.ug)(this.parts_[d]);Ha(this)}}function Ha(c){if(c.byteLength_>cd)throw new Error(c.errorPrefix_+"has a key path longer than "+cd+" bytes ("+c.byteLength_+").");if(c.parts_.length>Dl)throw new Error(c.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dl+") or object contains a cycle "+ma(c))}function ma(c){return 0===c.parts_.length?"":"in property '"+c.parts_.join(".")+"'"}class zh extends Du{constructor(){let s,a;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",s="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",s="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",s="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",s="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const d=!document[s];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new zh}getInitialEvent(s){return(0,L.hu)("visible"===s,"Unknown event type: "+s),[this.visible_]}}const Rc=1e3;let Xc,Bl=(()=>{class c extends eo{constructor(a,d,g,C,P,W,oe,be){if(super(),this.repoInfo_=a,this.applicationId_=d,this.onDataUpdate_=g,this.onConnectStatus_=C,this.onServerInfoUpdate_=P,this.authTokenProvider_=W,this.appCheckTokenProvider_=oe,this.authOverride_=be,this.id=c.nextPersistentConnectionId_++,this.log_=bl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Rc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,be&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zh.getInstance().on("visible",this.onVisible_,this),-1===a.host.indexOf("fblocal")&&Gr.getInstance().on("online",this.onOnline_,this)}sendRequest(a,d,g){const C=++this.requestNumber_,P={r:C,a,b:d};this.log_((0,L.Wl)(P)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(P),g&&(this.requestCBHash_[C]=g)}get(a){this.initConnection_();const d=new L.BH,C={action:"g",request:{p:a._path.toString(),q:a._queryObject},onComplete:W=>{const oe=W.d;"ok"===W.s?d.resolve(oe):d.reject(oe)}};return this.outstandingGets_.push(C),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),d.promise}listen(a,d,g,C){this.initConnection_();const P=a._queryIdentifier,W=a._path.toString();this.log_("Listen called for "+W+" "+P),this.listens.has(W)||this.listens.set(W,new Map),(0,L.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(W).has(P),"listen() called twice for same path/queryId.");const oe={onComplete:C,hashFn:d,query:a,tag:g};this.listens.get(W).set(P,oe),this.connected_&&this.sendListen_(oe)}sendGet_(a){const d=this.outstandingGets_[a];this.sendRequest("g",d.request,g=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(g)})}sendListen_(a){const d=a.query,g=d._path.toString(),C=d._queryIdentifier;this.log_("Listen on "+g+" for "+C);const P={p:g};a.tag&&(P.q=d._queryObject,P.t=a.tag),P.h=a.hashFn(),this.sendRequest("q",P,oe=>{const be=oe.d,vt=oe.s;c.warnOnListenWarnings_(be,d),(this.listens.get(g)&&this.listens.get(g).get(C))===a&&(this.log_("listen response",oe),"ok"!==vt&&this.removeListen_(g,C),a.onComplete&&a.onComplete(vt,be))})}static warnOnListenWarnings_(a,d){if(a&&"object"==typeof a&&(0,L.r3)(a,"w")){const g=(0,L.DV)(a,"w");if(Array.isArray(g)&&~g.indexOf("no_index")){const C='".indexOn": "'+d._queryParams.getIndex().toString()+'"',P=d._path.toString();Kr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${C} at ${P} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&40===a.length||(0,L.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const a=this.authToken_,d=(0,L.w9)(a)?"auth":"gauth",g={cred:a};null===this.authOverride_?g.noauth=!0:"object"==typeof this.authOverride_&&(g.authvar=this.authOverride_),this.sendRequest(d,g,C=>{const P=C.s,W=C.d||"error";this.authToken_===a&&("ok"===P?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(P,W))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{const d=a.s,g=a.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,g)})}unlisten(a,d){const g=a._path.toString(),C=a._queryIdentifier;this.log_("Unlisten called for "+g+" "+C),(0,L.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(g,C)&&this.connected_&&this.sendUnlisten_(g,C,a._queryObject,d)}sendUnlisten_(a,d,g,C){this.log_("Unlisten on "+a+" for "+d);const P={p:a};C&&(P.q=g,P.t=C),this.sendRequest("n",P)}onDisconnectPut(a,d,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,d,g):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:d,onComplete:g})}onDisconnectMerge(a,d,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,d,g):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:d,onComplete:g})}onDisconnectCancel(a,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,d):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(a,d,g,C){const P={p:d,d:g};this.log_("onDisconnect "+a,P),this.sendRequest(a,P,W=>{C&&setTimeout(()=>{C(W.s,W.d)},Math.floor(0))})}put(a,d,g,C){this.putInternal("p",a,d,g,C)}merge(a,d,g,C){this.putInternal("m",a,d,g,C)}putInternal(a,d,g,C,P){this.initConnection_();const W={p:d,d:g};void 0!==P&&(W.h=P),this.outstandingPuts_.push({action:a,request:W,onComplete:C}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(a){const d=this.outstandingPuts_[a].action,g=this.outstandingPuts_[a].request,C=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(d,g,P=>{this.log_(d+" response",P),delete this.outstandingPuts_[a],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),C&&C(P.s,P.d)})}reportStats(a){if(this.connected_){const d={c:a};this.log_("reportStats",d),this.sendRequest("s",d,g=>{"ok"!==g.s&&this.log_("reportStats","Error sending stats: "+g.d)})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+(0,L.Wl)(a));const d=a.r,g=this.requestCBHash_[d];g&&(delete this.requestCBHash_[d],g(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}onDataPush_(a,d){this.log_("handleServerMessage",a,d),"d"===a?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===a?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===a?this.onListenRevoked_(d.p,d.q):"ac"===a?this.onAuthRevoked_(d.s,d.d):"apc"===a?this.onAppCheckRevoked_(d.s,d.d):"sd"===a?this.onSecurityDebugPacket_(d):rr("Unrecognized action received from server: "+(0,L.Wl)(a)+"\nAre you using the latest client?")}onReady_(a,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rc,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=Rc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Rc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const a=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-a);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var a=this;return(0,we.Z)(function*(){if(a.shouldReconnect_()){a.log_("Making a connection attempt"),a.lastConnectionAttemptTime_=(new Date).getTime(),a.lastConnectionEstablishedTime_=null;const d=a.onDataMessage_.bind(a),g=a.onReady_.bind(a),C=a.onRealtimeDisconnect_.bind(a),P=a.id+":"+c.nextConnectionId_++,W=a.lastSessionId;let oe=!1,be=null;const vt=function(){be?be.close():(oe=!0,C())};a.realtime_={close:vt,sendRequest:function(En){(0,L.hu)(be,"sendRequest call when we're not connected not allowed."),be.sendRequest(En)}};const Zt=a.forceTokenRefresh_;a.forceTokenRefresh_=!1;try{const[En,Dn]=yield Promise.all([a.authTokenProvider_.getToken(Zt),a.appCheckTokenProvider_.getToken(Zt)]);oe?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),a.authToken_=En&&En.accessToken,a.appCheckToken_=Dn&&Dn.token,be=new Cu(P,a.repoInfo_,a.applicationId_,a.appCheckToken_,a.authToken_,d,g,C,ri=>{Kr(ri+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},W))}catch(En){a.log_("Failed to get token: "+En),oe||(a.repoInfo_.nodeAdmin&&Kr(En),vt())}}})()}interrupt(a){Ut("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){Ut("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Rc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){const d=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){const d=this.outstandingPuts_[a];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(a,d){let g;g=d?d.map(P=>zr(P)).join("$"):"default";const C=this.removeListen_(a,g);C&&C.onComplete&&C.onComplete("permission_denied")}removeListen_(a,d){const g=new O(a).toString();let C;if(this.listens.has(g)){const P=this.listens.get(g);C=P.get(d),P.delete(d),0===P.size&&this.listens.delete(g)}else C=void 0;return C}onAuthRevoked_(a,d){Ut("Auth token revoked: "+a+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,d){Ut("App check token revoked: "+a+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const a of this.listens.values())for(const d of a.values())this.sendListen_(d);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){const a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){const a={};let d="js";(0,L.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+d+"."+Qa.replace(/\./g,"-")]=1,(0,L.uI)()?a["framework.cordova"]=1:(0,L.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){const a=Gr.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&a}}return c.nextPersistentConnectionId_=0,c.nextConnectionId_=0,c})();class cr{constructor(s,a){this.name=s,this.node=a}static Wrap(s,a){return new cr(s,a)}}class al{getCompare(){return this.compare.bind(this)}indexedValueChanged(s,a){const d=new cr(nl,s),g=new cr(nl,a);return 0!==this.compare(d,g)}minPost(){return cr.MIN}}class Oc extends al{static get __EMPTY_NODE(){return Xc}static set __EMPTY_NODE(s){Xc=s}compare(s,a){return No(s.name,a.name)}isDefinedOn(s){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(s,a){return!1}minPost(){return cr.MIN}maxPost(){return new cr(Ta,Xc)}makePost(s,a){return(0,L.hu)("string"==typeof s,"KeyIndex indexValue must always be a string."),new cr(s,Xc)}toString(){return".key"}}const xl=new Oc;class Iu{constructor(s,a,d,g,C=null){this.isReverse_=g,this.resultGenerator_=C,this.nodeStack_=[];let P=1;for(;!s.isEmpty();)if(P=a?d(s.key,a):1,g&&(P*=-1),P<0)s=this.isReverse_?s.left:s.right;else{if(0===P){this.nodeStack_.push(s);break}this.nodeStack_.push(s),s=this.isReverse_?s.right:s.left}}getNext(){if(0===this.nodeStack_.length)return null;let a,s=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value},this.isReverse_)for(s=s.left;!s.isEmpty();)this.nodeStack_.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack_.push(s),s=s.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const s=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(s.key,s.value):{key:s.key,value:s.value}}}let Me,k=(()=>{class c{constructor(a,d,g,C,P){this.key=a,this.value=d,this.color=g??c.RED,this.left=C??w.EMPTY_NODE,this.right=P??w.EMPTY_NODE}copy(a,d,g,C,P){return new c(a??this.key,d??this.value,g??this.color,C??this.left,P??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,d,g){let C=this;const P=g(a,C.key);return C=P<0?C.copy(null,null,null,C.left.insert(a,d,g),null):0===P?C.copy(null,d,null,null,null):C.copy(null,null,null,null,C.right.insert(a,d,g)),C.fixUp_()}removeMin_(){if(this.left.isEmpty())return w.EMPTY_NODE;let a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.removeMin_(),null),a.fixUp_()}remove(a,d){let g,C;if(g=this,d(a,g.key)<0)!g.left.isEmpty()&&!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.remove(a,d),null);else{if(g.left.isRed_()&&(g=g.rotateRight_()),!g.right.isEmpty()&&!g.right.isRed_()&&!g.right.left.isRed_()&&(g=g.moveRedRight_()),0===d(a,g.key)){if(g.right.isEmpty())return w.EMPTY_NODE;C=g.right.min_(),g=g.copy(C.key,C.value,null,null,g.right.removeMin_())}g=g.copy(null,null,null,null,g.right.remove(a,d))}return g.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=a.copy(null,null,null,null,a.right.rotateRight_()),a=a.rotateLeft_(),a=a.colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=a.rotateRight_(),a=a.colorFlip_()),a}rotateLeft_(){const a=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){const a=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){const a=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,d)}checkMaxDepth_(){const a=this.check_();return Math.pow(2,a)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)}}return c.RED=!0,c.BLACK=!1,c})();class w{constructor(s,a=w.EMPTY_NODE){this.comparator_=s,this.root_=a}insert(s,a){return new w(this.comparator_,this.root_.insert(s,a,this.comparator_).copy(null,null,k.BLACK,null,null))}remove(s){return new w(this.comparator_,this.root_.remove(s,this.comparator_).copy(null,null,k.BLACK,null,null))}get(s){let a,d=this.root_;for(;!d.isEmpty();){if(a=this.comparator_(s,d.key),0===a)return d.value;a<0?d=d.left:a>0&&(d=d.right)}return null}getPredecessorKey(s){let a,d=this.root_,g=null;for(;!d.isEmpty();){if(a=this.comparator_(s,d.key),0===a){if(d.left.isEmpty())return g?g.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}a<0?d=d.left:a>0&&(g=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(s){return this.root_.inorderTraversal(s)}reverseTraversal(s){return this.root_.reverseTraversal(s)}getIterator(s){return new Iu(this.root_,null,this.comparator_,!1,s)}getIteratorFrom(s,a){return new Iu(this.root_,s,this.comparator_,!1,a)}getReverseIteratorFrom(s,a){return new Iu(this.root_,s,this.comparator_,!0,a)}getReverseIterator(s){return new Iu(this.root_,null,this.comparator_,!0,s)}}function V(c,s){return No(c.name,s.name)}function ae(c,s){return No(c,s)}w.EMPTY_NODE=new class y{copy(s,a,d,g,C){return this}insert(s,a,d){return new k(s,a,null)}remove(s,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Xt=function(c){return"number"==typeof c?"number:"+Rs(c):"string:"+c},Rn=function(c){if(c.isLeafNode()){const s=c.val();(0,L.hu)("string"==typeof s||"number"==typeof s||"object"==typeof s&&(0,L.r3)(s,".sv"),"Priority must be a string or number.")}else(0,L.hu)(c===Me||c.isEmpty(),"priority of unexpected type.");(0,L.hu)(c===Me||c.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ii,ki,Zr,Mi=(()=>{class c{constructor(a,d=c.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=d,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Rn(this.priorityNode_)}static set __childrenNodeConstructor(a){ii=a}static get __childrenNodeConstructor(){return ii}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new c(this.value_,a)}getImmediateChild(a){return".priority"===a?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return $n(a)?this:".priority"===ee(a)?this.priorityNode_:c.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,d){return null}updateImmediateChild(a,d){return".priority"===a?this.updatePriority(d):d.isEmpty()&&".priority"!==a?this:c.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,d).updatePriority(this.priorityNode_)}updateChild(a,d){const g=ee(a);return null===g?d:d.isEmpty()&&".priority"!==g?this:((0,L.hu)(".priority"!==g||1===ze(a),".priority must be the last token in a path"),this.updateImmediateChild(g,c.__childrenNodeConstructor.EMPTY_NODE.updateChild(Je(a),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,d){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+Xt(this.priorityNode_.val())+":");const d=typeof this.value_;a+=d+":",a+="number"===d?Rs(this.value_):this.value_,this.lazyHash_=ca(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===c.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof c.__childrenNodeConstructor?-1:((0,L.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){const d=typeof a.value_,g=typeof this.value_,C=c.VALUE_TYPE_ORDER.indexOf(d),P=c.VALUE_TYPE_ORDER.indexOf(g);return(0,L.hu)(C>=0,"Unknown leaf type: "+d),(0,L.hu)(P>=0,"Unknown leaf type: "+g),C===P?"object"===g?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:P-C}withIndex(){return this}isIndexed(){return!0}equals(a){return a===this||!!a.isLeafNode()&&(this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_))}}return c.VALUE_TYPE_ORDER=["object","boolean","number","string"],c})();const Or=new class So extends al{compare(s,a){const d=s.node.getPriority(),g=a.node.getPriority(),C=d.compareTo(g);return 0===C?No(s.name,a.name):C}isDefinedOn(s){return!s.getPriority().isEmpty()}indexedValueChanged(s,a){return!s.getPriority().equals(a.getPriority())}minPost(){return cr.MIN}maxPost(){return new cr(Ta,new Mi("[PRIORITY-POST]",Zr))}makePost(s,a){const d=ki(s);return new cr(a,new Mi("[PRIORITY-POST]",d))}toString(){return".priority"}},Su=Math.log(2);class Zd{constructor(s){this.count=parseInt(Math.log(s+1)/Su,10),this.current_=this.count-1;const g=(C=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=s+1&g}nextBitIsOne(){const s=!(this.bits_&1<<this.current_);return this.current_--,s}}const Jo=function(c,s,a,d){c.sort(s);const g=function(oe,be){const vt=be-oe;let At,Zt;if(0===vt)return null;if(1===vt)return At=c[oe],Zt=a?a(At):At,new k(Zt,At.node,k.BLACK,null,null);{const En=parseInt(vt/2,10)+oe,Dn=g(oe,En),ri=g(En+1,be);return At=c[En],Zt=a?a(At):At,new k(Zt,At.node,k.BLACK,Dn,ri)}},W=function(oe){let be=null,vt=null,At=c.length;const Zt=function(Dn,ri){const Ki=At-Dn,Er=At;At-=Dn;const tr=g(Ki+1,Er),zs=c[Ki],Ao=a?a(zs):zs;En(new k(Ao,zs.node,ri,null,tr))},En=function(Dn){be?(be.left=Dn,be=Dn):(vt=Dn,be=Dn)};for(let Dn=0;Dn<oe.count;++Dn){const ri=oe.nextBitIsOne(),Ki=Math.pow(2,oe.count-(Dn+1));ri?Zt(Ki,k.BLACK):(Zt(Ki,k.BLACK),Zt(Ki,k.RED))}return vt}(new Zd(c.length));return new w(d||s,W)};let Au;const ja={};class ll{constructor(s,a){this.indexes_=s,this.indexSet_=a}static get Default(){return(0,L.hu)(ja&&Or,"ChildrenNode.ts has not been loaded"),Au=Au||new ll({".priority":ja},{".priority":Or}),Au}get(s){const a=(0,L.DV)(this.indexes_,s);if(!a)throw new Error("No index defined for "+s);return a instanceof w?a:null}hasIndex(s){return(0,L.r3)(this.indexSet_,s.toString())}addIndex(s,a){(0,L.hu)(s!==xl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let g=!1;const C=a.getIterator(cr.Wrap);let W,P=C.getNext();for(;P;)g=g||s.isDefinedOn(P.node),d.push(P),P=C.getNext();W=g?Jo(d,s.getCompare()):ja;const oe=s.toString(),be=Object.assign({},this.indexSet_);be[oe]=s;const vt=Object.assign({},this.indexes_);return vt[oe]=W,new ll(vt,be)}addToIndexes(s,a){const d=(0,L.UI)(this.indexes_,(g,C)=>{const P=(0,L.DV)(this.indexSet_,C);if((0,L.hu)(P,"Missing index implementation for "+C),g===ja){if(P.isDefinedOn(s.node)){const W=[],oe=a.getIterator(cr.Wrap);let be=oe.getNext();for(;be;)be.name!==s.name&&W.push(be),be=oe.getNext();return W.push(s),Jo(W,P.getCompare())}return ja}{const W=a.get(s.name);let oe=g;return W&&(oe=oe.remove(new cr(s.name,W))),oe.insert(s,s.node)}});return new ll(d,this.indexSet_)}removeFromIndexes(s,a){const d=(0,L.UI)(this.indexes_,g=>{if(g===ja)return g;{const C=a.get(s.name);return C?g.remove(new cr(s.name,C)):g}});return new ll(d,this.indexSet_)}}let lc,Gn=(()=>{class c{constructor(a,d,g){this.children_=a,this.priorityNode_=d,this.indexMap_=g,this.lazyHash_=null,this.priorityNode_&&Rn(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return lc||(lc=new c(new w(ae),null,ll.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||lc}updatePriority(a){return this.children_.isEmpty()?this:new c(this.children_,a,this.indexMap_)}getImmediateChild(a){if(".priority"===a)return this.getPriority();{const d=this.children_.get(a);return null===d?lc:d}}getChild(a){const d=ee(a);return null===d?this:this.getImmediateChild(d).getChild(Je(a))}hasChild(a){return null!==this.children_.get(a)}updateImmediateChild(a,d){if((0,L.hu)(d,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(d);{const g=new cr(a,d);let C,P;d.isEmpty()?(C=this.children_.remove(a),P=this.indexMap_.removeFromIndexes(g,this.children_)):(C=this.children_.insert(a,d),P=this.indexMap_.addToIndexes(g,this.children_));const W=C.isEmpty()?lc:this.priorityNode_;return new c(C,W,P)}}updateChild(a,d){const g=ee(a);if(null===g)return d;{(0,L.hu)(".priority"!==ee(a)||1===ze(a),".priority must be the last token in a path");const C=this.getImmediateChild(g).updateChild(Je(a),d);return this.updateImmediateChild(g,C)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;const d={};let g=0,C=0,P=!0;if(this.forEachChild(Or,(W,oe)=>{d[W]=oe.val(a),g++,P&&c.INTEGER_REGEXP_.test(W)?C=Math.max(C,Number(W)):P=!1}),!a&&P&&C<2*g){const W=[];for(const oe in d)W[oe]=d[oe];return W}return a&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let a="";this.getPriority().isEmpty()||(a+="priority:"+Xt(this.getPriority().val())+":"),this.forEachChild(Or,(d,g)=>{const C=g.hash();""!==C&&(a+=":"+d+":"+C)}),this.lazyHash_=""===a?"":ca(a)}return this.lazyHash_}getPredecessorChildName(a,d,g){const C=this.resolveIndex_(g);if(C){const P=C.getPredecessorKey(new cr(a,d));return P?P.name:null}return this.children_.getPredecessorKey(a)}getFirstChildName(a){const d=this.resolveIndex_(a);if(d){const g=d.minKey();return g&&g.name}return this.children_.minKey()}getFirstChild(a){const d=this.getFirstChildName(a);return d?new cr(d,this.children_.get(d)):null}getLastChildName(a){const d=this.resolveIndex_(a);if(d){const g=d.maxKey();return g&&g.name}return this.children_.maxKey()}getLastChild(a){const d=this.getLastChildName(a);return d?new cr(d,this.children_.get(d)):null}forEachChild(a,d){const g=this.resolveIndex_(a);return g?g.inorderTraversal(C=>d(C.name,C.node)):this.children_.inorderTraversal(d)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,d){const g=this.resolveIndex_(d);if(g)return g.getIteratorFrom(a,C=>C);{const C=this.children_.getIteratorFrom(a.name,cr.Wrap);let P=C.peek();for(;null!=P&&d.compare(P,a)<0;)C.getNext(),P=C.peek();return C}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,d){const g=this.resolveIndex_(d);if(g)return g.getReverseIteratorFrom(a,C=>C);{const C=this.children_.getReverseIteratorFrom(a.name,cr.Wrap);let P=C.peek();for(;null!=P&&d.compare(P,a)>0;)C.getNext(),P=C.peek();return C}}compareTo(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===cc?-1:0}withIndex(a){if(a===xl||this.indexMap_.hasIndex(a))return this;{const d=this.indexMap_.addIndex(a,this.children_);return new c(this.children_,this.priorityNode_,d)}}isIndexed(a){return a===xl||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode())return!1;{const d=a;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const g=this.getIterator(Or),C=d.getIterator(Or);let P=g.getNext(),W=C.getNext();for(;P&&W;){if(P.name!==W.name||!P.node.equals(W.node))return!1;P=g.getNext(),W=C.getNext()}return null===P&&null===W}return!1}return!1}}resolveIndex_(a){return a===xl?null:this.indexMap_.get(a.toString())}}return c.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,c})();const cc=new class qd extends Gn{constructor(){super(new w(ae),Gn.EMPTY_NODE,ll.Default)}compareTo(s){return s===this?0:1}equals(s){return s===this}getPriority(){return this}getImmediateChild(s){return Gn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(cr,{MIN:{value:new cr(nl,Gn.EMPTY_NODE)},MAX:{value:new cr(Ta,cc)}}),Oc.__EMPTY_NODE=Gn.EMPTY_NODE,Mi.__childrenNodeConstructor=Gn,function Rt(c){Me=c}(cc),function Tu(c){Zr=c}(cc);const jf=!0;function Ds(c,s=null){if(null===c)return Gn.EMPTY_NODE;if("object"==typeof c&&".priority"in c&&(s=c[".priority"]),(0,L.hu)(null===s||"string"==typeof s||"number"==typeof s||"object"==typeof s&&".sv"in s,"Invalid priority type found: "+typeof s),"object"==typeof c&&".value"in c&&null!==c[".value"]&&(c=c[".value"]),"object"!=typeof c||".sv"in c)return new Mi(c,Ds(s));if(c instanceof Array||!jf){let a=Gn.EMPTY_NODE;return ts(c,(d,g)=>{if((0,L.r3)(c,d)&&"."!==d.substring(0,1)){const C=Ds(g);(C.isLeafNode()||!C.isEmpty())&&(a=a.updateImmediateChild(d,C))}}),a.updatePriority(Ds(s))}{const a=[];let d=!1;if(ts(c,(P,W)=>{if("."!==P.substring(0,1)){const oe=Ds(W);oe.isEmpty()||(d=d||!oe.getPriority().isEmpty(),a.push(new cr(P,oe)))}}),0===a.length)return Gn.EMPTY_NODE;const C=Jo(a,V,P=>P.name,ae);if(d){const P=Jo(a,Or.getCompare());return new Gn(C,Ds(s),new ll({".priority":P},{".priority":Or}))}return new Gn(C,Ds(s),ll.Default)}}!function _o(c){ki=c}(Ds);class Mu extends al{constructor(s){super(),this.indexPath_=s,(0,L.hu)(!$n(s)&&".priority"!==ee(s),"Can't create PathIndex with empty path or .priority key")}extractChild(s){return s.getChild(this.indexPath_)}isDefinedOn(s){return!s.getChild(this.indexPath_).isEmpty()}compare(s,a){const d=this.extractChild(s.node),g=this.extractChild(a.node),C=d.compareTo(g);return 0===C?No(s.name,a.name):C}makePost(s,a){const d=Ds(s),g=Gn.EMPTY_NODE.updateChild(this.indexPath_,d);return new cr(a,g)}maxPost(){const s=Gn.EMPTY_NODE.updateChild(this.indexPath_,cc);return new cr(Ta,s)}toString(){return On(this.indexPath_,0).join("/")}}const $f=new class zf extends al{compare(s,a){const d=s.node.compareTo(a.node);return 0===d?No(s.name,a.name):d}isDefinedOn(s){return!0}indexedValueChanged(s,a){return!s.equals(a)}minPost(){return cr.MIN}maxPost(){return cr.MAX}makePost(s,a){const d=Ds(s);return new cr(a,d)}toString(){return".value"}};function tg(c){return{type:"value",snapshotNode:c}}function dd(c,s){return{type:"child_added",snapshotNode:s,childName:c}}function Pc(c,s){return{type:"child_removed",snapshotNode:s,childName:c}}function Ul(c,s,a){return{type:"child_changed",snapshotNode:s,childName:c,oldSnap:a}}class Hl{constructor(s){this.index_=s}updateChild(s,a,d,g,C,P){(0,L.hu)(s.isIndexed(this.index_),"A node must be indexed if only a child is updated");const W=s.getImmediateChild(a);return W.getChild(g).equals(d.getChild(g))&&W.isEmpty()===d.isEmpty()||(null!=P&&(d.isEmpty()?s.hasChild(a)?P.trackChildChange(Pc(a,W)):(0,L.hu)(s.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):W.isEmpty()?P.trackChildChange(dd(a,d)):P.trackChildChange(Ul(a,d,W))),s.isLeafNode()&&d.isEmpty())?s:s.updateImmediateChild(a,d).withIndex(this.index_)}updateFullNode(s,a,d){return null!=d&&(s.isLeafNode()||s.forEachChild(Or,(g,C)=>{a.hasChild(g)||d.trackChildChange(Pc(g,C))}),a.isLeafNode()||a.forEachChild(Or,(g,C)=>{if(s.hasChild(g)){const P=s.getImmediateChild(g);P.equals(C)||d.trackChildChange(Ul(g,C,P))}else d.trackChildChange(dd(g,C))})),a.withIndex(this.index_)}updatePriority(s,a){return s.isEmpty()?Gn.EMPTY_NODE:s.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ru{constructor(s){this.indexedFilter_=new Hl(s.getIndex()),this.index_=s.getIndex(),this.startPost_=Ru.getStartPost_(s),this.endPost_=Ru.getEndPost_(s),this.startIsInclusive_=!s.startAfterSet_,this.endIsInclusive_=!s.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(s){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),s)<=0:this.index_.compare(this.getStartPost(),s)<0,d=this.endIsInclusive_?this.index_.compare(s,this.getEndPost())<=0:this.index_.compare(s,this.getEndPost())<0;return a&&d}updateChild(s,a,d,g,C,P){return this.matches(new cr(a,d))||(d=Gn.EMPTY_NODE),this.indexedFilter_.updateChild(s,a,d,g,C,P)}updateFullNode(s,a,d){a.isLeafNode()&&(a=Gn.EMPTY_NODE);let g=a.withIndex(this.index_);g=g.updatePriority(Gn.EMPTY_NODE);const C=this;return a.forEachChild(Or,(P,W)=>{C.matches(new cr(P,W))||(g=g.updateImmediateChild(P,Gn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(s,g,d)}updatePriority(s,a){return s}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(s){if(s.hasStart()){const a=s.getIndexStartName();return s.getIndex().makePost(s.getIndexStartValue(),a)}return s.getIndex().minPost()}static getEndPost_(s){if(s.hasEnd()){const a=s.getIndexEndName();return s.getIndex().makePost(s.getIndexEndValue(),a)}return s.getIndex().maxPost()}}class uc{constructor(s){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const d=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?d<=0:d<0},this.withinEndPost=a=>{const d=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?d<=0:d<0},this.rangedFilter_=new Ru(s),this.index_=s.getIndex(),this.limit_=s.getLimit(),this.reverse_=!s.isViewFromLeft(),this.startIsInclusive_=!s.startAfterSet_,this.endIsInclusive_=!s.endBeforeSet_}updateChild(s,a,d,g,C,P){return this.rangedFilter_.matches(new cr(a,d))||(d=Gn.EMPTY_NODE),s.getImmediateChild(a).equals(d)?s:s.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(s,a,d,g,C,P):this.fullLimitUpdateChild_(s,a,d,C,P)}updateFullNode(s,a,d){let g;if(a.isLeafNode()||a.isEmpty())g=Gn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<a.numChildren()&&a.isIndexed(this.index_)){let C;g=Gn.EMPTY_NODE.withIndex(this.index_),C=this.reverse_?a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let P=0;for(;C.hasNext()&&P<this.limit_;){const W=C.getNext();if(this.withinDirectionalStart(W)){if(!this.withinDirectionalEnd(W))break;g=g.updateImmediateChild(W.name,W.node),P++}}}else{let C;g=a.withIndex(this.index_),g=g.updatePriority(Gn.EMPTY_NODE),C=this.reverse_?g.getReverseIterator(this.index_):g.getIterator(this.index_);let P=0;for(;C.hasNext();){const W=C.getNext();P<this.limit_&&this.withinDirectionalStart(W)&&this.withinDirectionalEnd(W)?P++:g=g.updateImmediateChild(W.name,Gn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(s,g,d)}updatePriority(s,a){return s}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(s,a,d,g,C){let P;if(this.reverse_){const At=this.index_.getCompare();P=(Zt,En)=>At(En,Zt)}else P=this.index_.getCompare();const W=s;(0,L.hu)(W.numChildren()===this.limit_,"");const oe=new cr(a,d),be=this.reverse_?W.getFirstChild(this.index_):W.getLastChild(this.index_),vt=this.rangedFilter_.matches(oe);if(W.hasChild(a)){const At=W.getImmediateChild(a);let Zt=g.getChildAfterChild(this.index_,be,this.reverse_);for(;null!=Zt&&(Zt.name===a||W.hasChild(Zt.name));)Zt=g.getChildAfterChild(this.index_,Zt,this.reverse_);const En=null==Zt?1:P(Zt,oe);if(vt&&!d.isEmpty()&&En>=0)return C?.trackChildChange(Ul(a,d,At)),W.updateImmediateChild(a,d);{C?.trackChildChange(Pc(a,At));const ri=W.updateImmediateChild(a,Gn.EMPTY_NODE);return null!=Zt&&this.rangedFilter_.matches(Zt)?(C?.trackChildChange(dd(Zt.name,Zt.node)),ri.updateImmediateChild(Zt.name,Zt.node)):ri}}return d.isEmpty()?s:vt&&P(be,oe)>=0?(null!=C&&(C.trackChildChange(Pc(be.name,be.node)),C.trackChildChange(dd(a,d))),W.updateImmediateChild(a,d).updateImmediateChild(be.name,Gn.EMPTY_NODE)):s}}class Gh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Or}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:nl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ta}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Or}copy(){const s=new Gh;return s.limitSet_=this.limitSet_,s.limit_=this.limit_,s.startSet_=this.startSet_,s.startAfterSet_=this.startAfterSet_,s.indexStartValue_=this.indexStartValue_,s.startNameSet_=this.startNameSet_,s.indexStartName_=this.indexStartName_,s.endSet_=this.endSet_,s.endBeforeSet_=this.endBeforeSet_,s.indexEndValue_=this.indexEndValue_,s.endNameSet_=this.endNameSet_,s.indexEndName_=this.indexEndName_,s.index_=this.index_,s.viewFrom_=this.viewFrom_,s}}function Wh(c,s,a){const d=c.copy();return d.startSet_=!0,void 0===s&&(s=null),d.indexStartValue_=s,null!=a?(d.startNameSet_=!0,d.indexStartName_=a):(d.startNameSet_=!1,d.indexStartName_=""),d}function hd(c,s,a){const d=c.copy();return d.endSet_=!0,void 0===s&&(s=null),d.indexEndValue_=s,void 0!==a?(d.endNameSet_=!0,d.indexEndName_=a):(d.endNameSet_=!1,d.indexEndName_=""),d}function pd(c,s){const a=c.copy();return a.index_=s,a}function Qp(c){const s={};if(c.isDefault())return s;let a;if(c.index_===Or?a="$priority":c.index_===$f?a="$value":c.index_===xl?a="$key":((0,L.hu)(c.index_ instanceof Mu,"Unrecognized index type!"),a=c.index_.toString()),s.orderBy=(0,L.Wl)(a),c.startSet_){const d=c.startAfterSet_?"startAfter":"startAt";s[d]=(0,L.Wl)(c.indexStartValue_),c.startNameSet_&&(s[d]+=","+(0,L.Wl)(c.indexStartName_))}if(c.endSet_){const d=c.endBeforeSet_?"endBefore":"endAt";s[d]=(0,L.Wl)(c.indexEndValue_),c.endNameSet_&&(s[d]+=","+(0,L.Wl)(c.indexEndName_))}return c.limitSet_&&(c.isViewFromLeft()?s.limitToFirst=c.limit_:s.limitToLast=c.limit_),s}function md(c){const s={};if(c.startSet_&&(s.sp=c.indexStartValue_,c.startNameSet_&&(s.sn=c.indexStartName_),s.sin=!c.startAfterSet_),c.endSet_&&(s.ep=c.indexEndValue_,c.endNameSet_&&(s.en=c.indexEndName_),s.ein=!c.endBeforeSet_),c.limitSet_){s.l=c.limit_;let a=c.viewFrom_;""===a&&(a=c.isViewFromLeft()?"l":"r"),s.vf=a}return c.index_!==Or&&(s.i=c.index_.toString()),s}class Kh extends eo{constructor(s,a,d,g){super(),this.repoInfo_=s,this.onDataUpdate_=a,this.authTokenProvider_=d,this.appCheckTokenProvider_=g,this.log_=bl("p:rest:"),this.listens_={}}reportStats(s){throw new Error("Method not implemented.")}static getListenId_(s,a){return void 0!==a?"tag$"+a:((0,L.hu)(s._queryParams.isDefault(),"should have a tag if it's not a default query."),s._path.toString())}listen(s,a,d,g){const C=s._path.toString();this.log_("Listen called for "+C+" "+s._queryIdentifier);const P=Kh.getListenId_(s,d),W={};this.listens_[P]=W;const oe=Qp(s._queryParams);this.restRequest_(C+".json",oe,(be,vt)=>{let At=vt;if(404===be&&(At=null,be=null),null===be&&this.onDataUpdate_(C,At,!1,d),(0,L.DV)(this.listens_,P)===W){let Zt;Zt=be?401===be?"permission_denied":"rest_error:"+be:"ok",g(Zt,null)}})}unlisten(s,a){const d=Kh.getListenId_(s,a);delete this.listens_[d]}get(s){const a=Qp(s._queryParams),d=s._path.toString(),g=new L.BH;return this.restRequest_(d+".json",a,(C,P)=>{let W=P;404===C&&(W=null,C=null),null===C?(this.onDataUpdate_(d,W,!1,null),g.resolve(W)):g.reject(new Error(W))}),g.promise}refreshAuthToken(s){}restRequest_(s,a={},d){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([g,C])=>{g&&g.accessToken&&(a.auth=g.accessToken),C&&C.token&&(a.ac=C.token);const P=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+s+"?ns="+this.repoInfo_.namespace+(0,L.xO)(a);this.log_("Sending REST request for "+P);const W=new XMLHttpRequest;W.onreadystatechange=()=>{if(d&&4===W.readyState){this.log_("REST Response for "+P+" received. status:",W.status,"response:",W.responseText);let oe=null;if(W.status>=200&&W.status<300){try{oe=(0,L.cI)(W.responseText)}catch{Kr("Failed to parse JSON response for "+P+": "+W.responseText)}d(null,oe)}else 401!==W.status&&404!==W.status&&Kr("Got unsuccessful REST response for "+P+" Status: "+W.status),d(W.status);d=null}},W.open("GET",P,!0),W.send()})}}class ku{constructor(){this.rootNode_=Gn.EMPTY_NODE}getNode(s){return this.rootNode_.getChild(s)}updateSnapshot(s,a){this.rootNode_=this.rootNode_.updateChild(s,a)}}function Jc(){return{value:null,children:new Map}}function cl(c,s,a){if($n(s))c.value=a,c.children.clear();else if(null!==c.value)c.value=c.value.updateChild(s,a);else{const d=ee(s);c.children.has(d)||c.children.set(d,Jc()),cl(c.children.get(d),s=Je(s),a)}}function Wf(c,s){if($n(s))return c.value=null,c.children.clear(),!0;if(null!==c.value){if(c.value.isLeafNode())return!1;{const a=c.value;return c.value=null,a.forEachChild(Or,(d,g)=>{cl(c,new O(d),g)}),Wf(c,s)}}if(c.children.size>0){const a=ee(s);return s=Je(s),c.children.has(a)&&Wf(c.children.get(a),s)&&c.children.delete(a),0===c.children.size}return!0}function Kf(c,s,a){null!==c.value?a(s,c.value):function ig(c,s){c.children.forEach((a,d)=>{s(d,a)})}(c,(d,g)=>{Kf(g,new O(s.toString()+"/"+d),a)})}class ul{constructor(s){this.collection_=s,this.last_=null}get(){const s=this.collection_.get(),a=Object.assign({},s);return this.last_&&ts(this.last_,(d,g)=>{a[d]=a[d]-g}),this.last_=s,a}}class em{constructor(s,a){this.server_=a,this.statsToReport_={},this.statsListener_=new ul(s);const d=1e4+2e4*Math.random();tn(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const s=this.statsListener_.get(),a={};let d=!1;ts(s,(g,C)=>{C>0&&(0,L.r3)(this.statsToReport_,g)&&(a[g]=C,d=!0)}),d&&this.server_.reportStats(a),tn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var jl=(()=>{return(c=jl||(jl={}))[c.OVERWRITE=0]="OVERWRITE",c[c.MERGE=1]="MERGE",c[c.ACK_USER_WRITE=2]="ACK_USER_WRITE",c[c.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",jl;var c})();function wr(c){return{fromUser:!1,fromServer:!0,queryId:c,tagged:!0}}class Yh{constructor(s,a,d){this.path=s,this.affectedTree=a,this.revert=d,this.type=jl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(s){if($n(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new O(s));return new Yh(z(),a,this.revert)}}return(0,L.hu)(ee(this.path)===s,"operationForChild called for unrelated child."),new Yh(Je(this.path),this.affectedTree,this.revert)}}class Qd{constructor(s,a){this.source=s,this.path=a,this.type=jl.LISTEN_COMPLETE}operationForChild(s){return $n(this.path)?new Qd(this.source,z()):new Qd(this.source,Je(this.path))}}class tu{constructor(s,a,d){this.source=s,this.path=a,this.snap=d,this.type=jl.OVERWRITE}operationForChild(s){return $n(this.path)?new tu(this.source,z(),this.snap.getImmediateChild(s)):new tu(this.source,Je(this.path),this.snap)}}class nu{constructor(s,a,d){this.source=s,this.path=a,this.children=d,this.type=jl.MERGE}operationForChild(s){if($n(this.path)){const a=this.children.subtree(new O(s));return a.isEmpty()?null:a.value?new tu(this.source,z(),a.value):new nu(this.source,z(),a)}return(0,L.hu)(ee(this.path)===s,"Can't get a merge for a child not on the path of the operation"),new nu(this.source,Je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class zl{constructor(s,a,d){this.node_=s,this.fullyInitialized_=a,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(s){if($n(s))return this.isFullyInitialized()&&!this.filtered_;const a=ee(s);return this.isCompleteForChild(a)}isCompleteForChild(s){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(s)}getNode(){return this.node_}}class iu{constructor(s){this.query_=s,this.index_=this.query_._queryParams.getIndex()}}function gd(c,s,a,d,g,C){const P=d.filter(W=>W.type===a);P.sort((W,oe)=>function Jd(c,s,a){if(null==s.childName||null==a.childName)throw(0,L.g5)("Should only compare child_ events.");const d=new cr(s.childName,s.snapshotNode),g=new cr(a.childName,a.snapshotNode);return c.index_.compare(d,g)}(c,W,oe)),P.forEach(W=>{const oe=function Yf(c,s,a){return"value"===s.type||"child_removed"===s.type||(s.prevName=a.getPredecessorChildName(s.childName,s.snapshotNode,c.index_)),s}(c,W,C);g.forEach(be=>{be.respondsTo(W.type)&&s.push(be.createEvent(oe,c.query_))})})}function _d(c,s){return{eventCache:c,serverCache:s}}function Ou(c,s,a,d){return _d(new zl(s,a,d),c.serverCache)}function Zf(c,s,a,d){return _d(c.eventCache,new zl(s,a,d))}function yd(c){return c.eventCache.isFullyInitialized()?c.eventCache.getNode():null}function Nc(c){return c.serverCache.isFullyInitialized()?c.serverCache.getNode():null}let nm;class cs{constructor(s,a=(()=>(nm||(nm=new w(Gd)),nm))()){this.value=s,this.children=a}static fromObject(s){let a=new cs(null);return ts(s,(d,g)=>{a=a.set(new O(d),g)}),a}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(s,a){if(null!=this.value&&a(this.value))return{path:z(),value:this.value};if($n(s))return null;{const d=ee(s),g=this.children.get(d);if(null!==g){const C=g.findRootMostMatchingPathAndValue(Je(s),a);return null!=C?{path:jn(new O(d),C.path),value:C.value}:null}return null}}findRootMostValueAndPath(s){return this.findRootMostMatchingPathAndValue(s,()=>!0)}subtree(s){if($n(s))return this;{const a=ee(s),d=this.children.get(a);return null!==d?d.subtree(Je(s)):new cs(null)}}set(s,a){if($n(s))return new cs(a,this.children);{const d=ee(s),C=(this.children.get(d)||new cs(null)).set(Je(s),a),P=this.children.insert(d,C);return new cs(this.value,P)}}remove(s){if($n(s))return this.children.isEmpty()?new cs(null):new cs(null,this.children);{const a=ee(s),d=this.children.get(a);if(d){const g=d.remove(Je(s));let C;return C=g.isEmpty()?this.children.remove(a):this.children.insert(a,g),null===this.value&&C.isEmpty()?new cs(null):new cs(this.value,C)}return this}}get(s){if($n(s))return this.value;{const a=ee(s),d=this.children.get(a);return d?d.get(Je(s)):null}}setTree(s,a){if($n(s))return a;{const d=ee(s),C=(this.children.get(d)||new cs(null)).setTree(Je(s),a);let P;return P=C.isEmpty()?this.children.remove(d):this.children.insert(d,C),new cs(this.value,P)}}fold(s){return this.fold_(z(),s)}fold_(s,a){const d={};return this.children.inorderTraversal((g,C)=>{d[g]=C.fold_(jn(s,g),a)}),a(s,this.value,d)}findOnPath(s,a){return this.findOnPath_(s,z(),a)}findOnPath_(s,a,d){const g=!!this.value&&d(a,this.value);if(g)return g;if($n(s))return null;{const C=ee(s),P=this.children.get(C);return P?P.findOnPath_(Je(s),jn(a,C),d):null}}foreachOnPath(s,a){return this.foreachOnPath_(s,z(),a)}foreachOnPath_(s,a,d){if($n(s))return this;{this.value&&d(a,this.value);const g=ee(s),C=this.children.get(g);return C?C.foreachOnPath_(Je(s),jn(a,g),d):new cs(null)}}foreach(s){this.foreach_(z(),s)}foreach_(s,a){this.children.inorderTraversal((d,g)=>{g.foreach_(jn(s,d),a)}),this.value&&a(s,this.value)}foreachChild(s){this.children.inorderTraversal((a,d)=>{d.value&&s(a,d.value)})}}class $l{constructor(s){this.writeTree_=s}static empty(){return new $l(new cs(null))}}function Zh(c,s,a){if($n(s))return new $l(new cs(a));{const d=c.writeTree_.findRootMostValueAndPath(s);if(null!=d){const g=d.path;let C=d.value;const P=Ei(g,s);return C=C.updateChild(P,a),new $l(c.writeTree_.set(g,C))}{const g=new cs(a),C=c.writeTree_.setTree(s,g);return new $l(C)}}}function im(c,s,a){let d=c;return ts(a,(g,C)=>{d=Zh(d,jn(s,g),C)}),d}function rg(c,s){if($n(s))return $l.empty();{const a=c.writeTree_.setTree(s,new cs(null));return new $l(a)}}function qf(c,s){return null!=Gl(c,s)}function Gl(c,s){const a=c.writeTree_.findRootMostValueAndPath(s);return null!=a?c.writeTree_.get(a.path).getChild(Ei(a.path,s)):null}function Pu(c){const s=[],a=c.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(Or,(d,g)=>{s.push(new cr(d,g))}):c.writeTree_.children.inorderTraversal((d,g)=>{null!=g.value&&s.push(new cr(d,g.value))}),s}function dc(c,s){if($n(s))return c;{const a=Gl(c,s);return new $l(null!=a?new cs(a):c.writeTree_.subtree(s))}}function rm(c){return c.writeTree_.isEmpty()}function er(c,s){return Qf(z(),c.writeTree_,s)}function Qf(c,s,a){if(null!=s.value)return a.updateChild(c,s.value);{let d=null;return s.children.inorderTraversal((g,C)=>{".priority"===g?((0,L.hu)(null!==C.value,"Priority writes must always be leaf nodes"),d=C.value):a=Qf(jn(c,g),C,a)}),!a.getChild(c).isEmpty()&&null!==d&&(a=a.updateChild(jn(c,".priority"),d)),a}}function qh(c,s){return su(s,c)}function Qh(c,s){if(c.snap)return Bo(c.path,s);for(const a in c.children)if(c.children.hasOwnProperty(a)&&Bo(jn(c.path,a),s))return!0;return!1}function om(c){return c.visible}function ag(c,s,a){let d=$l.empty();for(let g=0;g<c.length;++g){const C=c[g];if(s(C)){const P=C.path;let W;if(C.snap)Bo(a,P)?(W=Ei(a,P),d=Zh(d,W,C.snap)):Bo(P,a)&&(W=Ei(P,a),d=Zh(d,z(),C.snap.getChild(W)));else{if(!C.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(Bo(a,P))W=Ei(a,P),d=im(d,W,C.children);else if(Bo(P,a))if(W=Ei(P,a),$n(W))d=im(d,z(),C.children);else{const oe=(0,L.DV)(C.children,ee(W));if(oe){const be=oe.getChild(Je(W));d=Zh(d,z(),be)}}}}}return d}function c_(c,s,a,d,g){if(d||g){const C=dc(c.visibleWrites,s);return!g&&rm(C)?a:g||null!=a||qf(C,z())?er(ag(c.allWrites,function(be){return(be.visible||g)&&(!d||!~d.indexOf(be.writeId))&&(Bo(be.path,s)||Bo(s,be.path))},s),a||Gn.EMPTY_NODE):null}{const C=Gl(c.visibleWrites,s);if(null!=C)return C;{const P=dc(c.visibleWrites,s);return rm(P)?a:null!=a||qf(P,z())?er(P,a||Gn.EMPTY_NODE):null}}}function Jh(c,s,a,d){return c_(c.writeTree,c.treePath,s,a,d)}function Jf(c,s){return function Xh(c,s,a){let d=Gn.EMPTY_NODE;const g=Gl(c.visibleWrites,s);if(g)return g.isLeafNode()||g.forEachChild(Or,(C,P)=>{d=d.updateImmediateChild(C,P)}),d;if(a){const C=dc(c.visibleWrites,s);return a.forEachChild(Or,(P,W)=>{const oe=er(dc(C,new O(P)),W);d=d.updateImmediateChild(P,oe)}),Pu(C).forEach(P=>{d=d.updateImmediateChild(P.name,P.node)}),d}return Pu(dc(c.visibleWrites,s)).forEach(P=>{d=d.updateImmediateChild(P.name,P.node)}),d}(c.writeTree,c.treePath,s)}function ep(c,s,a,d){return function bd(c,s,a,d,g){(0,L.hu)(d||g,"Either existingEventSnap or existingServerSnap must exist");const C=jn(s,a);if(qf(c.visibleWrites,C))return null;{const P=dc(c.visibleWrites,C);return rm(P)?g.getChild(a):er(P,g.getChild(a))}}(c.writeTree,c.treePath,s,a,d)}function eh(c,s){return function lg(c,s){return Gl(c.visibleWrites,s)}(c.writeTree,jn(c.treePath,s))}function ef(c,s,a){return function Xf(c,s,a,d){const g=jn(s,a),C=Gl(c.visibleWrites,g);return null!=C?C:d.isCompleteForChild(a)?er(dc(c.visibleWrites,g),d.getNode().getImmediateChild(a)):null}(c.writeTree,c.treePath,s,a)}function ru(c,s){return su(jn(c.treePath,s),c.writeTree)}function su(c,s){return{treePath:c,writeTree:s}}class lm{constructor(){this.changeMap=new Map}trackChildChange(s){const a=s.type,d=s.childName;(0,L.hu)("child_added"===a||"child_changed"===a||"child_removed"===a,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==d,"Only non-priority child changes can be tracked.");const g=this.changeMap.get(d);if(g){const C=g.type;if("child_added"===a&&"child_removed"===C)this.changeMap.set(d,Ul(d,s.snapshotNode,g.snapshotNode));else if("child_removed"===a&&"child_added"===C)this.changeMap.delete(d);else if("child_removed"===a&&"child_changed"===C)this.changeMap.set(d,Pc(d,g.oldSnap));else if("child_changed"===a&&"child_added"===C)this.changeMap.set(d,dd(d,s.snapshotNode));else{if("child_changed"!==a||"child_changed"!==C)throw(0,L.g5)("Illegal combination of changes: "+s+" occurred after "+g);this.changeMap.set(d,Ul(d,s.snapshotNode,g.oldSnap))}}else this.changeMap.set(d,s)}getChanges(){return Array.from(this.changeMap.values())}}const ou=new class ug{getCompleteChild(s){return null}getChildAfterChild(s,a,d){return null}};class hc{constructor(s,a,d=null){this.writes_=s,this.viewCache_=a,this.optCompleteServerCache_=d}getCompleteChild(s){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(s))return a.getNode().getImmediateChild(s);{const d=null!=this.optCompleteServerCache_?new zl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ef(this.writes_,s,d)}}getChildAfterChild(s,a,d){const g=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Nc(this.viewCache_),C=function Q_(c,s,a,d,g,C){return function am(c,s,a,d,g,C,P){let W;const oe=dc(c.visibleWrites,s),be=Gl(oe,z());if(null!=be)W=be;else{if(null==a)return[];W=er(oe,a)}if(W=W.withIndex(P),W.isEmpty()||W.isLeafNode())return[];{const vt=[],At=P.getCompare(),Zt=C?W.getReverseIteratorFrom(d,P):W.getIteratorFrom(d,P);let En=Zt.getNext();for(;En&&vt.length<g;)0!==At(En,d)&&vt.push(En),En=Zt.getNext();return vt}}(c.writeTree,c.treePath,s,a,d,g,C)}(this.writes_,g,a,1,d,s);return 0===C.length?null:C[0]}}function fc(c,s,a,d,g,C){const P=s.eventCache;if(null!=eh(d,a))return s;{let W,oe;if($n(a))if((0,L.hu)(s.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),s.serverCache.isFiltered()){const be=Nc(s),At=Jf(d,be instanceof Gn?be:Gn.EMPTY_NODE);W=c.filter.updateFullNode(s.eventCache.getNode(),At,C)}else{const be=Jh(d,Nc(s));W=c.filter.updateFullNode(s.eventCache.getNode(),be,C)}else{const be=ee(a);if(".priority"===be){(0,L.hu)(1===ze(a),"Can't have a priority with additional path components");const vt=P.getNode();oe=s.serverCache.getNode();const At=ep(d,a,vt,oe);W=null!=At?c.filter.updatePriority(vt,At):P.getNode()}else{const vt=Je(a);let At;if(P.isCompleteForChild(be)){oe=s.serverCache.getNode();const Zt=ep(d,a,P.getNode(),oe);At=null!=Zt?P.getNode().getImmediateChild(be).updateChild(vt,Zt):P.getNode().getImmediateChild(be)}else At=ef(d,be,s.serverCache);W=null!=At?c.filter.updateChild(P.getNode(),be,At,vt,g,C):P.getNode()}}return Ou(s,W,P.isFullyInitialized()||$n(a),c.filter.filtersNodes())}}function Ra(c,s,a,d,g,C,P,W){const oe=s.serverCache;let be;const vt=P?c.filter:c.filter.getIndexedFilter();if($n(a))be=vt.updateFullNode(oe.getNode(),d,null);else if(vt.filtersNodes()&&!oe.isFiltered()){const En=oe.getNode().updateChild(a,d);be=vt.updateFullNode(oe.getNode(),En,null)}else{const En=ee(a);if(!oe.isCompleteForPath(a)&&ze(a)>1)return s;const Dn=Je(a),Ki=oe.getNode().getImmediateChild(En).updateChild(Dn,d);be=".priority"===En?vt.updatePriority(oe.getNode(),Ki):vt.updateChild(oe.getNode(),En,Ki,Dn,ou,null)}const At=Zf(s,be,oe.isFullyInitialized()||$n(a),vt.filtersNodes());return fc(c,At,a,g,new hc(g,At,C),W)}function Fc(c,s,a,d,g,C,P){const W=s.eventCache;let oe,be;const vt=new hc(g,s,C);if($n(a))be=c.filter.updateFullNode(s.eventCache.getNode(),d,P),oe=Ou(s,be,!0,c.filter.filtersNodes());else{const At=ee(a);if(".priority"===At)be=c.filter.updatePriority(s.eventCache.getNode(),d),oe=Ou(s,be,W.isFullyInitialized(),W.isFiltered());else{const Zt=Je(a),En=W.getNode().getImmediateChild(At);let Dn;if($n(Zt))Dn=d;else{const ri=vt.getCompleteChild(At);Dn=null!=ri?".priority"===Tt(Zt)&&ri.getChild(Nn(Zt)).isEmpty()?ri:ri.updateChild(Zt,d):Gn.EMPTY_NODE}oe=En.equals(Dn)?s:Ou(s,c.filter.updateChild(W.getNode(),At,Dn,Zt,vt,P),W.isFullyInitialized(),c.filter.filtersNodes())}}return oe}function Nu(c,s){return c.eventCache.isCompleteForChild(s)}function ip(c,s,a){return a.foreach((d,g)=>{s=s.updateChild(d,g)}),s}function nh(c,s,a,d,g,C,P,W){if(s.serverCache.getNode().isEmpty()&&!s.serverCache.isFullyInitialized())return s;let be,oe=s;be=$n(a)?d:new cs(null).setTree(a,d);const vt=s.serverCache.getNode();return be.children.inorderTraversal((At,Zt)=>{if(vt.hasChild(At)){const Dn=ip(0,s.serverCache.getNode().getImmediateChild(At),Zt);oe=Ra(c,oe,new O(At),Dn,g,C,P,W)}}),be.children.inorderTraversal((At,Zt)=>{const En=!s.serverCache.isCompleteForChild(At)&&null===Zt.value;if(!vt.hasChild(At)&&!En){const ri=ip(0,s.serverCache.getNode().getImmediateChild(At),Zt);oe=Ra(c,oe,new O(At),ri,g,C,P,W)}}),oe}class pg{constructor(s,a){this.query_=s,this.eventRegistrations_=[];const d=this.query_._queryParams,g=new Hl(d.getIndex()),C=function ng(c){return c.loadsAllData()?new Hl(c.getIndex()):c.hasLimit()?new uc(c):new Ru(c)}(d);this.processor_=function tp(c){return{filter:c}}(C);const P=a.serverCache,W=a.eventCache,oe=g.updateFullNode(Gn.EMPTY_NODE,P.getNode(),null),be=C.updateFullNode(Gn.EMPTY_NODE,W.getNode(),null),vt=new zl(oe,P.isFullyInitialized(),g.filtersNodes()),At=new zl(be,W.isFullyInitialized(),C.filtersNodes());this.viewCache_=_d(At,vt),this.eventGenerator_=new iu(this.query_)}get query(){return this.query_}}function ih(c,s){const a=Nc(c.viewCache_);return a&&(c.query._queryParams.loadsAllData()||!$n(s)&&!a.getImmediateChild(ee(s)).isEmpty())?a.getChild(s):null}function Fu(c){return 0===c.eventRegistrations_.length}function gg(c,s,a){const d=[];if(a){(0,L.hu)(null==s,"A cancel should cancel all event registrations.");const g=c.query._path;c.eventRegistrations_.forEach(C=>{const P=C.createCancelEvent(a,g);P&&d.push(P)})}if(s){let g=[];for(let C=0;C<c.eventRegistrations_.length;++C){const P=c.eventRegistrations_[C];if(P.matches(s)){if(s.hasAnyCallback()){g=g.concat(c.eventRegistrations_.slice(C+1));break}}else g.push(P)}c.eventRegistrations_=g}else c.eventRegistrations_=[];return d}function _g(c,s,a,d){s.type===jl.MERGE&&null!==s.source.queryId&&((0,L.hu)(Nc(c.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(yd(c.viewCache_),"Missing event cache, even though we have a server cache"));const g=c.viewCache_,C=function dg(c,s,a,d,g){const C=new lm;let P,W;if(a.type===jl.OVERWRITE){const be=a;be.source.fromUser?P=Fc(c,s,be.path,be.snap,d,g,C):((0,L.hu)(be.source.fromServer,"Unknown source."),W=be.source.tagged||s.serverCache.isFiltered()&&!$n(be.path),P=Ra(c,s,be.path,be.snap,d,g,W,C))}else if(a.type===jl.MERGE){const be=a;be.source.fromUser?P=function hg(c,s,a,d,g,C,P){let W=s;return d.foreach((oe,be)=>{const vt=jn(a,oe);Nu(s,ee(vt))&&(W=Fc(c,W,vt,be,g,C,P))}),d.foreach((oe,be)=>{const vt=jn(a,oe);Nu(s,ee(vt))||(W=Fc(c,W,vt,be,g,C,P))}),W}(c,s,be.path,be.children,d,g,C):((0,L.hu)(be.source.fromServer,"Unknown source."),W=be.source.tagged||s.serverCache.isFiltered(),P=nh(c,s,be.path,be.children,d,g,W,C))}else if(a.type===jl.ACK_USER_WRITE){const be=a;P=be.revert?function u_(c,s,a,d,g,C){let P;if(null!=eh(d,a))return s;{const W=new hc(d,s,g),oe=s.eventCache.getNode();let be;if($n(a)||".priority"===ee(a)){let vt;if(s.serverCache.isFullyInitialized())vt=Jh(d,Nc(s));else{const At=s.serverCache.getNode();(0,L.hu)(At instanceof Gn,"serverChildren would be complete if leaf node"),vt=Jf(d,At)}be=c.filter.updateFullNode(oe,vt,C)}else{const vt=ee(a);let At=ef(d,vt,s.serverCache);null==At&&s.serverCache.isCompleteForChild(vt)&&(At=oe.getImmediateChild(vt)),be=null!=At?c.filter.updateChild(oe,vt,At,Je(a),W,C):s.eventCache.getNode().hasChild(vt)?c.filter.updateChild(oe,vt,Gn.EMPTY_NODE,Je(a),W,C):oe,be.isEmpty()&&s.serverCache.isFullyInitialized()&&(P=Jh(d,Nc(s)),P.isLeafNode()&&(be=c.filter.updateFullNode(be,P,C)))}return P=s.serverCache.isFullyInitialized()||null!=eh(d,z()),Ou(s,be,P,c.filter.filtersNodes())}}(c,s,be.path,d,g,C):function wd(c,s,a,d,g,C,P){if(null!=eh(g,a))return s;const W=s.serverCache.isFiltered(),oe=s.serverCache;if(null!=d.value){if($n(a)&&oe.isFullyInitialized()||oe.isCompleteForPath(a))return Ra(c,s,a,oe.getNode().getChild(a),g,C,W,P);if($n(a)){let be=new cs(null);return oe.getNode().forEachChild(xl,(vt,At)=>{be=be.set(new O(vt),At)}),nh(c,s,a,be,g,C,W,P)}return s}{let be=new cs(null);return d.foreach((vt,At)=>{const Zt=jn(a,vt);oe.isCompleteForPath(Zt)&&(be=be.set(vt,oe.getNode().getChild(Zt)))}),nh(c,s,a,be,g,C,W,P)}}(c,s,be.path,be.affectedTree,d,g,C)}else{if(a.type!==jl.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+a.type);P=function fg(c,s,a,d,g){const C=s.serverCache;return fc(c,Zf(s,C.getNode(),C.isFullyInitialized()||$n(a),C.isFiltered()),a,d,ou,g)}(c,s,a.path,d,C)}const oe=C.getChanges();return function th(c,s,a){const d=s.eventCache;if(d.isFullyInitialized()){const g=d.getNode().isLeafNode()||d.getNode().isEmpty(),C=yd(c);(a.length>0||!c.eventCache.isFullyInitialized()||g&&!d.getNode().equals(C)||!d.getNode().getPriority().equals(C.getPriority()))&&a.push(tg(yd(s)))}}(s,P,oe),{viewCache:P,changes:oe}}(c.processor_,g,s,a,d);return function np(c,s){(0,L.hu)(s.eventCache.getNode().isIndexed(c.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(s.serverCache.getNode().isIndexed(c.filter.getIndex()),"Server snap not indexed")}(c.processor_,C.viewCache),(0,L.hu)(C.viewCache.serverCache.isFullyInitialized()||!g.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),c.viewCache_=C.viewCache,yg(c,C.changes,C.viewCache.eventCache.getNode(),null)}function yg(c,s,a,d){return function Xd(c,s,a,d){const g=[],C=[];return s.forEach(P=>{"child_changed"===P.type&&c.index_.indexedValueChanged(P.oldSnap,P.snapshotNode)&&C.push(function qp(c,s){return{type:"child_moved",snapshotNode:s,childName:c}}(P.childName,P.snapshotNode))}),gd(c,g,"child_removed",s,d,a),gd(c,g,"child_added",s,d,a),gd(c,g,"child_moved",C,d,a),gd(c,g,"child_changed",s,d,a),gd(c,g,"value",s,d,a),g}(c.eventGenerator_,s,a,d?[d]:c.eventRegistrations_)}let Il,rh;class Kl{constructor(){this.views=new Map}}function op(c,s,a,d){const g=s.source.queryId;if(null!==g){const C=c.views.get(g);return(0,L.hu)(null!=C,"SyncTree gave us an op for an invalid query."),_g(C,s,a,d)}{let C=[];for(const P of c.views.values())C=C.concat(_g(P,s,a,d));return C}}function vg(c,s,a,d,g){const P=c.views.get(s._queryIdentifier);if(!P){let W=Jh(a,g?d:null),oe=!1;W?oe=!0:d instanceof Gn?(W=Jf(a,d),oe=!1):(W=Gn.EMPTY_NODE,oe=!1);const be=_d(new zl(W,oe,!1),new zl(d,g,!1));return new pg(s,be)}return P}function nf(c){const s=[];for(const a of c.views.values())a.query._queryParams.loadsAllData()||s.push(a);return s}function Yl(c,s){let a=null;for(const d of c.views.values())a=a||ih(d,s);return a}function cp(c,s){return s._queryParams.loadsAllData()?up(c):c.views.get(s._queryIdentifier)}function rf(c,s){return null!=cp(c,s)}function za(c){return null!=up(c)}function up(c){for(const s of c.views.values())if(s.query._queryParams.loadsAllData())return s;return null}let bg=1;class Ed{constructor(s){this.listenProvider_=s,this.syncPointTree_=new cs(null),this.pendingWriteTree_=function cg(){return{visibleWrites:$l.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sh(c,s,a,d,g){return function vd(c,s,a,d,g){(0,L.hu)(d>c.lastWriteId,"Stacking an older write on top of newer ones"),void 0===g&&(g=!0),c.allWrites.push({path:s,snap:a,writeId:d,visible:g}),g&&(c.visibleWrites=Zh(c.visibleWrites,s,a)),c.lastWriteId=d}(c.pendingWriteTree_,s,a,d,g),g?ah(c,new tu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,a)):[]}function ga(c,s,a=!1){const d=function sm(c,s){for(let a=0;a<c.allWrites.length;a++){const d=c.allWrites[a];if(d.writeId===s)return d}return null}(c.pendingWriteTree_,s);if(function sg(c,s){const a=c.allWrites.findIndex(W=>W.writeId===s);(0,L.hu)(a>=0,"removeWrite called with nonexistent writeId.");const d=c.allWrites[a];c.allWrites.splice(a,1);let g=d.visible,C=!1,P=c.allWrites.length-1;for(;g&&P>=0;){const W=c.allWrites[P];W.visible&&(P>=a&&Qh(W,d.path)?g=!1:Bo(d.path,W.path)&&(C=!0)),P--}return!!g&&(C?(function og(c){c.visibleWrites=ag(c.allWrites,om,z()),c.lastWriteId=c.allWrites.length>0?c.allWrites[c.allWrites.length-1].writeId:-1}(c),!0):(d.snap?c.visibleWrites=rg(c.visibleWrites,d.path):ts(d.children,oe=>{c.visibleWrites=rg(c.visibleWrites,jn(d.path,oe))}),!0))}(c.pendingWriteTree_,s)){let C=new cs(null);return null!=d.snap?C=C.set(z(),!0):ts(d.children,P=>{C=C.set(new O(P),!0)}),ah(c,new Yh(d.path,C,a))}return[]}function oh(c,s,a){return ah(c,new tu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,a))}function Vu(c,s,a,d,g=!1){const C=s._path,P=c.syncPointTree_.get(C);let W=[];if(P&&("default"===s._queryIdentifier||rf(P,s))){const oe=function lp(c,s,a,d){const g=s._queryIdentifier,C=[];let P=[];const W=za(c);if("default"===g)for(const[oe,be]of c.views.entries())P=P.concat(gg(be,a,d)),Fu(be)&&(c.views.delete(oe),be.query._queryParams.loadsAllData()||C.push(be.query));else{const oe=c.views.get(g);oe&&(P=P.concat(gg(oe,a,d)),Fu(oe)&&(c.views.delete(g),oe.query._queryParams.loadsAllData()||C.push(oe.query)))}return W&&!za(c)&&C.push(new(function cm(){return(0,L.hu)(Il,"Reference.ts has not been loaded"),Il}())(s._repo,s._path)),{removed:C,events:P}}(P,s,a,d);(function d_(c){return 0===c.views.size})(P)&&(c.syncPointTree_=c.syncPointTree_.remove(C));const be=oe.removed;if(W=oe.events,!g){const vt=-1!==be.findIndex(Zt=>Zt._queryParams.loadsAllData()),At=c.syncPointTree_.findOnPath(C,(Zt,En)=>za(En));if(vt&&!At){const Zt=c.syncPointTree_.subtree(C);if(!Zt.isEmpty()){const En=function Eg(c){return c.fold((s,a,d)=>{if(a&&za(a))return[up(a)];{let g=[];return a&&(g=nf(a)),ts(d,(C,P)=>{g=g.concat(P)}),g}})}(Zt);for(let Dn=0;Dn<En.length;++Dn){const ri=En[Dn],Ki=ri.query,Er=cu(c,ri);c.listenProvider_.startListening(Uu(Ki),Dd(c,Ki),Er.hashFn,Er.onComplete)}}}!At&&be.length>0&&!d&&(vt?c.listenProvider_.stopListening(Uu(s),null):be.forEach(Zt=>{const En=c.queryToTagMap.get(hp(Zt));c.listenProvider_.stopListening(Uu(Zt),En)}))}!function Cg(c,s){for(let a=0;a<s.length;++a){const d=s[a];if(!d._queryParams.loadsAllData()){const g=hp(d),C=c.queryToTagMap.get(g);c.queryToTagMap.delete(g),c.tagToQueryMap.delete(C)}}}(c,be)}return W}function wg(c,s,a,d){const g=fp(c,d);if(null!=g){const C=dm(g),P=C.path,W=C.queryId,oe=Ei(P,s);return pp(c,P,new tu(wr(W),oe,a))}return[]}function lu(c,s,a,d=!1){const g=s._path;let C=null,P=!1;c.syncPointTree_.foreachOnPath(g,(Zt,En)=>{const Dn=Ei(Zt,g);C=C||Yl(En,Dn),P=P||za(En)});let oe,W=c.syncPointTree_.get(g);W?(P=P||za(W),C=C||Yl(W,z())):(W=new Kl,c.syncPointTree_=c.syncPointTree_.set(g,W)),null!=C?oe=!0:(oe=!1,C=Gn.EMPTY_NODE,c.syncPointTree_.subtree(g).foreachChild((En,Dn)=>{const ri=Yl(Dn,z());ri&&(C=C.updateImmediateChild(En,ri))}));const be=rf(W,s);if(!be&&!s._queryParams.loadsAllData()){const Zt=hp(s);(0,L.hu)(!c.queryToTagMap.has(Zt),"View does not exist, but we have a tag");const En=function p_(){return bg++}();c.queryToTagMap.set(Zt,En),c.tagToQueryMap.set(En,Zt)}let At=function ap(c,s,a,d,g,C){const P=vg(c,s,d,g,C);return c.views.has(s._queryIdentifier)||c.views.set(s._queryIdentifier,P),function mg(c,s){c.eventRegistrations_.push(s)}(P,a),function tf(c,s){const a=c.viewCache_.eventCache,d=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Or,(C,P)=>{d.push(dd(C,P))}),a.isFullyInitialized()&&d.push(tg(a.getNode())),yg(c,d,a.getNode(),s)}(P,a)}(W,s,a,qh(c.pendingWriteTree_,g),C,oe);if(!be&&!P&&!d){const Zt=cp(W,s);At=At.concat(function sr(c,s,a){const d=s._path,g=Dd(c,s),C=cu(c,a),P=c.listenProvider_.startListening(Uu(s),g,C.hashFn,C.onComplete),W=c.syncPointTree_.subtree(d);if(g)(0,L.hu)(!za(W.value),"If we're adding a query, it shouldn't be shadowed");else{const oe=W.fold((be,vt,At)=>{if(!$n(be)&&vt&&za(vt))return[up(vt).query];{let Zt=[];return vt&&(Zt=Zt.concat(nf(vt).map(En=>En.query))),ts(At,(En,Dn)=>{Zt=Zt.concat(Dn)}),Zt}});for(let be=0;be<oe.length;++be){const vt=oe[be];c.listenProvider_.stopListening(Uu(vt),Dd(c,vt))}}return P}(c,s,Zt))}return At}function sf(c,s,a){const g=c.pendingWriteTree_,C=c.syncPointTree_.findOnPath(s,(P,W)=>{const be=Yl(W,Ei(P,s));if(be)return be});return c_(g,s,C,a,!0)}function ah(c,s){return Cd(s,c.syncPointTree_,null,qh(c.pendingWriteTree_,z()))}function Cd(c,s,a,d){if($n(c.path))return Tl(c,s,a,d);{const g=s.get(z());null==a&&null!=g&&(a=Yl(g,z()));let C=[];const P=ee(c.path),W=c.operationForChild(P),oe=s.children.get(P);if(oe&&W){const be=a?a.getImmediateChild(P):null,vt=ru(d,P);C=C.concat(Cd(W,oe,be,vt))}return g&&(C=C.concat(op(g,c,d,a))),C}}function Tl(c,s,a,d){const g=s.get(z());null==a&&null!=g&&(a=Yl(g,z()));let C=[];return s.children.inorderTraversal((P,W)=>{const oe=a?a.getImmediateChild(P):null,be=ru(d,P),vt=c.operationForChild(P);vt&&(C=C.concat(Tl(vt,W,oe,be)))}),g&&(C=C.concat(op(g,c,d,a))),C}function cu(c,s){const a=s.query,d=Dd(c,a);return{hashFn:()=>(function rp(c){return c.viewCache_.serverCache.getNode()}(s)||Gn.EMPTY_NODE).hash(),onComplete:g=>{if("ok"===g)return d?function um(c,s,a){const d=fp(c,a);if(d){const g=dm(d),C=g.path,P=g.queryId,W=Ei(C,s);return pp(c,C,new Qd(wr(P),W))}return[]}(c,a._path,d):function f_(c,s){return ah(c,new Qd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s))}(c,a._path);{const C=function N(c,s){let a="Unknown Error";"too_big"===c?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===c?a="Client doesn't have permission to access the desired data.":"unavailable"===c&&(a="The service is unavailable");const d=new Error(c+" at "+s._path.toString()+": "+a);return d.code=c.toUpperCase(),d}(g,a);return Vu(c,a,null,C)}}}}function Dd(c,s){const a=hp(s);return c.queryToTagMap.get(a)}function hp(c){return c._path.toString()+"$"+c._queryIdentifier}function fp(c,s){return c.tagToQueryMap.get(s)}function dm(c){const s=c.indexOf("$");return(0,L.hu)(-1!==s&&s<c.length-1,"Bad queryKey."),{queryId:c.substr(s+1),path:new O(c.substr(0,s))}}function pp(c,s,a){const d=c.syncPointTree_.get(s);return(0,L.hu)(d,"Missing sync point for query tag that we're tracking"),op(d,a,qh(c.pendingWriteTree_,s),null)}function Uu(c){return c._queryParams.loadsAllData()&&!c._queryParams.isDefault()?new(function h_(){return(0,L.hu)(rh,"Reference.ts has not been loaded"),rh}())(c._repo,c._path):c}class mp{constructor(s){this.node_=s}getImmediateChild(s){const a=this.node_.getImmediateChild(s);return new mp(a)}node(){return this.node_}}class af{constructor(s,a){this.syncTree_=s,this.path_=a}getImmediateChild(s){const a=jn(this.path_,s);return new af(this.syncTree_,a)}node(){return sf(this.syncTree_,this.path_)}}const Hu=function(c){return(c=c||{}).timestamp=c.timestamp||(new Date).getTime(),c},lh=function(c,s,a){return c&&"object"==typeof c?((0,L.hu)(".sv"in c,"Unexpected leaf node or priority contents"),"string"==typeof c[".sv"]?Dg(c[".sv"],s,a):"object"==typeof c[".sv"]?hm(c[".sv"],s):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2))):c},Dg=function(c,s,a){if("timestamp"===c)return a.timestamp;(0,L.hu)(!1,"Unexpected server value: "+c)},hm=function(c,s,a){c.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(c,null,2));const d=c.increment;"number"!=typeof d&&(0,L.hu)(!1,"Unexpected increment value: "+d);const g=s.node();if((0,L.hu)(null!==g&&typeof g<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!g.isLeafNode())return d;const P=g.getValue();return"number"!=typeof P?d:P+d},xg=function(c,s,a,d){return fm(s,new af(a,c),d)},lf=function(c,s,a){return fm(c,new mp(s),a)};function fm(c,s,a){const d=c.getPriority().val(),g=lh(d,s.getImmediateChild(".priority"),a);let C;if(c.isLeafNode()){const P=c,W=lh(P.getValue(),s,a);return W!==P.getValue()||g!==P.getPriority().val()?new Mi(W,Ds(g)):c}{const P=c;return C=P,g!==P.getPriority().val()&&(C=C.updatePriority(new Mi(g))),P.forEachChild(Or,(W,oe)=>{const be=fm(oe,s.getImmediateChild(W),a);be!==oe&&(C=C.updateImmediateChild(W,be))}),C}}class pm{constructor(s="",a=null,d={children:{},childCount:0}){this.name=s,this.parent=a,this.node=d}}function cf(c,s){let a=s instanceof O?s:new O(s),d=c,g=ee(a);for(;null!==g;){const C=(0,L.DV)(d.node.children,g)||{children:{},childCount:0};d=new pm(g,d,C),a=Je(a),g=ee(a)}return d}function Os(c){return c.node.value}function gp(c,s){c.node.value=s,uf(c)}function ju(c){return c.node.childCount>0}function ch(c,s){ts(c.node.children,(a,d)=>{s(new pm(a,c,d))})}function uh(c,s,a,d){a&&!d&&s(c),ch(c,g=>{uh(g,s,!0,d)}),a&&d&&s(c)}function xd(c){return new O(null===c.parent?c.name:xd(c.parent)+"/"+c.name)}function uf(c){null!==c.parent&&function X_(c,s,a){const d=function m_(c){return void 0===Os(c)&&!ju(c)}(a),g=(0,L.r3)(c.node.children,s);d&&g?(delete c.node.children[s],c.node.childCount--,uf(c)):!d&&!g&&(c.node.children[s]=a.node,c.node.childCount++,uf(c))}(c.parent,c.name,c)}const Ig=/[\[\].#$\/\u0000-\u001F\u007F]/,_p=/[\[\].#$\u0000-\u001F\u007F]/,yp=10485760,zu=function(c){return"string"==typeof c&&0!==c.length&&!Ig.test(c)},Vc=function(c){return"string"==typeof c&&0!==c.length&&!_p.test(c)},$u=function(c){return null===c||"string"==typeof c||"number"==typeof c&&!Pl(c)||c&&"object"==typeof c&&(0,L.r3)(c,".sv")},dl=function(c,s,a,d){d&&void 0===s||df((0,L.gK)(c,"value"),s,a)},df=function(c,s,a){const d=a instanceof O?new Mc(a,c):a;if(void 0===s)throw new Error(c+"contains undefined "+ma(d));if("function"==typeof s)throw new Error(c+"contains a function "+ma(d)+" with contents = "+s.toString());if(Pl(s))throw new Error(c+"contains "+s.toString()+" "+ma(d));if("string"==typeof s&&s.length>yp/3&&(0,L.ug)(s)>yp)throw new Error(c+"contains a string greater than "+yp+" utf8 bytes "+ma(d)+" ('"+s.substring(0,50)+"...')");if(s&&"object"==typeof s){let g=!1,C=!1;if(ts(s,(P,W)=>{if(".value"===P)g=!0;else if(".priority"!==P&&".sv"!==P&&(C=!0,!zu(P)))throw new Error(c+" contains an invalid key ("+P+") "+ma(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Qc(c,s){c.parts_.length>0&&(c.byteLength_+=1),c.parts_.push(s),c.byteLength_+=(0,L.ug)(s),Ha(c)})(d,P),df(c,W,d),function pa(c){const s=c.parts_.pop();c.byteLength_-=(0,L.ug)(s),c.parts_.length>0&&(c.byteLength_-=1)}(d)}),g&&C)throw new Error(c+' contains ".value" child '+ma(d)+" in addition to actual children.")}},_m=function(c,s,a,d){if(d&&void 0===s)return;const g=(0,L.gK)(c,"values");if(!s||"object"!=typeof s||Array.isArray(s))throw new Error(g+" must be an object containing the children to replace.");const C=[];ts(s,(P,W)=>{const oe=new O(P);if(df(g,W,jn(a,oe)),".priority"===Tt(oe)&&!$u(W))throw new Error(g+"contains an invalid value for '"+oe.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");C.push(oe)}),function(c,s){let a,d;for(a=0;a<s.length;a++){d=s[a];const C=On(d);for(let P=0;P<C.length;P++)if((".priority"!==C[P]||P!==C.length-1)&&!zu(C[P]))throw new Error(c+"contains an invalid key ("+C[P]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}s.sort(Vo);let g=null;for(a=0;a<s.length;a++){if(d=s[a],null!==g&&Bo(g,d))throw new Error(c+"contains a path "+g.toString()+" that is ancestor of another path "+d.toString());g=d}}(g,C)},hf=function(c,s,a){if(!a||void 0!==s){if(Pl(s))throw new Error((0,L.gK)(c,"priority")+"is "+s.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!$u(s))throw new Error((0,L.gK)(c,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ff=function(c,s,a,d){if(!(d&&void 0===a||zu(a)))throw new Error((0,L.gK)(c,s)+'was an invalid key = "'+a+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dh=function(c,s,a,d){if(!(d&&void 0===a||Vc(a)))throw new Error((0,L.gK)(c,s)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},__=function(c,s,a,d){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),dh(c,s,a,d)},hl=function(c,s){if(".info"===ee(s))throw new Error(c+" failed = Can't modify data under /.info/")},Tg=function(c,s){const a=s.path.toString();if("string"!=typeof s.repoInfo.host||0===s.repoInfo.host.length||!zu(s.repoInfo.namespace)&&"localhost"!==s.repoInfo.host.split(":")[0]||0!==a.length&&!function(c){return c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Vc(c)}(a))throw new Error((0,L.gK)(c,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Id{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bc(c,s){let a=null;for(let d=0;d<s.length;d++){const g=s[d],C=g.getPath();null!==a&&!ms(C,a.path)&&(c.eventLists_.push(a),a=null),null===a&&(a={events:[],path:C}),a.events.push(g)}a&&c.eventLists_.push(a)}function hh(c,s,a){Bc(c,a),pf(c,d=>ms(d,s))}function $a(c,s,a){Bc(c,a),pf(c,d=>Bo(d,s)||Bo(s,d))}function pf(c,s){c.recursionDepth_++;let a=!0;for(let d=0;d<c.eventLists_.length;d++){const g=c.eventLists_[d];g&&(s(g.path)?(Sg(c.eventLists_[d]),c.eventLists_[d]=null):a=!1)}a&&(c.eventLists_=[]),c.recursionDepth_--}function Sg(c){for(let s=0;s<c.events.length;s++){const a=c.events[s];if(null!==a){c.events[s]=null;const d=a.getEventRunner();Ia&&Ut("event: "+a.toString()),Se(d)}}}const Ag="repo_interrupt",fh=25;class vp{constructor(s,a,d,g){this.repoInfo_=s,this.forceRestClient_=a,this.authTokenProvider_=d,this.appCheckProvider_=g,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Id,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jc(),this.transactionQueueTree_=new pm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mf(c){const a=c.infoData_.getNode(new O(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a}function ph(c){return Hu({timestamp:mf(c)})}function ym(c,s,a,d,g){c.dataUpdateCount++;const C=new O(s);a=c.interceptServerDataCallback_?c.interceptServerDataCallback_(s,a):a;let P=[];if(g)if(d){const oe=(0,L.UI)(a,be=>Ds(be));P=function au(c,s,a,d){const g=fp(c,d);if(g){const C=dm(g),P=C.path,W=C.queryId,oe=Ei(P,s),be=cs.fromObject(a);return pp(c,P,new nu(wr(W),oe,be))}return[]}(c.serverSyncTree_,C,oe,g)}else{const oe=Ds(a);P=wg(c.serverSyncTree_,C,oe,g)}else if(d){const oe=(0,L.UI)(a,be=>Ds(be));P=function ka(c,s,a){const d=cs.fromObject(a);return ah(c,new nu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},s,d))}(c.serverSyncTree_,C,oe)}else{const oe=Ds(a);P=oh(c.serverSyncTree_,C,oe)}let W=C;P.length>0&&(W=mh(c,C)),$a(c.eventQueue_,W,P)}function Td(c,s){du(c,"connected",s),!1===s&&function wp(c){Wu(c,"onDisconnectEvents");const s=ph(c),a=Jc();Kf(c.onDisconnect_,z(),(g,C)=>{const P=xg(g,C,c.serverSyncTree_,s);cl(a,g,P)});let d=[];Kf(a,z(),(g,C)=>{d=d.concat(oh(c.serverSyncTree_,g,C));const P=Sd(c,g);mh(c,P)}),c.onDisconnect_=Jc(),$a(c.eventQueue_,z(),d)}(c)}function du(c,s,a){const d=new O("/.info/"+s),g=Ds(a);c.infoData_.updateSnapshot(d,g);const C=oh(c.infoSyncTree_,d,g);$a(c.eventQueue_,d,C)}function pc(c){return c.nextWriteId_++}function Gu(c,s,a,d,g){Wu(c,"set",{path:s.toString(),value:a,priority:d});const C=ph(c),P=Ds(a,d),W=sf(c.serverSyncTree_,s),oe=lf(P,W,C),be=pc(c),vt=sh(c.serverSyncTree_,s,oe,be,!0);Bc(c.eventQueue_,vt),c.server_.put(s.toString(),P.val(!0),(Zt,En)=>{const Dn="ok"===Zt;Dn||Kr("set at "+s+" failed: "+Zt);const ri=ga(c.serverSyncTree_,be,!Dn);$a(c.eventQueue_,s,ri),Zl(0,g,Zt,En)});const At=Sd(c,s);mh(c,At),$a(c.eventQueue_,At,[])}function vm(c,s,a){c.server_.onDisconnectCancel(s.toString(),(d,g)=>{"ok"===d&&Wf(c.onDisconnect_,s),Zl(0,a,d,g)})}function _f(c,s,a,d){const g=Ds(a);c.server_.onDisconnectPut(s.toString(),g.val(!0),(C,P)=>{"ok"===C&&cl(c.onDisconnect_,s,g),Zl(0,d,C,P)})}function bm(c,s,a){let d;d=".info"===ee(s._path)?Vu(c.infoSyncTree_,s,a):Vu(c.serverSyncTree_,s,a),hh(c.eventQueue_,s._path,d)}function ea(c){c.persistentConnection_&&c.persistentConnection_.interrupt(Ag)}function Wu(c,...s){let a="";c.persistentConnection_&&(a=c.persistentConnection_.id+":"),Ut(a,...s)}function Zl(c,s,a,d){s&&Se(()=>{if("ok"===a)s(null);else{const g=(a||"error").toUpperCase();let C=g;d&&(C+=": "+d);const P=new Error(C);P.code=g,s(P)}})}function wf(c,s,a){return sf(c.serverSyncTree_,s,a)||Gn.EMPTY_NODE}function _a(c,s=c.transactionQueueTree_){if(s||Cp(c,s),Os(s)){const a=Ef(c,s);(0,L.hu)(a.length>0,"Sending zero length transaction queue"),a.every(g=>0===g.status)&&function w_(c,s,a){const d=a.map(be=>be.currentWriteId),g=wf(c,s,d);let C=g;const P=g.hash();for(let be=0;be<a.length;be++){const vt=a[be];(0,L.hu)(0===vt.status,"tryToSendTransactionQueue_: items in queue should all be run."),vt.status=1,vt.retryCount++;const At=Ei(s,vt.path);C=C.updateChild(At,vt.currentOutputSnapshotRaw)}const W=C.val(!0),oe=s;c.server_.put(oe.toString(),W,be=>{Wu(c,"transaction put response",{path:oe.toString(),status:be});let vt=[];if("ok"===be){const At=[];for(let Zt=0;Zt<a.length;Zt++)a[Zt].status=2,vt=vt.concat(ga(c.serverSyncTree_,a[Zt].currentWriteId)),a[Zt].onComplete&&At.push(()=>a[Zt].onComplete(null,!0,a[Zt].currentOutputSnapshotResolved)),a[Zt].unwatcher();Cp(c,cf(c.transactionQueueTree_,s)),_a(c,c.transactionQueueTree_),$a(c.eventQueue_,s,vt);for(let Zt=0;Zt<At.length;Zt++)Se(At[Zt])}else{if("datastale"===be)for(let At=0;At<a.length;At++)a[At].status=3===a[At].status?4:0;else{Kr("transaction at "+oe.toString()+" failed: "+be);for(let At=0;At<a.length;At++)a[At].status=4,a[At].abortReason=be}mh(c,s)}},P)}(c,xd(s),a)}else ju(s)&&ch(s,a=>{_a(c,a)})}function mh(c,s){const a=Ep(c,s),d=xd(a);return function J_(c,s,a){if(0===s.length)return;const d=[];let g=[];const P=s.filter(W=>0===W.status).map(W=>W.currentWriteId);for(let W=0;W<s.length;W++){const oe=s[W],be=Ei(a,oe.path);let At,vt=!1;if((0,L.hu)(null!==be,"rerunTransactionsUnderNode_: relativePath should not be null."),4===oe.status)vt=!0,At=oe.abortReason,g=g.concat(ga(c.serverSyncTree_,oe.currentWriteId,!0));else if(0===oe.status)if(oe.retryCount>=fh)vt=!0,At="maxretry",g=g.concat(ga(c.serverSyncTree_,oe.currentWriteId,!0));else{const Zt=wf(c,oe.path,P);oe.currentInputSnapshot=Zt;const En=s[W].update(Zt.val());if(void 0!==En){df("transaction failed: Data returned ",En,oe.path);let Dn=Ds(En);"object"==typeof En&&null!=En&&(0,L.r3)(En,".priority")||(Dn=Dn.updatePriority(Zt.getPriority()));const Ki=oe.currentWriteId,Er=ph(c),tr=lf(Dn,Zt,Er);oe.currentOutputSnapshotRaw=Dn,oe.currentOutputSnapshotResolved=tr,oe.currentWriteId=pc(c),P.splice(P.indexOf(Ki),1),g=g.concat(sh(c.serverSyncTree_,oe.path,tr,oe.currentWriteId,oe.applyLocally)),g=g.concat(ga(c.serverSyncTree_,Ki,!0))}else vt=!0,At="nodata",g=g.concat(ga(c.serverSyncTree_,oe.currentWriteId,!0))}$a(c.eventQueue_,a,g),g=[],vt&&(s[W].status=2,setTimeout(s[W].unwatcher,Math.floor(0)),s[W].onComplete&&d.push("nodata"===At?()=>s[W].onComplete(null,!1,s[W].currentInputSnapshot):()=>s[W].onComplete(new Error(At),!1,null)))}Cp(c,c.transactionQueueTree_);for(let W=0;W<d.length;W++)Se(d[W]);_a(c,c.transactionQueueTree_)}(c,Ef(c,a),d),d}function Ep(c,s){let a,d=c.transactionQueueTree_;for(a=ee(s);null!==a&&void 0===Os(d);)d=cf(d,a),a=ee(s=Je(s));return d}function Ef(c,s){const a=[];return Mg(c,s,a),a.sort((d,g)=>d.order-g.order),a}function Mg(c,s,a){const d=Os(s);if(d)for(let g=0;g<d.length;g++)a.push(d[g]);ch(s,g=>{Mg(c,g,a)})}function Cp(c,s){const a=Os(s);if(a){let d=0;for(let g=0;g<a.length;g++)2!==a[g].status&&(a[d]=a[g],d++);a.length=d,gp(s,a.length>0?a:void 0)}ch(s,d=>{Cp(c,d)})}function Sd(c,s){const a=xd(Ep(c,s)),d=cf(c.transactionQueueTree_,s);return function g_(c,s,a){let d=a?c:c.parent;for(;null!==d;){if(s(d))return!0;d=d.parent}}(d,g=>{gh(c,g)}),gh(c,d),uh(d,g=>{gh(c,g)}),a}function gh(c,s){const a=Os(s);if(a){const d=[];let g=[],C=-1;for(let P=0;P<a.length;P++)3===a[P].status||(1===a[P].status?((0,L.hu)(C===P-1,"All SENT items should be at beginning of queue."),C=P,a[P].status=3,a[P].abortReason="set"):((0,L.hu)(0===a[P].status,"Unexpected transaction status in abort"),a[P].unwatcher(),g=g.concat(ga(c.serverSyncTree_,a[P].currentWriteId,!0)),a[P].onComplete&&d.push(a[P].onComplete.bind(null,new Error("set"),!1,null))));-1===C?gp(s,void 0):a.length=C+1,$a(c.eventQueue_,xd(s),g);for(let P=0;P<d.length;P++)Se(d[P])}}const Ku=function(c,s){const a=Cf(c),d=a.namespace;return"firebase.com"===a.domain&&ha(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==a.domain&&ha("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Kr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Gc(a.host,a.secure,d,"ws"===a.scheme||"wss"===a.scheme,s,"",d!==a.subdomain),path:new O(a.pathString)}},Cf=function(c){let s="",a="",d="",g="",C="",P=!0,W="https",oe=443;if("string"==typeof c){let be=c.indexOf("//");be>=0&&(W=c.substring(0,be-1),c=c.substring(be+2));let vt=c.indexOf("/");-1===vt&&(vt=c.length);let At=c.indexOf("?");-1===At&&(At=c.length),s=c.substring(0,Math.min(vt,At)),vt<At&&(g=function _h(c){let s="";const a=c.split("/");for(let d=0;d<a.length;d++)if(a[d].length>0){let g=a[d];try{g=decodeURIComponent(g.replace(/\+/g," "))}catch{}s+="/"+g}return s}(c.substring(vt,At)));const Zt=function wm(c){const s={};"?"===c.charAt(0)&&(c=c.substring(1));for(const a of c.split("&")){if(0===a.length)continue;const d=a.split("=");2===d.length?s[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):Kr(`Invalid query segment '${a}' in query '${c}'`)}return s}(c.substring(Math.min(c.length,At)));be=s.indexOf(":"),be>=0?(P="https"===W||"wss"===W,oe=parseInt(s.substring(be+1),10)):be=s.length;const En=s.slice(0,be);if("localhost"===En.toLowerCase())a="localhost";else if(En.split(".").length<=2)a=En;else{const Dn=s.indexOf(".");d=s.substring(0,Dn).toLowerCase(),a=s.substring(Dn+1),C=d}"ns"in Zt&&(C=Zt.ns)}return{host:s,port:oe,domain:a,subdomain:d,secure:P,scheme:W,pathString:g,namespace:C}},Dp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Rg=function(){let c=0;const s=[];return function(a){const d=a===c;let g;c=a;const C=new Array(8);for(g=7;g>=0;g--)C[g]=Dp.charAt(a%64),a=Math.floor(a/64);(0,L.hu)(0===a,"Cannot push at time == 0");let P=C.join("");if(d){for(g=11;g>=0&&63===s[g];g--)s[g]=0;s[g]++}else for(g=0;g<12;g++)s[g]=Math.floor(64*Math.random());for(g=0;g<12;g++)P+=Dp.charAt(s[g]);return(0,L.hu)(20===P.length,"nextPushId: Length should be 20."),P}}();class xp{constructor(s,a,d,g){this.eventType=s,this.eventRegistration=a,this.snapshot=d,this.prevName=g}getPath(){const s=this.snapshot.ref;return"value"===this.eventType?s._path:s.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Wl)(this.snapshot.exportVal())}}class Ip{constructor(s,a,d){this.eventRegistration=s,this.error=a,this.path=d}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Uo{constructor(s,a){this.snapshotCallback=s,this.cancelCallback=a}onValue(s,a){this.snapshotCallback.call(null,s,a)}onCancel(s){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,s)}get hasCancelCallback(){return!!this.cancelCallback}matches(s){return this.snapshotCallback===s.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===s.snapshotCallback.userCallback&&this.snapshotCallback.context===s.snapshotCallback.context}}class Df{constructor(s,a){this._repo=s,this._path=a}cancel(){const s=new L.BH;return vm(this._repo,this._path,s.wrapCallback(()=>{})),s.promise}remove(){hl("OnDisconnect.remove",this._path);const s=new L.BH;return _f(this._repo,this._path,null,s.wrapCallback(()=>{})),s.promise}set(s){hl("OnDisconnect.set",this._path),dl("OnDisconnect.set",s,this._path,!1);const a=new L.BH;return _f(this._repo,this._path,s,a.wrapCallback(()=>{})),a.promise}setWithPriority(s,a){hl("OnDisconnect.setWithPriority",this._path),dl("OnDisconnect.setWithPriority",s,this._path,!1),hf("OnDisconnect.setWithPriority",a,!1);const d=new L.BH;return function yf(c,s,a,d,g){const C=Ds(a,d);c.server_.onDisconnectPut(s.toString(),C.val(!0),(P,W)=>{"ok"===P&&cl(c.onDisconnect_,s,C),Zl(0,g,P,W)})}(this._repo,this._path,s,a,d.wrapCallback(()=>{})),d.promise}update(s){hl("OnDisconnect.update",this._path),_m("OnDisconnect.update",s,this._path,!1);const a=new L.BH;return function vf(c,s,a,d){if((0,L.xb)(a))return Ut("onDisconnect().update() called with empty data.  Don't do anything."),void Zl(0,d,"ok",void 0);c.server_.onDisconnectMerge(s.toString(),a,(g,C)=>{"ok"===g&&ts(a,(P,W)=>{const oe=Ds(W);cl(c.onDisconnect_,jn(s,P),oe)}),Zl(0,d,g,C)})}(this._repo,this._path,s,a.wrapCallback(()=>{})),a.promise}}class fl{constructor(s,a,d,g){this._repo=s,this._path=a,this._queryParams=d,this._orderByCalled=g}get key(){return $n(this._path)?null:Tt(this._path)}get ref(){return new ql(this._repo,this._path)}get _queryIdentifier(){const s=md(this._queryParams),a=zr(s);return"{}"===a?"default":a}get _queryObject(){return md(this._queryParams)}isEqual(s){if(!((s=(0,L.m9)(s))instanceof fl))return!1;const a=this._repo===s._repo,d=ms(this._path,s._path);return a&&d&&this._queryIdentifier===s._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Wt(c){let s="";for(let a=c.pieceNum_;a<c.pieces_.length;a++)""!==c.pieces_[a]&&(s+="/"+encodeURIComponent(String(c.pieces_[a])));return s||"/"}(this._path)}}function yh(c,s){if(!0===c._orderByCalled)throw new Error(s+": You can't combine multiple orderBy calls.")}function hu(c){let s=null,a=null;if(c.hasStart()&&(s=c.getIndexStartValue()),c.hasEnd()&&(a=c.getIndexEndValue()),c.getIndex()===xl){const d="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",g="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(c.hasStart()){if(c.getIndexStartName()!==nl)throw new Error(d);if("string"!=typeof s)throw new Error(g)}if(c.hasEnd()){if(c.getIndexEndName()!==Ta)throw new Error(d);if("string"!=typeof a)throw new Error(g)}}else if(c.getIndex()===Or){if(null!=s&&!$u(s)||null!=a&&!$u(a))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(c.getIndex()instanceof Mu||c.getIndex()===$f,"unknown index type."),null!=s&&"object"==typeof s||null!=a&&"object"==typeof a)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function vh(c){if(c.hasStart()&&c.hasEnd()&&c.hasLimit()&&!c.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ql extends fl{constructor(s,a){super(s,a,new Gh,!1)}get parent(){const s=Nn(this._path);return null===s?null:new ql(this._repo,s)}get root(){let s=this;for(;null!==s.parent;)s=s.parent;return s}}class fu{constructor(s,a,d){this._node=s,this.ref=a,this._index=d}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(s){const a=new O(s),d=Yu(this.ref,s);return new fu(this._node.getChild(a),d,Or)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(s){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(d,g)=>s(new fu(g,Yu(this.ref,d),Or)))}hasChild(s){const a=new O(s);return!this._node.getChild(a).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ad(c,s){return(c=(0,L.m9)(c))._checkNotDeleted("ref"),void 0!==s?Yu(c._root,s):c._root}function Tp(c,s){(c=(0,L.m9)(c))._checkNotDeleted("refFromURL");const a=Ku(s,c._repo.repoInfo_.nodeAdmin);Tg("refFromURL",a);const d=a.repoInfo;return!c._repo.repoInfo_.isCustomHost()&&d.host!==c._repo.repoInfo_.host&&ha("refFromURL: Host name does not match the current database: (found "+d.host+" but expected "+c._repo.repoInfo_.host+")"),Ad(c,a.path.toString())}function Yu(c,s){return null===ee((c=(0,L.m9)(c))._path)?__("child","path",s,!1):dh("child","path",s,!1),new ql(c._repo,jn(c._path,s))}function kg(c,s){c=(0,L.m9)(c),hl("set",c._path),dl("set",s,c._path,!1);const a=new L.BH;return Gu(c._repo,c._path,s,null,a.wrapCallback(()=>{})),a.promise}function Og(c,s){_m("update",s,c._path,!1);const a=new L.BH;return function bp(c,s,a,d){Wu(c,"update",{path:s.toString(),value:a});let g=!0;const C=ph(c),P={};if(ts(a,(W,oe)=>{g=!1,P[W]=xg(jn(s,W),Ds(oe),c.serverSyncTree_,C)}),g)Ut("update() called with empty data.  Don't do anything."),Zl(0,d,"ok",void 0);else{const W=pc(c),oe=function Lc(c,s,a,d){!function Wl(c,s,a,d){(0,L.hu)(d>c.lastWriteId,"Stacking an older merge on top of newer ones"),c.allWrites.push({path:s,children:a,writeId:d,visible:!0}),c.visibleWrites=im(c.visibleWrites,s,a),c.lastWriteId=d}(c.pendingWriteTree_,s,a,d);const g=cs.fromObject(a);return ah(c,new nu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},s,g))}(c.serverSyncTree_,s,P,W);Bc(c.eventQueue_,oe),c.server_.merge(s.toString(),a,(be,vt)=>{const At="ok"===be;At||Kr("update at "+s+" failed: "+be);const Zt=ga(c.serverSyncTree_,W,!At),En=Zt.length>0?mh(c,s):s;$a(c.eventQueue_,En,Zt),Zl(0,d,be,vt)}),ts(a,be=>{const vt=Sd(c,jn(s,be));mh(c,vt)}),$a(c.eventQueue_,s,[])}}(c._repo,c._path,s,a.wrapCallback(()=>{})),a.promise}function Mp(c){c=(0,L.m9)(c);const s=new Uo(()=>{}),a=new wh(s);return function gf(c,s,a){const d=function Bu(c,s){const a=s._path;let d=null;c.syncPointTree_.foreachOnPath(a,(be,vt)=>{const At=Ei(be,a);d=d||Yl(vt,At)});let g=c.syncPointTree_.get(a);g?d=d||Yl(g,z()):(g=new Kl,c.syncPointTree_=c.syncPointTree_.set(a,g));const C=null!=d,P=C?new zl(d,!0,!1):null;return function sp(c){return yd(c.viewCache_)}(vg(g,s,qh(c.pendingWriteTree_,s._path),C?P.getNode():Gn.EMPTY_NODE,C))}(c.serverSyncTree_,s);return null!=d?Promise.resolve(d):c.server_.get(s).then(g=>{const C=Ds(g).withIndex(s._queryParams.getIndex());let P;if(lu(c.serverSyncTree_,s,a,!0),s._queryParams.loadsAllData())P=oh(c.serverSyncTree_,s._path,C);else{const W=Dd(c.serverSyncTree_,s);P=wg(c.serverSyncTree_,s._path,C,W)}return $a(c.eventQueue_,s._path,P),Vu(c.serverSyncTree_,s,a,null,!0),C},g=>(Wu(c,"get for query "+(0,L.Wl)(s)+" failed: "+g),Promise.reject(new Error(g))))}(c._repo,c,a).then(d=>new fu(d,new ql(c._repo,c._path),c._queryParams.getIndex()))}class wh{constructor(s){this.callbackContext=s}respondsTo(s){return"value"===s}createEvent(s,a){const d=a._queryParams.getIndex();return new xp("value",this,new fu(s.snapshotNode,new ql(a._repo,a._path),d))}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,null)}createCancelEvent(s,a){return this.callbackContext.hasCancelCallback?new Ip(this,s,a):null}matches(s){return s instanceof wh&&(!s.callbackContext||!this.callbackContext||s.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Md{constructor(s,a){this.eventType=s,this.callbackContext=a}respondsTo(s){let a="children_added"===s?"child_added":s;return a="children_removed"===a?"child_removed":a,this.eventType===a}createCancelEvent(s,a){return this.callbackContext.hasCancelCallback?new Ip(this,s,a):null}createEvent(s,a){(0,L.hu)(null!=s.childName,"Child events should have a childName.");const d=Yu(new ql(a._repo,a._path),s.childName),g=a._queryParams.getIndex();return new xp(s.type,this,new fu(s.snapshotNode,d,g),s.prevName)}getEventRunner(s){return"cancel"===s.getEventType()?()=>this.callbackContext.onCancel(s.error):()=>this.callbackContext.onValue(s.snapshot,s.prevName)}matches(s){return s instanceof Md&&this.eventType===s.eventType&&(!this.callbackContext||!s.callbackContext||this.callbackContext.matches(s.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Rd(c,s,a,d,g){let C;if("object"==typeof d&&(C=void 0,g=d),"function"==typeof d&&(C=d),g&&g.onlyOnce){const oe=a,be=(vt,At)=>{bm(c._repo,c,W),oe(vt,At)};be.userCallback=a.userCallback,be.context=a.context,a=be}const P=new Uo(a,C||void 0),W="value"===s?new wh(P):new Md(s,P);return function v_(c,s,a){let d;d=".info"===ee(s._path)?lu(c.infoSyncTree_,s,a):lu(c.serverSyncTree_,s,a),hh(c.eventQueue_,s._path,d)}(c._repo,c,W),()=>bm(c._repo,c,W)}function Sl(c,s,a,d){return Rd(c,"value",s,a,d)}function xf(c,s,a,d){return Rd(c,"child_added",s,a,d)}function kd(c,s,a,d){return Rd(c,"child_changed",s,a,d)}function Od(c,s,a,d){return Rd(c,"child_moved",s,a,d)}function Rp(c,s,a,d){return Rd(c,"child_removed",s,a,d)}function If(c,s,a){let d=null;const g=a?new Uo(a):null;"value"===s?d=new wh(g):s&&(d=new Md(s,g)),bm(c._repo,c,d)}class pl{}class Pd extends pl{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){dl("endAt",this._value,s._path,!0);const a=hd(s._queryParams,this._value,this._key);if(vh(a),hu(a),s._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fl(s._repo,s._path,a,s._orderByCalled)}}class Nd extends pl{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){dl("endBefore",this._value,s._path,!1);const a=function fd(c,s,a){let d;return d=hd(c,s,c.index_===xl||a?a:nl),d.endBeforeSet_=!0,d}(s._queryParams,this._value,this._key);if(vh(a),hu(a),s._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fl(s._repo,s._path,a,s._orderByCalled)}}class Ch extends pl{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){dl("startAt",this._value,s._path,!0);const a=Wh(s._queryParams,this._value,this._key);if(vh(a),hu(a),s._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new fl(s._repo,s._path,a,s._orderByCalled)}}class Dh extends pl{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){dl("startAfter",this._value,s._path,!1);const a=function js(c,s,a){let d;return d=Wh(c,s,c.index_===xl||a?a:Ta),d.startAfterSet_=!0,d}(s._queryParams,this._value,this._key);if(vh(a),hu(a),s._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new fl(s._repo,s._path,a,s._orderByCalled)}}class D_ extends pl{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new fl(s._repo,s._path,function Gf(c,s){const a=c.copy();return a.limitSet_=!0,a.limit_=s,a.viewFrom_="l",a}(s._queryParams,this._limit),s._orderByCalled)}}class Cm extends pl{constructor(s){super(),this._limit=s}_apply(s){if(s._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new fl(s._repo,s._path,function l_(c,s){const a=c.copy();return a.limitSet_=!0,a.limit_=s,a.viewFrom_="r",a}(s._queryParams,this._limit),s._orderByCalled)}}class kp extends pl{constructor(s){super(),this._path=s}_apply(s){yh(s,"orderByChild");const a=new O(this._path);if($n(a))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const d=new Mu(a),g=pd(s._queryParams,d);return hu(g),new fl(s._repo,s._path,g,!0)}}class x_ extends pl{_apply(s){yh(s,"orderByKey");const a=pd(s._queryParams,xl);return hu(a),new fl(s._repo,s._path,a,!0)}}class Im extends pl{_apply(s){yh(s,"orderByPriority");const a=pd(s._queryParams,Or);return hu(a),new fl(s._repo,s._path,a,!0)}}class Ng extends pl{_apply(s){yh(s,"orderByValue");const a=pd(s._queryParams,$f);return hu(a),new fl(s._repo,s._path,a,!0)}}class Fg extends pl{constructor(s,a){super(),this._value=s,this._key=a}_apply(s){if(dl("equalTo",this._value,s._path,!1),s._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(s._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Pd(this._value,this._key)._apply(new Ch(this._value,this._key)._apply(s))}}function Ql(c,...s){let a=(0,L.m9)(c);for(const d of s)a=d._apply(a);return a}(function Lu(c){(0,L.hu)(!Il,"__referenceConstructor has already been defined"),Il=c})(ql),function dp(c){(0,L.hu)(!rh,"__referenceConstructor has already been defined"),rh=c}(ql);const Tm="FIREBASE_DATABASE_EMULATOR_HOST",Op={};let Vg=!1;function Sm(c,s,a,d,g){let C=d||c.options.databaseURL;void 0===C&&(c.options.projectId||ha("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",c.options.projectId),C=`${c.options.projectId}-default-rtdb.firebaseio.com`);let oe,be,P=Ku(C,g),W=P.repoInfo;typeof process<"u"&&process.env&&(be=process.env[Tm]),be?(oe=!0,C=`http://${be}?ns=${W.namespace}`,P=Ku(C,g),W=P.repoInfo):oe=!P.repoInfo.secure;const vt=g&&oe?new Wi(Wi.OWNER):new ni(c.name,c.options,s);Tg("Invalid Firebase Database URL",P),$n(P.path)||ha("Database URL must point to the root of a Firebase Database (not including a child path).");const At=function xh(c,s,a,d){let g=Op[s.name];g||(g={},Op[s.name]=g);let C=g[c.toURLString()];return C&&ha("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),C=new vp(c,Vg,a,d),g[c.toURLString()]=C,C}(W,c,vt,new Qn(c.name,a));return new S_(At,c)}class S_{constructor(s,a){this._repoInternal=s,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function y_(c,s,a){if(c.stats_=_u(c.repoInfo_),c.forceRestClient_||Pt())c.server_=new Kh(c.repoInfo_,(d,g,C,P)=>{ym(c,d,g,C,P)},c.authTokenProvider_,c.appCheckProvider_),setTimeout(()=>Td(c,!0),0);else{if(typeof a<"u"&&null!==a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Wl)(a)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}c.persistentConnection_=new Bl(c.repoInfo_,s,(d,g,C,P)=>{ym(c,d,g,C,P)},d=>{Td(c,d)},d=>{!function uu(c,s){ts(s,(a,d)=>{du(c,a,d)})}(c,d)},c.authTokenProvider_,c.appCheckProvider_,a),c.server_=c.persistentConnection_}c.authTokenProvider_.addTokenChangeListener(d=>{c.server_.refreshAuthToken(d)}),c.appCheckProvider_.addTokenChangeListener(d=>{c.server_.refreshAppCheckToken(d.token)}),c.statsReporter_=function kr(c,s){const a=c.toString();return Aa[a]||(Aa[a]=s()),Aa[a]}(c.repoInfo_,()=>new em(c.stats_,c.server_)),c.infoData_=new ku,c.infoSyncTree_=new Ed({startListening:(d,g,C,P)=>{let W=[];const oe=c.infoData_.getNode(d._path);return oe.isEmpty()||(W=oh(c.infoSyncTree_,d._path,oe),setTimeout(()=>{P("ok")},0)),W},stopListening:()=>{}}),du(c,"connected",!1),c.serverSyncTree_=new Ed({startListening:(d,g,C,P)=>(c.server_.listen(d,C,g,(W,oe)=>{const be=P(W,oe);$a(c.eventQueue_,d._path,be)}),[]),stopListening:(d,g)=>{c.server_.unlisten(d,g)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ql(this._repo,z())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Bg(c,s){const a=Op[s];(!a||a[c.key]!==c)&&ha(`Database ${s}(${c.repoInfo_}) has already been deleted.`),ea(c),delete a[c.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(s){null===this._rootInternal&&ha("Cannot call "+s+" on a deleted database.")}}function Ih(){Yc.IS_TRANSPORT_INITIALIZED&&Kr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function A_(){Ih(),go.forceDisallow()}function Xl(){Ih(),so.forceDisallow(),go.forceAllow()}function ml(c,s){da(c,s)}const Xu={".sv":"timestamp"};class Sh{constructor(s,a){this.committed=s,this.snapshot=a}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Bl.prototype.simpleListen=function(c,s){this.sendRequest("q",{p:c},s)},Bl.prototype.echo=function(c,s){this.sendRequest("echo",{d:c},s)},function Mm(c){Io(Oe.SDK_VERSION),(0,Oe._registerComponent)(new de.wA("database",(s,{instanceIdentifier:a})=>Sm(s.getProvider("app").getImmediate(),s.getProvider("auth-internal"),s.getProvider("app-check-internal"),a),"PUBLIC").setMultipleInstances(!0)),(0,Oe.registerVersion)(Zn,"0.14.4",c),(0,Oe.registerVersion)(Zn,"0.14.4","esm2017")}();const Np=new ne.Yd("@firebase/database-compat"),Rm=function(c){Np.warn("FIREBASE WARNING: "+c)};class Lp{constructor(s){this._delegate=s}cancel(s){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",s,!0);const a=this._delegate.cancel();return s&&a.then(()=>s(null),d=>s(d)),a}remove(s){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",s,!0);const a=this._delegate.remove();return s&&a.then(()=>s(null),d=>s(d)),a}set(s,a){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",a,!0);const d=this._delegate.set(s);return a&&d.then(()=>a(null),g=>a(g)),d}setWithPriority(s,a,d){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",d,!0);const g=this._delegate.setWithPriority(s,a);return d&&g.then(()=>d(null),C=>d(C)),g}update(s,a){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(s)){const g={};for(let C=0;C<s.length;++C)g[""+C]=s[C];s=g,Rm("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",a,!0);const d=this._delegate.update(s);return a&&d.then(()=>a(null),g=>a(g)),d}}class Ug{constructor(s,a){this.committed=s,this.snapshot=a}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class gc{constructor(s,a){this._database=s,this._delegate=a}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(s){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),s=String(s),dh("DataSnapshot.child","path",s,!1),new gc(this._database,this._delegate.child(s))}hasChild(s){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),dh("DataSnapshot.hasChild","path",s,!1),this._delegate.hasChild(s)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(s){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",s,!1),this._delegate.forEach(a=>s(new gc(this._database,a)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new gl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ta{constructor(s,a){this.database=s,this._delegate=a}on(s,a,d,g){var C;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",a,!1);const P=ta.getCancelAndContextArgs_("Query.on",d,g),W=(be,vt)=>{a.call(P.context,new gc(this.database,be),vt)};W.userCallback=a,W.context=P.context;const oe=null===(C=P.cancel)||void 0===C?void 0:C.bind(P.context);switch(s){case"value":return Sl(this._delegate,W,oe),a;case"child_added":return xf(this._delegate,W,oe),a;case"child_removed":return Rp(this._delegate,W,oe),a;case"child_changed":return kd(this._delegate,W,oe),a;case"child_moved":return Od(this._delegate,W,oe),a;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(s,a,d){if((0,L.Dv)("Query.off",0,3,arguments.length),function(c,s,a){if(void 0!==s)switch(s){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,s),(0,L.Wj)("Query.off","callback",a,!0),(0,L.lb)("Query.off","context",d,!0),a){const g=()=>{};g.userCallback=a,g.context=d,If(this._delegate,s,g)}else If(this._delegate,s)}get(){return Mp(this._delegate).then(s=>new gc(this.database,s))}once(s,a,d,g){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",a,!0);const C=ta.getCancelAndContextArgs_("Query.once",d,g),P=new L.BH,W=(be,vt)=>{const At=new gc(this.database,be);a&&a.call(C.context,At,vt),P.resolve(At)};W.userCallback=a,W.context=C.context;const oe=be=>{C.cancel&&C.cancel.call(C.context,be),P.reject(be)};switch(s){case"value":Sl(this._delegate,W,oe,{onlyOnce:!0});break;case"child_added":xf(this._delegate,W,oe,{onlyOnce:!0});break;case"child_removed":Rp(this._delegate,W,oe,{onlyOnce:!0});break;case"child_changed":kd(this._delegate,W,oe,{onlyOnce:!0});break;case"child_moved":Od(this._delegate,W,oe,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return P.promise}limitToFirst(s){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new ta(this.database,Ql(this._delegate,function Em(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new D_(c)}(s)))}limitToLast(s){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new ta(this.database,Ql(this._delegate,function Dm(c){if("number"!=typeof c||Math.floor(c)!==c||c<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Cm(c)}(s)))}orderByChild(s){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new ta(this.database,Ql(this._delegate,function xm(c){if("$key"===c)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===c)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===c)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dh("orderByChild","path",c,!1),new kp(c)}(s)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new ta(this.database,Ql(this._delegate,function Tf(){return new x_}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new ta(this.database,Ql(this._delegate,function I_(){return new Im}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new ta(this.database,Ql(this._delegate,function T_(){return new Ng}()))}startAt(s=null,a){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new ta(this.database,Ql(this._delegate,function Pg(c=null,s){return ff("startAt","key",s,!0),new Ch(c,s)}(s,a)))}startAfter(s=null,a){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new ta(this.database,Ql(this._delegate,function C_(c,s){return ff("startAfter","key",s,!0),new Dh(c,s)}(s,a)))}endAt(s=null,a){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new ta(this.database,Ql(this._delegate,function qu(c,s){return ff("endAt","key",s,!0),new Pd(c,s)}(s,a)))}endBefore(s=null,a){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new ta(this.database,Ql(this._delegate,function Eh(c,s){return ff("endBefore","key",s,!0),new Nd(c,s)}(s,a)))}equalTo(s,a){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new ta(this.database,Ql(this._delegate,function Lg(c,s){return ff("equalTo","key",s,!0),new Fg(c,s)}(s,a)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(s){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(s instanceof ta))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(s._delegate)}static getCancelAndContextArgs_(s,a,d){const g={cancel:void 0,context:void 0};if(a&&d)g.cancel=a,(0,L.Wj)(s,"cancel",g.cancel,!0),g.context=d,(0,L.lb)(s,"context",g.context,!0);else if(a)if("object"==typeof a&&null!==a)g.context=a;else{if("function"!=typeof a)throw new Error((0,L.gK)(s,"cancelOrContext")+" must either be a cancel callback or a context object.");g.cancel=a}return g}get ref(){return new gl(this.database,new ql(this._delegate._repo,this._delegate._path))}}class gl extends ta{constructor(s,a){super(s,new fl(a._repo,a._path,new Gh,!1)),this.database=s,this._delegate=a}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(s){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof s&&(s=String(s)),new gl(this.database,Yu(this._delegate,s))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const s=this._delegate.parent;return s?new gl(this.database,s):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new gl(this.database,this._delegate.root)}set(s,a){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",a,!0);const d=kg(this._delegate,s);return a&&d.then(()=>a(null),g=>a(g)),d}update(s,a){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(s)){const g={};for(let C=0;C<s.length;++C)g[""+C]=s[C];s=g,Rm("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hl("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",a,!0);const d=Og(this._delegate,s);return a&&d.then(()=>a(null),g=>a(g)),d}setWithPriority(s,a,d){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",d,!0);const g=function E_(c,s,a){if(hl("setWithPriority",c._path),dl("setWithPriority",s,c._path,!1),hf("setWithPriority",a,!1),".length"===c.key||".keys"===c.key)throw"setWithPriority failed: "+c.key+" is a read-only object.";const d=new L.BH;return Gu(c._repo,c._path,s,a,d.wrapCallback(()=>{})),d.promise}(this._delegate,s,a);return d&&g.then(()=>d(null),C=>d(C)),g}remove(s){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",s,!0);const a=function Sp(c){return hl("remove",c._path),kg(c,null)}(this._delegate);return s&&a.then(()=>s(null),d=>s(d)),a}transaction(s,a,d){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",s,!1),(0,L.Wj)("Reference.transaction","onComplete",a,!0),function(c,s,a,d){if(void 0!==a&&"boolean"!=typeof a)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,d);const g=function ed(c,s,a){var d;if(c=(0,L.m9)(c),hl("Reference.transaction",c._path),".length"===c.key||".keys"===c.key)throw"Reference.transaction failed: "+c.key+" is a read-only object.";const g=null===(d=a?.applyLocally)||void 0===d||d,C=new L.BH,W=Sl(c,()=>{});return function bf(c,s,a,d,g,C){Wu(c,"transaction on "+s);const P={path:s,update:a,onComplete:d,status:null,order:Cs(),applyLocally:C,retryCount:0,unwatcher:g,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},W=wf(c,s,void 0);P.currentInputSnapshot=W;const oe=P.update(W.val());if(void 0===oe)P.unwatcher(),P.currentOutputSnapshotRaw=null,P.currentOutputSnapshotResolved=null,P.onComplete&&P.onComplete(null,!1,P.currentInputSnapshot);else{df("transaction failed: Data returned ",oe,P.path),P.status=0;const be=cf(c.transactionQueueTree_,s),vt=Os(be)||[];let At;vt.push(P),gp(be,vt),"object"==typeof oe&&null!==oe&&(0,L.r3)(oe,".priority")?(At=(0,L.DV)(oe,".priority"),(0,L.hu)($u(At),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):At=(sf(c.serverSyncTree_,s)||Gn.EMPTY_NODE).getPriority().val();const Zt=ph(c),En=Ds(oe,At),Dn=lf(En,W,Zt);P.currentOutputSnapshotRaw=En,P.currentOutputSnapshotResolved=Dn,P.currentWriteId=pc(c);const ri=sh(c.serverSyncTree_,s,Dn,P.currentWriteId,P.applyLocally);$a(c.eventQueue_,s,ri),_a(c,c.transactionQueueTree_)}}(c._repo,c._path,s,(oe,be,vt)=>{let At=null;oe?C.reject(oe):(At=new fu(vt,new ql(c._repo,c._path),Or),C.resolve(new Sh(be,At)))},W,g),C.promise}(this._delegate,s,{applyLocally:d}).then(C=>new Ug(C.committed,new gc(this.database,C.snapshot)));return a&&g.then(C=>a(null,C.committed,C.snapshot),C=>a(C,!1,null)),g}setPriority(s,a){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",a,!0);const d=function Ap(c,s){c=(0,L.m9)(c),hl("setPriority",c._path),hf("setPriority",s,!1);const a=new L.BH;return Gu(c._repo,jn(c._path,".priority"),s,null,a.wrapCallback(()=>{})),a.promise}(this._delegate,s);return a&&d.then(()=>a(null),g=>a(g)),d}push(s,a){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",a,!0);const d=function bh(c,s){c=(0,L.m9)(c),hl("push",c._path),dl("push",s,c._path,!0);const a=mf(c._repo),d=Rg(a),g=Yu(c,d),C=Yu(c,d);let P;return P=null!=s?kg(C,s).then(()=>C):Promise.resolve(C),g.then=P.then.bind(P),g.catch=P.then.bind(P,void 0),g}(this._delegate,s),g=d.then(P=>new gl(this.database,P));a&&g.then(()=>a(null),P=>a(P));const C=new gl(this.database,d);return C.then=g.then.bind(g),C.catch=g.catch.bind(g,void 0),C}onDisconnect(){return hl("Reference.onDisconnect",this._delegate._path),new Lp(new Df(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Bd{constructor(s,a){this._delegate=s,this.app=a,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:A_,forceLongPolling:Xl}}useEmulator(s,a,d={}){!function Ho(c,s,a,d={}){(c=(0,L.m9)(c))._checkNotDeleted("useEmulator"),c._instanceStarted&&ha("Cannot call useEmulator() after instance has already been initialized.");const g=c._repoInternal;let C;if(g.repoInfo_.nodeAdmin)d.mockUserToken&&ha('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),C=new Wi(Wi.OWNER);else if(d.mockUserToken){const P="string"==typeof d.mockUserToken?d.mockUserToken:(0,L.Sg)(d.mockUserToken,c.app.options.projectId);C=new Wi(P)}!function ey(c,s,a,d){c.repoInfo_=new Gc(`${s}:${a}`,!1,c.repoInfo_.namespace,c.repoInfo_.webSocketOnly,c.repoInfo_.nodeAdmin,c.repoInfo_.persistenceKey,c.repoInfo_.includeNamespaceInQueryParams,!0),d&&(c.authTokenProvider_=d)}(g,s,a,C)}(this._delegate,s,a,d)}ref(s){if((0,L.Dv)("database.ref",0,1,arguments.length),s instanceof gl){const a=Tp(this._delegate,s.toString());return new gl(this,a)}{const a=Ad(this._delegate,s);return new gl(this,a)}}refFromURL(s){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const d=Tp(this._delegate,s);return new gl(this,d)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function Qu(c){(c=(0,L.m9)(c))._checkNotDeleted("goOffline"),ea(c._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function Pp(c){(c=(0,L.m9)(c))._checkNotDeleted("goOnline"),function b_(c){c.persistentConnection_&&c.persistentConnection_.resume(Ag)}(c._repo)}(this._delegate)}}Bd.ServerValue={TIMESTAMP:function Th(){return Xu}(),increment:c=>function Ju(c){return{".sv":{increment:c}}}(c)};var Vp=Object.freeze({__proto__:null,initStandalone:function M_({app:c,url:s,version:a,customAuthImpl:d,namespace:g,nodeAdmin:C=!1}){Io(a);const P=new de.zt("auth-internal",new de.H0("database-standalone"));return P.setComponent(new de.wA("auth-internal",()=>d,"PRIVATE")),{instance:new Bd(Sm(c,P,void 0,s,C),c),namespace:g}}});const R_=Bd.ServerValue;!function Bp(c){c.INTERNAL.registerComponent(new de.wA("database-compat",(s,{instanceIdentifier:a})=>{const d=s.getProvider("app-compat").getImmediate(),g=s.getProvider("database").getImmediate({identifier:a});return new Bd(g,d)},"PUBLIC").setServiceProps({Reference:gl,Query:ta,Database:Bd,DataSnapshot:gc,enableLogging:ml,INTERNAL:Vp,ServerValue:R_}).setMultipleInstances(!0)),c.registerVersion("@firebase/database-compat","0.3.4")}(Di.Z);var km=M(4549),Af=M(2533);function Mh(c){return null==c}function Up(c){return"function"==typeof c.set}function jg(c,s){return Up(s)?s:c.ref(s)}function Ud(c,s){if(function Hg(c){return"string"==typeof c}(c))return s.stringCase();if(Up(c))return s.firebaseCase();if(function Ah(c){return"function"==typeof c.exportVal}(c))return s.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof c)}function td(c,s,a="on",d=ad.z){return new zc.y(g=>{let C=null;return C=c[a](s,(P,W)=>{d.schedule(()=>{g.next({snapshot:P,prevKey:W})}),"once"===a&&d.schedule(()=>g.complete())},P=>{d.schedule(()=>g.error(P))}),"on"===a?{unsubscribe(){null!=C&&c.off(s,C)}}:{unsubscribe(){}}}).pipe((0,vl.U)(g=>{const{snapshot:C,prevKey:P}=g;let W=null;return C.exists()&&(W=C.key),{type:s,payload:C,prevKey:P,key:W}}),(0,qo.B)())}function Rf(c,s){const a=c.length;for(let d=0;d<a;d++)if(c[d].payload.key===s)return d;return-1}function zg(c,s){const{payload:a,prevKey:d,key:g}=s,C=Rf(c,g),P=function kf(c,s){if(Mh(s))return 0;{const a=Rf(c,s);return-1===a?c.length:a+1}}(c,d);switch(s.type){case"value":if(s.payload&&s.payload.exists()){let W=null;s.payload.forEach(oe=>{const be={payload:oe,type:"value",prevKey:W,key:oe.key};return W=oe.key,c=[...c,be],!1})}return c;case"child_added":if(C>-1){const W=c[C-1];(W&&W.key||null)!==d&&(c=c.filter(oe=>oe.payload.key!==a.key)).splice(P,0,s)}else{if(null==d)return[s,...c];(c=c.slice()).splice(P,0,s)}return c;case"child_removed":return c.filter(W=>W.payload.key!==a.key);case"child_changed":return c.map(W=>W.payload.key===g?s:W);case"child_moved":if(C>-1){const W=c.splice(C,1)[0];return(c=c.slice()).splice(P,0,W),c}return c;default:return c}}function Hd(c){return(Mh(c)||0===c.length)&&(c=["child_added","child_removed","child_changed","child_moved"]),c}function Hp(c,s,a){return function Mf(c,s,a){return td(c,"value","once",a).pipe((0,ld.w)(d=>{const g=[(0,ge.of)(d)];return s.forEach(C=>g.push(td(c,C,"on",a))),(0,Ol.T)(...g).pipe((0,Ec.R)(zg,[]))}),(0,ps.x)())}(c,s=Hd(s),a)}function Rh(c,s,a){const d=(s=Hd(s)).map(g=>td(c,g,"on",a));return(0,Ol.T)(...d)}function kh(c,s){return function(d,g){return Ud(d,{stringCase:()=>c.child(d)[s](g),firebaseCase:()=>d[s](g),snapshotCase:()=>d.ref[s](g)})}}function Gg(c){return function(a){return a?Ud(a,{stringCase:()=>c.child(a).remove(),firebaseCase:()=>a.remove(),snapshotCase:()=>a.ref.remove()}):c.remove()}}function Pm(c,s){return function(){return td(c,"value","on",s)}}const Oh=new _.OlP("angularfire2.realtimeDatabaseURL"),Ph=new _.OlP("angularfire2.database.use-emulator");let jp=(()=>{class c{constructor(a,d,g,C,P,W,oe,be,vt,At,Zt,En,Dn,ri,Ki){this.schedulers=W;const Er=oe,tr=(0,Zo.on)(a,P,d);be&&(0,Ie.nw)(tr,P,vt,Zt,En,Dn,At,ri),this.database=(0,Zo.cc)(`${tr.name}.database.${g}`,"AngularFireDatabase",tr.name,()=>{const zs=P.runOutsideAngular(()=>tr.database(g||void 0));return Er&&zs.useEmulator(...Er),zs},[Er])}list(a,d){const g=this.schedulers.ngZone.runOutsideAngular(()=>jg(this.database,a));let C=g;return d&&(C=d(g)),function k_(c,s){const a=s.schedulers.outsideAngular,d=s.schedulers.ngZone.run(()=>c.ref);return{query:c,update:kh(d,"update"),set:kh(d,"set"),push:g=>d.push(g),remove:Gg(d),snapshotChanges:g=>Hp(c,g,a).pipe(yi.iC),stateChanges:g=>Rh(c,g,a).pipe(yi.iC),auditTrail:g=>function $g(c,s,a){return function Om(c,s,a){return function jd(c,s){return td(c,"value","on",s).pipe((0,vl.U)(a=>{let d;return a.payload.forEach(g=>(d=g.key,!1)),{data:a,lastKeyToLoad:d}}))}(c,a).pipe(function wi(...c){const s=(0,jr.jO)(c);return(0,mu.e)((a,d)=>{const g=c.length,C=new Array(g);let P=c.map(()=>!1),W=!1;for(let oe=0;oe<g;oe++)(0,Ri.Xf)(c[oe]).subscribe((0,Fr.x)(d,be=>{C[oe]=be,!W&&!P[oe]&&(P[oe]=!0,(W=P.every(Za.y))&&(P=null))},Cc.Z));a.subscribe((0,Fr.x)(d,oe=>{if(W){const be=[oe,...C];d.next(s?s(...be):be)}}))})}(s),(0,vl.U)(([g,C])=>{const P=g.lastKeyToLoad,W=C.map(oe=>oe.key);return{actions:C,lastKeyToLoad:P,loadedKeys:W}}),function qa(c){return(0,mu.e)((s,a)=>{let d=!1,g=0;s.subscribe((0,Fr.x)(a,C=>(d||(d=!c(C,g++)))&&a.next(C)))})}(g=>-1===g.loadedKeys.indexOf(g.lastKeyToLoad)),(0,vl.U)(g=>g.actions))}(c,Rh(c,s).pipe((0,Ec.R)((g,C)=>[...g,C],[])),a)}(c,g,a).pipe(yi.iC),valueChanges:(g,C)=>Hp(c,g,a).pipe((0,vl.U)(W=>W.map(oe=>C&&C.idField?Object.assign(Object.assign({},oe.payload.val()),{[C.idField]:oe.key}):oe.payload.val())),yi.iC)}}(C,this)}object(a){return function Wg(c,s){return{query:c,snapshotChanges:()=>Pm(c,s.schedulers.outsideAngular)().pipe(yi.iC),update:a=>c.ref.update(a),set:a=>c.ref.set(a),remove:()=>c.ref.remove(),valueChanges:()=>Pm(c,s.schedulers.outsideAngular)().pipe(yi.iC,(0,vl.U)(d=>d.payload.exists()?d.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>jg(this.database,a)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return c.\u0275fac=function(a){return new(a||c)(_.LFG(Zo.Dh),_.LFG(Zo.xv,8),_.LFG(Oh,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(yi.HU),_.LFG(Ph,8),_.LFG(Ie.zQ,8),_.LFG(Ie.Qv,8),_.LFG(Ie.L6,8),_.LFG(Ie._Q,8),_.LFG(Ie.rT,8),_.LFG(Ie.lh,8),_.LFG(Ie.f7,8),_.LFG(km.nm,8))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),zp=(()=>{class c{constructor(){Af.Z.registerVersion("angularfire",yi.q4.full,"rtdb-compat")}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=_.oAB({type:c}),c.\u0275inj=_.cJS({providers:[jp]}),c})();var Nm=M(3319),$p=M(1379);let Gp=(()=>{const s=class{};let c=s;return s.\u0275fac=function(g){return new(g||s)},s.\u0275mod=_.oAB({type:s,bootstrap:[gt]}),s.\u0275inj=_.cJS({imports:[f.b2,pn,Bs,Ee.To,S.u5,S.UX,nt.ot,Re.QW,Nm.Tx,rn.FA,at.Cq,Be.c,Zo.hO.initializeApp(fs_firebase),Ve.yb,zp,vn.TE,$p.XK]}),c})();f.q6().bootstrapModule(Gp).catch(c=>console.error(c))},4091:(fn,ot,M)=>{"use strict";M.d(ot,{F4:()=>ne,IO:()=>We,LC:()=>F,SB:()=>Oe,X$:()=>ce,ZE:()=>Be,ZN:()=>nt,_7:()=>Ve,_j:()=>f,eR:()=>de,jt:()=>S,k1:()=>ut,l3:()=>_,oB:()=>L,oQ:()=>ye,pV:()=>Ie,ru:()=>we,vP:()=>He});class f{}class F{}const _="*";function ce(Fe,ke){return{type:7,name:Fe,definitions:ke,options:{}}}function S(Fe,ke=null){return{type:4,styles:ke,timings:Fe}}function we(Fe,ke=null){return{type:3,steps:Fe,options:ke}}function He(Fe,ke=null){return{type:2,steps:Fe,options:ke}}function L(Fe){return{type:6,styles:Fe,offset:null}}function Oe(Fe,ke,Re){return{type:0,name:Fe,styles:ke,options:Re}}function ne(Fe){return{type:5,steps:Fe}}function de(Fe,ke,Re=null){return{type:1,expr:Fe,animation:ke,options:Re}}function ye(Fe,ke=null){return{type:8,animation:Fe,options:ke}}function Ie(Fe=null){return{type:9,options:Fe}}function Ve(Fe,ke=null){return{type:10,animation:Fe,options:ke}}function We(Fe,ke,Re=null){return{type:11,selector:Fe,animation:ke,options:Re}}function Ze(Fe){Promise.resolve().then(Fe)}class nt{constructor(ke=0,Re=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ke+Re}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ke=>ke()),this._onDoneFns=[])}onStart(ke){this._originalOnStartFns.push(ke),this._onStartFns.push(ke)}onDone(ke){this._originalOnDoneFns.push(ke),this._onDoneFns.push(ke)}onDestroy(ke){this._onDestroyFns.push(ke)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ze(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ke=>ke()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ke=>ke()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ke){this._position=this.totalTime?ke*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ke){const Re="start"==ke?this._onStartFns:this._onDoneFns;Re.forEach(xe=>xe()),Re.length=0}}class Be{constructor(ke){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ke;let Re=0,xe=0,Ke=0;const ge=this.players.length;0==ge?Ze(()=>this._onFinish()):this.players.forEach(mt=>{mt.onDone(()=>{++Re==ge&&this._onFinish()}),mt.onDestroy(()=>{++xe==ge&&this._onDestroy()}),mt.onStart(()=>{++Ke==ge&&this._onStart()})}),this.totalTime=this.players.reduce((mt,jt)=>Math.max(mt,jt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ke=>ke()),this._onDoneFns=[])}init(){this.players.forEach(ke=>ke.init())}onStart(ke){this._onStartFns.push(ke)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ke=>ke()),this._onStartFns=[])}onDone(ke){this._onDoneFns.push(ke)}onDestroy(ke){this._onDestroyFns.push(ke)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ke=>ke.play())}pause(){this.players.forEach(ke=>ke.pause())}restart(){this.players.forEach(ke=>ke.restart())}finish(){this._onFinish(),this.players.forEach(ke=>ke.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ke=>ke.destroy()),this._onDestroyFns.forEach(ke=>ke()),this._onDestroyFns=[])}reset(){this.players.forEach(ke=>ke.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ke){const Re=ke*this.totalTime;this.players.forEach(xe=>{const Ke=xe.totalTime?Math.min(1,Re/xe.totalTime):1;xe.setPosition(Ke)})}getPosition(){const ke=this.players.reduce((Re,xe)=>null===Re||xe.totalTime>Re.totalTime?xe:Re,null);return null!=ke?ke.getPosition():0}beforeDestroy(){this.players.forEach(ke=>{ke.beforeDestroy&&ke.beforeDestroy()})}triggerCallback(ke){const Re="start"==ke?this._onStartFns:this._onDoneFns;Re.forEach(xe=>xe()),Re.length=0}}const ut="!"},6556:(fn,ot,M)=>{"use strict";M.d(ot,{rt:()=>$e,kH:()=>Qe,mK:()=>et,Em:()=>In,tE:()=>rt,qV:()=>Ee,qm:()=>ft,ic:()=>Mt,X6:()=>yt,yG:()=>Vt});var f=M(8692),F=M(4537),_=M(6321),ce=M(8023),S=M(4813),we=M(4121),He=M(4945),L=M(5436),Oe=M(8168),ne=M(3151),de=M(4970),ye=M(7969),Ie=M(5598);function Ve(le){return(0,de.h)((q,te)=>le<=te)}var We=M(2147),ht=M(3528),Ze=M(4929),nt=M(7723),Be=M(5696),ut=M(3729),Fe=M(7241),ke=M(1927);const xe=new Set;let Ke,ge=(()=>{class le{constructor(te){this._platform=te,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jt}matchMedia(te){return(this._platform.WEBKIT||this._platform.BLINK)&&function mt(le){if(!xe.has(le))try{Ke||(Ke=document.createElement("style"),Ke.setAttribute("type","text/css"),document.head.appendChild(Ke)),Ke.sheet&&(Ke.sheet.insertRule(`@media ${le} {body{ }}`,0),xe.add(le))}catch(q){console.error(q)}}(te),this._matchMedia(te)}}return le.\u0275fac=function(te){return new(te||le)(F.LFG(_.t4))},le.\u0275prov=F.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();function jt(le){return{matches:"all"===le||""===le,media:le,addListener:()=>{},removeListener:()=>{}}}let Ht=(()=>{class le{constructor(te,Pe){this._mediaMatcher=te,this._zone=Pe,this._queries=new Map,this._destroySubject=new ce.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(te){return vn((0,Ze.Eq)(te)).some(st=>this._registerQuery(st).mql.matches)}observe(te){const st=vn((0,Ze.Eq)(te)).map(ln=>this._registerQuery(ln).observable);let $t=(0,Be.a)(st);return $t=(0,ut.z)($t.pipe((0,Ie.q)(1)),$t.pipe(Ve(1),(0,ne.b)(0))),$t.pipe((0,ye.U)(ln=>{const Xn={matches:!1,breakpoints:{}};return ln.forEach(({matches:Pi,query:Lt})=>{Xn.matches=Xn.matches||Pi,Xn.breakpoints[Lt]=Pi}),Xn}))}_registerQuery(te){if(this._queries.has(te))return this._queries.get(te);const Pe=this._mediaMatcher.matchMedia(te),$t={observable:new Fe.y(ln=>{const Xn=Pi=>this._zone.run(()=>ln.next(Pi));return Pe.addListener(Xn),()=>{Pe.removeListener(Xn)}}).pipe((0,ke.O)(Pe),(0,ye.U)(({matches:ln})=>({query:te,matches:ln})),(0,ht.R)(this._destroySubject)),mql:Pe};return this._queries.set(te,$t),$t}}return le.\u0275fac=function(te){return new(te||le)(F.LFG(ge),F.LFG(F.R0b))},le.\u0275prov=F.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();function vn(le){return le.map(q=>q.split(",")).reduce((q,te)=>q.concat(te)).map(q=>q.trim())}class at{constructor(q){this._items=q,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ce.x,this._typeaheadSubscription=S.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=te=>te.disabled,this._pressedLetters=[],this.tabOut=new ce.x,this.change=new ce.x,q instanceof F.n_E&&(this._itemChangesSubscription=q.changes.subscribe(te=>{if(this._activeItem){const st=te.toArray().indexOf(this._activeItem);st>-1&&st!==this._activeItemIndex&&(this._activeItemIndex=st)}}))}skipPredicate(q){return this._skipPredicateFn=q,this}withWrap(q=!0){return this._wrap=q,this}withVerticalOrientation(q=!0){return this._vertical=q,this}withHorizontalOrientation(q){return this._horizontal=q,this}withAllowedModifierKeys(q){return this._allowedModifierKeys=q,this}withTypeAhead(q=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Oe.b)(te=>this._pressedLetters.push(te)),(0,ne.b)(q),(0,de.h)(()=>this._pressedLetters.length>0),(0,ye.U)(()=>this._pressedLetters.join(""))).subscribe(te=>{const Pe=this._getItemsArray();for(let st=1;st<Pe.length+1;st++){const $t=(this._activeItemIndex+st)%Pe.length,ln=Pe[$t];if(!this._skipPredicateFn(ln)&&0===ln.getLabel().toUpperCase().trim().indexOf(te)){this.setActiveItem($t);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(q=!0){return this._homeAndEnd=q,this}withPageUpDown(q=!0,te=10){return this._pageUpAndDown={enabled:q,delta:te},this}setActiveItem(q){const te=this._activeItem;this.updateActiveItem(q),this._activeItem!==te&&this.change.next(this._activeItemIndex)}onKeydown(q){const te=q.keyCode,st=["altKey","ctrlKey","metaKey","shiftKey"].every($t=>!q[$t]||this._allowedModifierKeys.indexOf($t)>-1);switch(te){case L.Mf:return void this.tabOut.next();case L.JH:if(this._vertical&&st){this.setNextItemActive();break}return;case L.LH:if(this._vertical&&st){this.setPreviousItemActive();break}return;case L.SV:if(this._horizontal&&st){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case L.oh:if(this._horizontal&&st){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case L.Sd:if(this._homeAndEnd&&st){this.setFirstItemActive();break}return;case L.uR:if(this._homeAndEnd&&st){this.setLastItemActive();break}return;case L.Ku:if(this._pageUpAndDown.enabled&&st){const $t=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex($t>0?$t:0,1);break}return;case L.VM:if(this._pageUpAndDown.enabled&&st){const $t=this._activeItemIndex+this._pageUpAndDown.delta,ln=this._getItemsArray().length;this._setActiveItemByIndex($t<ln?$t:ln-1,-1);break}return;default:return void((st||(0,L.Vb)(q,"shiftKey"))&&(q.key&&1===q.key.length?this._letterKeyStream.next(q.key.toLocaleUpperCase()):(te>=L.A&&te<=L.Z||te>=L.xE&&te<=L.aO)&&this._letterKeyStream.next(String.fromCharCode(te))))}this._pressedLetters=[],q.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(q){const te=this._getItemsArray(),Pe="number"==typeof q?q:te.indexOf(q);this._activeItem=te[Pe]??null,this._activeItemIndex=Pe}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(q){this._wrap?this._setActiveInWrapMode(q):this._setActiveInDefaultMode(q)}_setActiveInWrapMode(q){const te=this._getItemsArray();for(let Pe=1;Pe<=te.length;Pe++){const st=(this._activeItemIndex+q*Pe+te.length)%te.length;if(!this._skipPredicateFn(te[st]))return void this.setActiveItem(st)}}_setActiveInDefaultMode(q){this._setActiveItemByIndex(this._activeItemIndex+q,q)}_setActiveItemByIndex(q,te){const Pe=this._getItemsArray();if(Pe[q]){for(;this._skipPredicateFn(Pe[q]);)if(!Pe[q+=te])return;this.setActiveItem(q)}}_getItemsArray(){return this._items instanceof F.n_E?this._items.toArray():this._items}}class In extends at{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(q){return this._origin=q,this}setActiveItem(q){super.setActiveItem(q),this.activeItem&&this.activeItem.focus(this._origin)}}let Mt=(()=>{class le{constructor(te){this._platform=te}isDisabled(te){return te.hasAttribute("disabled")}isVisible(te){return function St(le){return!!(le.offsetWidth||le.offsetHeight||"function"==typeof le.getClientRects&&le.getClientRects().length)}(te)&&"visible"===getComputedStyle(te).visibility}isTabbable(te){if(!this._platform.isBrowser)return!1;const Pe=function pn(le){try{return le.frameElement}catch{return null}}(function lt(le){return le.ownerDocument&&le.ownerDocument.defaultView||window}(te));if(Pe&&(-1===he(Pe)||!this.isVisible(Pe)))return!1;let st=te.nodeName.toLowerCase(),$t=he(te);return te.hasAttribute("contenteditable")?-1!==$t:!("iframe"===st||"object"===st||this._platform.WEBKIT&&this._platform.IOS&&!function Xe(le){let q=le.nodeName.toLowerCase(),te="input"===q&&le.type;return"text"===te||"password"===te||"select"===q||"textarea"===q}(te))&&("audio"===st?!!te.hasAttribute("controls")&&-1!==$t:"video"===st?-1!==$t&&(null!==$t||this._platform.FIREFOX||te.hasAttribute("controls")):te.tabIndex>=0)}isFocusable(te,Pe){return function Dt(le){return!function wn(le){return function Jn(le){return"input"==le.nodeName.toLowerCase()}(le)&&"hidden"==le.type}(le)&&(function on(le){let q=le.nodeName.toLowerCase();return"input"===q||"select"===q||"button"===q||"textarea"===q}(le)||function Ln(le){return function Cn(le){return"a"==le.nodeName.toLowerCase()}(le)&&le.hasAttribute("href")}(le)||le.hasAttribute("contenteditable")||_t(le))}(te)&&!this.isDisabled(te)&&(Pe?.ignoreVisibility||this.isVisible(te))}}return le.\u0275fac=function(te){return new(te||le)(F.LFG(_.t4))},le.\u0275prov=F.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();function _t(le){if(!le.hasAttribute("tabindex")||void 0===le.tabIndex)return!1;let q=le.getAttribute("tabindex");return!(!q||isNaN(parseInt(q,10)))}function he(le){if(!_t(le))return null;const q=parseInt(le.getAttribute("tabindex")||"",10);return isNaN(q)?-1:q}class gt{get enabled(){return this._enabled}set enabled(q){this._enabled=q,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(q,this._startAnchor),this._toggleAnchorTabIndex(q,this._endAnchor))}constructor(q,te,Pe,st,$t=!1){this._element=q,this._checker=te,this._ngZone=Pe,this._document=st,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,$t||this.attachAnchors()}destroy(){const q=this._startAnchor,te=this._endAnchor;q&&(q.removeEventListener("focus",this.startAnchorListener),q.remove()),te&&(te.removeEventListener("focus",this.endAnchorListener),te.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(q){return new Promise(te=>{this._executeOnStable(()=>te(this.focusInitialElement(q)))})}focusFirstTabbableElementWhenReady(q){return new Promise(te=>{this._executeOnStable(()=>te(this.focusFirstTabbableElement(q)))})}focusLastTabbableElementWhenReady(q){return new Promise(te=>{this._executeOnStable(()=>te(this.focusLastTabbableElement(q)))})}_getRegionBoundary(q){const te=this._element.querySelectorAll(`[cdk-focus-region-${q}], [cdkFocusRegion${q}], [cdk-focus-${q}]`);return"start"==q?te.length?te[0]:this._getFirstTabbableElement(this._element):te.length?te[te.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(q){const te=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(te){if(!this._checker.isFocusable(te)){const Pe=this._getFirstTabbableElement(te);return Pe?.focus(q),!!Pe}return te.focus(q),!0}return this.focusFirstTabbableElement(q)}focusFirstTabbableElement(q){const te=this._getRegionBoundary("start");return te&&te.focus(q),!!te}focusLastTabbableElement(q){const te=this._getRegionBoundary("end");return te&&te.focus(q),!!te}hasAttached(){return this._hasAttached}_getFirstTabbableElement(q){if(this._checker.isFocusable(q)&&this._checker.isTabbable(q))return q;const te=q.children;for(let Pe=0;Pe<te.length;Pe++){const st=te[Pe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(te[Pe]):null;if(st)return st}return null}_getLastTabbableElement(q){if(this._checker.isFocusable(q)&&this._checker.isTabbable(q))return q;const te=q.children;for(let Pe=te.length-1;Pe>=0;Pe--){const st=te[Pe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(te[Pe]):null;if(st)return st}return null}_createAnchor(){const q=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,q),q.classList.add("cdk-visually-hidden"),q.classList.add("cdk-focus-trap-anchor"),q.setAttribute("aria-hidden","true"),q}_toggleAnchorTabIndex(q,te){q?te.setAttribute("tabindex","0"):te.removeAttribute("tabindex")}toggleAnchors(q){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(q,this._startAnchor),this._toggleAnchorTabIndex(q,this._endAnchor))}_executeOnStable(q){this._ngZone.isStable?q():this._ngZone.onStable.pipe((0,Ie.q)(1)).subscribe(q)}}let Ee=(()=>{class le{constructor(te,Pe,st){this._checker=te,this._ngZone=Pe,this._document=st}create(te,Pe=!1){return new gt(te,this._checker,this._ngZone,this._document,Pe)}}return le.\u0275fac=function(te){return new(te||le)(F.LFG(Mt),F.LFG(F.R0b),F.LFG(f.K0))},le.\u0275prov=F.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})(),et=(()=>{class le{get enabled(){return this.focusTrap.enabled}set enabled(te){this.focusTrap.enabled=(0,Ze.Ig)(te)}get autoCapture(){return this._autoCapture}set autoCapture(te){this._autoCapture=(0,Ze.Ig)(te)}constructor(te,Pe,st){this._elementRef=te,this._focusTrapFactory=Pe,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(te){const Pe=te.autoCapture;Pe&&!Pe.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,_.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return le.\u0275fac=function(te){return new(te||le)(F.Y36(F.SBq),F.Y36(Ee),F.Y36(f.K0))},le.\u0275dir=F.lG2({type:le,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[F.TTD]}),le})();function yt(le){return 0===le.buttons||0===le.offsetX&&0===le.offsetY}function Vt(le){const q=le.touches&&le.touches[0]||le.changedTouches&&le.changedTouches[0];return!(!q||-1!==q.identifier||null!=q.radiusX&&1!==q.radiusX||null!=q.radiusY&&1!==q.radiusY)}const kn=new F.OlP("cdk-input-modality-detector-options"),Sn={ignoreKeys:[L.zL,L.jx,L.b2,L.MW,L.JU]},Un=(0,_.i$)({passive:!0,capture:!0});let mi=(()=>{class le{get mostRecentModality(){return this._modality.value}constructor(te,Pe,st,$t){this._platform=te,this._mostRecentTarget=null,this._modality=new we.X(null),this._lastTouchMs=0,this._onKeydown=ln=>{this._options?.ignoreKeys?.some(Xn=>Xn===ln.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,_.sA)(ln))},this._onMousedown=ln=>{Date.now()-this._lastTouchMs<650||(this._modality.next(yt(ln)?"keyboard":"mouse"),this._mostRecentTarget=(0,_.sA)(ln))},this._onTouchstart=ln=>{Vt(ln)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,_.sA)(ln))},this._options={...Sn,...$t},this.modalityDetected=this._modality.pipe(Ve(1)),this.modalityChanged=this.modalityDetected.pipe((0,We.x)()),te.isBrowser&&Pe.runOutsideAngular(()=>{st.addEventListener("keydown",this._onKeydown,Un),st.addEventListener("mousedown",this._onMousedown,Un),st.addEventListener("touchstart",this._onTouchstart,Un)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Un),document.removeEventListener("mousedown",this._onMousedown,Un),document.removeEventListener("touchstart",this._onTouchstart,Un))}}return le.\u0275fac=function(te){return new(te||le)(F.LFG(_.t4),F.LFG(F.R0b),F.LFG(f.K0),F.LFG(kn,8))},le.\u0275prov=F.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();const Tn=new F.OlP("cdk-focus-monitor-default-options"),ui=(0,_.i$)({passive:!0,capture:!0});let rt=(()=>{class le{constructor(te,Pe,st,$t,ln){this._ngZone=te,this._platform=Pe,this._inputModalityDetector=st,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ce.x,this._rootNodeFocusAndBlurListener=Xn=>{for(let Lt=(0,_.sA)(Xn);Lt;Lt=Lt.parentElement)"focus"===Xn.type?this._onFocus(Xn,Lt):this._onBlur(Xn,Lt)},this._document=$t,this._detectionMode=ln?.detectionMode||0}monitor(te,Pe=!1){const st=(0,Ze.fI)(te);if(!this._platform.isBrowser||1!==st.nodeType)return(0,He.of)(null);const $t=(0,_.kV)(st)||this._getDocument(),ln=this._elementInfo.get(st);if(ln)return Pe&&(ln.checkChildren=!0),ln.subject;const Xn={checkChildren:Pe,subject:new ce.x,rootNode:$t};return this._elementInfo.set(st,Xn),this._registerGlobalListeners(Xn),Xn.subject}stopMonitoring(te){const Pe=(0,Ze.fI)(te),st=this._elementInfo.get(Pe);st&&(st.subject.complete(),this._setClasses(Pe),this._elementInfo.delete(Pe),this._removeGlobalListeners(st))}focusVia(te,Pe,st){const $t=(0,Ze.fI)(te);$t===this._getDocument().activeElement?this._getClosestElementsInfo($t).forEach(([Xn,Pi])=>this._originChanged(Xn,Pe,Pi)):(this._setOrigin(Pe),"function"==typeof $t.focus&&$t.focus(st))}ngOnDestroy(){this._elementInfo.forEach((te,Pe)=>this.stopMonitoring(Pe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(te){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(te)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:te&&this._isLastInteractionFromInputLabel(te)?"mouse":"program"}_shouldBeAttributedToTouch(te){return 1===this._detectionMode||!!te?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(te,Pe){te.classList.toggle("cdk-focused",!!Pe),te.classList.toggle("cdk-touch-focused","touch"===Pe),te.classList.toggle("cdk-keyboard-focused","keyboard"===Pe),te.classList.toggle("cdk-mouse-focused","mouse"===Pe),te.classList.toggle("cdk-program-focused","program"===Pe)}_setOrigin(te,Pe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=te,this._originFromTouchInteraction="touch"===te&&Pe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(te,Pe){const st=this._elementInfo.get(Pe),$t=(0,_.sA)(te);!st||!st.checkChildren&&Pe!==$t||this._originChanged(Pe,this._getFocusOrigin($t),st)}_onBlur(te,Pe){const st=this._elementInfo.get(Pe);!st||st.checkChildren&&te.relatedTarget instanceof Node&&Pe.contains(te.relatedTarget)||(this._setClasses(Pe),this._emitOrigin(st,null))}_emitOrigin(te,Pe){te.subject.observers.length&&this._ngZone.run(()=>te.subject.next(Pe))}_registerGlobalListeners(te){if(!this._platform.isBrowser)return;const Pe=te.rootNode,st=this._rootNodeFocusListenerCount.get(Pe)||0;st||this._ngZone.runOutsideAngular(()=>{Pe.addEventListener("focus",this._rootNodeFocusAndBlurListener,ui),Pe.addEventListener("blur",this._rootNodeFocusAndBlurListener,ui)}),this._rootNodeFocusListenerCount.set(Pe,st+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ht.R)(this._stopInputModalityDetector)).subscribe($t=>{this._setOrigin($t,!0)}))}_removeGlobalListeners(te){const Pe=te.rootNode;if(this._rootNodeFocusListenerCount.has(Pe)){const st=this._rootNodeFocusListenerCount.get(Pe);st>1?this._rootNodeFocusListenerCount.set(Pe,st-1):(Pe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ui),Pe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ui),this._rootNodeFocusListenerCount.delete(Pe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(te,Pe,st){this._setClasses(te,Pe),this._emitOrigin(st,Pe),this._lastFocusOrigin=Pe}_getClosestElementsInfo(te){const Pe=[];return this._elementInfo.forEach((st,$t)=>{($t===te||st.checkChildren&&$t.contains(te))&&Pe.push([$t,st])}),Pe}_isLastInteractionFromInputLabel(te){const{_mostRecentTarget:Pe,mostRecentModality:st}=this._inputModalityDetector;if("mouse"!==st||!Pe||Pe===te||"INPUT"!==te.nodeName&&"TEXTAREA"!==te.nodeName||te.disabled)return!1;const $t=te.labels;if($t)for(let ln=0;ln<$t.length;ln++)if($t[ln].contains(Pe))return!0;return!1}}return le.\u0275fac=function(te){return new(te||le)(F.LFG(F.R0b),F.LFG(_.t4),F.LFG(mi),F.LFG(f.K0,8),F.LFG(Tn,8))},le.\u0275prov=F.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})(),Qe=(()=>{class le{constructor(te,Pe){this._elementRef=te,this._focusMonitor=Pe,this._focusOrigin=null,this.cdkFocusChange=new F.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const te=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(te,1===te.nodeType&&te.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Pe=>{this._focusOrigin=Pe,this.cdkFocusChange.emit(Pe)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return le.\u0275fac=function(te){return new(te||le)(F.Y36(F.SBq),F.Y36(rt))},le.\u0275dir=F.lG2({type:le,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),le})();const pe="cdk-high-contrast-black-on-white",ve="cdk-high-contrast-white-on-black",fe="cdk-high-contrast-active";let ft=(()=>{class le{constructor(te,Pe){this._platform=te,this._document=Pe,this._breakpointSubscription=(0,F.f3M)(Ht).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const te=this._document.createElement("div");te.style.backgroundColor="rgb(1,2,3)",te.style.position="absolute",this._document.body.appendChild(te);const Pe=this._document.defaultView||window,st=Pe&&Pe.getComputedStyle?Pe.getComputedStyle(te):null,$t=(st&&st.backgroundColor||"").replace(/ /g,"");switch(te.remove(),$t){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const te=this._document.body.classList;te.remove(fe,pe,ve),this._hasCheckedHighContrastMode=!0;const Pe=this.getHighContrastMode();1===Pe?te.add(fe,pe):2===Pe&&te.add(fe,ve)}}}return le.\u0275fac=function(te){return new(te||le)(F.LFG(_.t4),F.LFG(f.K0))},le.\u0275prov=F.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})(),$e=(()=>{class le{constructor(te){te._applyBodyHighContrastModeCssClasses()}}return le.\u0275fac=function(te){return new(te||le)(F.LFG(ft))},le.\u0275mod=F.oAB({type:le}),le.\u0275inj=F.cJS({imports:[nt.Q8]}),le})()},5875:(fn,ot,M)=>{"use strict";M.d(ot,{Is:()=>He,vT:()=>Oe});var f=M(4537),F=M(8692);const _=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function ce(){return(0,f.f3M)(F.K0)}}),S=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let He=(()=>{class ne{constructor(ye){this.value="ltr",this.change=new f.vpe,ye&&(this.value=function we(ne){const de=ne?.toLowerCase()||"";return"auto"===de&&typeof navigator<"u"&&navigator?.language?S.test(navigator.language)?"rtl":"ltr":"rtl"===de?"rtl":"ltr"}((ye.body?ye.body.dir:null)||(ye.documentElement?ye.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return ne.\u0275fac=function(ye){return new(ye||ne)(f.LFG(_,8))},ne.\u0275prov=f.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),Oe=(()=>{class ne{}return ne.\u0275fac=function(ye){return new(ye||ne)},ne.\u0275mod=f.oAB({type:ne}),ne.\u0275inj=f.cJS({}),ne})()},4929:(fn,ot,M)=>{"use strict";M.d(ot,{Eq:()=>S,HM:()=>we,Ig:()=>F,du:()=>L,fI:()=>He,su:()=>_});var f=M(4537);function F(Oe){return null!=Oe&&"false"!=`${Oe}`}function _(Oe,ne=0){return function ce(Oe){return!isNaN(parseFloat(Oe))&&!isNaN(Number(Oe))}(Oe)?Number(Oe):ne}function S(Oe){return Array.isArray(Oe)?Oe:[Oe]}function we(Oe){return null==Oe?"":"string"==typeof Oe?Oe:`${Oe}px`}function He(Oe){return Oe instanceof f.SBq?Oe.nativeElement:Oe}function L(Oe,ne=/\s+/){const de=[];if(null!=Oe){const ye=Array.isArray(Oe)?Oe:`${Oe}`.split(ne);for(const Ie of ye){const Ve=`${Ie}`.trim();Ve&&de.push(Ve)}}return de}},5834:(fn,ot,M)=>{"use strict";M.d(ot,{A8:()=>de,Ov:()=>Oe,Z9:()=>S,eX:()=>L,k:()=>ye,yy:()=>He});var f=M(561),F=M(8023),_=M(4537);function S(Ie){return Ie&&"function"==typeof Ie.connect&&!(Ie instanceof f.c)}class He{applyChanges(Ve,We,ht,Ze,nt){Ve.forEachOperation((Be,ut,Fe)=>{let ke,Re;if(null==Be.previousIndex){const xe=ht(Be,ut,Fe);ke=We.createEmbeddedView(xe.templateRef,xe.context,xe.index),Re=1}else null==Fe?(We.remove(ut),Re=3):(ke=We.get(ut),We.move(ke,Fe),Re=2);nt&&nt({context:ke?.context,operation:Re,record:Be})})}detach(){}}class L{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Ve,We,ht,Ze,nt){Ve.forEachOperation((Be,ut,Fe)=>{let ke,Re;null==Be.previousIndex?(ke=this._insertView(()=>ht(Be,ut,Fe),Fe,We,Ze(Be)),Re=ke?1:0):null==Fe?(this._detachAndCacheView(ut,We),Re=3):(ke=this._moveView(ut,Fe,We,Ze(Be)),Re=2),nt&&nt({context:ke?.context,operation:Re,record:Be})})}detach(){for(const Ve of this._viewCache)Ve.destroy();this._viewCache=[]}_insertView(Ve,We,ht,Ze){const nt=this._insertViewFromCache(We,ht);if(nt)return void(nt.context.$implicit=Ze);const Be=Ve();return ht.createEmbeddedView(Be.templateRef,Be.context,Be.index)}_detachAndCacheView(Ve,We){const ht=We.detach(Ve);this._maybeCacheView(ht,We)}_moveView(Ve,We,ht,Ze){const nt=ht.get(Ve);return ht.move(nt,We),nt.context.$implicit=Ze,nt}_maybeCacheView(Ve,We){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Ve);else{const ht=We.indexOf(Ve);-1===ht?Ve.destroy():We.remove(ht)}}_insertViewFromCache(Ve,We){const ht=this._viewCache.pop();return ht&&We.insert(ht,Ve),ht||null}}class Oe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(Ve=!1,We,ht=!0,Ze){this._multiple=Ve,this._emitChanges=ht,this.compareWith=Ze,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new F.x,We&&We.length&&(Ve?We.forEach(nt=>this._markSelected(nt)):this._markSelected(We[0]),this._selectedToEmit.length=0)}select(...Ve){this._verifyValueAssignment(Ve),Ve.forEach(ht=>this._markSelected(ht));const We=this._hasQueuedChanges();return this._emitChangeEvent(),We}deselect(...Ve){this._verifyValueAssignment(Ve),Ve.forEach(ht=>this._unmarkSelected(ht));const We=this._hasQueuedChanges();return this._emitChangeEvent(),We}setSelection(...Ve){this._verifyValueAssignment(Ve);const We=this.selected,ht=new Set(Ve);Ve.forEach(nt=>this._markSelected(nt)),We.filter(nt=>!ht.has(nt)).forEach(nt=>this._unmarkSelected(nt));const Ze=this._hasQueuedChanges();return this._emitChangeEvent(),Ze}toggle(Ve){return this.isSelected(Ve)?this.deselect(Ve):this.select(Ve)}clear(Ve=!0){this._unmarkAll();const We=this._hasQueuedChanges();return Ve&&this._emitChangeEvent(),We}isSelected(Ve){return this._selection.has(this._getConcreteValue(Ve))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Ve){this._multiple&&this.selected&&this._selected.sort(Ve)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Ve){Ve=this._getConcreteValue(Ve),this.isSelected(Ve)||(this._multiple||this._unmarkAll(),this.isSelected(Ve)||this._selection.add(Ve),this._emitChanges&&this._selectedToEmit.push(Ve))}_unmarkSelected(Ve){Ve=this._getConcreteValue(Ve),this.isSelected(Ve)&&(this._selection.delete(Ve),this._emitChanges&&this._deselectedToEmit.push(Ve))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Ve=>this._unmarkSelected(Ve))}_verifyValueAssignment(Ve){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(Ve){if(this.compareWith){for(let We of this._selection)if(this.compareWith(Ve,We))return We;return Ve}return Ve}}let de=(()=>{class Ie{constructor(){this._listeners=[]}notify(We,ht){for(let Ze of this._listeners)Ze(We,ht)}listen(We){return this._listeners.push(We),()=>{this._listeners=this._listeners.filter(ht=>We!==ht)}}ngOnDestroy(){this._listeners=[]}}return Ie.\u0275fac=function(We){return new(We||Ie)},Ie.\u0275prov=_.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();const ye=new _.OlP("_ViewRepeater")},5436:(fn,ot,M)=>{"use strict";M.d(ot,{A:()=>Ne,JH:()=>ut,JU:()=>we,K5:()=>S,Ku:()=>Ie,LH:()=>nt,L_:()=>ye,MW:()=>un,Mf:()=>_,SV:()=>Be,Sd:()=>ht,VM:()=>Ve,Vb:()=>Yn,Z:()=>bt,ZH:()=>F,aO:()=>An,b2:()=>qt,hY:()=>de,jx:()=>He,oh:()=>Ze,uR:()=>We,xE:()=>Ke,yY:()=>xe,zL:()=>L});const F=8,_=9,S=13,we=16,He=17,L=18,de=27,ye=32,Ie=33,Ve=34,We=35,ht=36,Ze=37,nt=38,Be=39,ut=40,xe=46,Ke=48,An=57,Ne=65,bt=90,un=91,qt=224;function Yn(si,...$i){return $i.length?$i.some(Mr=>si[Mr]):si.altKey||si.shiftKey||si.ctrlKey||si.metaKey}},7723:(fn,ot,M)=>{"use strict";M.d(ot,{Q8:()=>Oe,wD:()=>L});var f=M(4929),F=M(4537),_=M(7241),ce=M(8023),S=M(3151);let we=(()=>{class ne{create(ye){return typeof MutationObserver>"u"?null:new MutationObserver(ye)}}return ne.\u0275fac=function(ye){return new(ye||ne)},ne.\u0275prov=F.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),He=(()=>{class ne{constructor(ye){this._mutationObserverFactory=ye,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ye,Ie)=>this._cleanupObserver(Ie))}observe(ye){const Ie=(0,f.fI)(ye);return new _.y(Ve=>{const ht=this._observeElement(Ie).subscribe(Ve);return()=>{ht.unsubscribe(),this._unobserveElement(Ie)}})}_observeElement(ye){if(this._observedElements.has(ye))this._observedElements.get(ye).count++;else{const Ie=new ce.x,Ve=this._mutationObserverFactory.create(We=>Ie.next(We));Ve&&Ve.observe(ye,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ye,{observer:Ve,stream:Ie,count:1})}return this._observedElements.get(ye).stream}_unobserveElement(ye){this._observedElements.has(ye)&&(this._observedElements.get(ye).count--,this._observedElements.get(ye).count||this._cleanupObserver(ye))}_cleanupObserver(ye){if(this._observedElements.has(ye)){const{observer:Ie,stream:Ve}=this._observedElements.get(ye);Ie&&Ie.disconnect(),Ve.complete(),this._observedElements.delete(ye)}}}return ne.\u0275fac=function(ye){return new(ye||ne)(F.LFG(we))},ne.\u0275prov=F.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})(),L=(()=>{class ne{get disabled(){return this._disabled}set disabled(ye){this._disabled=(0,f.Ig)(ye),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ye){this._debounce=(0,f.su)(ye),this._subscribe()}constructor(ye,Ie,Ve){this._contentObserver=ye,this._elementRef=Ie,this._ngZone=Ve,this.event=new F.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ye=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ye.pipe((0,S.b)(this.debounce)):ye).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return ne.\u0275fac=function(ye){return new(ye||ne)(F.Y36(He),F.Y36(F.SBq),F.Y36(F.R0b))},ne.\u0275dir=F.lG2({type:ne,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),ne})(),Oe=(()=>{class ne{}return ne.\u0275fac=function(ye){return new(ye||ne)},ne.\u0275mod=F.oAB({type:ne}),ne.\u0275inj=F.cJS({providers:[we]}),ne})()},9596:(fn,ot,M)=>{"use strict";M.d(ot,{Iu:()=>_i,U8:()=>Jn,X_:()=>Re,Xj:()=>hi,_G:()=>xn,aV:()=>bn});var f=M(1501),F=M(8692),_=M(4537),ce=M(4929),S=M(6321),we=M(4970),He=M(5598),L=M(3528),Oe=M(5875),ne=M(8632),de=M(8023),ye=M(4813),Ie=M(1860);const Ve=(0,S.Mq)();class We{constructor(he,Xe){this._viewportRuler=he,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Xe}attach(){}enable(){if(this._canBeEnabled()){const he=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=he.style.left||"",this._previousHTMLStyles.top=he.style.top||"",he.style.left=(0,ce.HM)(-this._previousScrollPosition.left),he.style.top=(0,ce.HM)(-this._previousScrollPosition.top),he.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const he=this._document.documentElement,Dt=he.style,lt=this._document.body.style,gt=Dt.scrollBehavior||"",Ee=lt.scrollBehavior||"";this._isEnabled=!1,Dt.left=this._previousHTMLStyles.left,Dt.top=this._previousHTMLStyles.top,he.classList.remove("cdk-global-scrollblock"),Ve&&(Dt.scrollBehavior=lt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ve&&(Dt.scrollBehavior=gt,lt.scrollBehavior=Ee)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Xe=this._document.body,Dt=this._viewportRuler.getViewportSize();return Xe.scrollHeight>Dt.height||Xe.scrollWidth>Dt.width}}class Ze{constructor(he,Xe,Dt,lt){this._scrollDispatcher=he,this._ngZone=Xe,this._viewportRuler=Dt,this._config=lt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(he){this._overlayRef=he}enable(){if(this._scrollSubscription)return;const he=this._scrollDispatcher.scrolled(0).pipe((0,we.h)(Xe=>!Xe||!this._overlayRef.overlayElement.contains(Xe.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=he.subscribe(()=>{const Xe=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Xe-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=he.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class nt{enable(){}disable(){}attach(){}}function Be(_t,he){return he.some(Xe=>_t.bottom<Xe.top||_t.top>Xe.bottom||_t.right<Xe.left||_t.left>Xe.right)}function ut(_t,he){return he.some(Xe=>_t.top<Xe.top||_t.bottom>Xe.bottom||_t.left<Xe.left||_t.right>Xe.right)}class Fe{constructor(he,Xe,Dt,lt){this._scrollDispatcher=he,this._viewportRuler=Xe,this._ngZone=Dt,this._config=lt,this._scrollSubscription=null}attach(he){this._overlayRef=he}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Xe=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Dt,height:lt}=this._viewportRuler.getViewportSize();Be(Xe,[{width:Dt,height:lt,bottom:lt,right:Dt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ke=(()=>{class _t{constructor(Xe,Dt,lt,gt){this._scrollDispatcher=Xe,this._viewportRuler=Dt,this._ngZone=lt,this.noop=()=>new nt,this.close=Ee=>new Ze(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ee),this.block=()=>new We(this._viewportRuler,this._document),this.reposition=Ee=>new Fe(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ee),this._document=gt}}return _t.\u0275fac=function(Xe){return new(Xe||_t)(_.LFG(f.mF),_.LFG(f.rL),_.LFG(_.R0b),_.LFG(F.K0))},_t.\u0275prov=_.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})();class Re{constructor(he){if(this.scrollStrategy=new nt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,he){const Xe=Object.keys(he);for(const Dt of Xe)void 0!==he[Dt]&&(this[Dt]=he[Dt])}}}class ge{constructor(he,Xe){this.connectionPair=he,this.scrollableViewProperties=Xe}}let Ht=(()=>{class _t{constructor(Xe){this._attachedOverlays=[],this._document=Xe}ngOnDestroy(){this.detach()}add(Xe){this.remove(Xe),this._attachedOverlays.push(Xe)}remove(Xe){const Dt=this._attachedOverlays.indexOf(Xe);Dt>-1&&this._attachedOverlays.splice(Dt,1),0===this._attachedOverlays.length&&this.detach()}}return _t.\u0275fac=function(Xe){return new(Xe||_t)(_.LFG(F.K0))},_t.\u0275prov=_.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})(),vn=(()=>{class _t extends Ht{constructor(Xe,Dt){super(Xe),this._ngZone=Dt,this._keydownListener=lt=>{const gt=this._attachedOverlays;for(let Ee=gt.length-1;Ee>-1;Ee--)if(gt[Ee]._keydownEvents.observers.length>0){const et=gt[Ee]._keydownEvents;this._ngZone?this._ngZone.run(()=>et.next(lt)):et.next(lt);break}}}add(Xe){super.add(Xe),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return _t.\u0275fac=function(Xe){return new(Xe||_t)(_.LFG(F.K0),_.LFG(_.R0b,8))},_t.\u0275prov=_.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})(),rn=(()=>{class _t extends Ht{constructor(Xe,Dt,lt){super(Xe),this._platform=Dt,this._ngZone=lt,this._cursorStyleIsSet=!1,this._pointerDownListener=gt=>{this._pointerDownEventTarget=(0,S.sA)(gt)},this._clickListener=gt=>{const Ee=(0,S.sA)(gt),et="click"===gt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ee;this._pointerDownEventTarget=null;const xt=this._attachedOverlays.slice();for(let bt=xt.length-1;bt>-1;bt--){const un=xt[bt];if(un._outsidePointerEvents.observers.length<1||!un.hasAttached())continue;if(un.overlayElement.contains(Ee)||un.overlayElement.contains(et))break;const Ot=un._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Ot.next(gt)):Ot.next(gt)}}}add(Xe){if(super.add(Xe),!this._isAttached){const Dt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Dt)):this._addEventListeners(Dt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Dt.style.cursor,Dt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Xe=this._document.body;Xe.removeEventListener("pointerdown",this._pointerDownListener,!0),Xe.removeEventListener("click",this._clickListener,!0),Xe.removeEventListener("auxclick",this._clickListener,!0),Xe.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Xe.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Xe){Xe.addEventListener("pointerdown",this._pointerDownListener,!0),Xe.addEventListener("click",this._clickListener,!0),Xe.addEventListener("auxclick",this._clickListener,!0),Xe.addEventListener("contextmenu",this._clickListener,!0)}}return _t.\u0275fac=function(Xe){return new(Xe||_t)(_.LFG(F.K0),_.LFG(S.t4),_.LFG(_.R0b,8))},_t.\u0275prov=_.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})(),hi=(()=>{class _t{constructor(Xe,Dt){this._platform=Dt,this._document=Xe}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Xe="cdk-overlay-container";if(this._platform.isBrowser||(0,S.Oy)()){const lt=this._document.querySelectorAll(`.${Xe}[platform="server"], .${Xe}[platform="test"]`);for(let gt=0;gt<lt.length;gt++)lt[gt].remove()}const Dt=this._document.createElement("div");Dt.classList.add(Xe),(0,S.Oy)()?Dt.setAttribute("platform","test"):this._platform.isBrowser||Dt.setAttribute("platform","server"),this._document.body.appendChild(Dt),this._containerElement=Dt}}return _t.\u0275fac=function(Xe){return new(Xe||_t)(_.LFG(F.K0),_.LFG(S.t4))},_t.\u0275prov=_.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})();class _i{constructor(he,Xe,Dt,lt,gt,Ee,et,xt,bt,un=!1){this._portalOutlet=he,this._host=Xe,this._pane=Dt,this._config=lt,this._ngZone=gt,this._keyboardDispatcher=Ee,this._document=et,this._location=xt,this._outsideClickDispatcher=bt,this._animationsDisabled=un,this._backdropElement=null,this._backdropClick=new de.x,this._attachments=new de.x,this._detachments=new de.x,this._locationChanges=ye.w0.EMPTY,this._backdropClickHandler=Ot=>this._backdropClick.next(Ot),this._backdropTransitionendHandler=Ot=>{this._disposeBackdrop(Ot.target)},this._keydownEvents=new de.x,this._outsidePointerEvents=new de.x,lt.scrollStrategy&&(this._scrollStrategy=lt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=lt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(he){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Xe=this._portalOutlet.attach(he);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,He.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Xe?.onDestroy&&Xe.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Xe}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const he=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),he}dispose(){const he=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,he&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(he){he!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=he,this.hasAttached()&&(he.attach(this),this.updatePosition()))}updateSize(he){this._config={...this._config,...he},this._updateElementSize()}setDirection(he){this._config={...this._config,direction:he},this._updateElementDirection()}addPanelClass(he){this._pane&&this._toggleClasses(this._pane,he,!0)}removePanelClass(he){this._pane&&this._toggleClasses(this._pane,he,!1)}getDirection(){const he=this._config.direction;return he?"string"==typeof he?he:he.value:"ltr"}updateScrollStrategy(he){he!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=he,this.hasAttached()&&(he.attach(this),he.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const he=this._pane.style;he.width=(0,ce.HM)(this._config.width),he.height=(0,ce.HM)(this._config.height),he.minWidth=(0,ce.HM)(this._config.minWidth),he.minHeight=(0,ce.HM)(this._config.minHeight),he.maxWidth=(0,ce.HM)(this._config.maxWidth),he.maxHeight=(0,ce.HM)(this._config.maxHeight)}_togglePointerEvents(he){this._pane.style.pointerEvents=he?"":"none"}_attachBackdrop(){const he="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(he)})}):this._backdropElement.classList.add(he)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const he=this._backdropElement;if(he){if(this._animationsDisabled)return void this._disposeBackdrop(he);he.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{he.addEventListener("transitionend",this._backdropTransitionendHandler)}),he.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(he)},500))}}_toggleClasses(he,Xe,Dt){const lt=(0,ce.Eq)(Xe||[]).filter(gt=>!!gt);lt.length&&(Dt?he.classList.add(...lt):he.classList.remove(...lt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const he=this._ngZone.onStable.pipe((0,L.R)((0,Ie.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),he.unsubscribe())})})}_disposeScrollStrategy(){const he=this._scrollStrategy;he&&(he.disable(),he.detach&&he.detach())}_disposeBackdrop(he){he&&(he.removeEventListener("click",this._backdropClickHandler),he.removeEventListener("transitionend",this._backdropTransitionendHandler),he.remove(),this._backdropElement===he&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const An="cdk-overlay-connected-position-bounding-box",Wn=/([A-Za-z%]+)$/;class xn{get positions(){return this._preferredPositions}constructor(he,Xe,Dt,lt,gt){this._viewportRuler=Xe,this._document=Dt,this._platform=lt,this._overlayContainer=gt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de.x,this._resizeSubscription=ye.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(he)}attach(he){this._validatePositions(),he.hostElement.classList.add(An),this._overlayRef=he,this._boundingBox=he.hostElement,this._pane=he.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const he=this._originRect,Xe=this._overlayRect,Dt=this._viewportRect,lt=this._containerRect,gt=[];let Ee;for(let et of this._preferredPositions){let xt=this._getOriginPoint(he,lt,et),bt=this._getOverlayPoint(xt,Xe,et),un=this._getOverlayFit(bt,Xe,Dt,et);if(un.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(et,xt);this._canFitWithFlexibleDimensions(un,bt,Dt)?gt.push({position:et,origin:xt,overlayRect:Xe,boundingBoxRect:this._calculateBoundingBoxRect(xt,et)}):(!Ee||Ee.overlayFit.visibleArea<un.visibleArea)&&(Ee={overlayFit:un,overlayPoint:bt,originPoint:xt,position:et,overlayRect:Xe})}if(gt.length){let et=null,xt=-1;for(const bt of gt){const un=bt.boundingBoxRect.width*bt.boundingBoxRect.height*(bt.position.weight||1);un>xt&&(xt=un,et=bt)}return this._isPushed=!1,void this._applyPosition(et.position,et.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ee.position,Ee.originPoint);this._applyPosition(Ee.position,Ee.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&nn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(An),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const he=this._lastPosition;if(he){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Xe=this._getOriginPoint(this._originRect,this._containerRect,he);this._applyPosition(he,Xe)}else this.apply()}withScrollableContainers(he){return this._scrollables=he,this}withPositions(he){return this._preferredPositions=he,-1===he.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(he){return this._viewportMargin=he,this}withFlexibleDimensions(he=!0){return this._hasFlexibleDimensions=he,this}withGrowAfterOpen(he=!0){return this._growAfterOpen=he,this}withPush(he=!0){return this._canPush=he,this}withLockedPosition(he=!0){return this._positionLocked=he,this}setOrigin(he){return this._origin=he,this}withDefaultOffsetX(he){return this._offsetX=he,this}withDefaultOffsetY(he){return this._offsetY=he,this}withTransformOriginOn(he){return this._transformOriginSelector=he,this}_getOriginPoint(he,Xe,Dt){let lt,gt;if("center"==Dt.originX)lt=he.left+he.width/2;else{const Ee=this._isRtl()?he.right:he.left,et=this._isRtl()?he.left:he.right;lt="start"==Dt.originX?Ee:et}return Xe.left<0&&(lt-=Xe.left),gt="center"==Dt.originY?he.top+he.height/2:"top"==Dt.originY?he.top:he.bottom,Xe.top<0&&(gt-=Xe.top),{x:lt,y:gt}}_getOverlayPoint(he,Xe,Dt){let lt,gt;return lt="center"==Dt.overlayX?-Xe.width/2:"start"===Dt.overlayX?this._isRtl()?-Xe.width:0:this._isRtl()?0:-Xe.width,gt="center"==Dt.overlayY?-Xe.height/2:"top"==Dt.overlayY?0:-Xe.height,{x:he.x+lt,y:he.y+gt}}_getOverlayFit(he,Xe,Dt,lt){const gt=Ne(Xe);let{x:Ee,y:et}=he,xt=this._getOffset(lt,"x"),bt=this._getOffset(lt,"y");xt&&(Ee+=xt),bt&&(et+=bt);let Jt=0-et,yt=et+gt.height-Dt.height,Vt=this._subtractOverflows(gt.width,0-Ee,Ee+gt.width-Dt.width),kn=this._subtractOverflows(gt.height,Jt,yt),Sn=Vt*kn;return{visibleArea:Sn,isCompletelyWithinViewport:gt.width*gt.height===Sn,fitsInViewportVertically:kn===gt.height,fitsInViewportHorizontally:Vt==gt.width}}_canFitWithFlexibleDimensions(he,Xe,Dt){if(this._hasFlexibleDimensions){const lt=Dt.bottom-Xe.y,gt=Dt.right-Xe.x,Ee=qe(this._overlayRef.getConfig().minHeight),et=qe(this._overlayRef.getConfig().minWidth);return(he.fitsInViewportVertically||null!=Ee&&Ee<=lt)&&(he.fitsInViewportHorizontally||null!=et&&et<=gt)}return!1}_pushOverlayOnScreen(he,Xe,Dt){if(this._previousPushAmount&&this._positionLocked)return{x:he.x+this._previousPushAmount.x,y:he.y+this._previousPushAmount.y};const lt=Ne(Xe),gt=this._viewportRect,Ee=Math.max(he.x+lt.width-gt.width,0),et=Math.max(he.y+lt.height-gt.height,0),xt=Math.max(gt.top-Dt.top-he.y,0),bt=Math.max(gt.left-Dt.left-he.x,0);let un=0,Ot=0;return un=lt.width<=gt.width?bt||-Ee:he.x<this._viewportMargin?gt.left-Dt.left-he.x:0,Ot=lt.height<=gt.height?xt||-et:he.y<this._viewportMargin?gt.top-Dt.top-he.y:0,this._previousPushAmount={x:un,y:Ot},{x:he.x+un,y:he.y+Ot}}_applyPosition(he,Xe){if(this._setTransformOrigin(he),this._setOverlayElementStyles(Xe,he),this._setBoundingBoxStyles(Xe,he),he.panelClass&&this._addPanelClasses(he.panelClass),this._lastPosition=he,this._positionChanges.observers.length){const Dt=this._getScrollVisibility(),lt=new ge(he,Dt);this._positionChanges.next(lt)}this._isInitialRender=!1}_setTransformOrigin(he){if(!this._transformOriginSelector)return;const Xe=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Dt,lt=he.overlayY;Dt="center"===he.overlayX?"center":this._isRtl()?"start"===he.overlayX?"right":"left":"start"===he.overlayX?"left":"right";for(let gt=0;gt<Xe.length;gt++)Xe[gt].style.transformOrigin=`${Dt} ${lt}`}_calculateBoundingBoxRect(he,Xe){const Dt=this._viewportRect,lt=this._isRtl();let gt,Ee,et,un,Ot,Jt;if("top"===Xe.overlayY)Ee=he.y,gt=Dt.height-Ee+this._viewportMargin;else if("bottom"===Xe.overlayY)et=Dt.height-he.y+2*this._viewportMargin,gt=Dt.height-et+this._viewportMargin;else{const yt=Math.min(Dt.bottom-he.y+Dt.top,he.y),Vt=this._lastBoundingBoxSize.height;gt=2*yt,Ee=he.y-yt,gt>Vt&&!this._isInitialRender&&!this._growAfterOpen&&(Ee=he.y-Vt/2)}if("end"===Xe.overlayX&&!lt||"start"===Xe.overlayX&&lt)Jt=Dt.width-he.x+this._viewportMargin,un=he.x-this._viewportMargin;else if("start"===Xe.overlayX&&!lt||"end"===Xe.overlayX&&lt)Ot=he.x,un=Dt.right-he.x;else{const yt=Math.min(Dt.right-he.x+Dt.left,he.x),Vt=this._lastBoundingBoxSize.width;un=2*yt,Ot=he.x-yt,un>Vt&&!this._isInitialRender&&!this._growAfterOpen&&(Ot=he.x-Vt/2)}return{top:Ee,left:Ot,bottom:et,right:Jt,width:un,height:gt}}_setBoundingBoxStyles(he,Xe){const Dt=this._calculateBoundingBoxRect(he,Xe);!this._isInitialRender&&!this._growAfterOpen&&(Dt.height=Math.min(Dt.height,this._lastBoundingBoxSize.height),Dt.width=Math.min(Dt.width,this._lastBoundingBoxSize.width));const lt={};if(this._hasExactPosition())lt.top=lt.left="0",lt.bottom=lt.right=lt.maxHeight=lt.maxWidth="",lt.width=lt.height="100%";else{const gt=this._overlayRef.getConfig().maxHeight,Ee=this._overlayRef.getConfig().maxWidth;lt.height=(0,ce.HM)(Dt.height),lt.top=(0,ce.HM)(Dt.top),lt.bottom=(0,ce.HM)(Dt.bottom),lt.width=(0,ce.HM)(Dt.width),lt.left=(0,ce.HM)(Dt.left),lt.right=(0,ce.HM)(Dt.right),lt.alignItems="center"===Xe.overlayX?"center":"end"===Xe.overlayX?"flex-end":"flex-start",lt.justifyContent="center"===Xe.overlayY?"center":"bottom"===Xe.overlayY?"flex-end":"flex-start",gt&&(lt.maxHeight=(0,ce.HM)(gt)),Ee&&(lt.maxWidth=(0,ce.HM)(Ee))}this._lastBoundingBoxSize=Dt,nn(this._boundingBox.style,lt)}_resetBoundingBoxStyles(){nn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){nn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(he,Xe){const Dt={},lt=this._hasExactPosition(),gt=this._hasFlexibleDimensions,Ee=this._overlayRef.getConfig();if(lt){const un=this._viewportRuler.getViewportScrollPosition();nn(Dt,this._getExactOverlayY(Xe,he,un)),nn(Dt,this._getExactOverlayX(Xe,he,un))}else Dt.position="static";let et="",xt=this._getOffset(Xe,"x"),bt=this._getOffset(Xe,"y");xt&&(et+=`translateX(${xt}px) `),bt&&(et+=`translateY(${bt}px)`),Dt.transform=et.trim(),Ee.maxHeight&&(lt?Dt.maxHeight=(0,ce.HM)(Ee.maxHeight):gt&&(Dt.maxHeight="")),Ee.maxWidth&&(lt?Dt.maxWidth=(0,ce.HM)(Ee.maxWidth):gt&&(Dt.maxWidth="")),nn(this._pane.style,Dt)}_getExactOverlayY(he,Xe,Dt){let lt={top:"",bottom:""},gt=this._getOverlayPoint(Xe,this._overlayRect,he);return this._isPushed&&(gt=this._pushOverlayOnScreen(gt,this._overlayRect,Dt)),"bottom"===he.overlayY?lt.bottom=this._document.documentElement.clientHeight-(gt.y+this._overlayRect.height)+"px":lt.top=(0,ce.HM)(gt.y),lt}_getExactOverlayX(he,Xe,Dt){let Ee,lt={left:"",right:""},gt=this._getOverlayPoint(Xe,this._overlayRect,he);return this._isPushed&&(gt=this._pushOverlayOnScreen(gt,this._overlayRect,Dt)),Ee=this._isRtl()?"end"===he.overlayX?"left":"right":"end"===he.overlayX?"right":"left","right"===Ee?lt.right=this._document.documentElement.clientWidth-(gt.x+this._overlayRect.width)+"px":lt.left=(0,ce.HM)(gt.x),lt}_getScrollVisibility(){const he=this._getOriginRect(),Xe=this._pane.getBoundingClientRect(),Dt=this._scrollables.map(lt=>lt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ut(he,Dt),isOriginOutsideView:Be(he,Dt),isOverlayClipped:ut(Xe,Dt),isOverlayOutsideView:Be(Xe,Dt)}}_subtractOverflows(he,...Xe){return Xe.reduce((Dt,lt)=>Dt-Math.max(lt,0),he)}_getNarrowedViewportRect(){const he=this._document.documentElement.clientWidth,Xe=this._document.documentElement.clientHeight,Dt=this._viewportRuler.getViewportScrollPosition();return{top:Dt.top+this._viewportMargin,left:Dt.left+this._viewportMargin,right:Dt.left+he-this._viewportMargin,bottom:Dt.top+Xe-this._viewportMargin,width:he-2*this._viewportMargin,height:Xe-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(he,Xe){return"x"===Xe?null==he.offsetX?this._offsetX:he.offsetX:null==he.offsetY?this._offsetY:he.offsetY}_validatePositions(){}_addPanelClasses(he){this._pane&&(0,ce.Eq)(he).forEach(Xe=>{""!==Xe&&-1===this._appliedPanelClasses.indexOf(Xe)&&(this._appliedPanelClasses.push(Xe),this._pane.classList.add(Xe))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(he=>{this._pane.classList.remove(he)}),this._appliedPanelClasses=[])}_getOriginRect(){const he=this._origin;if(he instanceof _.SBq)return he.nativeElement.getBoundingClientRect();if(he instanceof Element)return he.getBoundingClientRect();const Xe=he.width||0,Dt=he.height||0;return{top:he.y,bottom:he.y+Dt,left:he.x,right:he.x+Xe,height:Dt,width:Xe}}}function nn(_t,he){for(let Xe in he)he.hasOwnProperty(Xe)&&(_t[Xe]=he[Xe]);return _t}function qe(_t){if("number"!=typeof _t&&null!=_t){const[he,Xe]=_t.split(Wn);return Xe&&"px"!==Xe?null:parseFloat(he)}return _t||null}function Ne(_t){return{top:Math.floor(_t.top),right:Math.floor(_t.right),bottom:Math.floor(_t.bottom),left:Math.floor(_t.left),width:Math.floor(_t.width),height:Math.floor(_t.height)}}const pt="cdk-global-overlay-wrapper";class at{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(he){const Xe=he.getConfig();this._overlayRef=he,this._width&&!Xe.width&&he.updateSize({width:this._width}),this._height&&!Xe.height&&he.updateSize({height:this._height}),he.hostElement.classList.add(pt),this._isDisposed=!1}top(he=""){return this._bottomOffset="",this._topOffset=he,this._alignItems="flex-start",this}left(he=""){return this._xOffset=he,this._xPosition="left",this}bottom(he=""){return this._topOffset="",this._bottomOffset=he,this._alignItems="flex-end",this}right(he=""){return this._xOffset=he,this._xPosition="right",this}start(he=""){return this._xOffset=he,this._xPosition="start",this}end(he=""){return this._xOffset=he,this._xPosition="end",this}width(he=""){return this._overlayRef?this._overlayRef.updateSize({width:he}):this._width=he,this}height(he=""){return this._overlayRef?this._overlayRef.updateSize({height:he}):this._height=he,this}centerHorizontally(he=""){return this.left(he),this._xPosition="center",this}centerVertically(he=""){return this.top(he),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const he=this._overlayRef.overlayElement.style,Xe=this._overlayRef.hostElement.style,Dt=this._overlayRef.getConfig(),{width:lt,height:gt,maxWidth:Ee,maxHeight:et}=Dt,xt=!("100%"!==lt&&"100vw"!==lt||Ee&&"100%"!==Ee&&"100vw"!==Ee),bt=!("100%"!==gt&&"100vh"!==gt||et&&"100%"!==et&&"100vh"!==et),un=this._xPosition,Ot=this._xOffset,Jt="rtl"===this._overlayRef.getConfig().direction;let yt="",Vt="",kn="";xt?kn="flex-start":"center"===un?(kn="center",Jt?Vt=Ot:yt=Ot):Jt?"left"===un||"end"===un?(kn="flex-end",yt=Ot):("right"===un||"start"===un)&&(kn="flex-start",Vt=Ot):"left"===un||"start"===un?(kn="flex-start",yt=Ot):("right"===un||"end"===un)&&(kn="flex-end",Vt=Ot),he.position=this._cssPosition,he.marginLeft=xt?"0":yt,he.marginTop=bt?"0":this._topOffset,he.marginBottom=this._bottomOffset,he.marginRight=xt?"0":Vt,Xe.justifyContent=kn,Xe.alignItems=bt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const he=this._overlayRef.overlayElement.style,Xe=this._overlayRef.hostElement,Dt=Xe.style;Xe.classList.remove(pt),Dt.justifyContent=Dt.alignItems=he.marginTop=he.marginBottom=he.marginLeft=he.marginRight=he.position="",this._overlayRef=null,this._isDisposed=!0}}let Qt=(()=>{class _t{constructor(Xe,Dt,lt,gt){this._viewportRuler=Xe,this._document=Dt,this._platform=lt,this._overlayContainer=gt}global(){return new at}flexibleConnectedTo(Xe){return new xn(Xe,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return _t.\u0275fac=function(Xe){return new(Xe||_t)(_.LFG(f.rL),_.LFG(F.K0),_.LFG(S.t4),_.LFG(hi))},_t.\u0275prov=_.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})(),In=0,bn=(()=>{class _t{constructor(Xe,Dt,lt,gt,Ee,et,xt,bt,un,Ot,Jt,yt){this.scrollStrategies=Xe,this._overlayContainer=Dt,this._componentFactoryResolver=lt,this._positionBuilder=gt,this._keyboardDispatcher=Ee,this._injector=et,this._ngZone=xt,this._document=bt,this._directionality=un,this._location=Ot,this._outsideClickDispatcher=Jt,this._animationsModuleType=yt}create(Xe){const Dt=this._createHostElement(),lt=this._createPaneElement(Dt),gt=this._createPortalOutlet(lt),Ee=new Re(Xe);return Ee.direction=Ee.direction||this._directionality.value,new _i(gt,Dt,lt,Ee,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Xe){const Dt=this._document.createElement("div");return Dt.id="cdk-overlay-"+In++,Dt.classList.add("cdk-overlay-pane"),Xe.appendChild(Dt),Dt}_createHostElement(){const Xe=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Xe),Xe}_createPortalOutlet(Xe){return this._appRef||(this._appRef=this._injector.get(_.z2F)),new ne.u0(Xe,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return _t.\u0275fac=function(Xe){return new(Xe||_t)(_.LFG(ke),_.LFG(hi),_.LFG(_._Vd),_.LFG(Qt),_.LFG(vn),_.LFG(_.zs3),_.LFG(_.R0b),_.LFG(F.K0),_.LFG(Oe.Is),_.LFG(F.Ye),_.LFG(rn),_.LFG(_.QbO,8))},_t.\u0275prov=_.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})();const Ln={provide:new _.OlP("cdk-connected-overlay-scroll-strategy"),deps:[bn],useFactory:function wn(_t){return()=>_t.scrollStrategies.reposition()}};let Jn=(()=>{class _t{}return _t.\u0275fac=function(Xe){return new(Xe||_t)},_t.\u0275mod=_.oAB({type:_t}),_t.\u0275inj=_.cJS({providers:[bn,Ln],imports:[Oe.vT,ne.eL,f.Cl,f.Cl]}),_t})()},6321:(fn,ot,M)=>{"use strict";M.d(ot,{Mq:()=>Ve,Oy:()=>Fe,_i:()=>We,ht:()=>Be,i$:()=>de,kV:()=>nt,qK:()=>L,sA:()=>ut,t4:()=>ce});var f=M(4537),F=M(8692);let _;try{_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_=!1}let we,ce=(()=>{class ke{constructor(xe){this._platformId=xe,this.isBrowser=this._platformId?(0,F.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ke.\u0275fac=function(xe){return new(xe||ke)(f.LFG(f.Lbi))},ke.\u0275prov=f.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})();const He=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function L(){if(we)return we;if("object"!=typeof document||!document)return we=new Set(He),we;let ke=document.createElement("input");return we=new Set(He.filter(Re=>(ke.setAttribute("type",Re),ke.type===Re))),we}let Oe,ye,Ie,ht;function de(ke){return function ne(){if(null==Oe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oe=!0}))}finally{Oe=Oe||!1}return Oe}()?ke:!!ke.capture}function Ve(){if(null==Ie){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ie=!1,Ie;if("scrollBehavior"in document.documentElement.style)Ie=!0;else{const ke=Element.prototype.scrollTo;Ie=!!ke&&!/\{\s*\[native code\]\s*\}/.test(ke.toString())}}return Ie}function We(){if("object"!=typeof document||!document)return 0;if(null==ye){const ke=document.createElement("div"),Re=ke.style;ke.dir="rtl",Re.width="1px",Re.overflow="auto",Re.visibility="hidden",Re.pointerEvents="none",Re.position="absolute";const xe=document.createElement("div"),Ke=xe.style;Ke.width="2px",Ke.height="1px",ke.appendChild(xe),document.body.appendChild(ke),ye=0,0===ke.scrollLeft&&(ke.scrollLeft=1,ye=0===ke.scrollLeft?1:2),ke.remove()}return ye}function nt(ke){if(function Ze(){if(null==ht){const ke=typeof document<"u"?document.head:null;ht=!(!ke||!ke.createShadowRoot&&!ke.attachShadow)}return ht}()){const Re=ke.getRootNode?ke.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Re instanceof ShadowRoot)return Re}return null}function Be(){let ke=typeof document<"u"&&document?document.activeElement:null;for(;ke&&ke.shadowRoot;){const Re=ke.shadowRoot.activeElement;if(Re===ke)break;ke=Re}return ke}function ut(ke){return ke.composedPath?ke.composedPath()[0]:ke.target}function Fe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8632:(fn,ot,M)=>{"use strict";M.d(ot,{C5:()=>ne,Pl:()=>Be,UE:()=>de,eL:()=>Fe,en:()=>Ie,u0:()=>We});var f=M(4537),F=M(8692);class Oe{attach(xe){return this._attachedHost=xe,xe.attach(this)}detach(){let xe=this._attachedHost;null!=xe&&(this._attachedHost=null,xe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(xe){this._attachedHost=xe}}class ne extends Oe{constructor(xe,Ke,ge,mt,jt){super(),this.component=xe,this.viewContainerRef=Ke,this.injector=ge,this.componentFactoryResolver=mt,this.projectableNodes=jt}}class de extends Oe{constructor(xe,Ke,ge,mt){super(),this.templateRef=xe,this.viewContainerRef=Ke,this.context=ge,this.injector=mt}get origin(){return this.templateRef.elementRef}attach(xe,Ke=this.context){return this.context=Ke,super.attach(xe)}detach(){return this.context=void 0,super.detach()}}class ye extends Oe{constructor(xe){super(),this.element=xe instanceof f.SBq?xe.nativeElement:xe}}class Ie{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(xe){return xe instanceof ne?(this._attachedPortal=xe,this.attachComponentPortal(xe)):xe instanceof de?(this._attachedPortal=xe,this.attachTemplatePortal(xe)):this.attachDomPortal&&xe instanceof ye?(this._attachedPortal=xe,this.attachDomPortal(xe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(xe){this._disposeFn=xe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class We extends Ie{constructor(xe,Ke,ge,mt,jt){super(),this.outletElement=xe,this._componentFactoryResolver=Ke,this._appRef=ge,this._defaultInjector=mt,this.attachDomPortal=Ht=>{const vn=Ht.element,rn=this._document.createComment("dom-portal");vn.parentNode.insertBefore(rn,vn),this.outletElement.appendChild(vn),this._attachedPortal=Ht,super.setDisposeFn(()=>{rn.parentNode&&rn.parentNode.replaceChild(vn,rn)})},this._document=jt}attachComponentPortal(xe){const ge=(xe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(xe.component);let mt;return xe.viewContainerRef?(mt=xe.viewContainerRef.createComponent(ge,xe.viewContainerRef.length,xe.injector||xe.viewContainerRef.injector,xe.projectableNodes||void 0),this.setDisposeFn(()=>mt.destroy())):(mt=ge.create(xe.injector||this._defaultInjector||f.zs3.NULL),this._appRef.attachView(mt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(mt.hostView),mt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(mt)),this._attachedPortal=xe,mt}attachTemplatePortal(xe){let Ke=xe.viewContainerRef,ge=Ke.createEmbeddedView(xe.templateRef,xe.context,{injector:xe.injector});return ge.rootNodes.forEach(mt=>this.outletElement.appendChild(mt)),ge.detectChanges(),this.setDisposeFn(()=>{let mt=Ke.indexOf(ge);-1!==mt&&Ke.remove(mt)}),this._attachedPortal=xe,ge}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(xe){return xe.hostView.rootNodes[0]}}let Be=(()=>{class Re extends Ie{constructor(Ke,ge,mt){super(),this._componentFactoryResolver=Ke,this._viewContainerRef=ge,this._isInitialized=!1,this.attached=new f.vpe,this.attachDomPortal=jt=>{const Ht=jt.element,vn=this._document.createComment("dom-portal");jt.setAttachedHost(this),Ht.parentNode.insertBefore(vn,Ht),this._getRootNode().appendChild(Ht),this._attachedPortal=jt,super.setDisposeFn(()=>{vn.parentNode&&vn.parentNode.replaceChild(Ht,vn)})},this._document=mt}get portal(){return this._attachedPortal}set portal(Ke){this.hasAttached()&&!Ke&&!this._isInitialized||(this.hasAttached()&&super.detach(),Ke&&super.attach(Ke),this._attachedPortal=Ke||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Ke){Ke.setAttachedHost(this);const ge=null!=Ke.viewContainerRef?Ke.viewContainerRef:this._viewContainerRef,jt=(Ke.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ke.component),Ht=ge.createComponent(jt,ge.length,Ke.injector||ge.injector,Ke.projectableNodes||void 0);return ge!==this._viewContainerRef&&this._getRootNode().appendChild(Ht.hostView.rootNodes[0]),super.setDisposeFn(()=>Ht.destroy()),this._attachedPortal=Ke,this._attachedRef=Ht,this.attached.emit(Ht),Ht}attachTemplatePortal(Ke){Ke.setAttachedHost(this);const ge=this._viewContainerRef.createEmbeddedView(Ke.templateRef,Ke.context,{injector:Ke.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Ke,this._attachedRef=ge,this.attached.emit(ge),ge}_getRootNode(){const Ke=this._viewContainerRef.element.nativeElement;return Ke.nodeType===Ke.ELEMENT_NODE?Ke:Ke.parentNode}}return Re.\u0275fac=function(Ke){return new(Ke||Re)(f.Y36(f._Vd),f.Y36(f.s_b),f.Y36(F.K0))},Re.\u0275dir=f.lG2({type:Re,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[f.qOj]}),Re})(),Fe=(()=>{class Re{}return Re.\u0275fac=function(Ke){return new(Ke||Re)},Re.\u0275mod=f.oAB({type:Re}),Re.\u0275inj=f.cJS({}),Re})()},1501:(fn,ot,M)=>{"use strict";M.d(ot,{ZD:()=>Xe,mF:()=>Qt,Cl:()=>Dt,rL:()=>Mt});var f=M(4929),F=M(4537),_=M(8023),ce=M(4945),S=M(7241),we=M(4581),He=M(9239),L=M(3466);let ne,Oe=1;const de={};function ye(lt){return lt in de&&(delete de[lt],!0)}const Ie={setImmediate(lt){const gt=Oe++;return de[gt]=!0,ne||(ne=Promise.resolve()),ne.then(()=>ye(gt)&&lt()),gt},clearImmediate(lt){ye(lt)}},{setImmediate:We,clearImmediate:ht}=Ie,Ze={setImmediate(...lt){const{delegate:gt}=Ze;return(gt?.setImmediate||We)(...lt)},clearImmediate(lt){const{delegate:gt}=Ze;return(gt?.clearImmediate||ht)(lt)},delegate:void 0};var Be=M(474);const Fe=new class ut extends Be.v{flush(gt){this._active=!0;const Ee=this._scheduled;this._scheduled=void 0;const{actions:et}=this;let xt;gt=gt||et.shift();do{if(xt=gt.execute(gt.state,gt.delay))break}while((gt=et[0])&&gt.id===Ee&&et.shift());if(this._active=!1,xt){for(;(gt=et[0])&&gt.id===Ee&&et.shift();)gt.unsubscribe();throw xt}}}(class nt extends L.o{constructor(gt,Ee){super(gt,Ee),this.scheduler=gt,this.work=Ee}requestAsyncId(gt,Ee,et=0){return null!==et&&et>0?super.requestAsyncId(gt,Ee,et):(gt.actions.push(this),gt._scheduled||(gt._scheduled=Ze.setImmediate(gt.flush.bind(gt,void 0))))}recycleAsyncId(gt,Ee,et=0){var xt;if(null!=et?et>0:this.delay>0)return super.recycleAsyncId(gt,Ee,et);const{actions:bt}=gt;null!=Ee&&(null===(xt=bt[bt.length-1])||void 0===xt?void 0:xt.id)!==Ee&&(Ze.clearImmediate(Ee),gt._scheduled===Ee&&(gt._scheduled=void 0))}});var Re=M(4813),xe=M(6523),Ke=M(2085),ge=M(5955),mt=M(8499),Ht=M(1995);function vn(lt,gt=xe.z){return function jt(lt){return(0,Ke.e)((gt,Ee)=>{let et=!1,xt=null,bt=null,un=!1;const Ot=()=>{if(bt?.unsubscribe(),bt=null,et){et=!1;const yt=xt;xt=null,Ee.next(yt)}un&&Ee.complete()},Jt=()=>{bt=null,un&&Ee.complete()};gt.subscribe((0,mt.x)(Ee,yt=>{et=!0,xt=yt,bt||(0,ge.Xf)(lt(yt)).subscribe(bt=(0,mt.x)(Ee,Ot,Jt))},()=>{un=!0,(!et||!bt||bt.closed)&&Ee.complete()}))})}(()=>(0,Ht.H)(lt,gt))}var rn=M(4970),hi=M(3528),_i=M(1927),An=M(6321),Wn=M(8692),xn=M(5875);const nn=["contentWrapper"],qe=["*"],Ne=new F.OlP("VIRTUAL_SCROLL_STRATEGY");let Qt=(()=>{class lt{constructor(Ee,et,xt){this._ngZone=Ee,this._platform=et,this._scrolled=new _.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=xt}register(Ee){this.scrollContainers.has(Ee)||this.scrollContainers.set(Ee,Ee.elementScrolled().subscribe(()=>this._scrolled.next(Ee)))}deregister(Ee){const et=this.scrollContainers.get(Ee);et&&(et.unsubscribe(),this.scrollContainers.delete(Ee))}scrolled(Ee=20){return this._platform.isBrowser?new S.y(et=>{this._globalSubscription||this._addGlobalListener();const xt=Ee>0?this._scrolled.pipe(vn(Ee)).subscribe(et):this._scrolled.subscribe(et);return this._scrolledCount++,()=>{xt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ce.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ee,et)=>this.deregister(et)),this._scrolled.complete()}ancestorScrolled(Ee,et){const xt=this.getAncestorScrollContainers(Ee);return this.scrolled(et).pipe((0,rn.h)(bt=>!bt||xt.indexOf(bt)>-1))}getAncestorScrollContainers(Ee){const et=[];return this.scrollContainers.forEach((xt,bt)=>{this._scrollableContainsElement(bt,Ee)&&et.push(bt)}),et}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ee,et){let xt=(0,f.fI)(et),bt=Ee.getElementRef().nativeElement;do{if(xt==bt)return!0}while(xt=xt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ee=this._getWindow();return(0,we.R)(Ee.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return lt.\u0275fac=function(Ee){return new(Ee||lt)(F.LFG(F.R0b),F.LFG(An.t4),F.LFG(Wn.K0,8))},lt.\u0275prov=F.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),In=(()=>{class lt{constructor(Ee,et,xt,bt){this.elementRef=Ee,this.scrollDispatcher=et,this.ngZone=xt,this.dir=bt,this._destroyed=new _.x,this._elementScrolled=new S.y(un=>this.ngZone.runOutsideAngular(()=>(0,we.R)(this.elementRef.nativeElement,"scroll").pipe((0,hi.R)(this._destroyed)).subscribe(un)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Ee){const et=this.elementRef.nativeElement,xt=this.dir&&"rtl"==this.dir.value;null==Ee.left&&(Ee.left=xt?Ee.end:Ee.start),null==Ee.right&&(Ee.right=xt?Ee.start:Ee.end),null!=Ee.bottom&&(Ee.top=et.scrollHeight-et.clientHeight-Ee.bottom),xt&&0!=(0,An._i)()?(null!=Ee.left&&(Ee.right=et.scrollWidth-et.clientWidth-Ee.left),2==(0,An._i)()?Ee.left=Ee.right:1==(0,An._i)()&&(Ee.left=Ee.right?-Ee.right:Ee.right)):null!=Ee.right&&(Ee.left=et.scrollWidth-et.clientWidth-Ee.right),this._applyScrollToOptions(Ee)}_applyScrollToOptions(Ee){const et=this.elementRef.nativeElement;(0,An.Mq)()?et.scrollTo(Ee):(null!=Ee.top&&(et.scrollTop=Ee.top),null!=Ee.left&&(et.scrollLeft=Ee.left))}measureScrollOffset(Ee){const et="left",bt=this.elementRef.nativeElement;if("top"==Ee)return bt.scrollTop;if("bottom"==Ee)return bt.scrollHeight-bt.clientHeight-bt.scrollTop;const un=this.dir&&"rtl"==this.dir.value;return"start"==Ee?Ee=un?"right":et:"end"==Ee&&(Ee=un?et:"right"),un&&2==(0,An._i)()?Ee==et?bt.scrollWidth-bt.clientWidth-bt.scrollLeft:bt.scrollLeft:un&&1==(0,An._i)()?Ee==et?bt.scrollLeft+bt.scrollWidth-bt.clientWidth:-bt.scrollLeft:Ee==et?bt.scrollLeft:bt.scrollWidth-bt.clientWidth-bt.scrollLeft}}return lt.\u0275fac=function(Ee){return new(Ee||lt)(F.Y36(F.SBq),F.Y36(Qt),F.Y36(F.R0b),F.Y36(xn.Is,8))},lt.\u0275dir=F.lG2({type:lt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),lt})(),Mt=(()=>{class lt{constructor(Ee,et,xt){this._platform=Ee,this._change=new _.x,this._changeListener=bt=>{this._change.next(bt)},this._document=xt,et.runOutsideAngular(()=>{if(Ee.isBrowser){const bt=this._getWindow();bt.addEventListener("resize",this._changeListener),bt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ee=this._getWindow();Ee.removeEventListener("resize",this._changeListener),Ee.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ee={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ee}getViewportRect(){const Ee=this.getViewportScrollPosition(),{width:et,height:xt}=this.getViewportSize();return{top:Ee.top,left:Ee.left,bottom:Ee.top+xt,right:Ee.left+et,height:xt,width:et}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ee=this._document,et=this._getWindow(),xt=Ee.documentElement,bt=xt.getBoundingClientRect();return{top:-bt.top||Ee.body.scrollTop||et.scrollY||xt.scrollTop||0,left:-bt.left||Ee.body.scrollLeft||et.scrollX||xt.scrollLeft||0}}change(Ee=20){return Ee>0?this._change.pipe(vn(Ee)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ee=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ee.innerWidth,height:Ee.innerHeight}:{width:0,height:0}}}return lt.\u0275fac=function(Ee){return new(Ee||lt)(F.LFG(An.t4),F.LFG(F.R0b),F.LFG(Wn.K0,8))},lt.\u0275prov=F.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})();const pn=new F.OlP("VIRTUAL_SCROLLABLE");let St=(()=>{class lt extends In{constructor(Ee,et,xt,bt){super(Ee,et,xt,bt)}measureViewportSize(Ee){const et=this.elementRef.nativeElement;return"horizontal"===Ee?et.clientWidth:et.clientHeight}}return lt.\u0275fac=function(Ee){return new(Ee||lt)(F.Y36(F.SBq),F.Y36(Qt),F.Y36(F.R0b),F.Y36(xn.Is,8))},lt.\u0275dir=F.lG2({type:lt,features:[F.qOj]}),lt})();const wn=typeof requestAnimationFrame<"u"?He.Z:Fe;let Ln=(()=>{class lt extends St{get orientation(){return this._orientation}set orientation(Ee){this._orientation!==Ee&&(this._orientation=Ee,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(Ee){this._appendOnly=(0,f.Ig)(Ee)}constructor(Ee,et,xt,bt,un,Ot,Jt,yt){super(Ee,Ot,xt,un),this.elementRef=Ee,this._changeDetectorRef=et,this._scrollStrategy=bt,this.scrollable=yt,this._platform=(0,F.f3M)(An.t4),this._detachedSubject=new _.x,this._renderedRangeSubject=new _.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new S.y(Vt=>this._scrollStrategy.scrolledIndexChange.subscribe(kn=>Promise.resolve().then(()=>this.ngZone.run(()=>Vt.next(kn))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Re.w0.EMPTY,this._viewportChanges=Jt.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,_i.O)(null),vn(0,wn)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(Ee){this.ngZone.runOutsideAngular(()=>{this._forOf=Ee,this._forOf.dataStream.pipe((0,hi.R)(this._detachedSubject)).subscribe(et=>{const xt=et.length;xt!==this._dataLength&&(this._dataLength=xt,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(Ee){return this.getElementRef().nativeElement.getBoundingClientRect()[Ee]}setTotalContentSize(Ee){this._totalContentSize!==Ee&&(this._totalContentSize=Ee,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(Ee){(function on(lt,gt){return lt.start==gt.start&&lt.end==gt.end})(this._renderedRange,Ee)||(this.appendOnly&&(Ee={start:0,end:Math.max(this._renderedRange.end,Ee.end)}),this._renderedRangeSubject.next(this._renderedRange=Ee),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(Ee,et="to-start"){Ee=this.appendOnly&&"to-start"===et?0:Ee;const bt="horizontal"==this.orientation,un=bt?"X":"Y";let Jt=`translate${un}(${Number((bt&&this.dir&&"rtl"==this.dir.value?-1:1)*Ee)}px)`;this._renderedContentOffset=Ee,"to-end"===et&&(Jt+=` translate${un}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Jt&&(this._renderedContentTransform=Jt,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(Ee,et="auto"){const xt={behavior:et};"horizontal"===this.orientation?xt.start=Ee:xt.top=Ee,this.scrollable.scrollTo(xt)}scrollToIndex(Ee,et="auto"){this._scrollStrategy.scrollToIndex(Ee,et)}measureScrollOffset(Ee){let et;return et=this.scrollable==this?xt=>super.measureScrollOffset(xt):xt=>this.scrollable.measureScrollOffset(xt),Math.max(0,et(Ee??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(Ee){let et;const un="rtl"==this.dir?.value;et="start"==Ee?un?"right":"left":"end"==Ee?un?"left":"right":Ee||("horizontal"===this.orientation?"left":"top");const Ot=this.scrollable.measureBoundingClientRectWithScrollOffset(et);return this.elementRef.nativeElement.getBoundingClientRect()[et]-Ot}measureRenderedContentSize(){const Ee=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?Ee.offsetWidth:Ee.offsetHeight}measureRangeSize(Ee){return this._forOf?this._forOf.measureRangeSize(Ee,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(Ee){Ee&&this._runAfterChangeDetection.push(Ee),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const Ee=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const et of Ee)et()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return lt.\u0275fac=function(Ee){return new(Ee||lt)(F.Y36(F.SBq),F.Y36(F.sBO),F.Y36(F.R0b),F.Y36(Ne,8),F.Y36(xn.Is,8),F.Y36(Qt),F.Y36(Mt),F.Y36(pn,8))},lt.\u0275cmp=F.Xpm({type:lt,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(Ee,et){if(1&Ee&&F.Gf(nn,7),2&Ee){let xt;F.iGM(xt=F.CRH())&&(et._contentWrapper=xt.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(Ee,et){2&Ee&&F.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===et.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==et.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[F._Bn([{provide:In,useFactory:(gt,Ee)=>gt||Ee,deps:[[new F.FiY,new F.tBr(pn)],lt]}]),F.qOj,F.jDz],ngContentSelectors:qe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(Ee,et){1&Ee&&(F.F$t(),F.TgZ(0,"div",0,1),F.Hsn(2),F.qZA(),F._UZ(3,"div",2)),2&Ee&&(F.xp6(3),F.Udp("width",et._totalContentWidth)("height",et._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),lt})(),Xe=(()=>{class lt{}return lt.\u0275fac=function(Ee){return new(Ee||lt)},lt.\u0275mod=F.oAB({type:lt}),lt.\u0275inj=F.cJS({}),lt})(),Dt=(()=>{class lt{}return lt.\u0275fac=function(Ee){return new(Ee||lt)},lt.\u0275mod=F.oAB({type:lt}),lt.\u0275inj=F.cJS({imports:[xn.vT,Xe,Ln,xn.vT,Xe]}),lt})()},8692:(fn,ot,M)=>{"use strict";M.d(ot,{Do:()=>Be,EM:()=>ko,HT:()=>ce,JF:()=>ba,JJ:()=>Go,K0:()=>we,Mx:()=>gs,NF:()=>Ss,O5:()=>Mr,Ov:()=>en,PM:()=>ys,RF:()=>ao,S$:()=>ht,V_:()=>Oe,Ye:()=>ut,b0:()=>nt,bD:()=>Wo,ez:()=>bo,gd:()=>gi,mk:()=>A,n9:()=>xr,q:()=>_,sg:()=>Yn,tP:()=>nr,uU:()=>Zi,w_:()=>S});var f=M(4537);let F=null;function _(){return F}function ce(H){F||(F=H)}class S{}const we=new f.OlP("DocumentToken");let He=(()=>{class H{historyGo(G){throw new Error("Not implemented")}}return H.\u0275fac=function(G){return new(G||H)},H.\u0275prov=f.Yz7({token:H,factory:function(){return function L(){return(0,f.LFG)(ne)}()},providedIn:"platform"}),H})();const Oe=new f.OlP("Location Initialized");let ne=(()=>{class H extends He{constructor(G){super(),this._doc=G,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _().getBaseHref(this._doc)}onPopState(G){const _e=_().getGlobalEventTarget(this._doc,"window");return _e.addEventListener("popstate",G,!1),()=>_e.removeEventListener("popstate",G)}onHashChange(G){const _e=_().getGlobalEventTarget(this._doc,"window");return _e.addEventListener("hashchange",G,!1),()=>_e.removeEventListener("hashchange",G)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(G){this._location.pathname=G}pushState(G,_e,it){de()?this._history.pushState(G,_e,it):this._location.hash=it}replaceState(G,_e,it){de()?this._history.replaceState(G,_e,it):this._location.hash=it}forward(){this._history.forward()}back(){this._history.back()}historyGo(G=0){this._history.go(G)}getState(){return this._history.state}}return H.\u0275fac=function(G){return new(G||H)(f.LFG(we))},H.\u0275prov=f.Yz7({token:H,factory:function(){return function ye(){return new ne((0,f.LFG)(we))}()},providedIn:"platform"}),H})();function de(){return!!window.history.pushState}function Ie(H,se){if(0==H.length)return se;if(0==se.length)return H;let G=0;return H.endsWith("/")&&G++,se.startsWith("/")&&G++,2==G?H+se.substring(1):1==G?H+se:H+"/"+se}function Ve(H){const se=H.match(/#|\?|$/),G=se&&se.index||H.length;return H.slice(0,G-("/"===H[G-1]?1:0))+H.slice(G)}function We(H){return H&&"?"!==H[0]?"?"+H:H}let ht=(()=>{class H{historyGo(G){throw new Error("Not implemented")}}return H.\u0275fac=function(G){return new(G||H)},H.\u0275prov=f.Yz7({token:H,factory:function(){return(0,f.f3M)(nt)},providedIn:"root"}),H})();const Ze=new f.OlP("appBaseHref");let nt=(()=>{class H extends ht{constructor(G,_e){super(),this._platformLocation=G,this._removeListenerFns=[],this._baseHref=_e??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}prepareExternalUrl(G){return Ie(this._baseHref,G)}path(G=!1){const _e=this._platformLocation.pathname+We(this._platformLocation.search),it=this._platformLocation.hash;return it&&G?`${_e}${it}`:_e}pushState(G,_e,it,Yt){const dn=this.prepareExternalUrl(it+We(Yt));this._platformLocation.pushState(G,_e,dn)}replaceState(G,_e,it,Yt){const dn=this.prepareExternalUrl(it+We(Yt));this._platformLocation.replaceState(G,_e,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(G=0){this._platformLocation.historyGo?.(G)}}return H.\u0275fac=function(G){return new(G||H)(f.LFG(He),f.LFG(Ze,8))},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),Be=(()=>{class H extends ht{constructor(G,_e){super(),this._platformLocation=G,this._baseHref="",this._removeListenerFns=[],null!=_e&&(this._baseHref=_e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(G){this._removeListenerFns.push(this._platformLocation.onPopState(G),this._platformLocation.onHashChange(G))}getBaseHref(){return this._baseHref}path(G=!1){let _e=this._platformLocation.hash;return null==_e&&(_e="#"),_e.length>0?_e.substring(1):_e}prepareExternalUrl(G){const _e=Ie(this._baseHref,G);return _e.length>0?"#"+_e:_e}pushState(G,_e,it,Yt){let dn=this.prepareExternalUrl(it+We(Yt));0==dn.length&&(dn=this._platformLocation.pathname),this._platformLocation.pushState(G,_e,dn)}replaceState(G,_e,it,Yt){let dn=this.prepareExternalUrl(it+We(Yt));0==dn.length&&(dn=this._platformLocation.pathname),this._platformLocation.replaceState(G,_e,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(G=0){this._platformLocation.historyGo?.(G)}}return H.\u0275fac=function(G){return new(G||H)(f.LFG(He),f.LFG(Ze,8))},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac}),H})(),ut=(()=>{class H{constructor(G){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=G;const _e=this._locationStrategy.getBaseHref();this._basePath=function xe(H){if(new RegExp("^(https?:)?//").test(H)){const[,G]=H.split(/\/\/[^\/]+/);return G}return H}(Ve(Re(_e))),this._locationStrategy.onPopState(it=>{this._subject.emit({url:this.path(!0),pop:!0,state:it.state,type:it.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(G=!1){return this.normalize(this._locationStrategy.path(G))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(G,_e=""){return this.path()==this.normalize(G+We(_e))}normalize(G){return H.stripTrailingSlash(function ke(H,se){if(!H||!se.startsWith(H))return se;const G=se.substring(H.length);return""===G||["/",";","?","#"].includes(G[0])?G:se}(this._basePath,Re(G)))}prepareExternalUrl(G){return G&&"/"!==G[0]&&(G="/"+G),this._locationStrategy.prepareExternalUrl(G)}go(G,_e="",it=null){this._locationStrategy.pushState(it,"",G,_e),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+We(_e)),it)}replaceState(G,_e="",it=null){this._locationStrategy.replaceState(it,"",G,_e),this._notifyUrlChangeListeners(this.prepareExternalUrl(G+We(_e)),it)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(G=0){this._locationStrategy.historyGo?.(G)}onUrlChange(G){return this._urlChangeListeners.push(G),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(_e=>{this._notifyUrlChangeListeners(_e.url,_e.state)})),()=>{const _e=this._urlChangeListeners.indexOf(G);this._urlChangeListeners.splice(_e,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(G="",_e){this._urlChangeListeners.forEach(it=>it(G,_e))}subscribe(G,_e,it){return this._subject.subscribe({next:G,error:_e,complete:it})}}return H.normalizeQueryParams=We,H.joinWithSlash=Ie,H.stripTrailingSlash=Ve,H.\u0275fac=function(G){return new(G||H)(f.LFG(ht))},H.\u0275prov=f.Yz7({token:H,factory:function(){return function Fe(){return new ut((0,f.LFG)(ht))}()},providedIn:"root"}),H})();function Re(H){return H.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Percent=1]="Percent",ge[ge.Currency=2]="Currency",ge[ge.Scientific=3]="Scientific",ge))(),jt=(()=>((jt=jt||{})[jt.Format=0]="Format",jt[jt.Standalone=1]="Standalone",jt))(),Ht=(()=>((Ht=Ht||{})[Ht.Narrow=0]="Narrow",Ht[Ht.Abbreviated=1]="Abbreviated",Ht[Ht.Wide=2]="Wide",Ht[Ht.Short=3]="Short",Ht))(),vn=(()=>((vn=vn||{})[vn.Short=0]="Short",vn[vn.Medium=1]="Medium",vn[vn.Long=2]="Long",vn[vn.Full=3]="Full",vn))(),rn=(()=>((rn=rn||{})[rn.Decimal=0]="Decimal",rn[rn.Group=1]="Group",rn[rn.List=2]="List",rn[rn.PercentSign=3]="PercentSign",rn[rn.PlusSign=4]="PlusSign",rn[rn.MinusSign=5]="MinusSign",rn[rn.Exponential=6]="Exponential",rn[rn.SuperscriptingExponent=7]="SuperscriptingExponent",rn[rn.PerMille=8]="PerMille",rn[rn.Infinity=9]="Infinity",rn[rn.NaN=10]="NaN",rn[rn.TimeSeparator=11]="TimeSeparator",rn[rn.CurrencyDecimal=12]="CurrencyDecimal",rn[rn.CurrencyGroup=13]="CurrencyGroup",rn))();function Ae(H,se){return Cn((0,f.cg1)(H)[f.wAp.DateFormat],se)}function Ue(H,se){return Cn((0,f.cg1)(H)[f.wAp.TimeFormat],se)}function pt(H,se){return Cn((0,f.cg1)(H)[f.wAp.DateTimeFormat],se)}function at(H,se){const G=(0,f.cg1)(H),_e=G[f.wAp.NumberSymbols][se];if(typeof _e>"u"){if(se===rn.CurrencyDecimal)return G[f.wAp.NumberSymbols][rn.Decimal];if(se===rn.CurrencyGroup)return G[f.wAp.NumberSymbols][rn.Group]}return _e}function on(H){if(!H[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${H[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Cn(H,se){for(let G=se;G>-1;G--)if(typeof H[G]<"u")return H[G];throw new Error("Locale data API: locale data undefined")}function _t(H){const[se,G]=H.split(":");return{hours:+se,minutes:+G}}const lt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gt={},Ee=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var et=(()=>((et=et||{})[et.Short=0]="Short",et[et.ShortGMT=1]="ShortGMT",et[et.Long=2]="Long",et[et.Extended=3]="Extended",et))(),xt=(()=>((xt=xt||{})[xt.FullYear=0]="FullYear",xt[xt.Month=1]="Month",xt[xt.Date=2]="Date",xt[xt.Hours=3]="Hours",xt[xt.Minutes=4]="Minutes",xt[xt.Seconds=5]="Seconds",xt[xt.FractionalSeconds=6]="FractionalSeconds",xt[xt.Day=7]="Day",xt))(),bt=(()=>((bt=bt||{})[bt.DayPeriods=0]="DayPeriods",bt[bt.Days=1]="Days",bt[bt.Months=2]="Months",bt[bt.Eras=3]="Eras",bt))();function un(H,se,G,_e){let it=function fe(H){if($e(H))return H;if("number"==typeof H&&!isNaN(H))return new Date(H);if("string"==typeof H){if(H=H.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(H)){const[it,Yt=1,dn=1]=H.split("-").map(zn=>+zn);return Ot(it,Yt-1,dn)}const G=parseFloat(H);if(!isNaN(H-G))return new Date(G);let _e;if(_e=H.match(lt))return function ft(H){const se=new Date(0);let G=0,_e=0;const it=H[8]?se.setUTCFullYear:se.setFullYear,Yt=H[8]?se.setUTCHours:se.setHours;H[9]&&(G=Number(H[9]+H[10]),_e=Number(H[9]+H[11])),it.call(se,Number(H[1]),Number(H[2])-1,Number(H[3]));const dn=Number(H[4]||0)-G,zn=Number(H[5]||0)-_e,ar=Number(H[6]||0),Ui=Math.floor(1e3*parseFloat("0."+(H[7]||0)));return Yt.call(se,dn,zn,ar,Ui),se}(_e)}const se=new Date(H);if(!$e(se))throw new Error(`Unable to convert "${H}" into a date`);return se}(H);se=Jt(G,se)||se;let zn,dn=[];for(;se;){if(zn=Ee.exec(se),!zn){dn.push(se);break}{dn=dn.concat(zn.slice(1));const Qi=dn.pop();if(!Qi)break;se=Qi}}let ar=it.getTimezoneOffset();_e&&(ar=Qe(_e,ar),it=function ve(H,se,G){const _e=G?-1:1,it=H.getTimezoneOffset();return function pe(H,se){return(H=new Date(H.getTime())).setMinutes(H.getMinutes()+se),H}(H,_e*(Qe(se,it)-it))}(it,_e,!0));let Ui="";return dn.forEach(Qi=>{const Gi=function rt(H){if(ui[H])return ui[H];let se;switch(H){case"G":case"GG":case"GGG":se=Un(bt.Eras,Ht.Abbreviated);break;case"GGGG":se=Un(bt.Eras,Ht.Wide);break;case"GGGGG":se=Un(bt.Eras,Ht.Narrow);break;case"y":se=Sn(xt.FullYear,1,0,!1,!0);break;case"yy":se=Sn(xt.FullYear,2,0,!0,!0);break;case"yyy":se=Sn(xt.FullYear,3,0,!1,!0);break;case"yyyy":se=Sn(xt.FullYear,4,0,!1,!0);break;case"Y":se=Tn(1);break;case"YY":se=Tn(2,!0);break;case"YYY":se=Tn(3);break;case"YYYY":se=Tn(4);break;case"M":case"L":se=Sn(xt.Month,1,1);break;case"MM":case"LL":se=Sn(xt.Month,2,1);break;case"MMM":se=Un(bt.Months,Ht.Abbreviated);break;case"MMMM":se=Un(bt.Months,Ht.Wide);break;case"MMMMM":se=Un(bt.Months,Ht.Narrow);break;case"LLL":se=Un(bt.Months,Ht.Abbreviated,jt.Standalone);break;case"LLLL":se=Un(bt.Months,Ht.Wide,jt.Standalone);break;case"LLLLL":se=Un(bt.Months,Ht.Narrow,jt.Standalone);break;case"w":se=Ft(1);break;case"ww":se=Ft(2);break;case"W":se=Ft(1,!0);break;case"d":se=Sn(xt.Date,1);break;case"dd":se=Sn(xt.Date,2);break;case"c":case"cc":se=Sn(xt.Day,1);break;case"ccc":se=Un(bt.Days,Ht.Abbreviated,jt.Standalone);break;case"cccc":se=Un(bt.Days,Ht.Wide,jt.Standalone);break;case"ccccc":se=Un(bt.Days,Ht.Narrow,jt.Standalone);break;case"cccccc":se=Un(bt.Days,Ht.Short,jt.Standalone);break;case"E":case"EE":case"EEE":se=Un(bt.Days,Ht.Abbreviated);break;case"EEEE":se=Un(bt.Days,Ht.Wide);break;case"EEEEE":se=Un(bt.Days,Ht.Narrow);break;case"EEEEEE":se=Un(bt.Days,Ht.Short);break;case"a":case"aa":case"aaa":se=Un(bt.DayPeriods,Ht.Abbreviated);break;case"aaaa":se=Un(bt.DayPeriods,Ht.Wide);break;case"aaaaa":se=Un(bt.DayPeriods,Ht.Narrow);break;case"b":case"bb":case"bbb":se=Un(bt.DayPeriods,Ht.Abbreviated,jt.Standalone,!0);break;case"bbbb":se=Un(bt.DayPeriods,Ht.Wide,jt.Standalone,!0);break;case"bbbbb":se=Un(bt.DayPeriods,Ht.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":se=Un(bt.DayPeriods,Ht.Abbreviated,jt.Format,!0);break;case"BBBB":se=Un(bt.DayPeriods,Ht.Wide,jt.Format,!0);break;case"BBBBB":se=Un(bt.DayPeriods,Ht.Narrow,jt.Format,!0);break;case"h":se=Sn(xt.Hours,1,-12);break;case"hh":se=Sn(xt.Hours,2,-12);break;case"H":se=Sn(xt.Hours,1);break;case"HH":se=Sn(xt.Hours,2);break;case"m":se=Sn(xt.Minutes,1);break;case"mm":se=Sn(xt.Minutes,2);break;case"s":se=Sn(xt.Seconds,1);break;case"ss":se=Sn(xt.Seconds,2);break;case"S":se=Sn(xt.FractionalSeconds,1);break;case"SS":se=Sn(xt.FractionalSeconds,2);break;case"SSS":se=Sn(xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":se=Vn(et.Short);break;case"ZZZZZ":se=Vn(et.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":se=Vn(et.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":se=Vn(et.Long);break;default:return null}return ui[H]=se,se}(Qi);Ui+=Gi?Gi(it,G,ar):"''"===Qi?"'":Qi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ui}function Ot(H,se,G){const _e=new Date(0);return _e.setFullYear(H,se,G),_e.setHours(0,0,0),_e}function Jt(H,se){const G=function _i(H){return(0,f.cg1)(H)[f.wAp.LocaleId]}(H);if(gt[G]=gt[G]||{},gt[G][se])return gt[G][se];let _e="";switch(se){case"shortDate":_e=Ae(H,vn.Short);break;case"mediumDate":_e=Ae(H,vn.Medium);break;case"longDate":_e=Ae(H,vn.Long);break;case"fullDate":_e=Ae(H,vn.Full);break;case"shortTime":_e=Ue(H,vn.Short);break;case"mediumTime":_e=Ue(H,vn.Medium);break;case"longTime":_e=Ue(H,vn.Long);break;case"fullTime":_e=Ue(H,vn.Full);break;case"short":const it=Jt(H,"shortTime"),Yt=Jt(H,"shortDate");_e=yt(pt(H,vn.Short),[it,Yt]);break;case"medium":const dn=Jt(H,"mediumTime"),zn=Jt(H,"mediumDate");_e=yt(pt(H,vn.Medium),[dn,zn]);break;case"long":const ar=Jt(H,"longTime"),Ui=Jt(H,"longDate");_e=yt(pt(H,vn.Long),[ar,Ui]);break;case"full":const Qi=Jt(H,"fullTime"),Gi=Jt(H,"fullDate");_e=yt(pt(H,vn.Full),[Qi,Gi])}return _e&&(gt[G][se]=_e),_e}function yt(H,se){return se&&(H=H.replace(/\{([^}]+)}/g,function(G,_e){return null!=se&&_e in se?se[_e]:G})),H}function Vt(H,se,G="-",_e,it){let Yt="";(H<0||it&&H<=0)&&(it?H=1-H:(H=-H,Yt=G));let dn=String(H);for(;dn.length<se;)dn="0"+dn;return _e&&(dn=dn.slice(dn.length-se)),Yt+dn}function Sn(H,se,G=0,_e=!1,it=!1){return function(Yt,dn){let zn=function Oi(H,se){switch(H){case xt.FullYear:return se.getFullYear();case xt.Month:return se.getMonth();case xt.Date:return se.getDate();case xt.Hours:return se.getHours();case xt.Minutes:return se.getMinutes();case xt.Seconds:return se.getSeconds();case xt.FractionalSeconds:return se.getMilliseconds();case xt.Day:return se.getDay();default:throw new Error(`Unknown DateType value "${H}".`)}}(H,Yt);if((G>0||zn>-G)&&(zn+=G),H===xt.Hours)0===zn&&-12===G&&(zn=12);else if(H===xt.FractionalSeconds)return function kn(H,se){return Vt(H,3).substring(0,se)}(zn,se);const ar=at(dn,rn.MinusSign);return Vt(zn,se,ar,_e,it)}}function Un(H,se,G=jt.Format,_e=!1){return function(it,Yt){return function mi(H,se,G,_e,it,Yt){switch(G){case bt.Months:return function xn(H,se,G){const _e=(0,f.cg1)(H),Yt=Cn([_e[f.wAp.MonthsFormat],_e[f.wAp.MonthsStandalone]],se);return Cn(Yt,G)}(se,it,_e)[H.getMonth()];case bt.Days:return function Wn(H,se,G){const _e=(0,f.cg1)(H),Yt=Cn([_e[f.wAp.DaysFormat],_e[f.wAp.DaysStandalone]],se);return Cn(Yt,G)}(se,it,_e)[H.getDay()];case bt.DayPeriods:const dn=H.getHours(),zn=H.getMinutes();if(Yt){const Ui=function wn(H){const se=(0,f.cg1)(H);return on(se),(se[f.wAp.ExtraData][2]||[]).map(_e=>"string"==typeof _e?_t(_e):[_t(_e[0]),_t(_e[1])])}(se),Qi=function Ln(H,se,G){const _e=(0,f.cg1)(H);on(_e);const Yt=Cn([_e[f.wAp.ExtraData][0],_e[f.wAp.ExtraData][1]],se)||[];return Cn(Yt,G)||[]}(se,it,_e),Gi=Ui.findIndex(hn=>{if(Array.isArray(hn)){const[Ai,gr]=hn,Ms=dn>=Ai.hours&&zn>=Ai.minutes,Bn=dn<gr.hours||dn===gr.hours&&zn<gr.minutes;if(Ai.hours<gr.hours){if(Ms&&Bn)return!0}else if(Ms||Bn)return!0}else if(hn.hours===dn&&hn.minutes===zn)return!0;return!1});if(-1!==Gi)return Qi[Gi]}return function An(H,se,G){const _e=(0,f.cg1)(H),Yt=Cn([_e[f.wAp.DayPeriodsFormat],_e[f.wAp.DayPeriodsStandalone]],se);return Cn(Yt,G)}(se,it,_e)[dn<12?0:1];case bt.Eras:return function nn(H,se){return Cn((0,f.cg1)(H)[f.wAp.Eras],se)}(se,_e)[H.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${G}`)}}(it,Yt,H,se,G,_e)}}function Vn(H){return function(se,G,_e){const it=-1*_e,Yt=at(G,rn.MinusSign),dn=it>0?Math.floor(it/60):Math.ceil(it/60);switch(H){case et.Short:return(it>=0?"+":"")+Vt(dn,2,Yt)+Vt(Math.abs(it%60),2,Yt);case et.ShortGMT:return"GMT"+(it>=0?"+":"")+Vt(dn,1,Yt);case et.Long:return"GMT"+(it>=0?"+":"")+Vt(dn,2,Yt)+":"+Vt(Math.abs(it%60),2,Yt);case et.Extended:return 0===_e?"Z":(it>=0?"+":"")+Vt(dn,2,Yt)+":"+Vt(Math.abs(it%60),2,Yt);default:throw new Error(`Unknown zone width "${H}"`)}}}const Ye=0,Z=4;function je(H){return Ot(H.getFullYear(),H.getMonth(),H.getDate()+(Z-H.getDay()))}function Ft(H,se=!1){return function(G,_e){let it;if(se){const Yt=new Date(G.getFullYear(),G.getMonth(),1).getDay()-1,dn=G.getDate();it=1+Math.floor((dn+Yt)/7)}else{const Yt=je(G),dn=function X(H){const se=Ot(H,Ye,1).getDay();return Ot(H,0,1+(se<=Z?Z:Z+7)-se)}(Yt.getFullYear()),zn=Yt.getTime()-dn.getTime();it=1+Math.round(zn/6048e5)}return Vt(it,H,at(_e,rn.MinusSign))}}function Tn(H,se=!1){return function(G,_e){return Vt(je(G).getFullYear(),H,at(_e,rn.MinusSign),se)}}const ui={};function Qe(H,se){H=H.replace(/:/g,"");const G=Date.parse("Jan 01, 1970 00:00:00 "+H)/6e4;return isNaN(G)?se:G}function $e(H){return H instanceof Date&&!isNaN(H.valueOf())}const le=/^(\d+)?\.((\d+)(-(\d+))?)?$/,q=22,te=".",Pe="0",st=";",$t=",",ln="#";function Ii(H){const se=parseInt(H);if(isNaN(se))throw new Error("Invalid integer literal when parsing "+H);return se}function gs(H,se){se=encodeURIComponent(se);for(const G of H.split(";")){const _e=G.indexOf("="),[it,Yt]=-1==_e?[G,""]:[G.slice(0,_e),G.slice(_e+1)];if(it.trim()===se)return decodeURIComponent(Yt)}return null}const Ge=/\s+/,ct=[];let A=(()=>{class H{constructor(G,_e,it,Yt){this._iterableDiffers=G,this._keyValueDiffers=_e,this._ngEl=it,this._renderer=Yt,this.initialClasses=ct,this.stateMap=new Map}set klass(G){this.initialClasses=null!=G?G.trim().split(Ge):ct}set ngClass(G){this.rawClass="string"==typeof G?G.trim().split(Ge):G}ngDoCheck(){for(const _e of this.initialClasses)this._updateState(_e,!0);const G=this.rawClass;if(Array.isArray(G)||G instanceof Set)for(const _e of G)this._updateState(_e,!0);else if(null!=G)for(const _e of Object.keys(G))this._updateState(_e,Boolean(G[_e]));this._applyStateDiff()}_updateState(G,_e){const it=this.stateMap.get(G);void 0!==it?(it.enabled!==_e&&(it.changed=!0,it.enabled=_e),it.touched=!0):this.stateMap.set(G,{enabled:_e,changed:!0,touched:!0})}_applyStateDiff(){for(const G of this.stateMap){const _e=G[0],it=G[1];it.changed?(this._toggleClass(_e,it.enabled),it.changed=!1):it.touched||(it.enabled&&this._toggleClass(_e,!1),this.stateMap.delete(_e)),it.touched=!1}}_toggleClass(G,_e){(G=G.trim()).length>0&&G.split(Ge).forEach(it=>{_e?this._renderer.addClass(this._ngEl.nativeElement,it):this._renderer.removeClass(this._ngEl.nativeElement,it)})}}return H.\u0275fac=function(G){return new(G||H)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},H.\u0275dir=f.lG2({type:H,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),H})();class qt{constructor(se,G,_e,it){this.$implicit=se,this.ngForOf=G,this.index=_e,this.count=it}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yn=(()=>{class H{set ngForOf(G){this._ngForOf=G,this._ngForOfDirty=!0}set ngForTrackBy(G){this._trackByFn=G}get ngForTrackBy(){return this._trackByFn}constructor(G,_e,it){this._viewContainer=G,this._template=_e,this._differs=it,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(G){G&&(this._template=G)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const G=this._ngForOf;!this._differ&&G&&(this._differ=this._differs.find(G).create(this.ngForTrackBy))}if(this._differ){const G=this._differ.diff(this._ngForOf);G&&this._applyChanges(G)}}_applyChanges(G){const _e=this._viewContainer;G.forEachOperation((it,Yt,dn)=>{if(null==it.previousIndex)_e.createEmbeddedView(this._template,new qt(it.item,this._ngForOf,-1,-1),null===dn?void 0:dn);else if(null==dn)_e.remove(null===Yt?void 0:Yt);else if(null!==Yt){const zn=_e.get(Yt);_e.move(zn,dn),si(zn,it)}});for(let it=0,Yt=_e.length;it<Yt;it++){const zn=_e.get(it).context;zn.index=it,zn.count=Yt,zn.ngForOf=this._ngForOf}G.forEachIdentityChange(it=>{si(_e.get(it.currentIndex),it)})}static ngTemplateContextGuard(G,_e){return!0}}return H.\u0275fac=function(G){return new(G||H)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},H.\u0275dir=f.lG2({type:H,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),H})();function si(H,se){H.context.$implicit=se.item}let Mr=(()=>{class H{constructor(G,_e){this._viewContainer=G,this._context=new ti,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=_e}set ngIf(G){this._context.$implicit=this._context.ngIf=G,this._updateView()}set ngIfThen(G){qr("ngIfThen",G),this._thenTemplateRef=G,this._thenViewRef=null,this._updateView()}set ngIfElse(G){qr("ngIfElse",G),this._elseTemplateRef=G,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(G,_e){return!0}}return H.\u0275fac=function(G){return new(G||H)(f.Y36(f.s_b),f.Y36(f.Rgc))},H.\u0275dir=f.lG2({type:H,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),H})();class ti{constructor(){this.$implicit=null,this.ngIf=null}}function qr(H,se){if(se&&!se.createEmbeddedView)throw new Error(`${H} must be a TemplateRef, but received '${(0,f.AaK)(se)}'.`)}class xs{constructor(se,G){this._viewContainerRef=se,this._templateRef=G,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(se){se&&!this._created?this.create():!se&&this._created&&this.destroy()}}let ao=(()=>{class H{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(G){this._ngSwitch=G,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(G){this._defaultViews.push(G)}_matchCase(G){const _e=G==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||_e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),_e}_updateDefaultCases(G){if(this._defaultViews.length>0&&G!==this._defaultUsed){this._defaultUsed=G;for(const _e of this._defaultViews)_e.enforceState(G)}}}return H.\u0275fac=function(G){return new(G||H)},H.\u0275dir=f.lG2({type:H,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),H})(),xr=(()=>{class H{constructor(G,_e,it){this.ngSwitch=it,it._addCase(),this._view=new xs(G,_e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return H.\u0275fac=function(G){return new(G||H)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(ao,9))},H.\u0275dir=f.lG2({type:H,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),H})(),nr=(()=>{class H{constructor(G){this._viewContainerRef=G,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(G){if(G.ngTemplateOutlet||G.ngTemplateOutletInjector){const _e=this._viewContainerRef;if(this._viewRef&&_e.remove(_e.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:it,ngTemplateOutletContext:Yt,ngTemplateOutletInjector:dn}=this;this._viewRef=_e.createEmbeddedView(it,Yt,dn?{injector:dn}:void 0)}else this._viewRef=null}else this._viewRef&&G.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return H.\u0275fac=function(G){return new(G||H)(f.Y36(f.s_b))},H.\u0275dir=f.lG2({type:H,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),H})();function Qr(H,se){return new f.vHH(2100,!1)}class _s{createSubscription(se,G){return se.subscribe({next:G,error:_e=>{throw _e}})}dispose(se){se.unsubscribe()}}class It{createSubscription(se,G){return se.then(G,_e=>{throw _e})}dispose(se){}}const wt=new It,Bt=new _s;let en=(()=>{class H{constructor(G){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=G}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(G){return this._obj?G!==this._obj?(this._dispose(),this.transform(G)):this._latestValue:(G&&this._subscribe(G),this._latestValue)}_subscribe(G){this._obj=G,this._strategy=this._selectStrategy(G),this._subscription=this._strategy.createSubscription(G,_e=>this._updateLatestValue(G,_e))}_selectStrategy(G){if((0,f.QGY)(G))return wt;if((0,f.F4k)(G))return Bt;throw Qr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(G,_e){G===this._obj&&(this._latestValue=_e,this._ref.markForCheck())}}return H.\u0275fac=function(G){return new(G||H)(f.Y36(f.sBO,16))},H.\u0275pipe=f.Yjl({name:"async",type:H,pure:!1,standalone:!0}),H})(),gi=(()=>{class H{transform(G){if(null==G)return null;if("string"!=typeof G)throw Qr();return G.toUpperCase()}}return H.\u0275fac=function(G){return new(G||H)},H.\u0275pipe=f.Yjl({name:"uppercase",type:H,pure:!0,standalone:!0}),H})();const Pr=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ss=new f.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Zi=(()=>{class H{constructor(G,_e,it){this.locale=G,this.defaultTimezone=_e,this.defaultOptions=it}transform(G,_e,it,Yt){if(null==G||""===G||G!=G)return null;try{return un(G,_e??this.defaultOptions?.dateFormat??"mediumDate",Yt||this.locale,it??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(dn){throw Qr()}}}return H.\u0275fac=function(G){return new(G||H)(f.Y36(f.soG,16),f.Y36(Pr,24),f.Y36(ss,24))},H.\u0275pipe=f.Yjl({name:"date",type:H,pure:!0,standalone:!0}),H})(),Go=(()=>{class H{constructor(G){this._locale=G}transform(G,_e,it){if(!function lo(H){return!(null==H||""===H||H!=H)}(G))return null;it=it||this._locale;try{return function qn(H,se,G){return function Lt(H,se,G,_e,it,Yt,dn=!1){let zn="",ar=!1;if(isFinite(H)){let Ui=function Hn(H){let _e,it,Yt,dn,zn,se=Math.abs(H)+"",G=0;for((it=se.indexOf(te))>-1&&(se=se.replace(te,"")),(Yt=se.search(/e/i))>0?(it<0&&(it=Yt),it+=+se.slice(Yt+1),se=se.substring(0,Yt)):it<0&&(it=se.length),Yt=0;se.charAt(Yt)===Pe;Yt++);if(Yt===(zn=se.length))_e=[0],it=1;else{for(zn--;se.charAt(zn)===Pe;)zn--;for(it-=Yt,_e=[],dn=0;Yt<=zn;Yt++,dn++)_e[dn]=Number(se.charAt(Yt))}return it>q&&(_e=_e.splice(0,q-1),G=it-1,it=1),{digits:_e,exponent:G,integerLen:it}}(H);dn&&(Ui=function vi(H){if(0===H.digits[0])return H;const se=H.digits.length-H.integerLen;return H.exponent?H.exponent+=2:(0===se?H.digits.push(0,0):1===se&&H.digits.push(0),H.integerLen+=2),H}(Ui));let Qi=se.minInt,Gi=se.minFrac,hn=se.maxFrac;if(Yt){const Bs=Yt.match(le);if(null===Bs)throw new Error(`${Yt} is not a valid digit info`);const Pn=Bs[1],Gt=Bs[3],_n=Bs[5];null!=Pn&&(Qi=Ii(Pn)),null!=Gt&&(Gi=Ii(Gt)),null!=_n?hn=Ii(_n):null!=Gt&&Gi>hn&&(hn=Gi)}!function Vi(H,se,G){if(se>G)throw new Error(`The minimum number of digits after fraction (${se}) is higher than the maximum (${G}).`);let _e=H.digits,it=_e.length-H.integerLen;const Yt=Math.min(Math.max(se,it),G);let dn=Yt+H.integerLen,zn=_e[dn];if(dn>0){_e.splice(Math.max(H.integerLen,dn));for(let Gi=dn;Gi<_e.length;Gi++)_e[Gi]=0}else{it=Math.max(0,it),H.integerLen=1,_e.length=Math.max(1,dn=Yt+1),_e[0]=0;for(let Gi=1;Gi<dn;Gi++)_e[Gi]=0}if(zn>=5)if(dn-1<0){for(let Gi=0;Gi>dn;Gi--)_e.unshift(0),H.integerLen++;_e.unshift(1),H.integerLen++}else _e[dn-1]++;for(;it<Math.max(0,Yt);it++)_e.push(0);let ar=0!==Yt;const Ui=se+H.integerLen,Qi=_e.reduceRight(function(Gi,hn,Ai,gr){return gr[Ai]=(hn+=Gi)<10?hn:hn-10,ar&&(0===gr[Ai]&&Ai>=Ui?gr.pop():ar=!1),hn>=10?1:0},0);Qi&&(_e.unshift(Qi),H.integerLen++)}(Ui,Gi,hn);let Ai=Ui.digits,gr=Ui.integerLen;const Ms=Ui.exponent;let Bn=[];for(ar=Ai.every(Bs=>!Bs);gr<Qi;gr++)Ai.unshift(0);for(;gr<0;gr++)Ai.unshift(0);gr>0?Bn=Ai.splice(gr,Ai.length):(Bn=Ai,Ai=[0]);const oi=[];for(Ai.length>=se.lgSize&&oi.unshift(Ai.splice(-se.lgSize,Ai.length).join(""));Ai.length>se.gSize;)oi.unshift(Ai.splice(-se.gSize,Ai.length).join(""));Ai.length&&oi.unshift(Ai.join("")),zn=oi.join(at(G,_e)),Bn.length&&(zn+=at(G,it)+Bn.join("")),Ms&&(zn+=at(G,rn.Exponential)+"+"+Ms)}else zn=at(G,rn.Infinity);return zn=H<0&&!ar?se.negPre+zn+se.negSuf:se.posPre+zn+se.posSuf,zn}(H,function ei(H,se="-"){const G={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},_e=H.split(st),it=_e[0],Yt=_e[1],dn=-1!==it.indexOf(te)?it.split(te):[it.substring(0,it.lastIndexOf(Pe)+1),it.substring(it.lastIndexOf(Pe)+1)],zn=dn[0],ar=dn[1]||"";G.posPre=zn.substring(0,zn.indexOf(ln));for(let Qi=0;Qi<ar.length;Qi++){const Gi=ar.charAt(Qi);Gi===Pe?G.minFrac=G.maxFrac=Qi+1:Gi===ln?G.maxFrac=Qi+1:G.posSuf+=Gi}const Ui=zn.split($t);if(G.gSize=Ui[1]?Ui[1].length:0,G.lgSize=Ui[2]||Ui[1]?(Ui[2]||Ui[1]).length:0,Yt){const Qi=it.length-G.posPre.length-G.posSuf.length,Gi=Yt.indexOf(ln);G.negPre=Yt.substring(0,Gi).replace(/'/g,""),G.negSuf=Yt.slice(Gi+Qi).replace(/'/g,"")}else G.negPre=se+G.posPre,G.negSuf=G.posSuf;return G}(function Qt(H,se){return(0,f.cg1)(H)[f.wAp.NumberFormats][se]}(se,ge.Decimal),at(se,rn.MinusSign)),se,rn.Group,rn.Decimal,G)}(function Ns(H){if("string"==typeof H&&!isNaN(Number(H)-parseFloat(H)))return Number(H);if("number"!=typeof H)throw new Error(`${H} is not a number`);return H}(G),it,_e)}catch(Yt){throw Qr()}}}return H.\u0275fac=function(G){return new(G||H)(f.Y36(f.soG,16))},H.\u0275pipe=f.Yjl({name:"number",type:H,pure:!0,standalone:!0}),H})();let bo=(()=>{class H{}return H.\u0275fac=function(G){return new(G||H)},H.\u0275mod=f.oAB({type:H}),H.\u0275inj=f.cJS({}),H})();const Wo="browser",wo="server";function Ss(H){return H===Wo}function ys(H){return H===wo}let ko=(()=>{class H{}return H.\u0275prov=(0,f.Yz7)({token:H,providedIn:"root",factory:()=>new Wa((0,f.LFG)(we),window)}),H})();class Wa{constructor(se,G){this.document=se,this.window=G,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const G=function no(H,se){const G=H.getElementById(se)||H.getElementsByName(se)[0];if(G)return G;if("function"==typeof H.createTreeWalker&&H.body&&(H.body.createShadowRoot||H.body.attachShadow)){const _e=H.createTreeWalker(H.body,NodeFilter.SHOW_ELEMENT);let it=_e.currentNode;for(;it;){const Yt=it.shadowRoot;if(Yt){const dn=Yt.getElementById(se)||Yt.querySelector(`[name="${se}"]`);if(dn)return dn}it=_e.nextNode()}}return null}(this.document,se);G&&(this.scrollToElement(G),G.focus())}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const G=this.window.history;G&&G.scrollRestoration&&(G.scrollRestoration=se)}}scrollToElement(se){const G=se.getBoundingClientRect(),_e=G.left+this.window.pageXOffset,it=G.top+this.window.pageYOffset,Yt=this.offset();this.window.scrollTo(_e-Yt[0],it-Yt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=Oo(this.window.history)||Oo(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Oo(H){return Object.getOwnPropertyDescriptor(H,"scrollRestoration")}class ba{}},4537:(fn,ot,M)=>{"use strict";M.d(ot,{$8M:()=>la,$WT:()=>ji,$Z:()=>vp,AFp:()=>e0,ALo:()=>bb,AaK:()=>L,AsE:()=>id,BQk:()=>td,CHM:()=>Si,CRH:()=>Rb,CZH:()=>Py,CqO:()=>Hd,D6c:()=>TE,EJc:()=>zw,EiD:()=>Pu,EpF:()=>Rf,F$t:()=>Pm,F4k:()=>zg,FYo:()=>cm,FiY:()=>El,Gf:()=>Ab,GfV:()=>ap,GkF:()=>Mf,Gpc:()=>de,Hsn:()=>Wg,Ikx:()=>Gm,JOm:()=>Ma,JVY:()=>Jp,JZr:()=>ht,KtG:()=>Fi,L6k:()=>em,LAX:()=>tm,LFG:()=>Vn,LSH:()=>vd,Lbi:()=>Bw,Lck:()=>L0,MAs:()=>Bp,MGl:()=>Ph,MMx:()=>Ev,NdJ:()=>Hp,O4$:()=>Ea,OlP:()=>rr,Oqu:()=>Of,P3R:()=>om,PXZ:()=>rE,Q6J:()=>km,QGY:()=>kf,QbO:()=>Uw,Qsj:()=>d_,R0b:()=>od,RDi:()=>js,Rgc:()=>Y_,SBq:()=>Kl,Sil:()=>Gw,Suo:()=>Mb,TTD:()=>Eo,TgZ:()=>Ah,Udp:()=>Ci,W1O:()=>Nb,WFA:()=>Rh,WLB:()=>pb,X6Q:()=>cE,XFs:()=>_t,Xpm:()=>ln,Xts:()=>bd,Y36:()=>fh,YKP:()=>sb,YNc:()=>Vp,Yjl:()=>vi,Yz7:()=>at,Z0I:()=>Mt,ZZ4:()=>Kv,_Bn:()=>rb,_UZ:()=>Up,_Vd:()=>tf,_c5:()=>xE,_uU:()=>N_,aQg:()=>Yv,c2e:()=>Hw,cJS:()=>In,cg1:()=>fy,d8E:()=>Ff,dDg:()=>eE,dqk:()=>Ee,eBb:()=>jl,eFA:()=>p0,eJc:()=>Rv,ekj:()=>Hi,eoX:()=>u0,evT:()=>Ed,f3M:()=>Z,g9A:()=>n0,h0i:()=>s_,hGG:()=>IE,hij:()=>Yg,iGM:()=>Sb,ifc:()=>ve,ip1:()=>Jb,jDz:()=>ab,kL8:()=>my,kcU:()=>Ya,lG2:()=>ei,lcZ:()=>wb,lnq:()=>rd,lqb:()=>Ra,lri:()=>l0,mCW:()=>zl,n5z:()=>Xa,n_E:()=>Ay,oAB:()=>Nt,oxw:()=>Gg,pB0:()=>oo,q3G:()=>er,q4F:()=>lp,qLn:()=>za,qOj:()=>xm,qZA:()=>Mh,qzn:()=>eu,rWj:()=>c0,s9C:()=>Oh,sBO:()=>uE,s_b:()=>Ry,soG:()=>Ny,tBr:()=>gu,tb:()=>h0,tp0:()=>xc,uIk:()=>Mm,uOi:()=>Wl,vHH:()=>Ze,vpe:()=>Hh,wAp:()=>zi,xi3:()=>Eb,xp6:()=>mp,ynx:()=>Ud,z2F:()=>Fy,z3N:()=>ul,zSh:()=>tp,zs3:()=>ju});var f=M(8023),F=M(4813),_=M(7241),ce=M(1860),S=M(815);function we(n){for(let r in n)if(n[r]===we)return r;throw Error("Could not find renamed property on target object.")}function He(n,r){for(const l in r)r.hasOwnProperty(l)&&!n.hasOwnProperty(l)&&(n[l]=r[l])}function L(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(L).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const l=r.indexOf("\n");return-1===l?r:r.substring(0,l)}function Oe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ne=we({__forward_ref__:we});function de(n){return n.__forward_ref__=de,n.toString=function(){return L(this())},n}function ye(n){return Ie(n)?n():n}function Ie(n){return"function"==typeof n&&n.hasOwnProperty(ne)&&n.__forward_ref__===de}function Ve(n){return n&&!!n.\u0275providers}const ht="https://g.co/ng/security#xss";class Ze extends Error{constructor(r,l){super(nt(r,l)),this.code=r}}function nt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function Be(n){return"string"==typeof n?n:null==n?"":String(n)}function xe(n,r){throw new Ze(-201,!1)}function qe(n,r){null==n&&function Ne(n,r,l,h){throw new Error(`ASSERTION ERROR: ${n}`+(null==h?"":` [Expected=> ${l} ${h} ${r} <=Actual]`))}(r,n,null,"!=")}function at(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function In(n){return{providers:n.providers||[],imports:n.imports||[]}}function bn(n){return pn(n,wn)||pn(n,Jn)}function Mt(n){return null!==bn(n)}function pn(n,r){return n.hasOwnProperty(r)?n[r]:null}function on(n){return n&&(n.hasOwnProperty(Ln)||n.hasOwnProperty(Cn))?n[Ln]:null}const wn=we({\u0275prov:we}),Ln=we({\u0275inj:we}),Jn=we({ngInjectableDef:we}),Cn=we({ngInjectorDef:we});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let he;function Dt(n){const r=he;return he=n,r}function lt(n,r,l){const h=bn(n);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&_t.Optional?null:void 0!==r?r:void xe(L(n))}const Ee=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),un={},Ot="__NG_DI_FLAG__",Jt="ngTempTokenPath",yt="ngTokenPath",Vt=/\n/gm,kn="\u0275",Sn="__source";let Oi;function Un(n){const r=Oi;return Oi=n,r}function mi(n,r=_t.Default){if(void 0===Oi)throw new Ze(-203,!1);return null===Oi?lt(n,void 0,r):Oi.get(n,r&_t.Optional?null:void 0,r)}function Vn(n,r=_t.Default){return(function Xe(){return he}()||mi)(ye(n),r)}function Z(n,r=_t.Default){return Vn(n,X(r))}function X(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function je(n){const r=[];for(let l=0;l<n.length;l++){const h=ye(n[l]);if(Array.isArray(h)){if(0===h.length)throw new Ze(900,!1);let p,v=_t.Default;for(let T=0;T<h.length;T++){const U=h[T],$=Tn(U);"number"==typeof $?-1===$?p=U.token:v|=$:p=U}r.push(Vn(p,v))}else r.push(Vn(h))}return r}function Ft(n,r){return n[Ot]=r,n.prototype[Ot]=r,n}function Tn(n){return n[Ot]}function Qe(n){return{toString:n}.toString()}var pe=(()=>((pe=pe||{})[pe.OnPush=0]="OnPush",pe[pe.Default=1]="Default",pe))(),ve=(()=>{return(n=ve||(ve={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ve;var n})();const fe={},ft=[],$e=we({\u0275cmp:we}),le=we({\u0275dir:we}),q=we({\u0275pipe:we}),te=we({\u0275mod:we}),Pe=we({\u0275fac:we}),st=we({__NG_ELEMENT_ID__:we});let $t=0;function ln(n){return Qe(()=>{const r=Ks(n),l={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===pe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ve.Emulated,id:"c"+$t++,styles:n.styles||ft,_:null,schemas:n.schemas||null,tView:null};vr(l);const h=n.dependencies;return l.directiveDefs=gs(h,!1),l.pipeDefs=gs(h,!0),l})}function Pi(n){return Hn(n)||Vi(n)}function Lt(n){return null!==n}function Nt(n){return Qe(()=>({type:n.type,bootstrap:n.bootstrap||ft,declarations:n.declarations||ft,imports:n.imports||ft,exports:n.exports||ft,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qn(n,r){if(null==n)return fe;const l={};for(const h in n)if(n.hasOwnProperty(h)){let p=n[h],v=p;Array.isArray(p)&&(v=p[1],p=p[0]),l[p]=h,r&&(r[p]=v)}return l}function ei(n){return Qe(()=>{const r=Ks(n);return vr(r),r})}function vi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Hn(n){return n[$e]||null}function Vi(n){return n[le]||null}function Ii(n){return n[q]||null}function ji(n){const r=Hn(n)||Vi(n)||Ii(n);return null!==r&&r.standalone}function yr(n,r){const l=n[te]||null;if(!l&&!0===r)throw new Error(`Type ${L(n)} does not have '\u0275mod' property.`);return l}function Ks(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||ft,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qn(n.inputs,r),outputs:qn(n.outputs)}}function vr(n){n.features?.forEach(r=>r(n))}function gs(n,r){if(!n)return null;const l=r?Ii:Pi;return()=>("function"==typeof n?n():n).map(h=>l(h)).filter(Lt)}const Ge=0,ct=1,A=2,Y=3,ue=4,Le=5,qt=6,Yn=7,si=8,$i=9,Mr=10,ti=11,qr=12,xs=13,ao=14,xr=15,Dr=16,Ps=17,Is=18,Wr=19,Ys=20,nr=21,Bi=22,_s=1,It=2,wt=7,Bt=8,en=9,mn=10;function pi(n){return Array.isArray(n)&&"object"==typeof n[_s]}function gi(n){return Array.isArray(n)&&!0===n[_s]}function bi(n){return 0!=(4&n.flags)}function Pr(n){return n.componentOffset>-1}function ss(n){return 1==(1&n.flags)}function Zi(n){return!!n.template}function qi(n){return 0!=(256&n[A])}function co(n,r){return n.hasOwnProperty(Pe)?n[Pe]:null}class uo{constructor(r,l,h){this.previousValue=r,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function Eo(){return ko}function ko(n){return n.type.prototype.ngOnChanges&&(n.setInput=Oo),Wa}function Wa(){const n=Po(this),r=n?.current;if(r){const l=n.previous;if(l===fe)n.previous=r;else for(let h in r)l[h]=r[h];n.current=null,this.ngOnChanges(r)}}function Oo(n,r,l,h){const p=this.declaredInputs[l],v=Po(n)||function ba(n,r){return n[no]=r}(n,{previous:fe,current:null}),T=v.current||(v.current={}),U=v.previous,$=U[p];T[p]=new uo($&&$.currentValue,r,U===fe),n[h]=r}Eo.ngInherit=!0;const no="__ngSimpleChanges__";function Po(n){return n[no]||null}const pr=function(n,r,l){},ho="svg";function lr(n){for(;Array.isArray(n);)n=n[Ge];return n}function Co(n,r){return lr(r[n])}function Ni(n,r){return lr(r[n.index])}function Do(n,r){return n.data[r]}function es(n,r){return n[r]}function Vr(n,r){const l=r[n];return pi(l)?l:l[Ge]}function os(n){return 64==(64&n[A])}function vs(n,r){return null==r?null:n[r]}function Ls(n){n[Is]=0}function Br(n,r){n[Le]+=r;let l=n,h=n[Y];for(;null!==h&&(1===r&&1===l[Le]||-1===r&&0===l[Le]);)h[Le]+=r,l=h,h=h[Y]}const Ti={lFrame:Yo(null),bindingsEnabled:!0};function Te(){return Ti.bindingsEnabled}function Et(){return Ti.lFrame.lView}function cn(){return Ti.lFrame.tView}function Si(n){return Ti.lFrame.contextLView=n,n[si]}function Fi(n){return Ti.lFrame.contextLView=null,n}function Li(){let n=Ir();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ir(){return Ti.lFrame.currentTNode}function or(n,r){const l=Ti.lFrame;l.currentTNode=n,l.isParent=r}function bs(){return Ti.lFrame.isParent}function Tr(){Ti.lFrame.isParent=!1}function Ji(){const n=Ti.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Nr(){return Ti.lFrame.bindingIndex}function As(){return Ti.lFrame.bindingIndex++}function us(n){const r=Ti.lFrame,l=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,l}function nc(n,r){const l=Ti.lFrame;l.bindingIndex=l.bindingRootIndex=n,Ur(r)}function Ur(n){Ti.lFrame.currentDirectiveIndex=n}function hs(n){const r=Ti.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function xo(){return Ti.lFrame.currentQueryIndex}function dr(n){Ti.lFrame.currentQueryIndex=n}function yl(n){const r=n[ct];return 2===r.type?r.declTNode:1===r.type?n[qt]:null}function Ko(n,r,l){if(l&_t.SkipSelf){let p=r,v=n;for(;!(p=p.parent,null!==p||l&_t.Host||(p=yl(v),null===p||(v=v[xr],10&p.type))););if(null===p)return!1;r=p,n=v}const h=Ti.lFrame=Ml();return h.currentTNode=r,h.lView=n,!0}function Vs(n){const r=Ml(),l=n[ct];Ti.lFrame=r,r.currentTNode=l.firstChild,r.lView=n,r.tView=l,r.contextLView=n,r.bindingIndex=l.bindingStartIndex,r.inI18n=!1}function Ml(){const n=Ti.lFrame,r=null===n?null:n.child;return null===r?Yo(n):r}function Yo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function wa(){const n=Ti.lFrame;return Ti.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Fa=wa;function Rl(){const n=wa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ir(){return Ti.lFrame.selectedIndex}function mo(n){Ti.lFrame.selectedIndex=n}function Sr(){const n=Ti.lFrame;return Do(n.tView,n.selectedIndex)}function Ea(){Ti.lFrame.currentNamespace=ho}function Ya(){!function oa(){Ti.lFrame.currentNamespace=null}()}function aa(n,r){for(let l=r.directiveStart,h=r.directiveEnd;l<h;l++){const v=n.data[l].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:U,ngAfterViewInit:$,ngAfterViewChecked:re,ngOnDestroy:Ce}=v;T&&(n.contentHooks??(n.contentHooks=[])).push(-l,T),U&&((n.contentHooks??(n.contentHooks=[])).push(l,U),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(l,U)),$&&(n.viewHooks??(n.viewHooks=[])).push(-l,$),re&&((n.viewHooks??(n.viewHooks=[])).push(l,re),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(l,re)),null!=Ce&&(n.destroyHooks??(n.destroyHooks=[])).push(l,Ce)}}function wc(n,r,l){se(n,r,3,l)}function kl(n,r,l,h){(3&n[A])===l&&se(n,r,l,h)}function H(n,r){let l=n[A];(3&l)===r&&(l&=2047,l+=1,n[A]=l)}function se(n,r,l,h){const v=h??-1,T=r.length-1;let U=0;for(let $=void 0!==h?65535&n[Is]:0;$<T;$++)if("number"==typeof r[$+1]){if(U=r[$],null!=h&&U>=h)break}else r[$]<0&&(n[Is]+=65536),(U<v||-1==v)&&(G(n,l,r,$),n[Is]=(4294901760&n[Is])+$+2),$++}function G(n,r,l,h){const p=l[h]<0,v=l[h+1],U=n[p?-l[h]:l[h]];if(p){if(n[A]>>11<n[Is]>>16&&(3&n[A])===r){n[A]+=2048,pr(4,U,v);try{v.call(U)}finally{pr(5,U,v)}}}else{pr(4,U,v);try{v.call(U)}finally{pr(5,U,v)}}}const _e=-1;class it{constructor(r,l,h){this.factory=r,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function Ai(n,r,l){let h=0;for(;h<l.length;){const p=l[h];if("number"==typeof p){if(0!==p)break;h++;const v=l[h++],T=l[h++],U=l[h++];n.setAttribute(r,T,U,v)}else{const v=p,T=l[++h];Ms(v)?n.setProperty(r,v,T):n.setAttribute(r,v,T),h++}}return h}function gr(n){return 3===n||4===n||6===n}function Ms(n){return 64===n.charCodeAt(0)}function Bn(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let l=-1;for(let h=0;h<r.length;h++){const p=r[h];"number"==typeof p?l=p:0===l||oi(n,l,p,null,-1===l||2===l?r[++h]:null)}}return n}function oi(n,r,l,h,p){let v=0,T=n.length;if(-1===r)T=-1;else for(;v<n.length;){const U=n[v++];if("number"==typeof U){if(U===r){T=-1;break}if(U>r){T=v-1;break}}}for(;v<n.length;){const U=n[v];if("number"==typeof U)break;if(U===l){if(null===h)return void(null!==p&&(n[v+1]=p));if(h===n[v+1])return void(n[v+2]=p)}v++,null!==h&&v++,null!==p&&v++}-1!==T&&(n.splice(T,0,r),v=T+1),n.splice(v++,0,l),null!==h&&n.splice(v++,0,h),null!==p&&n.splice(v++,0,p)}function Bs(n){return n!==_e}function Pn(n){return 32767&n}function _n(n,r){let l=function Gt(n){return n>>16}(n),h=r;for(;l>0;)h=h[xr],l--;return h}let fs=!0;function Zo(n){const r=fs;return fs=n,r}const zc=255,Ol=5;let vl=0;const qo={};function Ec(n,r){const l=mu(n,r);if(-1!==l)return l;const h=r[ct];h.firstCreatePass&&(n.injectorIndex=r.length,ps(h.data,n),ps(r,null),ps(h.blueprint,null));const p=Fr(n,r),v=n.injectorIndex;if(Bs(p)){const T=Pn(p),U=_n(p,r),$=U[ct].data;for(let re=0;re<8;re++)r[v+re]=U[T+re]|$[T+re]}return r[v+8]=p,v}function ps(n,r){n.push(0,0,0,0,0,0,0,0,r)}function mu(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Fr(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let l=0,h=null,p=r;for(;null!==p;){if(h=el(p),null===h)return _e;if(l++,p=p[xr],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return _e}function Ri(n,r,l){!function ld(n,r,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(st)&&(h=l[st]),null==h&&(h=l[st]=vl++);const p=h&zc;r.data[n+(p>>Ol)]|=1<<p}(n,r,l)}function Cc(n,r,l){if(l&_t.Optional||void 0!==n)return n;xe()}function jr(n,r,l,h){if(l&_t.Optional&&void 0===h&&(h=null),!(l&(_t.Self|_t.Host))){const p=n[$i],v=Dt(void 0);try{return p?p.get(r,h,l&_t.Optional):lt(r,h,l&_t.Optional)}finally{Dt(v)}}return Cc(h,0,l)}function wi(n,r,l,h=_t.Default,p){if(null!==n){if(1024&r[A]){const T=function Da(n,r,l,h,p){let v=n,T=r;for(;null!==v&&null!==T&&1024&T[A]&&!(256&T[A]);){const U=qa(v,T,l,h|_t.Self,qo);if(U!==qo)return U;let $=v.parent;if(!$){const re=T[nr];if(re){const Ce=re.get(l,qo,h);if(Ce!==qo)return Ce}$=el(T),T=T[xr]}v=$}return p}(n,r,l,h,qo);if(T!==qo)return T}const v=qa(n,r,l,h,qo);if(v!==qo)return v}return jr(r,l,h,p)}function qa(n,r,l,h,p){const v=function Zn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(st)?n[st]:void 0;return"number"==typeof r?r>=0?r&zc:Ca:r}(l);if("function"==typeof v){if(!Ko(r,n,h))return h&_t.Host?Cc(p,0,h):jr(r,l,h,p);try{const T=v(h);if(null!=T||h&_t.Optional)return T;xe()}finally{Fa()}}else if("number"==typeof v){let T=null,U=mu(n,r),$=_e,re=h&_t.Host?r[Dr][qt]:null;for((-1===U||h&_t.SkipSelf)&&($=-1===U?Fr(n,r):r[U+8],$!==_e&&Qa(h,!1)?(T=r[ct],U=Pn($),r=_n($,r)):U=-1);-1!==U;){const Ce=r[ct];if(ro(v,U,Ce.data)){const tt=yi(U,r,l,T,h,re);if(tt!==qo)return tt}$=r[U+8],$!==_e&&Qa(h,r[ct].data[U+8]===re)&&ro(v,U,r)?(T=Ce,U=Pn($),r=_n($,r)):U=-1}}return p}function yi(n,r,l,h,p,v){const T=r[ct],U=T.data[n+8],Ce=Dc(U,T,l,null==h?Pr(U)&&fs:h!=T&&0!=(3&U.type),p&_t.Host&&v===U);return null!==Ce?Di(r,T,Ce,U):qo}function Dc(n,r,l,h,p){const v=n.providerIndexes,T=r.data,U=1048575&v,$=n.directiveStart,Ce=v>>20,kt=p?U+Ce:n.directiveEnd;for(let Kt=h?U:U+Ce;Kt<kt;Kt++){const yn=T[Kt];if(Kt<$&&l===yn||Kt>=$&&yn.type===l)return Kt}if(p){const Kt=T[$];if(Kt&&Zi(Kt)&&Kt.type===l)return $}return null}function Di(n,r,l,h){let p=n[l];const v=r.data;if(function Yt(n){return n instanceof it}(p)){const T=p;T.resolving&&function Fe(n,r){const l=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${n}${l}`)}(function ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Be(n)}(v[l]));const U=Zo(T.canSeeViewProviders);T.resolving=!0;const $=T.injectImpl?Dt(T.injectImpl):null;Ko(n,h,_t.Default);try{p=n[l]=T.factory(void 0,v,n,h),r.firstCreatePass&&l>=h.directiveStart&&function jc(n,r,l){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:v}=r.type.prototype;if(h){const T=ko(r);(l.preOrderHooks??(l.preOrderHooks=[])).push(n,T),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(n,T)}p&&(l.preOrderHooks??(l.preOrderHooks=[])).push(0-n,p),v&&((l.preOrderHooks??(l.preOrderHooks=[])).push(n,v),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(n,v))}(l,v[l],r)}finally{null!==$&&Dt($),Zo(U),T.resolving=!1,Fa()}}return p}function ro(n,r,l){return!!(l[r+(n>>Ol)]&1<<n)}function Qa(n,r){return!(n&_t.Self||n&_t.Host&&r)}class Io{constructor(r,l){this._tNode=r,this._lView=l}get(r,l,h){return wi(this._tNode,this._lView,r,X(h),l)}}function Ca(){return new Io(Li(),Et())}function Xa(n){return Qe(()=>{const r=n.prototype.constructor,l=r[Pe]||Ja(r),h=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==h;){const v=p[Pe]||Ja(p);if(v&&v!==l)return v;p=Object.getPrototypeOf(p)}return v=>new v})}function Ja(n){return Ie(n)?()=>{const r=Ja(ye(n));return r&&r()}:co(n)}function el(n){const r=n[ct],l=r.type;return 2===l?r.declTNode:1===l?n[qt]:null}function la(n){return function Za(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const l=n.attrs;if(l){const h=l.length;let p=0;for(;p<h;){const v=l[p];if(gr(v))break;if(0===v)p+=2;else if("number"==typeof v)for(p++;p<h&&"string"==typeof l[p];)p++;else{if(v===r)return l[p+1];p+=2}}}return null}(Li(),n)}const ca="__parameters__";function da(n,r,l){return Qe(()=>{const h=function ua(n){return function(...l){if(n){const h=n(...l);for(const p in h)this[p]=h[p]}}}(r);function p(...v){if(this instanceof p)return h.apply(this,v),this;const T=new p(...v);return U.annotation=T,U;function U($,re,Ce){const tt=$.hasOwnProperty(ca)?$[ca]:Object.defineProperty($,ca,{value:[]})[ca];for(;tt.length<=Ce;)tt.push(null);return(tt[Ce]=tt[Ce]||[]).push(T),$}}return l&&(p.prototype=Object.create(l.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class rr{constructor(r,l){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=at({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function R(n,r){n.forEach(l=>Array.isArray(l)?R(l,r):r(l))}function N(n,r,l){r>=n.length?n.push(l):n.splice(r,0,l)}function x(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function j(n,r){const l=[];for(let h=0;h<n;h++)l.push(r);return l}function tn(n,r,l){let h=ni(n,r);return h>=0?n[1|h]=l:(h=~h,function Se(n,r,l,h){let p=n.length;if(p==r)n.push(l,h);else if(1===p)n.push(h,n[0]),n[0]=l;else{for(p--,n.push(n[p-1],n[p]);p>r;)n[p]=n[p-2],p--;n[r]=l,n[r+1]=h}}(n,h,r,l)),h}function Qn(n,r){const l=ni(n,r);if(l>=0)return n[1|l]}function ni(n,r){return function ns(n,r,l){let h=0,p=n.length>>l;for(;p!==h;){const v=h+(p-h>>1),T=n[v<<l];if(r===T)return v<<l;T>r?p=v:h=v+1}return~(p<<l)}(n,r,1)}const gu=Ft(da("Inject",n=>({token:n})),-1),El=Ft(da("Optional"),8),xc=Ft(da("SkipSelf"),4);var Ma=(()=>((Ma=Ma||{})[Ma.Important=1]="Important",Ma[Ma.DashCase=2]="DashCase",Ma))();const eo=new Map;let Du=0;const Tt="__ngContext__";function Wt(n,r){pi(r)?(n[Tt]=r[Ys],function Dl(n){eo.set(n[Ys],n)}(r)):n[Tt]=r}let Ha;function ma(n,r){return Ha(n,r)}function Rc(n){const r=n[Y];return gi(r)?r[Y]:r}function ol(n){return xu(n[xs])}function kc(n){return xu(n[ue])}function xu(n){for(;null!==n&&!gi(n);)n=n[ue];return n}function Vl(n,r,l,h,p){if(null!=h){let v,T=!1;gi(h)?v=h:pi(h)&&(T=!0,h=h[Ge]);const U=lr(h);0===n&&null!==l?null==p?Zr(r,l,U):ki(r,l,U,p||null,!0):1===n&&null!==l?ki(r,l,U,p||null,!0):2===n?function jf(n,r,l){const h=Or(n,r);h&&function Tu(n,r,l,h){n.removeChild(r,l,h)}(n,h,r,l)}(r,U,T):3===n&&r.destroyNode(U),null!=v&&function tg(n,r,l,h,p){const v=l[wt];v!==lr(l)&&Vl(r,n,h,v,p);for(let U=mn;U<l.length;U++){const $=l[U];Mu($[ct],$,n,r,h,v)}}(r,n,v,l,p)}}function Xc(n,r,l){return n.createElement(r,l)}function V(n,r){const l=n[en],h=l.indexOf(r),p=r[Y];512&r[A]&&(r[A]&=-513,Br(p,-1)),l.splice(h,1)}function ae(n,r){if(n.length<=mn)return;const l=mn+r,h=n[l];if(h){const p=h[Ps];null!==p&&p!==n&&V(p,h),r>0&&(n[l-1][ue]=h[ue]);const v=x(n,mn+r);!function Oc(n,r){Mu(n,r,r[ti],2,null,null),r[Ge]=null,r[qt]=null}(h[ct],h);const T=v[Wr];null!==T&&T.detachView(v[ct]),h[Y]=null,h[ue]=null,h[A]&=-65}return h}function Me(n,r){if(!(128&r[A])){const l=r[ti];l.destroyNode&&Mu(n,r,l,3,null,null),function k(n){let r=n[xs];if(!r)return Rt(n[ct],n);for(;r;){let l=null;if(pi(r))l=r[xs];else{const h=r[mn];h&&(l=h)}if(!l){for(;r&&!r[ue]&&r!==n;)pi(r)&&Rt(r[ct],r),r=r[Y];null===r&&(r=n),pi(r)&&Rt(r[ct],r),l=r&&r[ue]}r=l}}(r)}}function Rt(n,r){if(!(128&r[A])){r[A]&=-65,r[A]|=128,function Rn(n,r){let l;if(null!=n&&null!=(l=n.destroyHooks))for(let h=0;h<l.length;h+=2){const p=r[l[h]];if(!(p instanceof it)){const v=l[h+1];if(Array.isArray(v))for(let T=0;T<v.length;T+=2){const U=p[v[T]],$=v[T+1];pr(4,U,$);try{$.call(U)}finally{pr(5,U,$)}}else{pr(4,p,v);try{v.call(p)}finally{pr(5,p,v)}}}}}(n,r),function Xt(n,r){const l=n.cleanup,h=r[Yn];let p=-1;if(null!==l)for(let v=0;v<l.length-1;v+=2)if("string"==typeof l[v]){const T=l[v+3];T>=0?h[p=T]():h[p=-T].unsubscribe(),v+=2}else{const T=h[p=l[v+1]];l[v].call(T)}if(null!==h){for(let v=p+1;v<h.length;v++)(0,h[v])();r[Yn]=null}}(n,r),1===r[ct].type&&r[ti].destroy();const l=r[Ps];if(null!==l&&gi(r[Y])){l!==r[Y]&&V(l,r);const h=r[Wr];null!==h&&h.detachView(n)}!function O(n){eo.delete(n[Ys])}(r)}}function ii(n,r,l){return function Mi(n,r,l){let h=r;for(;null!==h&&40&h.type;)h=(r=h).parent;if(null===h)return l[Ge];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:v}=n.data[h.directiveStart+p];if(v===ve.None||v===ve.Emulated)return null}return Ni(h,l)}}(n,r.parent,l)}function ki(n,r,l,h,p){n.insertBefore(r,l,h,p)}function Zr(n,r,l){n.appendChild(r,l)}function _o(n,r,l,h,p){null!==h?ki(n,r,l,h,p):Zr(n,r,l)}function Or(n,r){return n.parentNode(r)}function Zd(n,r,l){return Au(n,r,l)}let ja,Hl,Wh,fd,Au=function Jo(n,r,l){return 40&n.type?Ni(n,l):null};function lc(n,r,l,h){const p=ii(n,h,r),v=r[ti],U=Zd(h.parent||r[qt],h,r);if(null!=p)if(Array.isArray(l))for(let $=0;$<l.length;$++)_o(v,p,l[$],U,!1);else _o(v,p,l,U,!1);void 0!==ja&&ja(v,h,r,l,p)}function Gn(n,r){if(null!==r){const l=r.type;if(3&l)return Ni(r,n);if(4&l)return cc(-1,n[r.index]);if(8&l){const h=r.child;if(null!==h)return Gn(n,h);{const p=n[r.index];return gi(p)?cc(-1,p):lr(p)}}if(32&l)return ma(r,n)()||lr(n[r.index]);{const h=qd(n,r);return null!==h?Array.isArray(h)?h[0]:Gn(Rc(n[Dr]),h):Gn(n,r.next)}}return null}function qd(n,r){return null!==r?n[Dr][qt].projection[r.projection]:null}function cc(n,r){const l=mn+n+1;if(l<r.length){const h=r[l],p=h[ct].firstChild;if(null!==p)return Gn(h,p)}return r[wt]}function Ds(n,r,l,h,p,v,T){for(;null!=l;){const U=h[l.index],$=l.type;if(T&&0===r&&(U&&Wt(lr(U),h),l.flags|=2),32!=(32&l.flags))if(8&$)Ds(n,r,l.child,h,p,v,!1),Vl(r,n,p,U,v);else if(32&$){const re=ma(l,h);let Ce;for(;Ce=re();)Vl(r,n,p,Ce,v);Vl(r,n,p,U,v)}else 16&$?$f(n,r,h,l,p,v):Vl(r,n,p,U,v);l=T?l.projectionNext:l.next}}function Mu(n,r,l,h,p,v){Ds(l,h,n.firstChild,r,p,v,!1)}function $f(n,r,l,h,p,v){const T=l[Dr],$=T[qt].projection[h.projection];if(Array.isArray($))for(let re=0;re<$.length;re++)Vl(r,n,p,$[re],v);else Ds(n,r,$,T[Y],p,v,!0)}function Ul(n,r,l){""===l?n.removeAttribute(r,"class"):n.setAttribute(r,"class",l)}function qp(n,r,l){const{mergedAttrs:h,classes:p,styles:v}=l;null!==h&&Ai(n,r,h),null!==p&&Ul(n,r,p),null!==v&&function Pc(n,r,l){n.setAttribute(r,"style",l)}(n,r,v)}function uc(n){return function Ru(){if(void 0===Hl&&(Hl=null,Ee.trustedTypes))try{Hl=Ee.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hl}()?.createHTML(n)||n}function js(n){Wh=n}function Kh(n){return function pd(){if(void 0===fd&&(fd=null,Ee.trustedTypes))try{fd=Ee.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fd}()?.createScriptURL(n)||n}class ku{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class Jc extends ku{getTypeName(){return"HTML"}}class cl extends ku{getTypeName(){return"Style"}}class Wf extends ku{getTypeName(){return"Script"}}class Kf extends ku{getTypeName(){return"URL"}}class ig extends ku{getTypeName(){return"ResourceURL"}}function ul(n){return n instanceof ku?n.changingThisBreaksApplicationSecurity:n}function eu(n,r){const l=function Xp(n){return n instanceof ku&&n.getTypeName()||null}(n);if(null!=l&&l!==r){if("ResourceURL"===l&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${l} (see ${ht})`)}return l===r}function Jp(n){return new Jc(n)}function em(n){return new cl(n)}function jl(n){return new Wf(n)}function tm(n){return new Kf(n)}function oo(n){return new ig(n)}class Yh{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const l=(new window.DOMParser).parseFromString(uc(r),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(r):(l.removeChild(l.firstChild),l)}catch{return null}}}class Qd{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const l=this.inertDocument.createElement("template");return l.innerHTML=uc(r),l}}const nu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zl(n){return(n=String(n)).match(nu)?n:"unsafe:"+n}function iu(n){const r={};for(const l of n.split(","))r[l]=!0;return r}function Xd(...n){const r={};for(const l of n)for(const h in l)l.hasOwnProperty(h)&&(r[h]=!0);return r}const gd=iu("area,br,col,hr,img,wbr"),Yf=iu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jd=iu("rp,rt"),yd=Xd(gd,Xd(Yf,iu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xd(Jd,iu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xd(Jd,Yf)),Nc=iu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cs=Xd(Nc,iu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),iu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$l=iu("script,style,template");class Zh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let l=r.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let p=this.checkClobberedElement(l,l.nextSibling);if(p){l=p;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(r){const l=r.nodeName.toLowerCase();if(!yd.hasOwnProperty(l))return this.sanitizedSomething=!0,!$l.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=r.attributes;for(let p=0;p<h.length;p++){const v=h.item(p),T=v.name,U=T.toLowerCase();if(!cs.hasOwnProperty(U)){this.sanitizedSomething=!0;continue}let $=v.value;Nc[U]&&($=zl($)),this.buf.push(" ",T,'="',qf($),'"')}return this.buf.push(">"),!0}endElement(r){const l=r.nodeName.toLowerCase();yd.hasOwnProperty(l)&&!gd.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(r){this.buf.push(qf(r))}checkClobberedElement(r,l){if(l&&(r.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return l}}const im=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rg=/([^\#-~ |!])/g;function qf(n){return n.replace(/&/g,"&amp;").replace(im,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(rg,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gl;function Pu(n,r){let l=null;try{Gl=Gl||function wr(n){const r=new Qd(n);return function tu(){try{return!!(new window.DOMParser).parseFromString(uc(""),"text/html")}catch{return!1}}()?new Yh(r):r}(n);let h=r?String(r):"";l=Gl.getInertBodyElement(h);let p=5,v=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=v,v=l.innerHTML,l=Gl.getInertBodyElement(h)}while(h!==v);return uc((new Zh).sanitizeChildren(dc(l)||l))}finally{if(l){const h=dc(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function dc(n){return"content"in n&&function rm(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var er=(()=>((er=er||{})[er.NONE=0]="NONE",er[er.HTML=1]="HTML",er[er.STYLE=2]="STYLE",er[er.SCRIPT=3]="SCRIPT",er[er.URL=4]="URL",er[er.RESOURCE_URL=5]="RESOURCE_URL",er))();function vd(n){const r=Xh();return r?r.sanitize(er.URL,n)||"":eu(n,"URL")?ul(n):zl(Be(n))}function Wl(n){const r=Xh();if(r)return Kh(r.sanitize(er.RESOURCE_URL,n)||"");if(eu(n,"ResourceURL"))return Kh(ul(n));throw new Ze(904,!1)}function om(n,r,l){return function og(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Wl:vd}(r,l)(n)}function Xh(){const n=Et();return n&&n[qr]}const bd=new rr("ENVIRONMENT_INITIALIZER"),Xf=new rr("INJECTOR",-1),lg=new rr("INJECTOR_DEF_TYPES");class am{get(r,l=un){if(l===un){const h=new Error(`NullInjectorError: No provider for ${L(r)}!`);throw h.name="NullInjectorError",h}return l}}function Jh(...n){return{\u0275providers:Jf(0,n),\u0275fromNgModule:!0}}function Jf(n,...r){const l=[],h=new Set;let p;return R(r,v=>{const T=v;eh(T,l,[],h)&&(p||(p=[]),p.push(T))}),void 0!==p&&ep(p,l),l}function ep(n,r){for(let l=0;l<n.length;l++){const{providers:p}=n[l];ef(p,v=>{r.push(v)})}}function eh(n,r,l,h){if(!(n=ye(n)))return!1;let p=null,v=on(n);const T=!v&&Hn(n);if(v||T){if(T&&!T.standalone)return!1;p=n}else{const $=n.ngModule;if(v=on($),!v)return!1;p=$}const U=h.has(p);if(T){if(U)return!1;if(h.add(p),T.dependencies){const $="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const re of $)eh(re,r,l,h)}}else{if(!v)return!1;{if(null!=v.imports&&!U){let re;h.add(p);try{R(v.imports,Ce=>{eh(Ce,r,l,h)&&(re||(re=[]),re.push(Ce))})}finally{}void 0!==re&&ep(re,r)}if(!U){const re=co(p)||(()=>new p);r.push({provide:p,useFactory:re,deps:ft},{provide:lg,useValue:p,multi:!0},{provide:bd,useValue:()=>Vn(p),multi:!0})}const $=v.providers;null==$||U||ef($,Ce=>{r.push(Ce)})}}return p!==n&&void 0!==n.providers}function ef(n,r){for(let l of n)Ve(l)&&(l=l.\u0275providers),Array.isArray(l)?ef(l,r):r(l)}const ru=we({provide:String,useValue:we});function su(n){return null!==n&&"object"==typeof n&&ru in n}function ou(n){return"function"==typeof n}const tp=new rr("Set Injector scope."),np={},dg={};let th;function fc(){return void 0===th&&(th=new am),th}class Ra{}class Fc extends Ra{get destroyed(){return this._destroyed}constructor(r,l,h,p){super(),this.parent=l,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rp(r,T=>this.processProvider(T)),this.records.set(Xf,wd(void 0,this)),p.has("environment")&&this.records.set(Ra,wd(void 0,this));const v=this.records.get(tp);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(lg.multi,ft,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const l=Un(this),h=Dt(void 0);try{return r()}finally{Un(l),Dt(h)}}get(r,l=un,h=_t.Default){this.assertNotDestroyed(),h=X(h);const p=Un(this),v=Dt(void 0);try{if(!(h&_t.SkipSelf)){let U=this.records.get(r);if(void 0===U){const $=function pg(n){return"function"==typeof n||"object"==typeof n&&n instanceof rr}(r)&&bn(r);U=$&&this.injectableDefInScope($)?wd(Nu(r),np):null,this.records.set(r,U)}if(null!=U)return this.hydrate(r,U)}return(h&_t.Self?fc():this.parent).get(r,l=h&_t.Optional&&l===un?null:l)}catch(T){if("NullInjectorError"===T.name){if((T[Jt]=T[Jt]||[]).unshift(L(r)),p)throw T;return function ui(n,r,l,h){const p=n[Jt];throw r[Sn]&&p.unshift(r[Sn]),n.message=function rt(n,r,l,h=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==kn?n.slice(2):n;let p=L(r);if(Array.isArray(r))p=r.map(L).join(" -> ");else if("object"==typeof r){let v=[];for(let T in r)if(r.hasOwnProperty(T)){let U=r[T];v.push(T+":"+("string"==typeof U?JSON.stringify(U):L(U)))}p=`{${v.join(", ")}}`}return`${l}${h?"("+h+")":""}[${p}]: ${n.replace(Vt,"\n  ")}`}("\n"+n.message,p,l,h),n[yt]=p,n[Jt]=null,n}(T,r,"R3InjectorError",this.source)}throw T}finally{Dt(v),Un(p)}}resolveInjectorInitializers(){const r=Un(this),l=Dt(void 0);try{const h=this.get(bd.multi,ft,_t.Self);for(const p of h)p()}finally{Un(r),Dt(l)}}toString(){const r=[],l=this.records;for(const h of l.keys())r.push(L(h));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(r){let l=ou(r=ye(r))?r:ye(r&&r.provide);const h=function ip(n){return su(n)?wd(void 0,n.useValue):wd(nh(n),np)}(r);if(ou(r)||!0!==r.multi)this.records.get(l);else{let p=this.records.get(l);p||(p=wd(void 0,np,!0),p.factory=()=>je(p.multi),this.records.set(l,p)),l=r,p.multi.push(r)}this.records.set(l,h)}hydrate(r,l){return l.value===np&&(l.value=dg,l.value=l.factory()),"object"==typeof l.value&&l.value&&function u_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(r){if(!r.providedIn)return!1;const l=ye(r.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Nu(n){const r=bn(n),l=null!==r?r.factory:co(n);if(null!==l)return l;if(n instanceof rr)throw new Ze(204,!1);if(n instanceof Function)return function hg(n){const r=n.length;if(r>0)throw j(r,"?"),new Ze(204,!1);const l=function St(n){return n&&(n[wn]||n[Jn])||null}(n);return null!==l?()=>l.factory(n):()=>new n}(n);throw new Ze(204,!1)}function nh(n,r,l){let h;if(ou(n)){const p=ye(n);return co(p)||Nu(p)}if(su(n))h=()=>ye(n.useValue);else if(function ug(n){return!(!n||!n.useFactory)}(n))h=()=>n.useFactory(...je(n.deps||[]));else if(function lm(n){return!(!n||!n.useExisting)}(n))h=()=>Vn(ye(n.useExisting));else{const p=ye(n&&(n.useClass||n.provide));if(!function fg(n){return!!n.deps}(n))return co(p)||Nu(p);h=()=>new p(...je(n.deps))}return h}function wd(n,r,l=!1){return{factory:n,value:r,multi:l?[]:void 0}}function rp(n,r){for(const l of n)Array.isArray(l)?rp(l,r):l&&Ve(l)?rp(l.\u0275providers,r):r(l)}class sp{}class ih{}class _g{resolveComponentFactory(r){throw function Fu(n){const r=Error(`No component factory found for ${L(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let tf=(()=>{class n{}return n.NULL=new _g,n})();function yg(){return Il(Li(),Et())}function Il(n,r){return new Kl(Ni(n,r))}let Kl=(()=>{class n{constructor(l){this.nativeElement=l}}return n.__NG_ELEMENT_ID__=yg,n})();function Lu(n){return n instanceof Kl?n.nativeElement:n}class cm{}let d_=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function op(){const n=Et(),l=Vr(Li().index,n);return(pi(l)?l:n)[ti]}(),n})(),vg=(()=>{class n{}return n.\u0275prov=at({token:n,providedIn:"root",factory:()=>null}),n})();class ap{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const lp=new ap("15.2.10"),nf={},Yl="ngOriginalError";function rf(n){return n[Yl]}class za{constructor(){this._console=console}handleError(r){const l=this._findOriginalError(r);this._console.error("ERROR",r),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(r){let l=r&&rf(r);for(;l&&rf(l);)l=rf(l);return l||null}}function Ed(n){return n.ownerDocument}function ga(n){return n instanceof Function?n():n}function au(n,r,l){let h=n.length;for(;;){const p=n.indexOf(r,l);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const v=r.length;if(p+v===h||n.charCodeAt(p+v)<=32)return p}l=p+1}}const lu="ng-template";function sf(n,r,l){let h=0,p=!0;for(;h<n.length;){let v=n[h++];if("string"==typeof v&&p){const T=n[h++];if(l&&"class"===v&&-1!==au(T.toLowerCase(),r,0))return!0}else{if(1===v){for(;h<n.length&&"string"==typeof(v=n[h++]);)if(v.toLowerCase()===r)return!0;return!1}"number"==typeof v&&(p=!1)}}return!1}function Bu(n){return 4===n.type&&n.value!==lu}function ah(n,r,l){return r===(4!==n.type||l?n.value:lu)}function Cd(n,r,l){let h=4;const p=n.attrs||[],v=function fp(n){for(let r=0;r<n.length;r++)if(gr(n[r]))return r;return n.length}(p);let T=!1;for(let U=0;U<r.length;U++){const $=r[U];if("number"!=typeof $){if(!T)if(4&h){if(h=2|1&h,""!==$&&!ah(n,$,l)||""===$&&1===r.length){if(Tl(h))return!1;T=!0}}else{const re=8&h?$:r[++U];if(8&h&&null!==n.attrs){if(!sf(n.attrs,re,l)){if(Tl(h))return!1;T=!0}continue}const tt=cu(8&h?"class":$,p,Bu(n),l);if(-1===tt){if(Tl(h))return!1;T=!0;continue}if(""!==re){let kt;kt=tt>v?"":p[tt+1].toLowerCase();const Kt=8&h?kt:null;if(Kt&&-1!==au(Kt,re,0)||2&h&&re!==kt){if(Tl(h))return!1;T=!0}}}}else{if(!T&&!Tl(h)&&!Tl($))return!1;if(T&&Tl($))continue;T=!1,h=$|1&h}}return Tl(h)||T}function Tl(n){return 0==(1&n)}function cu(n,r,l,h){if(null===r)return-1;let p=0;if(h||!l){let v=!1;for(;p<r.length;){const T=r[p];if(T===n)return p;if(3===T||6===T)v=!0;else{if(1===T||2===T){let U=r[++p];for(;"string"==typeof U;)U=r[++p];continue}if(4===T)break;if(0===T){p+=4;continue}}p+=v?1:2}return-1}return function dm(n,r){let l=n.indexOf(4);if(l>-1)for(l++;l<n.length;){const h=n[l];if("number"==typeof h)return-1;if(h===r)return l;l++}return-1}(r,n)}function Dd(n,r,l=!1){for(let h=0;h<r.length;h++)if(Cd(n,r[h],l))return!0;return!1}function pp(n,r){e:for(let l=0;l<r.length;l++){const h=r[l];if(n.length===h.length){for(let p=0;p<n.length;p++)if(n[p]!==h[p])continue e;return!0}}return!1}function Eg(n,r){return n?":not("+r.trim()+")":r}function Uu(n){let r=n[0],l=1,h=2,p="",v=!1;for(;l<n.length;){let T=n[l];if("string"==typeof T)if(2&h){const U=n[++l];p+="["+T+(U.length>0?'="'+U+'"':"")+"]"}else 8&h?p+="."+T:4&h&&(p+=" "+T);else""!==p&&!Tl(T)&&(r+=Eg(v,p),p=""),h=T,v=v||!Tl(h);l++}return""!==p&&(r+=Eg(v,p)),r}const sr={};function mp(n){af(cn(),Et(),ir()+n,!1)}function af(n,r,l,h){if(!h)if(3==(3&r[A])){const v=n.preOrderCheckHooks;null!==v&&wc(r,v,l)}else{const v=n.preOrderHooks;null!==v&&kl(r,v,0,l)}mo(l)}function Os(n,r=null,l=null,h){const p=gp(n,r,l,h);return p.resolveInjectorInitializers(),p}function gp(n,r=null,l=null,h,p=new Set){const v=[l||ft,Jh(n)];return h=h||("object"==typeof n?void 0:L(n)),new Fc(v,r||fc(),h||null,p)}let ju=(()=>{class n{static create(l,h){if(Array.isArray(l))return Os({name:""},h,l,"");{const p=l.name??"";return Os({name:p},l.parent,l.providers,p)}}}return n.THROW_IF_NOT_FOUND=un,n.NULL=new am,n.\u0275prov=at({token:n,providedIn:"any",factory:()=>Vn(Xf)}),n.__NG_ELEMENT_ID__=-1,n})();function fh(n,r=_t.Default){const l=Et();return null===l?Vn(n,r):wi(Li(),l,ye(n),r)}function vp(){throw new Error("invalid")}function mf(n,r){const l=n.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const v=l[h+1];if(-1!==v){const T=n.data[v];dr(l[h]),T.contentQueries(2,r[v],v)}}}function Td(n,r,l,h,p,v,T,U,$,re,Ce){const tt=r.blueprint.slice();return tt[Ge]=p,tt[A]=76|h,(null!==Ce||n&&1024&n[A])&&(tt[A]|=1024),Ls(tt),tt[Y]=tt[xr]=n,tt[si]=l,tt[Mr]=T||n&&n[Mr],tt[ti]=U||n&&n[ti],tt[qr]=$||n&&n[qr]||null,tt[$i]=re||n&&n[$i]||null,tt[qt]=v,tt[Ys]=function Gr(){return Du++}(),tt[nr]=Ce,tt[Dr]=2==r.type?n[Dr]:tt,tt}function uu(n,r,l,h,p){let v=n.data[r];if(null===v)v=function du(n,r,l,h,p){const v=Ir(),T=bs(),$=n.data[r]=function b_(n,r,l,h,p,v){return{type:l,index:h,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?v:v&&v.parent,l,r,h,p);return null===n.firstChild&&(n.firstChild=$),null!==v&&(T?null==v.child&&null!==$.parent&&(v.child=$):null===v.next&&(v.next=$,$.prev=v)),$}(n,r,l,h,p),function Es(){return Ti.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=l,v.value=h,v.attrs=p;const T=function mr(){const n=Ti.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();v.injectorIndex=null===T?-1:T.injectorIndex}return or(v,!0),v}function pc(n,r,l,h){if(0===l)return-1;const p=r.length;for(let v=0;v<l;v++)r.push(h),n.blueprint.push(h),n.data.push(null);return p}function gf(n,r,l){Vs(r);try{const h=n.viewQuery;null!==h&&Ap(1,h,l);const p=n.template;null!==p&&bp(n,r,p,1,l),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&mf(n,r),n.staticViewQueries&&Ap(2,n.viewQuery,l);const v=n.components;null!==v&&function ym(n,r){for(let l=0;l<r.length;l++)Tp(n,r[l])}(r,v)}catch(h){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),h}finally{r[A]&=-5,Rl()}}function Gu(n,r,l,h){const p=r[A];if(128!=(128&p)){Vs(r);try{Ls(r),function ws(n){return Ti.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==l&&bp(n,r,l,2,h);const T=3==(3&p);if(T){const re=n.preOrderCheckHooks;null!==re&&wc(r,re,null)}else{const re=n.preOrderHooks;null!==re&&kl(r,re,0,null),H(r,0)}if(function ql(n){for(let r=ol(n);null!==r;r=kc(r)){if(!r[It])continue;const l=r[en];for(let h=0;h<l.length;h++){const p=l[h];512&p[A]||Br(p[Y],1),p[A]|=512}}}(r),function vh(n){for(let r=ol(n);null!==r;r=kc(r))for(let l=mn;l<r.length;l++){const h=r[l],p=h[ct];os(h)&&Gu(p,h,p.template,h[si])}}(r),null!==n.contentQueries&&mf(n,r),T){const re=n.contentCheckHooks;null!==re&&wc(r,re)}else{const re=n.contentHooks;null!==re&&kl(r,re,1),H(r,1)}!function y_(n,r){const l=n.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const p=l[h];if(p<0)mo(~p);else{const v=p,T=l[++h],U=l[++h];nc(T,v),U(2,r[v])}}}finally{mo(-1)}}(n,r);const U=n.components;null!==U&&function ph(n,r){for(let l=0;l<r.length;l++)fu(n,r[l])}(r,U);const $=n.viewQuery;if(null!==$&&Ap(2,$,h),T){const re=n.viewCheckHooks;null!==re&&wc(r,re)}else{const re=n.viewHooks;null!==re&&kl(r,re,2),H(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[A]&=-41,512&r[A]&&(r[A]&=-513,Br(r[Y],-1))}finally{Rl()}}}function bp(n,r,l,h,p){const v=ir(),T=2&h;try{mo(-1),T&&r.length>Bi&&af(n,r,Bi,!1),pr(T?2:0,p),l(h,p)}finally{mo(v),pr(T?3:1,p)}}function wp(n,r,l){if(bi(r)){const p=r.directiveEnd;for(let v=r.directiveStart;v<p;v++){const T=n.data[v];T.contentQueries&&T.contentQueries(1,l[v],v)}}}function vm(n,r,l){Te()&&(function Sd(n,r,l,h){const p=l.directiveStart,v=l.directiveEnd;Pr(l)&&function Ip(n,r,l){const h=Ni(r,n),p=yf(l),v=n[Mr],T=Zu(n,Td(n,p,null,l.onPush?32:16,h,r,v,v.createRenderer(h,l),null,null,null));n[r.index]=T}(r,l,n.data[p+l.componentOffset]),n.firstCreatePass||Ec(l,r),Wt(h,r);const T=l.initialInputs;for(let U=p;U<v;U++){const $=n.data[U],re=Di(r,n,U,l);Wt(re,r),null!==T&&fl(0,U-p,re,$,0,T),Zi($)&&(Vr(l.index,r)[si]=Di(r,n,U,l))}}(n,r,l,Ni(l,r)),64==(64&l.flags)&&gh(n,r,l))}function _f(n,r,l=Ni){const h=r.localNames;if(null!==h){let p=r.index+1;for(let v=0;v<h.length;v+=2){const T=h[v+1],U=-1===T?l(r,n):n[T];n[p++]=U}}}function yf(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=vf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function vf(n,r,l,h,p,v,T,U,$,re){const Ce=Bi+h,tt=Ce+p,kt=function v_(n,r){const l=[];for(let h=0;h<r;h++)l.push(h<n?null:sr);return l}(Ce,tt),Kt="function"==typeof re?re():re;return kt[ct]={type:n,blueprint:kt,template:l,queries:null,viewQuery:U,declTNode:r,data:kt.slice().fill(null,Ce),bindingStartIndex:Ce,expandoStartIndex:tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:$,consts:Kt,incompleteFirstPass:!1}}function ea(n,r,l,h){const p=Og(r);null===l?p.push(h):(p.push(l),n.firstCreatePass&&Mp(n).push(h,p.length-1))}function Wu(n,r,l,h){for(let p in n)if(n.hasOwnProperty(p)){l=null===l?{}:l;const v=n[p];null===h?Zl(l,r,p,v):h.hasOwnProperty(p)&&Zl(l,r,h[p],v)}return l}function Zl(n,r,l,h){n.hasOwnProperty(l)?n[l].push(r,h):n[l]=[r,h]}function _a(n,r,l,h,p,v,T,U){const $=Ni(r,l);let Ce,re=r.inputs;!U&&null!=re&&(Ce=re[h])?(Rd(n,l,Ce,h,p),Pr(r)&&function w_(n,r){const l=Vr(r,n);16&l[A]||(l[A]|=32)}(l,r.index)):3&r.type&&(h=function wf(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(h),p=null!=T?T(p,r.value||"",h):p,v.setProperty($,h,p))}function Ep(n,r,l,h){if(Te()){const p=null===h?null:{"":-1},v=function wm(n,r){const l=n.directiveRegistry;let h=null,p=null;if(l)for(let v=0;v<l.length;v++){const T=l[v];if(Dd(r,T.selectors,!1))if(h||(h=[]),Zi(T))if(null!==T.findHostDirectiveDefs){const U=[];p=p||new Map,T.findHostDirectiveDefs(T,U,p),h.unshift(...U,T),Ku(n,r,U.length)}else h.unshift(T),Ku(n,r,0);else p=p||new Map,T.findHostDirectiveDefs?.(T,h,p),h.push(T)}return null===h?null:[h,p]}(n,l);let T,U;null===v?T=U=null:[T,U]=v,null!==T&&Ef(n,r,l,T,p,U),p&&function Cf(n,r,l){if(r){const h=n.localNames=[];for(let p=0;p<r.length;p+=2){const v=l[r[p+1]];if(null==v)throw new Ze(-301,!1);h.push(r[p],v)}}}(l,h,p)}l.mergedAttrs=Bn(l.mergedAttrs,l.attrs)}function Ef(n,r,l,h,p,v){for(let re=0;re<h.length;re++)Ri(Ec(l,r),n,h[re].type);!function Rg(n,r,l){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+l,n.providerIndexes=r}(l,n.data.length,h.length);for(let re=0;re<h.length;re++){const Ce=h[re];Ce.providersResolver&&Ce.providersResolver(Ce)}let T=!1,U=!1,$=pc(n,r,h.length,null);for(let re=0;re<h.length;re++){const Ce=h[re];l.mergedAttrs=Bn(l.mergedAttrs,Ce.hostAttrs),xp(n,l,r,$,Ce),Dp($,Ce,p),null!==Ce.contentQueries&&(l.flags|=4),(null!==Ce.hostBindings||null!==Ce.hostAttrs||0!==Ce.hostVars)&&(l.flags|=64);const tt=Ce.type.prototype;!T&&(tt.ngOnChanges||tt.ngOnInit||tt.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(l.index),T=!0),!U&&(tt.ngOnChanges||tt.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(l.index),U=!0),$++}!function bf(n,r,l){const p=r.directiveEnd,v=n.data,T=r.attrs,U=[];let $=null,re=null;for(let Ce=r.directiveStart;Ce<p;Ce++){const tt=v[Ce],kt=l?l.get(tt):null,yn=kt?kt.outputs:null;$=Wu(tt.inputs,Ce,$,kt?kt.inputs:null),re=Wu(tt.outputs,Ce,re,yn);const Kn=null===$||null===T||Bu(r)?null:yh($,Ce,T);U.push(Kn)}null!==$&&($.hasOwnProperty("class")&&(r.flags|=8),$.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=U,r.inputs=$,r.outputs=re}(n,l,v)}function gh(n,r,l){const h=l.directiveStart,p=l.directiveEnd,v=l.index,T=function ds(){return Ti.lFrame.currentDirectiveIndex}();try{mo(v);for(let U=h;U<p;U++){const $=n.data[U],re=r[U];Ur(U),(null!==$.hostBindings||0!==$.hostVars||null!==$.hostAttrs)&&_h($,re)}}finally{mo(-1),Ur(T)}}function _h(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Ku(n,r,l){r.componentOffset=l,(n.components??(n.components=[])).push(r.index)}function Dp(n,r,l){if(l){if(r.exportAs)for(let h=0;h<r.exportAs.length;h++)l[r.exportAs[h]]=n;Zi(r)&&(l[""]=n)}}function xp(n,r,l,h,p){n.data[h]=p;const v=p.factory||(p.factory=co(p.type)),T=new it(v,Zi(p),fh);n.blueprint[h]=T,l[h]=T,function Mg(n,r,l,h,p){const v=p.hostBindings;if(v){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const U=~r.index;(function Cp(n){let r=n.length;for(;r>0;){const l=n[--r];if("number"==typeof l&&l<0)return l}return 0})(T)!=U&&T.push(U),T.push(l,h,v)}}(n,r,h,pc(n,l,p.hostVars,sr),p)}function Uo(n,r,l,h,p,v){const T=Ni(n,r);!function Df(n,r,l,h,p,v,T){if(null==v)n.removeAttribute(r,p,l);else{const U=null==T?Be(v):T(v,h||"",p);n.setAttribute(r,p,U,l)}}(r[ti],T,v,n.value,l,h,p)}function fl(n,r,l,h,p,v){const T=v[r];if(null!==T){const U=h.setInput;for(let $=0;$<T.length;){const re=T[$++],Ce=T[$++],tt=T[$++];null!==U?h.setInput(l,tt,re,Ce):l[Ce]=tt}}}function yh(n,r,l){let h=null,p=0;for(;p<l.length;){const v=l[p];if(0!==v)if(5!==v){if("number"==typeof v)break;if(n.hasOwnProperty(v)){null===h&&(h=[]);const T=n[v];for(let U=0;U<T.length;U+=2)if(T[U]===r){h.push(v,T[U+1],l[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function hu(n,r,l,h){return[n,!0,!1,r,null,0,h,l,null,null]}function fu(n,r){const l=Vr(r,n);if(os(l)){const h=l[ct];48&l[A]?Gu(h,l,h.template,l[si]):l[Le]>0&&Ad(l)}}function Ad(n){for(let h=ol(n);null!==h;h=kc(h))for(let p=mn;p<h.length;p++){const v=h[p];if(os(v))if(512&v[A]){const T=v[ct];Gu(T,v,T.template,v[si])}else v[Le]>0&&Ad(v)}const l=n[ct].components;if(null!==l)for(let h=0;h<l.length;h++){const p=Vr(l[h],n);os(p)&&p[Le]>0&&Ad(p)}}function Tp(n,r){const l=Vr(r,n),h=l[ct];(function Yu(n,r){for(let l=r.length;l<n.blueprint.length;l++)r.push(n.blueprint[l])})(h,l),gf(h,l,l[si])}function Zu(n,r){return n[xs]?n[ao][ue]=r:n[xs]=r,n[ao]=r,r}function bh(n){for(;n;){n[A]|=32;const r=Rc(n);if(qi(n)&&!r)return n;n=r}return null}function Sp(n,r,l,h=!0){const p=r[Mr];p.begin&&p.begin();try{Gu(n,r,n.template,l)}catch(T){throw h&&Md(r,T),T}finally{p.end&&p.end()}}function Ap(n,r,l){dr(0),r(n,l)}function Og(n){return n[Yn]||(n[Yn]=[])}function Mp(n){return n.cleanup||(n.cleanup=[])}function wh(n,r,l){return(null===n||Zi(n))&&(l=function Jr(n){for(;Array.isArray(n);){if("object"==typeof n[_s])return n;n=n[Ge]}return null}(l[r.index])),l[ti]}function Md(n,r){const l=n[$i],h=l?l.get(za,null):null;h&&h.handleError(r)}function Rd(n,r,l,h,p){for(let v=0;v<l.length;){const T=l[v++],U=l[v++],$=r[T],re=n.data[T];null!==re.setInput?re.setInput($,p,h,U):$[U]=p}}function Sl(n,r,l){const h=Co(r,n);!function cr(n,r,l){n.setValue(r,l)}(n[ti],h,l)}function xf(n,r,l){let h=l?n.styles:null,p=l?n.classes:null,v=0;if(null!==r)for(let T=0;T<r.length;T++){const U=r[T];"number"==typeof U?v=U:1==v?p=Oe(p,U):2==v&&(h=Oe(h,U+": "+r[++T]+";"))}l?n.styles=h:n.stylesWithoutHost=h,l?n.classes=p:n.classesWithoutHost=p}function kd(n,r,l,h,p=!1){for(;null!==l;){const v=r[l.index];if(null!==v&&h.push(lr(v)),gi(v))for(let U=mn;U<v.length;U++){const $=v[U],re=$[ct].firstChild;null!==re&&kd($[ct],$,re,h)}const T=l.type;if(8&T)kd(n,r,l.child,h);else if(32&T){const U=ma(l,r);let $;for(;$=U();)h.push($)}else if(16&T){const U=qd(r,l);if(Array.isArray(U))h.push(...U);else{const $=Rc(r[Dr]);kd($[ct],$,U,h,!0)}}l=p?l.projectionNext:l.next}return h}class Od{get rootNodes(){const r=this._lView,l=r[ct];return kd(l,r,l.firstChild,[])}constructor(r,l){this._lView=r,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[si]}set context(r){this._lView[si]=r}get destroyed(){return 128==(128&this._lView[A])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Y];if(gi(r)){const l=r[Bt],h=l?l.indexOf(this):-1;h>-1&&(ae(r,h),x(l,h))}this._attachedToViewContainer=!1}Me(this._lView[ct],this._lView)}onDestroy(r){ea(this._lView[ct],this._lView,null,r)}markForCheck(){bh(this._cdRefInjectingView||this._lView)}detach(){this._lView[A]&=-65}reattach(){this._lView[A]|=64}detectChanges(){Sp(this._lView[ct],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Iu(n,r){Mu(n,r,r[ti],2,null,null)}(this._lView[ct],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=r}}class Rp extends Od{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Sp(r[ct],r,r[si],!1)}checkNoChanges(){}get context(){return null}}class If extends tf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const l=Hn(r);return new Nd(l,this.ngModule)}}function pl(n){const r=[];for(let l in n)n.hasOwnProperty(l)&&r.push({propName:n[l],templateName:l});return r}class qu{constructor(r,l){this.injector=r,this.parentInjector=l}get(r,l,h){h=X(h);const p=this.injector.get(r,nf,h);return p!==nf||l===nf?p:this.parentInjector.get(r,l,h)}}class Nd extends ih{get inputs(){return pl(this.componentDef.inputs)}get outputs(){return pl(this.componentDef.outputs)}constructor(r,l){super(),this.componentDef=r,this.ngModule=l,this.componentType=r.type,this.selector=function Cg(n){return n.map(Uu).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!l}create(r,l,h,p){let v=(p=p||this.ngModule)instanceof Ra?p:p?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const T=v?new qu(r,v):r,U=T.get(cm,null);if(null===U)throw new Ze(407,!1);const $=T.get(vg,null),re=U.createRenderer(null,this.componentDef),Ce=this.componentDef.selectors[0][0]||"div",tt=h?function bm(n,r,l){return n.selectRootElement(r,l===ve.ShadowDom)}(re,h,this.componentDef.encapsulation):Xc(re,Ce,function Pd(n){const r=n.toLowerCase();return"svg"===r?ho:"math"===r?"math":null}(Ce)),kt=this.componentDef.onPush?288:272,Kt=vf(0,null,null,1,0,null,null,null,null,null),yn=Td(null,Kt,null,kt,null,null,U,re,$,T,null);let Kn,di;Vs(yn);try{const xi=this.componentDef;let Xi,Mn=null;xi.findHostDirectiveDefs?(Xi=[],Mn=new Map,xi.findHostDirectiveDefs(xi,Xi,Mn),Xi.push(xi)):Xi=[xi];const fr=function Pg(n,r){const l=n[ct],h=Bi;return n[h]=r,uu(l,h,2,"#host",null)}(yn,tt),Mo=function Dh(n,r,l,h,p,v,T,U){const $=p[ct];!function C_(n,r,l,h){for(const p of n)r.mergedAttrs=Bn(r.mergedAttrs,p.hostAttrs);null!==r.mergedAttrs&&(xf(r,r.mergedAttrs,!0),null!==l&&qp(h,l,r))}(h,n,r,T);const re=v.createRenderer(r,l),Ce=Td(p,yf(l),null,l.onPush?32:16,p[n.index],n,v,re,U||null,null,null);return $.firstCreatePass&&Ku($,n,h.length-1),Zu(p,Ce),p[n.index]=Ce}(fr,tt,xi,Xi,yn,U,re);di=Do(Kt,Bi),tt&&function Em(n,r,l,h){if(h)Ai(n,l,["ng-version",lp.full]);else{const{attrs:p,classes:v}=function p_(n){const r=[],l=[];let h=1,p=2;for(;h<n.length;){let v=n[h];if("string"==typeof v)2===p?""!==v&&r.push(v,n[++h]):8===p&&l.push(v);else{if(!Tl(p))break;p=v}h++}return{attrs:r,classes:l}}(r.selectors[0]);p&&Ai(n,l,p),v&&v.length>0&&Ul(n,l,v.join(" "))}}(re,xi,tt,h),void 0!==l&&function Cm(n,r,l){const h=n.projection=[];for(let p=0;p<r.length;p++){const v=l[p];h.push(null!=v?Array.from(v):null)}}(di,this.ngContentSelectors,l),Kn=function D_(n,r,l,h,p,v){const T=Li(),U=p[ct],$=Ni(T,p);Ef(U,p,T,l,null,h);for(let Ce=0;Ce<l.length;Ce++)Wt(Di(p,U,T.directiveStart+Ce,T),p);gh(U,p,T),$&&Wt($,p);const re=Di(p,U,T.directiveStart+T.componentOffset,T);if(n[si]=p[si]=re,null!==v)for(const Ce of v)Ce(re,r);return wp(U,T,n),re}(Mo,xi,Xi,Mn,yn,[Dm]),gf(Kt,yn,null)}finally{Rl()}return new Eh(this.componentType,Kn,Il(di,yn),yn,di)}}class Eh extends sp{constructor(r,l,h,p,v){super(),this.location=h,this._rootLView=p,this._tNode=v,this.instance=l,this.hostView=this.changeDetectorRef=new Rp(p),this.componentType=r}setInput(r,l){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[r])){const v=this._rootLView;Rd(v[ct],v,p,r,l),bh(Vr(this._tNode.index,v))}}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Dm(){const n=Li();aa(Et()[ct],n)}function xm(n){let r=function kp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),l=!0;const h=[n];for(;r;){let p;if(Zi(n))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ze(903,!1);p=r.\u0275dir}if(p){if(l){h.push(p);const T=n;T.inputs=Tf(n.inputs),T.declaredInputs=Tf(n.declaredInputs),T.outputs=Tf(n.outputs);const U=p.hostBindings;U&&Ng(n,U);const $=p.viewQuery,re=p.contentQueries;if($&&Im(n,$),re&&I_(n,re),He(n.inputs,p.inputs),He(n.declaredInputs,p.declaredInputs),He(n.outputs,p.outputs),Zi(p)&&p.data.animation){const Ce=n.data;Ce.animation=(Ce.animation||[]).concat(p.data.animation)}}const v=p.features;if(v)for(let T=0;T<v.length;T++){const U=v[T];U&&U.ngInherit&&U(n),U===xm&&(l=!1)}}r=Object.getPrototypeOf(r)}!function x_(n){let r=0,l=null;for(let h=n.length-1;h>=0;h--){const p=n[h];p.hostVars=r+=p.hostVars,p.hostAttrs=Bn(p.hostAttrs,l=Bn(l,p.hostAttrs))}}(h)}function Tf(n){return n===fe?{}:n===ft?[]:n}function Im(n,r){const l=n.viewQuery;n.viewQuery=l?(h,p)=>{r(h,p),l(h,p)}:r}function I_(n,r){const l=n.contentQueries;n.contentQueries=l?(h,p,v)=>{r(h,p,v),l(h,p,v)}:r}function Ng(n,r){const l=n.hostBindings;n.hostBindings=l?(h,p)=>{r(h,p),l(h,p)}:r}function xh(n){return!!Ih(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Ih(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xl(n,r,l){return n[r]=l}function Ho(n,r,l){return!Object.is(n[r],l)&&(n[r]=l,!0)}function Qu(n,r,l,h){const p=Ho(n,r,l);return Ho(n,r+1,h)||p}function Mm(n,r,l,h){const p=Et();return Ho(p,As(),r)&&(cn(),Uo(Sr(),p,n,r,l,h)),Mm}function Th(n,r,l,h){return Ho(n,As(),l)?r+Be(l)+h:sr}function Sh(n,r,l,h,p,v,T,U){const re=function Pp(n,r,l,h,p){const v=Qu(n,r,l,h);return Ho(n,r+2,p)||v}(n,Nr(),l,p,T);return us(3),re?r+Be(l)+h+Be(p)+v+Be(T)+U:sr}function Vp(n,r,l,h,p,v,T,U){const $=Et(),re=cn(),Ce=n+Bi,tt=re.firstCreatePass?function M_(n,r,l,h,p,v,T,U,$){const re=r.consts,Ce=uu(r,n,4,T||null,vs(re,U));Ep(r,l,Ce,vs(re,$)),aa(r,Ce);const tt=Ce.tView=vf(2,Ce,h,p,v,r.directiveRegistry,r.pipeRegistry,null,r.schemas,re);return null!==r.queries&&(r.queries.template(r,Ce),tt.queries=r.queries.embeddedTView(Ce)),Ce}(Ce,re,$,r,l,h,p,v,T):re.data[Ce];or(tt,!1);const kt=$[ti].createComment("");lc(re,$,kt,tt),Wt(kt,$),Zu($,$[Ce]=hu(kt,$,kt,tt)),ss(tt)&&vm(re,$,tt),null!=T&&_f($,tt,U)}function Bp(n){return es(function fo(){return Ti.lFrame.contextLView}(),Bi+n)}function km(n,r,l){const h=Et();return Ho(h,As(),r)&&_a(cn(),Sr(),h,n,r,h[ti],l,!1),km}function Af(n,r,l,h,p){const T=p?"class":"style";Rd(n,l,r.inputs[T],T,h)}function Ah(n,r,l,h){const p=Et(),v=cn(),T=Bi+n,U=p[ti],$=v.firstCreatePass?function Hg(n,r,l,h,p,v){const T=r.consts,$=uu(r,n,2,h,vs(T,p));return Ep(r,l,$,vs(T,v)),null!==$.attrs&&xf($,$.attrs,!1),null!==$.mergedAttrs&&xf($,$.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,$),$}(T,v,p,r,l,h):v.data[T],re=p[T]=Xc(U,r,function bc(){return Ti.lFrame.currentNamespace}()),Ce=ss($);return or($,!0),qp(U,re,$),32!=(32&$.flags)&&lc(v,p,re,$),0===function E(){return Ti.lFrame.elementDepthCount}()&&Wt(re,p),function I(){Ti.lFrame.elementDepthCount++}(),Ce&&(vm(v,p,$),wp(v,$,p)),null!==h&&_f(p,$),Ah}function Mh(){let n=Li();bs()?Tr():(n=n.parent,or(n,!1));const r=n;!function K(){Ti.lFrame.elementDepthCount--}();const l=cn();return l.firstCreatePass&&(aa(l,n),bi(n)&&l.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ui(n){return 0!=(8&n.flags)}(r)&&Af(l,r,Et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Qi(n){return 0!=(16&n.flags)}(r)&&Af(l,r,Et(),r.stylesWithoutHost,!1),Mh}function Up(n,r,l,h){return Ah(n,r,l,h),Mh(),Up}function Ud(n,r,l){const h=Et(),p=cn(),v=n+Bi,T=p.firstCreatePass?function jg(n,r,l,h,p){const v=r.consts,T=vs(v,h),U=uu(r,n,8,"ng-container",T);return null!==T&&xf(U,T,!0),Ep(r,l,U,vs(v,p)),null!==r.queries&&r.queries.elementStart(r,U),U}(v,p,h,r,l):p.data[v];or(T,!0);const U=h[v]=h[ti].createComment("");return lc(p,h,U,T),Wt(U,h),ss(T)&&(vm(p,h,T),wp(p,T,h)),null!=l&&_f(h,T),Ud}function td(){let n=Li();const r=cn();return bs()?Tr():(n=n.parent,or(n,!1)),r.firstCreatePass&&(aa(r,n),bi(n)&&r.queries.elementEnd(n)),td}function Mf(n,r,l){return Ud(n,r,l),td(),Mf}function Rf(){return Et()}function kf(n){return!!n&&"function"==typeof n.then}function zg(n){return!!n&&"function"==typeof n.subscribe}const Hd=zg;function Hp(n,r,l,h){const p=Et(),v=cn(),T=Li();return jd(v,p,p[ti],T,n,r,h),Hp}function Rh(n,r){const l=Li(),h=Et(),p=cn();return jd(p,h,wh(hs(p.data),l,h),l,n,r),Rh}function jd(n,r,l,h,p,v,T){const U=ss(h),re=n.firstCreatePass&&Mp(n),Ce=r[si],tt=Og(r);let kt=!0;if(3&h.type||T){const Kn=Ni(h,r),di=T?T(Kn):Kn,xi=tt.length,Xi=T?fr=>T(lr(fr[h.index])):h.index;let Mn=null;if(!T&&U&&(Mn=function $g(n,r,l,h){const p=n.cleanup;if(null!=p)for(let v=0;v<p.length-1;v+=2){const T=p[v];if(T===l&&p[v+1]===h){const U=r[Yn],$=p[v+2];return U.length>$?U[$]:null}"string"==typeof T&&(v+=2)}return null}(n,r,p,h.index)),null!==Mn)(Mn.__ngLastListenerFn__||Mn).__ngNextListenerFn__=v,Mn.__ngLastListenerFn__=v,kt=!1;else{v=kh(h,r,Ce,v,!1);const fr=l.listen(di,p,v);tt.push(v,fr),re&&re.push(p,Xi,xi,xi+1)}}else v=kh(h,r,Ce,v,!1);const Kt=h.outputs;let yn;if(kt&&null!==Kt&&(yn=Kt[p])){const Kn=yn.length;if(Kn)for(let di=0;di<Kn;di+=2){const Mo=r[yn[di]][yn[di+1]].subscribe(v),va=tt.length;tt.push(v,Mo),re&&re.push(p,h.index,va,-(va+1))}}}function Om(n,r,l,h){try{return pr(6,r,l),!1!==l(h)}catch(p){return Md(n,p),!1}finally{pr(7,r,l)}}function kh(n,r,l,h,p){return function v(T){if(T===Function)return h;bh(n.componentOffset>-1?Vr(n.index,r):r);let $=Om(r,l,h,T),re=v.__ngNextListenerFn__;for(;re;)$=Om(r,l,re,T)&&$,re=re.__ngNextListenerFn__;return p&&!1===$&&(T.preventDefault(),T.returnValue=!1),$}}function Gg(n=1){return function po(n){return(Ti.lFrame.contextLView=function Hr(n,r){for(;n>0;)r=r[xr],n--;return r}(n,Ti.lFrame.contextLView))[si]}(n)}function k_(n,r){let l=null;const h=function hp(n){const r=n.attrs;if(null!=r){const l=r.indexOf(5);if(!(1&l))return r[l+1]}return null}(n);for(let p=0;p<r.length;p++){const v=r[p];if("*"!==v){if(null===h?Dd(n,v,!0):pp(h,v))return p}else l=p}return l}function Pm(n){const r=Et()[Dr][qt];if(!r.projection){const h=r.projection=j(n?n.length:1,null),p=h.slice();let v=r.child;for(;null!==v;){const T=n?k_(v,n):0;null!==T&&(p[T]?p[T].projectionNext=v:h[T]=v,p[T]=v),v=v.next}}}function Wg(n,r=0,l){const h=Et(),p=cn(),v=uu(p,Bi+n,16,null,l||null);null===v.projection&&(v.projection=r),Tr(),32!=(32&v.flags)&&function zf(n,r,l){$f(r[ti],0,r,l,ii(n,l,r),Zd(l.parent||r[qt],l,r))}(p,h,v)}function Oh(n,r,l){return Ph(n,"",r,"",l),Oh}function Ph(n,r,l,h,p){const v=Et(),T=Th(v,r,l,h);return T!==sr&&_a(cn(),Sr(),v,n,T,v[ti],p,!1),Ph}function d(n,r){return n<<17|r<<2}function g(n){return n>>17&32767}function W(n){return 2|n}function oe(n){return(131068&n)>>2}function be(n,r){return-131069&n|r<<2}function At(n){return 1|n}function Ki(n,r,l,h,p){const v=n[l+1],T=null===r;let U=h?g(v):oe(v),$=!1;for(;0!==U&&(!1===$||T);){const Ce=n[U+1];Er(n[U],r)&&($=!0,n[U+1]=h?At(Ce):W(Ce)),U=h?g(Ce):oe(Ce)}$&&(n[l+1]=h?W(v):At(v))}function Er(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ni(n,r)>=0}function Ci(n,r,l){return na(n,r,l,!1),Ci}function Hi(n,r){return na(n,r,null,!0),Hi}function na(n,r,l,h){const p=Et(),v=cn(),T=us(2);v.firstUpdatePass&&function Kg(n,r,l,h){const p=n.data;if(null===p[l+1]){const v=p[ir()],T=function Vm(n,r){return r>=n.expandoStartIndex}(n,l);(function iy(n,r){return 0!=(n.flags&(r?8:16))})(v,h)&&null===r&&!T&&(r=!1),r=function _r(n,r,l,h){const p=hs(n);let v=h?r.residualClasses:r.residualStyles;if(null===p)0===(h?r.classBindings:r.styleBindings)&&(l=Bm(l=Lh(null,n,r,l,h),r.attrs,h),v=null);else{const T=r.directiveStylingLast;if(-1===T||n[T]!==p)if(l=Lh(p,n,r,l,h),null===v){let $=function Fh(n,r,l){const h=l?r.classBindings:r.styleBindings;if(0!==oe(h))return n[g(h)]}(n,r,h);void 0!==$&&Array.isArray($)&&($=Lh(null,n,r,$[1],h),$=Bm($,r.attrs,h),function yc(n,r,l,h){n[g(l?r.classBindings:r.styleBindings)]=h}(n,r,h,$))}else v=function Ws(n,r,l){let h;const p=r.directiveEnd;for(let v=1+r.directiveStylingLast;v<p;v++)h=Bm(h,n[v].hostAttrs,l);return Bm(h,r.attrs,l)}(n,r,h)}return void 0!==v&&(h?r.residualClasses=v:r.residualStyles=v),l}(p,v,r,h),function Dn(n,r,l,h,p,v){let T=v?r.classBindings:r.styleBindings,U=g(T),$=oe(T);n[h]=l;let Ce,re=!1;if(Array.isArray(l)?(Ce=l[1],(null===Ce||ni(l,Ce)>0)&&(re=!0)):Ce=l,p)if(0!==$){const kt=g(n[U+1]);n[h+1]=d(kt,U),0!==kt&&(n[kt+1]=be(n[kt+1],h)),n[U+1]=function P(n,r){return 131071&n|r<<17}(n[U+1],h)}else n[h+1]=d(U,0),0!==U&&(n[U+1]=be(n[U+1],h)),U=h;else n[h+1]=d($,0),0===U?U=h:n[$+1]=be(n[$+1],h),$=h;re&&(n[h+1]=W(n[h+1])),Ki(n,Ce,h,!0),Ki(n,Ce,h,!1),function ri(n,r,l,h,p){const v=p?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof r&&ni(v,r)>=0&&(l[h+1]=At(l[h+1]))}(r,Ce,n,h,v),T=d(U,$),v?r.classBindings=T:r.styleBindings=T}(p,v,r,l,T,h)}}(v,n,T,h),r!==sr&&Ho(p,T,r)&&function ty(n,r,l,h,p,v,T,U){if(!(3&r.type))return;const $=n.data,re=$[U+1],Ce=function vt(n){return 1==(1&n)}(re)?ny($,r,l,p,oe(re),T):void 0;P_(Ce)||(P_(v)||function C(n){return 2==(2&n)}(re)&&(v=ny($,null,l,p,U,T)),function dd(n,r,l,h,p){if(r)p?n.addClass(l,h):n.removeClass(l,h);else{let v=-1===h.indexOf("-")?void 0:Ma.DashCase;null==p?n.removeStyle(l,h,v):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),v|=Ma.Important),n.setStyle(l,h,p,v))}}(h,T,Co(ir(),l),p,v))}(v,v.data[ir()],p,p[ti],n,p[T+1]=function zy(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=L(ul(n)))),n}(r,l),h,T)}function Lh(n,r,l,h,p){let v=null;const T=l.directiveEnd;let U=l.directiveStylingLast;for(-1===U?U=l.directiveStart:U++;U<T&&(v=r[U],h=Bm(h,v.hostAttrs,p),v!==n);)U++;return null!==n&&(l.directiveStylingLast=U),h}function Bm(n,r,l){const h=l?1:2;let p=-1;if(null!==r)for(let v=0;v<r.length;v++){const T=r[v];"number"==typeof T?p=T:p===h&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),tn(n,T,!!l||r[++v]))}return void 0===n?null:n}function ny(n,r,l,h,p,v){const T=null===r;let U;for(;p>0;){const $=n[p],re=Array.isArray($),Ce=re?$[1]:$,tt=null===Ce;let kt=l[p+1];kt===sr&&(kt=tt?ft:void 0);let Kt=tt?Qn(kt,h):Ce===h?kt:void 0;if(re&&!P_(Kt)&&(Kt=Qn($,h)),P_(Kt)&&(U=Kt,T))return U;const yn=n[p+1];p=T?g(yn):oe(yn)}if(null!==r){let $=v?r.residualClasses:r.residualStyles;null!=$&&(U=Qn($,h))}return U}function P_(n){return void 0!==n}function N_(n,r=""){const l=Et(),h=cn(),p=n+Bi,v=h.firstCreatePass?uu(h,p,1,r,null):h.data[p],T=l[p]=function Bl(n,r){return n.createText(r)}(l[ti],r);lc(h,l,T,v),or(v,!1)}function Of(n){return Yg("",n,""),Of}function Yg(n,r,l){const h=Et(),p=Th(h,n,r,l);return p!==sr&&Sl(h,ir(),p),Yg}function id(n,r,l,h,p){const v=Et(),T=function Ju(n,r,l,h,p,v){const U=Qu(n,Nr(),l,p);return us(2),U?r+Be(l)+h+Be(p)+v:sr}(v,n,r,l,h,p);return T!==sr&&Sl(v,ir(),T),id}function rd(n,r,l,h,p,v,T){const U=Et(),$=Sh(U,n,r,l,h,p,v,T);return $!==sr&&Sl(U,ir(),$),rd}function Gm(n,r,l){const h=Et();return Ho(h,As(),r)&&_a(cn(),Sr(),h,n,r,h[ti],l,!0),Gm}function Ff(n,r,l){const h=Et();if(Ho(h,As(),r)){const v=cn(),T=Sr();_a(v,T,h,n,r,wh(hs(v.data),T,h),l,!0)}return Ff}const Lf=void 0;var Zy=["en",[["a","p"],["AM","PM"],Lf],[["AM","PM"],Lf,Lf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lf,"{1} 'at' {0}",Lf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Wm(n){const l=Math.floor(Math.abs(n)),h=n.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let pu={};function fy(n){const r=function Qg(n){return n.toLowerCase().replace(/_/g,"-")}(n);let l=Km(r);if(l)return l;const h=r.split("-")[0];if(l=Km(h),l)return l;if("en"===h)return Zy;throw new Ze(701,!1)}function my(n){return fy(n)[zi.PluralCase]}function Km(n){return n in pu||(pu[n]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[n]),pu[n]}var zi=(()=>((zi=zi||{})[zi.LocaleId=0]="LocaleId",zi[zi.DayPeriodsFormat=1]="DayPeriodsFormat",zi[zi.DayPeriodsStandalone=2]="DayPeriodsStandalone",zi[zi.DaysFormat=3]="DaysFormat",zi[zi.DaysStandalone=4]="DaysStandalone",zi[zi.MonthsFormat=5]="MonthsFormat",zi[zi.MonthsStandalone=6]="MonthsStandalone",zi[zi.Eras=7]="Eras",zi[zi.FirstDayOfWeek=8]="FirstDayOfWeek",zi[zi.WeekendRange=9]="WeekendRange",zi[zi.DateFormat=10]="DateFormat",zi[zi.TimeFormat=11]="TimeFormat",zi[zi.DateTimeFormat=12]="DateTimeFormat",zi[zi.NumberSymbols=13]="NumberSymbols",zi[zi.NumberFormats=14]="NumberFormats",zi[zi.CurrencyCode=15]="CurrencyCode",zi[zi.CurrencySymbol=16]="CurrencySymbol",zi[zi.CurrencyName=17]="CurrencyName",zi[zi.Currencies=18]="Currencies",zi[zi.Directionality=19]="Directionality",zi[zi.PluralCase=20]="PluralCase",zi[zi.ExtraData=21]="ExtraData",zi))();const zd="en-US";let z_=zd;function r_(n,r,l,h,p){if(n=ye(n),Array.isArray(n))for(let v=0;v<n.length;v++)r_(n[v],r,l,h,p);else{const v=cn(),T=Et();let U=ou(n)?n:ye(n.provide),$=nh(n);const re=Li(),Ce=1048575&re.providerIndexes,tt=re.directiveStart,kt=re.providerIndexes>>20;if(ou(n)||!n.multi){const Kt=new it($,p,fh),yn=vv(U,r,p?Ce:Ce+kt,tt);-1===yn?(Ri(Ec(re,T),v,U),yv(v,n,r.length),r.push(U),re.directiveStart++,re.directiveEnd++,p&&(re.providerIndexes+=1048576),l.push(Kt),T.push(Kt)):(l[yn]=Kt,T[yn]=Kt)}else{const Kt=vv(U,r,Ce+kt,tt),yn=vv(U,r,Ce,Ce+kt),di=yn>=0&&l[yn];if(p&&!di||!p&&!(Kt>=0&&l[Kt])){Ri(Ec(re,T),v,U);const xi=function F0(n,r,l,h,p){const v=new it(n,l,fh);return v.multi=[],v.index=r,v.componentProviders=0,ib(v,p,h&&!l),v}(p?N0:P0,l.length,p,h,$);!p&&di&&(l[yn].providerFactory=xi),yv(v,n,r.length,0),r.push(U),re.directiveStart++,re.directiveEnd++,p&&(re.providerIndexes+=1048576),l.push(xi),T.push(xi)}else yv(v,n,Kt>-1?Kt:yn,ib(l[p?yn:Kt],$,!p&&h));!p&&h&&di&&l[yn].componentProviders++}}}function yv(n,r,l,h){const p=ou(r),v=function hc(n){return!!n.useClass}(r);if(p||v){const $=(v?ye(r.useClass):r).prototype.ngOnDestroy;if($){const re=n.destroyHooks||(n.destroyHooks=[]);if(!p&&r.multi){const Ce=re.indexOf(l);-1===Ce?re.push(l,[h,$]):re[Ce+1].push(h,$)}else re.push(l,$)}}}function ib(n,r,l){return l&&n.componentProviders++,n.multi.push(r)-1}function vv(n,r,l,h){for(let p=l;p<h;p++)if(r[p]===n)return p;return-1}function P0(n,r,l,h){return bv(this.multi,[])}function N0(n,r,l,h){const p=this.multi;let v;if(this.providerFactory){const T=this.providerFactory.componentProviders,U=Di(l,l[ct],this.providerFactory.index,h);v=U.slice(0,T),bv(p,v);for(let $=T;$<U.length;$++)v.push(U[$])}else v=[],bv(p,v);return v}function bv(n,r){for(let l=0;l<n.length;l++)r.push((0,n[l])());return r}function rb(n,r=[]){return l=>{l.providersResolver=(h,p)=>function Uf(n,r,l){const h=cn();if(h.firstCreatePass){const p=Zi(n);r_(l,h.data,h.blueprint,p,!0),r_(r,h.data,h.blueprint,p,!1)}}(h,p?p(n):n,r)}}class s_{}class sb{}function L0(n,r){return new ob(n,r??null)}class ob extends s_{constructor(r,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new If(this);const h=yr(r);this._bootstrapComponents=ga(h.bootstrap),this._r3Injector=gp(r,l,[{provide:s_,useValue:this},{provide:tf,useValue:this.componentFactoryResolver}],L(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class wv extends sb{constructor(r){super(),this.moduleType=r}create(r){return new ob(this.moduleType,r)}}class V0 extends s_{constructor(r,l,h){super(),this.componentFactoryResolver=new If(this),this.instance=null;const p=new Fc([...r,{provide:s_,useValue:this},{provide:tf,useValue:this.componentFactoryResolver}],l||fc(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Ev(n,r,l=null){return new V0(n,r,l).injector}let B0=(()=>{class n{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const h=Jf(0,l.type),p=h.length>0?Ev([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,p)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=at({token:n,providedIn:"environment",factory:()=>new n(Vn(Ra))}),n})();function ab(n){n.getStandaloneInjector=r=>r.get(B0).getOrCreateStandaloneInjector(n)}function pb(n,r,l,h,p){return gb(Et(),Ji(),n,r,l,h,p)}function W_(n,r){const l=n[r];return l===sr?void 0:l}function gb(n,r,l,h,p,v,T){const U=r+l;return Qu(n,U,p,v)?Xl(n,U+2,T?h.call(T,p,v):h(p,v)):W_(n,U+2)}function bb(n,r){const l=cn();let h;const p=n+Bi;l.firstCreatePass?(h=function iw(n,r){if(r)for(let l=r.length-1;l>=0;l--){const h=r[l];if(n===h.name)return h}}(r,l.pipeRegistry),l.data[p]=h,h.onDestroy&&(l.destroyHooks??(l.destroyHooks=[])).push(p,h.onDestroy)):h=l.data[p];const v=h.factory||(h.factory=co(h.type)),T=Dt(fh);try{const U=Zo(!1),$=v();return Zo(U),function R_(n,r,l,h){l>=n.data.length&&(n.data[l]=null,n.blueprint[l]=null),r[l]=h}(l,Et(),p,$),$}finally{Dt(T)}}function wb(n,r,l){const h=n+Bi,p=Et(),v=es(p,h);return K_(p,h)?function mb(n,r,l,h,p,v){const T=r+l;return Ho(n,T,p)?Xl(n,T+1,v?h.call(v,p):h(p)):W_(n,T+1)}(p,Ji(),r,v.transform,l,v):v.transform(l)}function Eb(n,r,l,h){const p=n+Bi,v=Et(),T=es(v,p);return K_(v,p)?gb(v,Ji(),r,T.transform,l,h,T):T.transform(l,h)}function K_(n,r){return n[ct].data[r].pure}function Dv(n){return r=>{setTimeout(n,void 0,r)}}const Hh=class aw extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,l,h){let p=r,v=l||(()=>null),T=h;if(r&&"object"==typeof r){const $=r;p=$.next?.bind($),v=$.error?.bind($),T=$.complete?.bind($)}this.__isAsync&&(v=Dv(v),p&&(p=Dv(p)),T&&(T=Dv(T)));const U=super.subscribe({next:p,error:v,complete:T});return r instanceof F.w0&&r.add(U),U}};function lw(){return this._results[Symbol.iterator]()}class Ay{get changes(){return this._changes||(this._changes=new Hh)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Ay.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=lw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,l){return this._results.reduce(r,l)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,l){const h=this;h.dirty=!1;const p=function Fo(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Rs(n,r,l){if(n.length!==r.length)return!1;for(let h=0;h<n.length;h++){let p=n[h],v=r[h];if(l&&(p=l(p),v=l(v)),v!==p)return!1}return!0}(h._results,p,l))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Y_=(()=>{class n{}return n.__NG_ELEMENT_ID__=dw,n})();const cw=Y_,uw=class extends cw{constructor(r,l,h){super(),this._declarationLView=r,this._declarationTContainer=l,this.elementRef=h}createEmbeddedView(r,l){const h=this._declarationTContainer.tView,p=Td(this._declarationLView,h,r,16,null,h.declTNode,null,null,null,null,l||null);p[Ps]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[Wr];return null!==T&&(p[Wr]=T.createEmbeddedView(h)),gf(h,p,r),new Od(p)}};function dw(){return My(Li(),Et())}function My(n,r){return 4&n.type?new uw(r,n,Il(n,r)):null}let Ry=(()=>{class n{}return n.__NG_ELEMENT_ID__=hw,n})();function hw(){return xb(Li(),Et())}const fw=Ry,Cb=class extends fw{constructor(r,l,h){super(),this._lContainer=r,this._hostTNode=l,this._hostLView=h}get element(){return Il(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const r=Fr(this._hostTNode,this._hostLView);if(Bs(r)){const l=_n(r,this._hostLView),h=Pn(r);return new Io(l[ct].data[h+8],l)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const l=Db(this._lContainer);return null!==l&&l[r]||null}get length(){return this._lContainer.length-mn}createEmbeddedView(r,l,h){let p,v;"number"==typeof h?p=h:null!=h&&(p=h.index,v=h.injector);const T=r.createEmbeddedView(l||{},v);return this.insert(T,p),T}createComponent(r,l,h,p,v){const T=r&&!function ts(n){return"function"==typeof n}(r);let U;if(T)U=l;else{const tt=l||{};U=tt.index,h=tt.injector,p=tt.projectableNodes,v=tt.environmentInjector||tt.ngModuleRef}const $=T?r:new Nd(Hn(r)),re=h||this.parentInjector;if(!v&&null==$.ngModule){const kt=(T?re:this.parentInjector).get(Ra,null);kt&&(v=kt)}const Ce=$.create(re,p,void 0,v);return this.insert(Ce.hostView,U),Ce}insert(r,l){const h=r._lView,p=h[ct];if(function Na(n){return gi(n[Y])}(h)){const Ce=this.indexOf(r);if(-1!==Ce)this.detach(Ce);else{const tt=h[Y],kt=new Cb(tt,tt[qt],tt[Y]);kt.detach(kt.indexOf(r))}}const v=this._adjustIndex(l),T=this._lContainer;!function y(n,r,l,h){const p=mn+h,v=l.length;h>0&&(l[p-1][ue]=r),h<v-mn?(r[ue]=l[p],N(l,mn+h,r)):(l.push(r),r[ue]=null),r[Y]=l;const T=r[Ps];null!==T&&l!==T&&function w(n,r){const l=n[en];r[Dr]!==r[Y][Y][Dr]&&(n[It]=!0),null===l?n[en]=[r]:l.push(r)}(T,r);const U=r[Wr];null!==U&&U.insertView(n),r[A]|=64}(p,h,T,v);const U=cc(v,T),$=h[ti],re=Or($,T[wt]);return null!==re&&function xl(n,r,l,h,p,v){h[Ge]=p,h[qt]=r,Mu(n,h,l,1,p,v)}(p,T[qt],$,h,re,U),r.attachToViewContainerRef(),N(xv(T),v,r),r}move(r,l){return this.insert(r,l)}indexOf(r){const l=Db(this._lContainer);return null!==l?l.indexOf(r):-1}remove(r){const l=this._adjustIndex(r,-1),h=ae(this._lContainer,l);h&&(x(xv(this._lContainer),l),Me(h[ct],h))}detach(r){const l=this._adjustIndex(r,-1),h=ae(this._lContainer,l);return h&&null!=x(xv(this._lContainer),l)?new Od(h):null}_adjustIndex(r,l=0){return r??this.length+l}};function Db(n){return n[Bt]}function xv(n){return n[Bt]||(n[Bt]=[])}function xb(n,r){let l;const h=r[n.index];if(gi(h))l=h;else{let p;if(8&n.type)p=lr(h);else{const v=r[ti];p=v.createComment("");const T=Ni(n,r);ki(v,Or(v,T),p,function Su(n,r){return n.nextSibling(r)}(v,T),!1)}r[n.index]=l=hu(h,r,p,n),Zu(r,l)}return new Cb(l,n,r)}class Iv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Iv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const l=r.queries;if(null!==l){const h=null!==r.contentQueries?r.contentQueries[0]:l.length,p=[];for(let v=0;v<h;v++){const T=l.getByIndex(v);p.push(this.queries[T.indexInDeclarationView].clone())}return new Tv(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let l=0;l<this.queries.length;l++)null!==Pb(r,l).matches&&this.queries[l].setDirty()}}class Ib{constructor(r,l,h=null){this.predicate=r,this.flags=l,this.read=h}}class Sv{constructor(r=[]){this.queries=r}elementStart(r,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(r,l)}elementEnd(r){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(r)}embeddedTView(r){let l=null;for(let h=0;h<this.length;h++){const p=null!==l?l.length:0,v=this.getByIndex(h).embeddedTView(r,p);v&&(v.indexInDeclarationView=h,null!==l?l.push(v):l=[v])}return null!==l?new Sv(l):null}template(r,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(r,l)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Av{constructor(r,l=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(r,l){this.isApplyingToNode(l)&&this.matchTNode(r,l)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,l){this.elementStart(r,l)}embeddedTView(r,l){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,l),new Av(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=r.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(r,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const v=h[p];this.matchTNodeWithReadOption(r,l,pw(l,v)),this.matchTNodeWithReadOption(r,l,Dc(l,r,v,!1,!1))}else h===Y_?4&l.type&&this.matchTNodeWithReadOption(r,l,-1):this.matchTNodeWithReadOption(r,l,Dc(l,r,h,!1,!1))}matchTNodeWithReadOption(r,l,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Kl||p===Ry||p===Y_&&4&l.type)this.addMatch(l.index,-2);else{const v=Dc(l,r,p,!1,!1);null!==v&&this.addMatch(l.index,v)}else this.addMatch(l.index,h)}}addMatch(r,l){null===this.matches?this.matches=[r,l]:this.matches.push(r,l)}}function pw(n,r){const l=n.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===r)return l[h+1];return null}function gw(n,r,l,h){return-1===l?function mw(n,r){return 11&n.type?Il(n,r):4&n.type?My(n,r):null}(r,n):-2===l?function _w(n,r,l){return l===Kl?Il(r,n):l===Y_?My(r,n):l===Ry?xb(r,n):void 0}(n,r,h):Di(n,n[ct],l,r)}function Tb(n,r,l,h){const p=r[Wr].queries[h];if(null===p.matches){const v=n.data,T=l.matches,U=[];for(let $=0;$<T.length;$+=2){const re=T[$];U.push(re<0?null:gw(r,v[re],T[$+1],l.metadata.read))}p.matches=U}return p.matches}function Mv(n,r,l,h){const p=n.queries.getByIndex(l),v=p.matches;if(null!==v){const T=Tb(n,r,p,l);for(let U=0;U<v.length;U+=2){const $=v[U];if($>0)h.push(T[U/2]);else{const re=v[U+1],Ce=r[-$];for(let tt=mn;tt<Ce.length;tt++){const kt=Ce[tt];kt[Ps]===kt[Y]&&Mv(kt[ct],kt,re,h)}if(null!==Ce[en]){const tt=Ce[en];for(let kt=0;kt<tt.length;kt++){const Kt=tt[kt];Mv(Kt[ct],Kt,re,h)}}}}}return h}function Sb(n){const r=Et(),l=cn(),h=xo();dr(h+1);const p=Pb(l,h);if(n.dirty&&function io(n){return 4==(4&n[A])}(r)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const v=p.crossesNgTemplate?Mv(l,r,h,[]):Tb(l,r,p,h);n.reset(v,Lu),n.notifyOnChanges()}return!0}return!1}function Ab(n,r,l){const h=cn();h.firstCreatePass&&(Ob(h,new Ib(n,r,l),-1),2==(2&r)&&(h.staticViewQueries=!0)),kb(h,Et(),r)}function Mb(n,r,l,h){const p=cn();if(p.firstCreatePass){const v=Li();Ob(p,new Ib(r,l,h),v.index),function vw(n,r){const l=n.contentQueries||(n.contentQueries=[]);r!==(l.length?l[l.length-1]:-1)&&l.push(n.queries.length-1,r)}(p,n),2==(2&l)&&(p.staticContentQueries=!0)}kb(p,Et(),l)}function Rb(){return function yw(n,r){return n[Wr].queries[r].queryList}(Et(),xo())}function kb(n,r,l){const h=new Ay(4==(4&l));ea(n,r,h,h.destroy),null===r[Wr]&&(r[Wr]=new Tv),r[Wr].queries.push(new Iv(h))}function Ob(n,r,l){null===n.queries&&(n.queries=new Sv),n.queries.track(new Av(r,l))}function Pb(n,r){return n.queries.getByIndex(r)}function Nb(n,r){return My(n,r)}function Rv(n){return!!yr(n)}function Oy(...n){}const Jb=new rr("Application Initializer");let Py=(()=>{class n{constructor(l){this.appInits=l,this.resolve=Oy,this.reject=Oy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const l=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const v=this.appInits[p]();if(kf(v))l.push(v);else if(Hd(v)){const T=new Promise((U,$)=>{v.subscribe({complete:U,error:$})});l.push(T)}}Promise.all(l).then(()=>{h()}).catch(p=>{this.reject(p)}),0===l.length&&h(),this.initialized=!0}}return n.\u0275fac=function(l){return new(l||n)(Vn(Jb,8))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e0=new rr("AppId",{providedIn:"root",factory:function t0(){return`${Fv()}${Fv()}${Fv()}`}});function Fv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const n0=new rr("Platform Initializer"),Bw=new rr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uw=new rr("AnimationModuleType");let Hw=(()=>{class n{log(l){console.log(l)}warn(l){console.warn(l)}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ny=new rr("LocaleId",{providedIn:"root",factory:()=>Z(Ny,_t.Optional|_t.SkipSelf)||function jw(){return typeof $localize<"u"&&$localize.locale||zd}()}),zw=new rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class $w{constructor(r,l){this.ngModuleFactory=r,this.componentFactories=l}}let Gw=(()=>{class n{compileModuleSync(l){return new wv(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),v=ga(yr(l).declarations).reduce((T,U)=>{const $=Hn(U);return $&&T.push(new Nd($)),T},[]);return new $w(h,v)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yw=(()=>Promise.resolve(0))();function Lv(n){typeof Zone>"u"?Yw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class od{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hh(!1),this.onMicrotaskEmpty=new Hh(!1),this.onStable=new Hh(!1),this.onError=new Hh(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&l,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Zw(){let n=Ee.requestAnimationFrame,r=Ee.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l);const h=r[Zone.__symbol__("OriginalDelegate")];h&&(r=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Xw(n){const r=()=>{!function Qw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ee,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Bv(n),n.isCheckStableRunning=!0,Vv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Bv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,p,v,T,U)=>{try{return o0(n),l.invokeTask(p,v,T,U)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&r(),a0(n)}},onInvoke:(l,h,p,v,T,U,$)=>{try{return o0(n),l.invoke(p,v,T,U,$)}finally{n.shouldCoalesceRunChangeDetection&&r(),a0(n)}},onHasTask:(l,h,p,v)=>{l.hasTask(p,v),h===p&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,Bv(n),Vv(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(l,h,p,v)=>(l.handleError(p,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!od.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(od.isInAngularZone())throw new Ze(909,!1)}run(r,l,h){return this._inner.run(r,l,h)}runTask(r,l,h,p){const v=this._inner,T=v.scheduleEventTask("NgZoneEvent: "+p,r,qw,Oy,Oy);try{return v.runTask(T,l,h)}finally{v.cancelTask(T)}}runGuarded(r,l,h){return this._inner.runGuarded(r,l,h)}runOutsideAngular(r){return this._outer.run(r)}}const qw={};function Vv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Bv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function o0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function a0(n){n._nesting--,Vv(n)}class Jw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hh,this.onMicrotaskEmpty=new Hh,this.onStable=new Hh,this.onError=new Hh}run(r,l,h){return r.apply(l,h)}runGuarded(r,l,h){return r.apply(l,h)}runOutsideAngular(r){return r()}runTask(r,l,h,p){return r.apply(l,h)}}const l0=new rr(""),c0=new rr("");let Uv,eE=(()=>{class n{constructor(l,h,p){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Uv||(function tE(n){Uv=n}(p),p.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{od.assertNotInAngularZone(),Lv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lv(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,p){let v=-1;h&&h>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==v),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:v,updateCb:p})}whenStable(l,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,p){return[]}}return n.\u0275fac=function(l){return new(l||n)(Vn(od),Vn(u0),Vn(c0))},n.\u0275prov=at({token:n,factory:n.\u0275fac}),n})(),u0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return Uv?.findTestabilityInTree(this,l,h)??null}}return n.\u0275fac=function(l){return new(l||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Hf=!1;let Zp=null;const d0=new rr("AllowMultipleToken"),Hv=new rr("PlatformDestroyListeners"),h0=new rr("appBootstrapListener");class rE{constructor(r,l){this.name=r,this.token=l}}function p0(n,r,l=[]){const h=`Platform: ${r}`,p=new rr(h);return(v=[])=>{let T=jv();if(!T||T.injector.get(d0,!1)){const U=[...l,...v,{provide:p,useValue:!0}];n?n(U):function sE(n){if(Zp&&!Zp.get(d0,!1))throw new Ze(400,!1);Zp=n;const r=n.get(g0);(function f0(n){const r=n.get(n0,null);r&&r.forEach(l=>l())})(n)}(function m0(n=[],r){return ju.create({name:r,providers:[{provide:tp,useValue:"platform"},{provide:Hv,useValue:new Set([()=>Zp=null])},...n]})}(U,h))}return function aE(n){const r=jv();if(!r)throw new Ze(401,!1);return r}()}}function jv(){return Zp?.get(g0)??null}let g0=(()=>{class n{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const p=function y0(n,r){let l;return l="noop"===n?new Jw:("zone.js"===n?void 0:n)||new od(r),l}(h?.ngZone,function _0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(h)),v=[{provide:od,useValue:p}];return p.run(()=>{const T=ju.create({providers:v,parent:this.injector,name:l.moduleType.name}),U=l.create(T),$=U.injector.get(za,null);if(!$)throw new Ze(402,!1);return p.runOutsideAngular(()=>{const re=p.onError.subscribe({next:Ce=>{$.handleError(Ce)}});U.onDestroy(()=>{Ly(this._modules,U),re.unsubscribe()})}),function v0(n,r,l){try{const h=l();return kf(h)?h.catch(p=>{throw r.runOutsideAngular(()=>n.handleError(p)),p}):h}catch(h){throw r.runOutsideAngular(()=>n.handleError(h)),h}}($,p,()=>{const re=U.injector.get(Py);return re.runInitializers(),re.donePromise.then(()=>(function $_(n){qe(n,"Expected localeId to be defined"),"string"==typeof n&&(z_=n.toLowerCase().replace(/_/g,"-"))}(U.injector.get(Ny,zd)||zd),this._moduleDoBootstrap(U),U))})})}bootstrapModule(l,h=[]){const p=b0({},h);return function nE(n,r,l){const h=new wv(l);return Promise.resolve(h)}(0,0,l).then(v=>this.bootstrapModuleFactory(v,p))}_moduleDoBootstrap(l){const h=l.injector.get(Fy);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new Ze(-403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(Hv,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(l){return new(l||n)(Vn(ju))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function b0(n,r){return Array.isArray(r)?r.reduce(b0,n):{...n,...r}}let Fy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,h,p){this._zone=l,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new _.y(U=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{U.next(this._stable),U.complete()})}),T=new _.y(U=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{od.assertNotInAngularZone(),Lv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,U.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{od.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{U.next(!1)}))});return()=>{$.unsubscribe(),re.unsubscribe()}});this.isStable=(0,ce.T)(v,T.pipe((0,S.B)()))}bootstrap(l,h){const p=l instanceof ih;if(!this._injector.get(Py).done){!p&&ji(l);throw new Ze(405,Hf)}let T;T=p?l:this._injector.get(tf).resolveComponentFactory(l),this.componentTypes.push(T.componentType);const U=function iE(n){return n.isBoundToModule}(T)?void 0:this._injector.get(s_),re=T.create(ju.NULL,[],h||T.selector,U),Ce=re.location.nativeElement,tt=re.injector.get(l0,null);return tt?.registerApplication(Ce),re.onDestroy(()=>{this.detachView(re.hostView),Ly(this.components,re),tt?.unregisterApplication(Ce)}),this._loadComponent(re),re}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Ly(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const h=this._injector.get(h0,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Ly(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ze(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(l){return new(l||n)(Vn(od),Vn(Ra),Vn(za))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ly(n,r){const l=n.indexOf(r);l>-1&&n.splice(l,1)}function cE(){return!1}let uE=(()=>{class n{}return n.__NG_ELEMENT_ID__=dE,n})();function dE(n){return function hE(n,r,l){if(Pr(n)&&!l){const h=Vr(n.index,r);return new Od(h,h)}return 47&n.type?new Od(r[Dr],r):null}(Li(),Et(),16==(16&n))}class x0{constructor(){}supports(r){return xh(r)}create(r){return new yE(r)}}const _E=(n,r)=>r;class yE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||_E}forEachItem(r){let l;for(l=this._itHead;null!==l;l=l._next)r(l)}forEachOperation(r){let l=this._itHead,h=this._removalsHead,p=0,v=null;for(;l||h;){const T=!h||l&&l.currentIndex<T0(h,p,v)?l:h,U=T0(T,p,v),$=T.currentIndex;if(T===h)p--,h=h._nextRemoved;else if(l=l._next,null==T.previousIndex)p++;else{v||(v=[]);const re=U-p,Ce=$-p;if(re!=Ce){for(let kt=0;kt<re;kt++){const Kt=kt<v.length?v[kt]:v[kt]=0,yn=Kt+kt;Ce<=yn&&yn<re&&(v[kt]=Kt+1)}v[T.previousIndex]=Ce-re}}U!==$&&r(T,U,$)}}forEachPreviousItem(r){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachMovedItem(r){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}forEachIdentityChange(r){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)r(l)}diff(r){if(null==r&&(r=[]),!xh(r))throw new Ze(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,v,T,l=this._itHead,h=!1;if(Array.isArray(r)){this.length=r.length;for(let U=0;U<this.length;U++)v=r[U],T=this._trackByFn(U,v),null!==l&&Object.is(l.trackById,T)?(h&&(l=this._verifyReinsertion(l,v,T,U)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,T,U),h=!0),l=l._next}else p=0,function S_(n,r){if(Array.isArray(n))for(let l=0;l<n.length;l++)r(n[l]);else{const l=n[Symbol.iterator]();let h;for(;!(h=l.next()).done;)r(h.value)}}(r,U=>{T=this._trackByFn(p,U),null!==l&&Object.is(l.trackById,T)?(h&&(l=this._verifyReinsertion(l,U,T,p)),Object.is(l.item,U)||this._addIdentityChange(l,U)):(l=this._mismatch(l,U,T,p),h=!0),l=l._next,p++}),this.length=p;return this._truncate(l),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,l,h,p){let v;return null===r?v=this._itTail:(v=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._reinsertAfter(r,v,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(r.item,l)||this._addIdentityChange(r,l),this._moveAfter(r,v,p)):r=this._addAfter(new vE(l,h),v,p),r}_verifyReinsertion(r,l,h,p){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==v?r=this._reinsertAfter(v,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const l=r._next;this._addToRemovals(this._unlink(r)),r=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,v=r._nextRemoved;return null===p?this._removalsHead=v:p._nextRemoved=v,null===v?this._removalsTail=p:v._prevRemoved=p,this._insertAfter(r,l,h),this._addToMoves(r,h),r}_moveAfter(r,l,h){return this._unlink(r),this._insertAfter(r,l,h),this._addToMoves(r,h),r}_addAfter(r,l,h){return this._insertAfter(r,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,l,h){const p=null===l?this._itHead:l._next;return r._next=p,r._prev=l,null===p?this._itTail=r:p._prev=r,null===l?this._itHead=r:l._next=r,null===this._linkedRecords&&(this._linkedRecords=new I0),this._linkedRecords.put(r),r.currentIndex=h,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const l=r._prev,h=r._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,r}_addToMoves(r,l){return r.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new I0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,l){return r.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class vE{constructor(r,l){this.item=r,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,r))return h;return null}remove(r){const l=r._prevDup,h=r._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class I0{constructor(){this.map=new Map}put(r){const l=r.trackById;let h=this.map.get(l);h||(h=new bE,this.map.set(l,h)),h.add(r)}get(r,l){const p=this.map.get(r);return p?p.get(r,l):null}remove(r){const l=r.trackById;return this.map.get(l).remove(r)&&this.map.delete(l),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function T0(n,r,l){const h=n.previousIndex;if(null===h)return h;let p=0;return l&&h<l.length&&(p=l[h]),h+r+p}class S0{constructor(){}supports(r){return r instanceof Map||Ih(r)}create(){return new wE}}class wE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let l;for(l=this._mapHead;null!==l;l=l._next)r(l)}forEachPreviousItem(r){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)r(l)}forEachChangedItem(r){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)r(l)}forEachAddedItem(r){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)r(l)}forEachRemovedItem(r){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)r(l)}diff(r){if(r){if(!(r instanceof Map||Ih(r)))throw new Ze(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(r,(h,p)=>{if(l&&l.key===p)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const v=this._getOrCreateRecordForKey(p,h);l=this._insertBeforeOrAppend(l,v)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,l){if(r){const h=r._prev;return l._next=r,l._prev=h,r._prev=l,h&&(h._next=l),r===this._mapHead&&(this._mapHead=l),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(r,l){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,l);const v=p._prev,T=p._next;return v&&(v._next=T),T&&(T._prev=v),p._next=null,p._prev=null,p}const h=new EE(r);return this._records.set(r,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,l){Object.is(l,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=l,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,l){r instanceof Map?r.forEach(l):Object.keys(r).forEach(h=>l(r[h],h))}}class EE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function A0(){return new Kv([new x0])}let Kv=(()=>{class n{constructor(l){this.factories=l}static create(l,h){if(null!=h){const p=h.factories.slice();l=l.concat(p)}return new n(l)}static extend(l){return{provide:n,useFactory:h=>n.create(l,h||A0()),deps:[[n,new xc,new El]]}}find(l){const h=this.factories.find(p=>p.supports(l));if(null!=h)return h;throw new Ze(901,!1)}}return n.\u0275prov=at({token:n,providedIn:"root",factory:A0}),n})();function M0(){return new Yv([new S0])}let Yv=(()=>{class n{constructor(l){this.factories=l}static create(l,h){if(h){const p=h.factories.slice();l=l.concat(p)}return new n(l)}static extend(l){return{provide:n,useFactory:h=>n.create(l,h||M0()),deps:[[n,new xc,new El]]}}find(l){const h=this.factories.find(p=>p.supports(l));if(h)return h;throw new Ze(901,!1)}}return n.\u0275prov=at({token:n,providedIn:"root",factory:M0}),n})();const xE=p0(null,"core",[]);let IE=(()=>{class n{constructor(l){}}return n.\u0275fac=function(l){return new(l||n)(Vn(Fy))},n.\u0275mod=Nt({type:n}),n.\u0275inj=In({}),n})();function TE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},92:(fn,ot,M)=>{"use strict";M.d(ot,{CE:()=>Rr,Cf:()=>nt,EJ:()=>lo,F:()=>qt,Fj:()=>Ve,JJ:()=>Cn,JL:()=>_t,JU:()=>L,Kr:()=>_l,NI:()=>$i,Oe:()=>es,On:()=>nr,Q7:()=>no,UX:()=>ia,YN:()=>Ns,Zs:()=>Po,_Y:()=>Bi,a5:()=>on,cw:()=>ve,gN:()=>St,kI:()=>Fe,qu:()=>Na,sg:()=>Zi,u:()=>$o,u5:()=>Ti,wV:()=>_s,x0:()=>Ts});var f=M(4537),F=M(8692),_=M(237),ce=M(4967),S=M(7969);let we=(()=>{class D{constructor(I,K){this._renderer=I,this._elementRef=K,this.onChange=Te=>{},this.onTouched=()=>{}}setProperty(I,K){this._renderer.setProperty(this._elementRef.nativeElement,I,K)}registerOnTouched(I){this.onTouched=I}registerOnChange(I){this.onChange=I}setDisabledState(I){this.setProperty("disabled",I)}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(f.Qsj),f.Y36(f.SBq))},D.\u0275dir=f.lG2({type:D}),D})(),He=(()=>{class D extends we{}return D.\u0275fac=function(){let E;return function(K){return(E||(E=f.n5z(D)))(K||D)}}(),D.\u0275dir=f.lG2({type:D,features:[f.qOj]}),D})();const L=new f.OlP("NgValueAccessor"),de={provide:L,useExisting:(0,f.Gpc)(()=>Ve),multi:!0},Ie=new f.OlP("CompositionEventMode");let Ve=(()=>{class D extends we{constructor(I,K,Te){super(I,K),this._compositionMode=Te,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const D=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(D.toLowerCase())}())}writeValue(I){this.setProperty("value",I??"")}_handleInput(I){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(I)}_compositionStart(){this._composing=!0}_compositionEnd(I){this._composing=!1,this._compositionMode&&this.onChange(I)}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ie,8))},D.\u0275dir=f.lG2({type:D,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(I,K){1&I&&f.NdJ("input",function(Ct){return K._handleInput(Ct.target.value)})("blur",function(){return K.onTouched()})("compositionstart",function(){return K._compositionStart()})("compositionend",function(Ct){return K._compositionEnd(Ct.target.value)})},features:[f._Bn([de]),f.qOj]}),D})();const We=!1;function ht(D){return null==D||("string"==typeof D||Array.isArray(D))&&0===D.length}function Ze(D){return null!=D&&"number"==typeof D.length}const nt=new f.OlP("NgValidators"),Be=new f.OlP("NgAsyncValidators"),ut=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fe{static min(E){return function ke(D){return E=>{if(ht(E.value)||ht(D))return null;const I=parseFloat(E.value);return!isNaN(I)&&I<D?{min:{min:D,actual:E.value}}:null}}(E)}static max(E){return function Re(D){return E=>{if(ht(E.value)||ht(D))return null;const I=parseFloat(E.value);return!isNaN(I)&&I>D?{max:{max:D,actual:E.value}}:null}}(E)}static required(E){return xe(E)}static requiredTrue(E){return Ke(E)}static email(E){return function ge(D){return ht(D.value)||ut.test(D.value)?null:{email:!0}}(E)}static minLength(E){return function mt(D){return E=>ht(E.value)||!Ze(E.value)?null:E.value.length<D?{minlength:{requiredLength:D,actualLength:E.value.length}}:null}(E)}static maxLength(E){return function jt(D){return E=>Ze(E.value)&&E.value.length>D?{maxlength:{requiredLength:D,actualLength:E.value.length}}:null}(E)}static pattern(E){return function Ht(D){if(!D)return vn;let E,I;return"string"==typeof D?(I="","^"!==D.charAt(0)&&(I+="^"),I+=D,"$"!==D.charAt(D.length-1)&&(I+="$"),E=new RegExp(I)):(I=D.toString(),E=D),K=>{if(ht(K.value))return null;const Te=K.value;return E.test(Te)?null:{pattern:{requiredPattern:I,actualValue:Te}}}}(E)}static nullValidator(E){return null}static compose(E){return nn(E)}static composeAsync(E){return Ne(E)}}function xe(D){return ht(D.value)?{required:!0}:null}function Ke(D){return!0===D.value?null:{required:!0}}function vn(D){return null}function rn(D){return null!=D}function hi(D){const E=(0,f.QGY)(D)?(0,_.D)(D):D;if(We&&!(0,f.CqO)(E)){let I="Expected async validator to return Promise or Observable.";throw"object"==typeof D&&(I+=" Are you using a synchronous validator where an async validator is expected?"),new f.vHH(-1101,I)}return E}function _i(D){let E={};return D.forEach(I=>{E=null!=I?{...E,...I}:E}),0===Object.keys(E).length?null:E}function An(D,E){return E.map(I=>I(D))}function xn(D){return D.map(E=>function Wn(D){return!D.validate}(E)?E:I=>E.validate(I))}function nn(D){if(!D)return null;const E=D.filter(rn);return 0==E.length?null:function(I){return _i(An(I,E))}}function qe(D){return null!=D?nn(xn(D)):null}function Ne(D){if(!D)return null;const E=D.filter(rn);return 0==E.length?null:function(I){const K=An(I,E).map(hi);return(0,ce.D)(K).pipe((0,S.U)(_i))}}function Ae(D){return null!=D?Ne(xn(D)):null}function Ue(D,E){return null===D?[E]:Array.isArray(D)?[...D,E]:[D,E]}function pt(D){return D._rawValidators}function at(D){return D._rawAsyncValidators}function Qt(D){return D?Array.isArray(D)?D:[D]:[]}function In(D,E){return Array.isArray(D)?D.includes(E):D===E}function bn(D,E){const I=Qt(E);return Qt(D).forEach(Te=>{In(I,Te)||I.push(Te)}),I}function Mt(D,E){return Qt(E).filter(I=>!In(D,I))}class pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(E){this._rawValidators=E||[],this._composedValidatorFn=qe(this._rawValidators)}_setAsyncValidators(E){this._rawAsyncValidators=E||[],this._composedAsyncValidatorFn=Ae(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(E){this._onDestroyCallbacks.push(E)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(E=>E()),this._onDestroyCallbacks=[]}reset(E){this.control&&this.control.reset(E)}hasError(E,I){return!!this.control&&this.control.hasError(E,I)}getError(E,I){return this.control?this.control.getError(E,I):null}}class St extends pn{get formDirective(){return null}get path(){return null}}class on extends pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wn{constructor(E){this._cd=E}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cn=(()=>{class D extends wn{constructor(I){super(I)}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(on,2))},D.\u0275dir=f.lG2({type:D,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(I,K){2&I&&f.ekj("ng-untouched",K.isUntouched)("ng-touched",K.isTouched)("ng-pristine",K.isPristine)("ng-dirty",K.isDirty)("ng-valid",K.isValid)("ng-invalid",K.isInvalid)("ng-pending",K.isPending)},features:[f.qOj]}),D})(),_t=(()=>{class D extends wn{constructor(I){super(I)}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(St,10))},D.\u0275dir=f.lG2({type:D,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(I,K){2&I&&f.ekj("ng-untouched",K.isUntouched)("ng-touched",K.isTouched)("ng-pristine",K.isPristine)("ng-dirty",K.isDirty)("ng-valid",K.isValid)("ng-invalid",K.isInvalid)("ng-pending",K.isPending)("ng-submitted",K.isSubmitted)},features:[f.qOj]}),D})();function Vt(D,E){return D?`with name: '${E}'`:`at index: ${E}`}const Un=!1,mi="VALID",Vn="INVALID",Ye="PENDING",Z="DISABLED";function X(D){return(ui(D)?D.validators:D)||null}function Ft(D,E){return(ui(E)?E.asyncValidators:D)||null}function ui(D){return null!=D&&!Array.isArray(D)&&"object"==typeof D}function rt(D,E,I){const K=D.controls;if(!(E?Object.keys(K):K).length)throw new f.vHH(1e3,Un?function kn(D){return`\n    There are no form controls registered with this ${D?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(E):"");if(!K[I])throw new f.vHH(1001,Un?function Sn(D,E){return`Cannot find form control ${Vt(D,E)}`}(E,I):"")}function Qe(D,E,I){D._forEachChild((K,Te)=>{if(void 0===I[Te])throw new f.vHH(1002,Un?function Oi(D,E){return`Must supply a value for form control ${Vt(D,E)}`}(E,Te):"")})}class pe{constructor(E,I){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(E),this._assignAsyncValidators(I)}get validator(){return this._composedValidatorFn}set validator(E){this._rawValidators=this._composedValidatorFn=E}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(E){this._rawAsyncValidators=this._composedAsyncValidatorFn=E}get parent(){return this._parent}get valid(){return this.status===mi}get invalid(){return this.status===Vn}get pending(){return this.status==Ye}get disabled(){return this.status===Z}get enabled(){return this.status!==Z}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(E){this._assignValidators(E)}setAsyncValidators(E){this._assignAsyncValidators(E)}addValidators(E){this.setValidators(bn(E,this._rawValidators))}addAsyncValidators(E){this.setAsyncValidators(bn(E,this._rawAsyncValidators))}removeValidators(E){this.setValidators(Mt(E,this._rawValidators))}removeAsyncValidators(E){this.setAsyncValidators(Mt(E,this._rawAsyncValidators))}hasValidator(E){return In(this._rawValidators,E)}hasAsyncValidator(E){return In(this._rawAsyncValidators,E)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(E={}){this.touched=!0,this._parent&&!E.onlySelf&&this._parent.markAsTouched(E)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(E=>E.markAllAsTouched())}markAsUntouched(E={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(I=>{I.markAsUntouched({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}markAsDirty(E={}){this.pristine=!1,this._parent&&!E.onlySelf&&this._parent.markAsDirty(E)}markAsPristine(E={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(I=>{I.markAsPristine({onlySelf:!0})}),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}markAsPending(E={}){this.status=Ye,!1!==E.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!E.onlySelf&&this._parent.markAsPending(E)}disable(E={}){const I=this._parentMarkedDirty(E.onlySelf);this.status=Z,this.errors=null,this._forEachChild(K=>{K.disable({...E,onlySelf:!0})}),this._updateValue(),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...E,skipPristineCheck:I}),this._onDisabledChange.forEach(K=>K(!0))}enable(E={}){const I=this._parentMarkedDirty(E.onlySelf);this.status=mi,this._forEachChild(K=>{K.enable({...E,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent}),this._updateAncestors({...E,skipPristineCheck:I}),this._onDisabledChange.forEach(K=>K(!1))}_updateAncestors(E){this._parent&&!E.onlySelf&&(this._parent.updateValueAndValidity(E),E.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(E){this._parent=E}getRawValue(){return this.value}updateValueAndValidity(E={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mi||this.status===Ye)&&this._runAsyncValidator(E.emitEvent)),!1!==E.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!E.onlySelf&&this._parent.updateValueAndValidity(E)}_updateTreeValidity(E={emitEvent:!0}){this._forEachChild(I=>I._updateTreeValidity(E)),this.updateValueAndValidity({onlySelf:!0,emitEvent:E.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Z:mi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(E){if(this.asyncValidator){this.status=Ye,this._hasOwnPendingAsyncValidator=!0;const I=hi(this.asyncValidator(this));this._asyncValidationSubscription=I.subscribe(K=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(K,{emitEvent:E})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(E,I={}){this.errors=E,this._updateControlsErrors(!1!==I.emitEvent)}get(E){let I=E;return null==I||(Array.isArray(I)||(I=I.split(".")),0===I.length)?null:I.reduce((K,Te)=>K&&K._find(Te),this)}getError(E,I){const K=I?this.get(I):this;return K&&K.errors?K.errors[E]:null}hasError(E,I){return!!this.getError(E,I)}get root(){let E=this;for(;E._parent;)E=E._parent;return E}_updateControlsErrors(E){this.status=this._calculateStatus(),E&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(E)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Z:this.errors?Vn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ye)?Ye:this._anyControlsHaveStatus(Vn)?Vn:mi}_anyControlsHaveStatus(E){return this._anyControls(I=>I.status===E)}_anyControlsDirty(){return this._anyControls(E=>E.dirty)}_anyControlsTouched(){return this._anyControls(E=>E.touched)}_updatePristine(E={}){this.pristine=!this._anyControlsDirty(),this._parent&&!E.onlySelf&&this._parent._updatePristine(E)}_updateTouched(E={}){this.touched=this._anyControlsTouched(),this._parent&&!E.onlySelf&&this._parent._updateTouched(E)}_registerOnCollectionChange(E){this._onCollectionChange=E}_setUpdateStrategy(E){ui(E)&&null!=E.updateOn&&(this._updateOn=E.updateOn)}_parentMarkedDirty(E){return!E&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(E){return null}_assignValidators(E){this._rawValidators=Array.isArray(E)?E.slice():E,this._composedValidatorFn=function je(D){return Array.isArray(D)?qe(D):D||null}(this._rawValidators)}_assignAsyncValidators(E){this._rawAsyncValidators=Array.isArray(E)?E.slice():E,this._composedAsyncValidatorFn=function Tn(D){return Array.isArray(D)?Ae(D):D||null}(this._rawAsyncValidators)}}class ve extends pe{constructor(E,I,K){super(X(I),Ft(K,I)),this.controls=E,this._initObservables(),this._setUpdateStrategy(I),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(E,I){return this.controls[E]?this.controls[E]:(this.controls[E]=I,I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange),I)}addControl(E,I,K={}){this.registerControl(E,I),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}removeControl(E,I={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}setControl(E,I,K={}){this.controls[E]&&this.controls[E]._registerOnCollectionChange(()=>{}),delete this.controls[E],I&&this.registerControl(E,I),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}contains(E){return this.controls.hasOwnProperty(E)&&this.controls[E].enabled}setValue(E,I={}){Qe(this,!0,E),Object.keys(E).forEach(K=>{rt(this,!0,K),this.controls[K].setValue(E[K],{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I)}patchValue(E,I={}){null!=E&&(Object.keys(E).forEach(K=>{const Te=this.controls[K];Te&&Te.patchValue(E[K],{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I))}reset(E={},I={}){this._forEachChild((K,Te)=>{K.reset(E[Te],{onlySelf:!0,emitEvent:I.emitEvent})}),this._updatePristine(I),this._updateTouched(I),this.updateValueAndValidity(I)}getRawValue(){return this._reduceChildren({},(E,I,K)=>(E[K]=I.getRawValue(),E))}_syncPendingControls(){let E=this._reduceChildren(!1,(I,K)=>!!K._syncPendingControls()||I);return E&&this.updateValueAndValidity({onlySelf:!0}),E}_forEachChild(E){Object.keys(this.controls).forEach(I=>{const K=this.controls[I];K&&E(K,I)})}_setUpControls(){this._forEachChild(E=>{E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(E){for(const[I,K]of Object.entries(this.controls))if(this.contains(I)&&E(K))return!0;return!1}_reduceValue(){return this._reduceChildren({},(I,K,Te)=>((K.enabled||this.disabled)&&(I[Te]=K.value),I))}_reduceChildren(E,I){let K=E;return this._forEachChild((Te,Ct)=>{K=I(K,Te,Ct)}),K}_allControlsDisabled(){for(const E of Object.keys(this.controls))if(this.controls[E].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(E){return this.controls.hasOwnProperty(E)?this.controls[E]:null}}class $e extends ve{}const q=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>te}),te="always";function Pe(D,E){return[...E.path,D]}function st(D,E,I=te){Pi(D,E),E.valueAccessor.writeValue(D.value),(D.disabled||"always"===I)&&E.valueAccessor.setDisabledState?.(D.disabled),function Nt(D,E){E.valueAccessor.registerOnChange(I=>{D._pendingValue=I,D._pendingChange=!0,D._pendingDirty=!0,"change"===D.updateOn&&qn(D,E)})}(D,E),function ei(D,E){const I=(K,Te)=>{E.valueAccessor.writeValue(K),Te&&E.viewToModelUpdate(K)};D.registerOnChange(I),E._registerOnDestroy(()=>{D._unregisterOnChange(I)})}(D,E),function gn(D,E){E.valueAccessor.registerOnTouched(()=>{D._pendingTouched=!0,"blur"===D.updateOn&&D._pendingChange&&qn(D,E),"submit"!==D.updateOn&&D.markAsTouched()})}(D,E),function Xn(D,E){if(E.valueAccessor.setDisabledState){const I=K=>{E.valueAccessor.setDisabledState(K)};D.registerOnDisabledChange(I),E._registerOnDestroy(()=>{D._unregisterOnDisabledChange(I)})}}(D,E)}function $t(D,E,I=!0){const K=()=>{};E.valueAccessor&&(E.valueAccessor.registerOnChange(K),E.valueAccessor.registerOnTouched(K)),Lt(D,E),D&&(E._invokeOnDestroyCallbacks(),D._registerOnCollectionChange(()=>{}))}function ln(D,E){D.forEach(I=>{I.registerOnValidatorChange&&I.registerOnValidatorChange(E)})}function Pi(D,E){const I=pt(D);null!==E.validator?D.setValidators(Ue(I,E.validator)):"function"==typeof I&&D.setValidators([I]);const K=at(D);null!==E.asyncValidator?D.setAsyncValidators(Ue(K,E.asyncValidator)):"function"==typeof K&&D.setAsyncValidators([K]);const Te=()=>D.updateValueAndValidity();ln(E._rawValidators,Te),ln(E._rawAsyncValidators,Te)}function Lt(D,E){let I=!1;if(null!==D){if(null!==E.validator){const Te=pt(D);if(Array.isArray(Te)&&Te.length>0){const Ct=Te.filter(sn=>sn!==E.validator);Ct.length!==Te.length&&(I=!0,D.setValidators(Ct))}}if(null!==E.asyncValidator){const Te=at(D);if(Array.isArray(Te)&&Te.length>0){const Ct=Te.filter(sn=>sn!==E.asyncValidator);Ct.length!==Te.length&&(I=!0,D.setAsyncValidators(Ct))}}}const K=()=>{};return ln(E._rawValidators,K),ln(E._rawAsyncValidators,K),I}function qn(D,E){D._pendingDirty&&D.markAsDirty(),D.setValue(D._pendingValue,{emitModelToViewChange:!1}),E.viewToModelUpdate(D._pendingValue),D._pendingChange=!1}function vi(D,E){Pi(D,E)}function vr(D,E){if(!D.hasOwnProperty("model"))return!1;const I=D.model;return!!I.isFirstChange()||!Object.is(E,I.currentValue)}function Ge(D,E){D._syncPendingControls(),E.forEach(I=>{const K=I.control;"submit"===K.updateOn&&K._pendingChange&&(I.viewToModelUpdate(K._pendingValue),K._pendingChange=!1)})}function ct(D,E){if(!E)return null;let I,K,Te;return Array.isArray(E),E.forEach(Ct=>{Ct.constructor===Ve?I=Ct:function gs(D){return Object.getPrototypeOf(D.constructor)===He}(Ct)?K=Ct:Te=Ct}),Te||K||I||null}const ue={provide:St,useExisting:(0,f.Gpc)(()=>qt)},Le=(()=>Promise.resolve())();let qt=(()=>{class D extends St{constructor(I,K,Te){super(),this.callSetDisabledState=Te,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new ve({},qe(I),Ae(K))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(I){Le.then(()=>{const K=this._findContainer(I.path);I.control=K.registerControl(I.name,I.control),st(I.control,I,this.callSetDisabledState),I.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(I)})}getControl(I){return this.form.get(I.path)}removeControl(I){Le.then(()=>{const K=this._findContainer(I.path);K&&K.removeControl(I.name),this._directives.delete(I)})}addFormGroup(I){Le.then(()=>{const K=this._findContainer(I.path),Te=new ve({});vi(Te,I),K.registerControl(I.name,Te),Te.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(I){Le.then(()=>{const K=this._findContainer(I.path);K&&K.removeControl(I.name)})}getFormGroup(I){return this.form.get(I.path)}updateModel(I,K){Le.then(()=>{this.form.get(I.path).setValue(K)})}setValue(I){this.control.setValue(I)}onSubmit(I){return this.submitted=!0,Ge(this.form,this._directives),this.ngSubmit.emit(I),"dialog"===I?.target?.method}onReset(){this.resetForm()}resetForm(I){this.form.reset(I),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(I){return I.pop(),I.length?this.form.get(I):this.form}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(nt,10),f.Y36(Be,10),f.Y36(q,8))},D.\u0275dir=f.lG2({type:D,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(I,K){1&I&&f.NdJ("submit",function(Ct){return K.onSubmit(Ct)})("reset",function(){return K.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([ue]),f.qOj]}),D})();function Yn(D,E){const I=D.indexOf(E);I>-1&&D.splice(I,1)}function si(D){return"object"==typeof D&&null!==D&&2===Object.keys(D).length&&"value"in D&&"disabled"in D}const $i=class extends pe{constructor(E=null,I,K){super(X(I),Ft(K,I)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(E),this._setUpdateStrategy(I),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ui(I)&&(I.nonNullable||I.initialValueIsDefault)&&(this.defaultValue=si(E)?E.value:E)}setValue(E,I={}){this.value=this._pendingValue=E,this._onChange.length&&!1!==I.emitModelToViewChange&&this._onChange.forEach(K=>K(this.value,!1!==I.emitViewToModelChange)),this.updateValueAndValidity(I)}patchValue(E,I={}){this.setValue(E,I)}reset(E=this.defaultValue,I={}){this._applyFormState(E),this.markAsPristine(I),this.markAsUntouched(I),this.setValue(this.value,I),this._pendingChange=!1}_updateValue(){}_anyControls(E){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(E){this._onChange.push(E)}_unregisterOnChange(E){Yn(this._onChange,E)}registerOnDisabledChange(E){this._onDisabledChange.push(E)}_unregisterOnDisabledChange(E){Yn(this._onDisabledChange,E)}_forEachChild(E){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(E){si(E)?(this.value=this._pendingValue=E.value,E.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=E}};let qr=(()=>{class D extends St{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Pe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return D.\u0275fac=function(){let E;return function(K){return(E||(E=f.n5z(D)))(K||D)}}(),D.\u0275dir=f.lG2({type:D,features:[f.qOj]}),D})();const Wr={provide:on,useExisting:(0,f.Gpc)(()=>nr)},Ys=(()=>Promise.resolve())();let nr=(()=>{class D extends on{constructor(I,K,Te,Ct,sn,Et){super(),this._changeDetectorRef=sn,this.callSetDisabledState=Et,this.control=new $i,this._registered=!1,this.update=new f.vpe,this._parent=I,this._setValidators(K),this._setAsyncValidators(Te),this.valueAccessor=ct(0,Ct)}ngOnChanges(I){if(this._checkForErrors(),!this._registered||"name"in I){if(this._registered&&(this._checkName(),this.formDirective)){const K=I.name.previousValue;this.formDirective.removeControl({name:K,path:this._getPath(K)})}this._setUpControl()}"isDisabled"in I&&this._updateDisabled(I),vr(I,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(I){this.viewModel=I,this.update.emit(I)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){st(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(I){Ys.then(()=>{this.control.setValue(I,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(I){const K=I.isDisabled.currentValue,Te=0!==K&&(0,f.D6c)(K);Ys.then(()=>{Te&&!this.control.disabled?this.control.disable():!Te&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(I){return this._parent?Pe(I,this._parent):[I]}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(St,9),f.Y36(nt,10),f.Y36(Be,10),f.Y36(L,10),f.Y36(f.sBO,8),f.Y36(q,8))},D.\u0275dir=f.lG2({type:D,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Wr]),f.qOj,f.TTD]}),D})(),Bi=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275dir=f.lG2({type:D,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),D})();const Qr={provide:L,useExisting:(0,f.Gpc)(()=>_s),multi:!0};let _s=(()=>{class D extends He{writeValue(I){this.setProperty("value",I??"")}registerOnChange(I){this.onChange=K=>{I(""==K?null:parseFloat(K))}}}return D.\u0275fac=function(){let E;return function(K){return(E||(E=f.n5z(D)))(K||D)}}(),D.\u0275dir=f.lG2({type:D,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(I,K){1&I&&f.NdJ("input",function(Ct){return K.onChange(Ct.target.value)})("blur",function(){return K.onTouched()})},features:[f._Bn([Qr]),f.qOj]}),D})(),Bt=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275mod=f.oAB({type:D}),D.\u0275inj=f.cJS({}),D})();const gi=new f.OlP("NgModelWithFormControlWarning"),ss={provide:St,useExisting:(0,f.Gpc)(()=>Zi)};let Zi=(()=>{class D extends St{constructor(I,K,Te){super(),this.callSetDisabledState=Te,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(I),this._setAsyncValidators(K)}ngOnChanges(I){this._checkFormPresent(),I.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(I){const K=this.form.get(I.path);return st(K,I,this.callSetDisabledState),K.updateValueAndValidity({emitEvent:!1}),this.directives.push(I),K}getControl(I){return this.form.get(I.path)}removeControl(I){$t(I.control||null,I,!1),function A(D,E){const I=D.indexOf(E);I>-1&&D.splice(I,1)}(this.directives,I)}addFormGroup(I){this._setUpFormContainer(I)}removeFormGroup(I){this._cleanUpFormContainer(I)}getFormGroup(I){return this.form.get(I.path)}addFormArray(I){this._setUpFormContainer(I)}removeFormArray(I){this._cleanUpFormContainer(I)}getFormArray(I){return this.form.get(I.path)}updateModel(I,K){this.form.get(I.path).setValue(K)}onSubmit(I){return this.submitted=!0,Ge(this.form,this.directives),this.ngSubmit.emit(I),"dialog"===I?.target?.method}onReset(){this.resetForm()}resetForm(I){this.form.reset(I),this.submitted=!1}_updateDomValue(){this.directives.forEach(I=>{const K=I.control,Te=this.form.get(I.path);K!==Te&&($t(K||null,I),(D=>D instanceof $i)(Te)&&(st(Te,I,this.callSetDisabledState),I.control=Te))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(I){const K=this.form.get(I.path);vi(K,I),K.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(I){if(this.form){const K=this.form.get(I.path);K&&function Hn(D,E){return Lt(D,E)}(K,I)&&K.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pi(this.form,this),this._oldForm&&Lt(this._oldForm,this)}_checkFormPresent(){}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(nt,10),f.Y36(Be,10),f.Y36(q,8))},D.\u0275dir=f.lG2({type:D,selectors:[["","formGroup",""]],hostBindings:function(I,K){1&I&&f.NdJ("submit",function(Ct){return K.onSubmit(Ct)})("reset",function(){return K.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([ss]),f.qOj,f.TTD]}),D})();const qi={provide:St,useExisting:(0,f.Gpc)(()=>Ts)};let Ts=(()=>{class D extends qr{constructor(I,K,Te){super(),this._parent=I,this._setValidators(K),this._setAsyncValidators(Te)}_checkParentType(){Pa(this._parent)}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(St,13),f.Y36(nt,10),f.Y36(Be,10))},D.\u0275dir=f.lG2({type:D,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([qi]),f.qOj]}),D})();const Zs={provide:St,useExisting:(0,f.Gpc)(()=>Rr)};let Rr=(()=>{class D extends St{constructor(I,K,Te){super(),this._parent=I,this._setValidators(K),this._setAsyncValidators(Te)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Pe(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Pa(this._parent)}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(St,13),f.Y36(nt,10),f.Y36(Be,10))},D.\u0275dir=f.lG2({type:D,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([Zs]),f.qOj]}),D})();function Pa(D){return!(D instanceof Ts||D instanceof Zi||D instanceof Rr)}const vo={provide:on,useExisting:(0,f.Gpc)(()=>$o)};let $o=(()=>{class D extends on{set isDisabled(I){}constructor(I,K,Te,Ct,sn){super(),this._ngModelWarningConfig=sn,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=I,this._setValidators(K),this._setAsyncValidators(Te),this.valueAccessor=ct(0,Ct)}ngOnChanges(I){this._added||this._setUpControl(),vr(I,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(I){this.viewModel=I,this.update.emit(I)}get path(){return Pe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return D._ngModelWarningSentOnce=!1,D.\u0275fac=function(I){return new(I||D)(f.Y36(St,13),f.Y36(nt,10),f.Y36(Be,10),f.Y36(L,10),f.Y36(gi,8))},D.\u0275dir=f.lG2({type:D,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([vo]),f.qOj,f.TTD]}),D})();const Go={provide:L,useExisting:(0,f.Gpc)(()=>lo),multi:!0};function Ga(D,E){return null==D?`${E}`:(E&&"object"==typeof E&&(E="Object"),`${D}: ${E}`.slice(0,50))}let lo=(()=>{class D extends He{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(I){this._compareWith=I}writeValue(I){this.value=I;const Te=Ga(this._getOptionId(I),I);this.setProperty("value",Te)}registerOnChange(I){this.onChange=K=>{this.value=this._getOptionValue(K),I(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(I){for(const K of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(K),I))return K;return null}_getOptionValue(I){const K=function is(D){return D.split(":")[0]}(I);return this._optionMap.has(K)?this._optionMap.get(K):I}}return D.\u0275fac=function(){let E;return function(K){return(E||(E=f.n5z(D)))(K||D)}}(),D.\u0275dir=f.lG2({type:D,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(I,K){1&I&&f.NdJ("change",function(Ct){return K.onChange(Ct.target.value)})("blur",function(){return K.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Go]),f.qOj]}),D})(),Ns=(()=>{class D{constructor(I,K,Te){this._element=I,this._renderer=K,this._select=Te,this._select&&(this.id=this._select._registerOption())}set ngValue(I){null!=this._select&&(this._select._optionMap.set(this.id,I),this._setElementValue(Ga(this.id,I)),this._select.writeValue(this._select.value))}set value(I){this._setElementValue(I),this._select&&this._select.writeValue(this._select.value)}_setElementValue(I){this._renderer.setProperty(this._element.nativeElement,"value",I)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(lo,9))},D.\u0275dir=f.lG2({type:D,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),D})();const Ro={provide:L,useExisting:(0,f.Gpc)(()=>wo),multi:!0};function qs(D,E){return null==D?`${E}`:("string"==typeof E&&(E=`'${E}'`),E&&"object"==typeof E&&(E="Object"),`${D}: ${E}`.slice(0,50))}let wo=(()=>{class D extends He{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(I){this._compareWith=I}writeValue(I){let K;if(this.value=I,Array.isArray(I)){const Te=I.map(Ct=>this._getOptionId(Ct));K=(Ct,sn)=>{Ct._setSelected(Te.indexOf(sn.toString())>-1)}}else K=(Te,Ct)=>{Te._setSelected(!1)};this._optionMap.forEach(K)}registerOnChange(I){this.onChange=K=>{const Te=[],Ct=K.selectedOptions;if(void 0!==Ct){const sn=Ct;for(let Et=0;Et<sn.length;Et++){const Si=this._getOptionValue(sn[Et].value);Te.push(Si)}}else{const sn=K.options;for(let Et=0;Et<sn.length;Et++){const cn=sn[Et];if(cn.selected){const Si=this._getOptionValue(cn.value);Te.push(Si)}}}this.value=Te,I(Te)}}_registerOption(I){const K=(this._idCounter++).toString();return this._optionMap.set(K,I),K}_getOptionId(I){for(const K of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(K)._value,I))return K;return null}_getOptionValue(I){const K=function bo(D){return D.split(":")[0]}(I);return this._optionMap.has(K)?this._optionMap.get(K)._value:I}}return D.\u0275fac=function(){let E;return function(K){return(E||(E=f.n5z(D)))(K||D)}}(),D.\u0275dir=f.lG2({type:D,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(I,K){1&I&&f.NdJ("change",function(Ct){return K.onChange(Ct.target)})("blur",function(){return K.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Ro]),f.qOj]}),D})(),_l=(()=>{class D{constructor(I,K,Te){this._element=I,this._renderer=K,this._select=Te,this._select&&(this.id=this._select._registerOption(this))}set ngValue(I){null!=this._select&&(this._value=I,this._setElementValue(qs(this.id,I)),this._select.writeValue(this._select.value))}set value(I){this._select?(this._value=I,this._setElementValue(qs(this.id,I)),this._select.writeValue(this._select.value)):this._setElementValue(I)}_setElementValue(I){this._renderer.setProperty(this._element.nativeElement,"value",I)}_setSelected(I){this._renderer.setProperty(this._element.nativeElement,"selected",I)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(wo,9))},D.\u0275dir=f.lG2({type:D,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),D})(),ys=(()=>{class D{constructor(){this._validator=vn}ngOnChanges(I){if(this.inputName in I){const K=this.normalizeInput(I[this.inputName].currentValue);this._enabled=this.enabled(K),this._validator=this._enabled?this.createValidator(K):vn,this._onChange&&this._onChange()}}validate(I){return this._validator(I)}registerOnValidatorChange(I){this._onChange=I}enabled(I){return null!=I}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275dir=f.lG2({type:D,features:[f.TTD]}),D})();const Wa={provide:nt,useExisting:(0,f.Gpc)(()=>no),multi:!0},Oo={provide:nt,useExisting:(0,f.Gpc)(()=>Po),multi:!0};let no=(()=>{class D extends ys{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=I=>xe}enabled(I){return I}}return D.\u0275fac=function(){let E;return function(K){return(E||(E=f.n5z(D)))(K||D)}}(),D.\u0275dir=f.lG2({type:D,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(I,K){2&I&&f.uIk("required",K._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([Wa]),f.qOj]}),D})(),Po=(()=>{class D extends no{constructor(){super(...arguments),this.createValidator=I=>Ke}}return D.\u0275fac=function(){let E;return function(K){return(E||(E=f.n5z(D)))(K||D)}}(),D.\u0275dir=f.lG2({type:D,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(I,K){2&I&&f.uIk("required",K._enabled?"":null)},features:[f._Bn([Oo]),f.qOj]}),D})(),Do=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275mod=f.oAB({type:D}),D.\u0275inj=f.cJS({imports:[Bt]}),D})();class es extends pe{constructor(E,I,K){super(X(I),Ft(K,I)),this.controls=E,this._initObservables(),this._setUpdateStrategy(I),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(E){return this.controls[this._adjustIndex(E)]}push(E,I={}){this.controls.push(E),this._registerControl(E),this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}insert(E,I,K={}){this.controls.splice(E,0,I),this._registerControl(I),this.updateValueAndValidity({emitEvent:K.emitEvent})}removeAt(E,I={}){let K=this._adjustIndex(E);K<0&&(K=0),this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),this.controls.splice(K,1),this.updateValueAndValidity({emitEvent:I.emitEvent})}setControl(E,I,K={}){let Te=this._adjustIndex(E);Te<0&&(Te=0),this.controls[Te]&&this.controls[Te]._registerOnCollectionChange(()=>{}),this.controls.splice(Te,1),I&&(this.controls.splice(Te,0,I),this._registerControl(I)),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(E,I={}){Qe(this,!1,E),E.forEach((K,Te)=>{rt(this,!1,Te),this.at(Te).setValue(K,{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I)}patchValue(E,I={}){null!=E&&(E.forEach((K,Te)=>{this.at(Te)&&this.at(Te).patchValue(K,{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I))}reset(E=[],I={}){this._forEachChild((K,Te)=>{K.reset(E[Te],{onlySelf:!0,emitEvent:I.emitEvent})}),this._updatePristine(I),this._updateTouched(I),this.updateValueAndValidity(I)}getRawValue(){return this.controls.map(E=>E.getRawValue())}clear(E={}){this.controls.length<1||(this._forEachChild(I=>I._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:E.emitEvent}))}_adjustIndex(E){return E<0?E+this.length:E}_syncPendingControls(){let E=this.controls.reduce((I,K)=>!!K._syncPendingControls()||I,!1);return E&&this.updateValueAndValidity({onlySelf:!0}),E}_forEachChild(E){this.controls.forEach((I,K)=>{E(I,K)})}_updateValue(){this.value=this.controls.filter(E=>E.enabled||this.disabled).map(E=>E.value)}_anyControls(E){return this.controls.some(I=>I.enabled&&E(I))}_setUpControls(){this._forEachChild(E=>this._registerControl(E))}_allControlsDisabled(){for(const E of this.controls)if(E.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(E){E.setParent(this),E._registerOnCollectionChange(this._onCollectionChange)}_find(E){return this.at(E)??null}}function os(D){return!!D&&(void 0!==D.asyncValidators||void 0!==D.validators||void 0!==D.updateOn)}let Na=(()=>{class D{constructor(){this.useNonNullable=!1}get nonNullable(){const I=new D;return I.useNonNullable=!0,I}group(I,K=null){const Te=this._reduceControls(I);let Ct={};return os(K)?Ct=K:null!==K&&(Ct.validators=K.validator,Ct.asyncValidators=K.asyncValidator),new ve(Te,Ct)}record(I,K=null){const Te=this._reduceControls(I);return new $e(Te,K)}control(I,K,Te){let Ct={};return this.useNonNullable?(os(K)?Ct=K:(Ct.validators=K,Ct.asyncValidators=Te),new $i(I,{...Ct,nonNullable:!0})):new $i(I,K,Te)}array(I,K,Te){const Ct=I.map(sn=>this._createControl(sn));return new es(Ct,K,Te)}_reduceControls(I){const K={};return Object.keys(I).forEach(Te=>{K[Te]=this._createControl(I[Te])}),K}_createControl(I){return I instanceof $i||I instanceof pe?I:Array.isArray(I)?this.control(I[0],I.length>1?I[1]:null,I.length>2?I[2]:null):this.control(I)}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Ti=(()=>{class D{static withConfig(I){return{ngModule:D,providers:[{provide:q,useValue:I.callSetDisabledState??te}]}}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275mod=f.oAB({type:D}),D.\u0275inj=f.cJS({imports:[Do]}),D})(),ia=(()=>{class D{static withConfig(I){return{ngModule:D,providers:[{provide:gi,useValue:I.warnOnNgModelWithFormControl??"always"},{provide:q,useValue:I.callSetDisabledState??te}]}}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275mod=f.oAB({type:D}),D.\u0275inj=f.cJS({imports:[Do]}),D})()},9638:(fn,ot,M)=>{"use strict";M.d(ot,{RK:()=>An,lW:()=>xe,ot:()=>xn});var f=M(6321),F=M(4537),_=M(6556),ce=M(1379);const S=["mat-button",""],we=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],He=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Ie=["mat-icon-button",""],Ve=["*"],nt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Be=(0,ce.pj)((0,ce.Id)((0,ce.Kr)(class{constructor(nn){this._elementRef=nn}})));let ut=(()=>{class nn extends Be{constructor(Ne,Ae,Ue,pt){super(Ne),this._platform=Ae,this._ngZone=Ue,this._animationMode=pt,this._focusMonitor=(0,F.f3M)(_.tE),this._isFab=!1;const at=Ne.nativeElement.classList;for(const Qt of nt)this._hasHostAttributes(Qt.selector)&&Qt.mdcClasses.forEach(In=>{at.add(In)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Ne="program",Ae){Ne?this._focusMonitor.focusVia(this._elementRef.nativeElement,Ne,Ae):this._elementRef.nativeElement.focus(Ae)}_hasHostAttributes(...Ne){return Ne.some(Ae=>this._elementRef.nativeElement.hasAttribute(Ae))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return nn.\u0275fac=function(Ne){F.$Z()},nn.\u0275dir=F.lG2({type:nn,viewQuery:function(Ne,Ae){if(1&Ne&&F.Gf(ce.wG,5),2&Ne){let Ue;F.iGM(Ue=F.CRH())&&(Ae.ripple=Ue.first)}},features:[F.qOj]}),nn})(),xe=(()=>{class nn extends ut{constructor(Ne,Ae,Ue,pt){super(Ne,Ae,Ue,pt)}}return nn.\u0275fac=function(Ne){return new(Ne||nn)(F.Y36(F.SBq),F.Y36(f.t4),F.Y36(F.R0b),F.Y36(F.QbO,8))},nn.\u0275cmp=F.Xpm({type:nn,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(Ne,Ae){2&Ne&&(F.uIk("disabled",Ae.disabled||null),F.ekj("_mat-animation-noopable","NoopAnimations"===Ae._animationMode)("mat-unthemed",!Ae.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[F.qOj],attrs:S,ngContentSelectors:He,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(Ne,Ae){1&Ne&&(F.F$t(we),F._UZ(0,"span",0),F.Hsn(1),F.TgZ(2,"span",1),F.Hsn(3,1),F.qZA(),F.Hsn(4,2),F._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&Ne&&(F.ekj("mdc-button__ripple",!Ae._isFab)("mdc-fab__ripple",Ae._isFab),F.xp6(6),F.Q6J("matRippleDisabled",Ae._isRippleDisabled())("matRippleTrigger",Ae._elementRef.nativeElement))},dependencies:[ce.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),nn})(),An=(()=>{class nn extends ut{constructor(Ne,Ae,Ue,pt){super(Ne,Ae,Ue,pt)}}return nn.\u0275fac=function(Ne){return new(Ne||nn)(F.Y36(F.SBq),F.Y36(f.t4),F.Y36(F.R0b),F.Y36(F.QbO,8))},nn.\u0275cmp=F.Xpm({type:nn,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(Ne,Ae){2&Ne&&(F.uIk("disabled",Ae.disabled||null),F.ekj("_mat-animation-noopable","NoopAnimations"===Ae._animationMode)("mat-unthemed",!Ae.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[F.qOj],attrs:Ie,ngContentSelectors:Ve,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(Ne,Ae){1&Ne&&(F.F$t(),F._UZ(0,"span",0),F.Hsn(1),F._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&Ne&&(F.xp6(3),F.Q6J("matRippleDisabled",Ae._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",Ae._elementRef.nativeElement))},dependencies:[ce.wG],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),nn})(),xn=(()=>{class nn{}return nn.\u0275fac=function(Ne){return new(Ne||nn)},nn.\u0275mod=F.oAB({type:nn}),nn.\u0275inj=F.cJS({imports:[ce.BQ,ce.si,ce.BQ]}),nn})()},1997:(fn,ot,M)=>{"use strict";M.d(ot,{QW:()=>Ke,a8:()=>ne});var f=M(4537),F=M(8692),_=M(1379);const ce=["*"],Oe=new f.OlP("MAT_CARD_CONFIG");let ne=(()=>{class ge{constructor(jt){this.appearance=jt?.appearance||"raised"}}return ge.\u0275fac=function(jt){return new(jt||ge)(f.Y36(Oe,8))},ge.\u0275cmp=f.Xpm({type:ge,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(jt,Ht){2&jt&&f.ekj("mat-mdc-card-outlined","outlined"===Ht.appearance)("mdc-card--outlined","outlined"===Ht.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ce,decls:1,vars:0,template:function(jt,Ht){1&jt&&(f.F$t(),f.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),ge})(),Ke=(()=>{class ge{}return ge.\u0275fac=function(jt){return new(jt||ge)},ge.\u0275mod=f.oAB({type:ge}),ge.\u0275inj=f.cJS({imports:[_.BQ,F.ez,_.BQ]}),ge})()},1379:(fn,ot,M)=>{"use strict";M.d(ot,{yN:()=>nt,mZ:()=>Be,_A:()=>An,rD:()=>at,sG:()=>Wn,Y2:()=>Dt,BQ:()=>ke,uc:()=>Mt,XK:()=>Ue,Ng:()=>Vn,rN:()=>kn,us:()=>et,wG:()=>lt,si:()=>gt,IR:()=>he,CB:()=>Un,jH:()=>mi,pj:()=>mt,Kr:()=>jt,Id:()=>ge,FD:()=>vn,sb:()=>Ht});var f=M(4537),F=M(6556),_=M(5875),S=M(8692),we=M(6321),He=M(4929),L=M(8023);let nt=(()=>{class Ye{}return Ye.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Ye.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Ye.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Ye.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Ye})(),Be=(()=>{class Ye{}return Ye.COMPLEX="375ms",Ye.ENTERING="225ms",Ye.EXITING="195ms",Ye})();const Fe=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function ut(){return!0}});let ke=(()=>{class Ye{constructor(X,je,Ft){this._sanityChecks=je,this._document=Ft,this._hasDoneGlobalChecks=!1,X._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(X){return!(0,we.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[X])}}return Ye.\u0275fac=function(X){return new(X||Ye)(f.LFG(F.qm),f.LFG(Fe,8),f.LFG(S.K0))},Ye.\u0275mod=f.oAB({type:Ye}),Ye.\u0275inj=f.cJS({imports:[_.vT,_.vT]}),Ye})();function ge(Ye){return class extends Ye{get disabled(){return this._disabled}set disabled(Z){this._disabled=(0,He.Ig)(Z)}constructor(...Z){super(...Z),this._disabled=!1}}}function mt(Ye,Z){return class extends Ye{get color(){return this._color}set color(X){const je=X||this.defaultColor;je!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),je&&this._elementRef.nativeElement.classList.add(`mat-${je}`),this._color=je)}constructor(...X){super(...X),this.defaultColor=Z,this.color=Z}}}function jt(Ye){return class extends Ye{get disableRipple(){return this._disableRipple}set disableRipple(Z){this._disableRipple=(0,He.Ig)(Z)}constructor(...Z){super(...Z),this._disableRipple=!1}}}function Ht(Ye,Z=0){return class extends Ye{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(X){this._tabIndex=null!=X?(0,He.su)(X):this.defaultTabIndex}constructor(...X){super(...X),this._tabIndex=Z,this.defaultTabIndex=Z}}}function vn(Ye){return class extends Ye{updateErrorState(){const Z=this.errorState,Tn=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Tn!==Z&&(this.errorState=Tn,this.stateChanges.next())}constructor(...Z){super(...Z),this.errorState=!1}}}const hi=new f.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function _i(){return(0,f.f3M)(f.soG)}});class An{constructor(){this._localeChanges=new L.x,this.localeChanges=this._localeChanges}getValidDateOrNull(Z){return this.isDateInstance(Z)&&this.isValid(Z)?Z:null}deserialize(Z){return null==Z||this.isDateInstance(Z)&&this.isValid(Z)?Z:this.invalid()}setLocale(Z){this.locale=Z,this._localeChanges.next()}compareDate(Z,X){return this.getYear(Z)-this.getYear(X)||this.getMonth(Z)-this.getMonth(X)||this.getDate(Z)-this.getDate(X)}sameDate(Z,X){if(Z&&X){let je=this.isValid(Z),Ft=this.isValid(X);return je&&Ft?!this.compareDate(Z,X):je==Ft}return Z==X}clampDate(Z,X,je){return X&&this.compareDate(Z,X)<0?X:je&&this.compareDate(Z,je)>0?je:Z}}const Wn=new f.OlP("mat-date-formats"),xn=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function nn(Ye,Z){const X=Array(Ye);for(let je=0;je<Ye;je++)X[je]=Z(je);return X}let qe=(()=>{class Ye extends An{constructor(X,je){super(),this.useUtcForDisplay=!1,super.setLocale(X)}getYear(X){return X.getFullYear()}getMonth(X){return X.getMonth()}getDate(X){return X.getDate()}getDayOfWeek(X){return X.getDay()}getMonthNames(X){const je=new Intl.DateTimeFormat(this.locale,{month:X,timeZone:"utc"});return nn(12,Ft=>this._format(je,new Date(2017,Ft,1)))}getDateNames(){const X=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return nn(31,je=>this._format(X,new Date(2017,0,je+1)))}getDayOfWeekNames(X){const je=new Intl.DateTimeFormat(this.locale,{weekday:X,timeZone:"utc"});return nn(7,Ft=>this._format(je,new Date(2017,0,Ft+1)))}getYearName(X){const je=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(je,X)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(X){return this.getDate(this._createDateWithOverflow(this.getYear(X),this.getMonth(X)+1,0))}clone(X){return new Date(X.getTime())}createDate(X,je,Ft){let Tn=this._createDateWithOverflow(X,je,Ft);return Tn.getMonth(),Tn}today(){return new Date}parse(X,je){return"number"==typeof X?new Date(X):X?new Date(Date.parse(X)):null}format(X,je){if(!this.isValid(X))throw Error("NativeDateAdapter: Cannot format invalid date.");const Ft=new Intl.DateTimeFormat(this.locale,{...je,timeZone:"utc"});return this._format(Ft,X)}addCalendarYears(X,je){return this.addCalendarMonths(X,12*je)}addCalendarMonths(X,je){let Ft=this._createDateWithOverflow(this.getYear(X),this.getMonth(X)+je,this.getDate(X));return this.getMonth(Ft)!=((this.getMonth(X)+je)%12+12)%12&&(Ft=this._createDateWithOverflow(this.getYear(Ft),this.getMonth(Ft),0)),Ft}addCalendarDays(X,je){return this._createDateWithOverflow(this.getYear(X),this.getMonth(X),this.getDate(X)+je)}toIso8601(X){return[X.getUTCFullYear(),this._2digit(X.getUTCMonth()+1),this._2digit(X.getUTCDate())].join("-")}deserialize(X){if("string"==typeof X){if(!X)return null;if(xn.test(X)){let je=new Date(X);if(this.isValid(je))return je}}return super.deserialize(X)}isDateInstance(X){return X instanceof Date}isValid(X){return!isNaN(X.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(X,je,Ft){const Tn=new Date;return Tn.setFullYear(X,je,Ft),Tn.setHours(0,0,0,0),Tn}_2digit(X){return("00"+X).slice(-2)}_format(X,je){const Ft=new Date;return Ft.setUTCFullYear(je.getFullYear(),je.getMonth(),je.getDate()),Ft.setUTCHours(je.getHours(),je.getMinutes(),je.getSeconds(),je.getMilliseconds()),X.format(Ft)}}return Ye.\u0275fac=function(X){return new(X||Ye)(f.LFG(hi,8),f.LFG(we.t4))},Ye.\u0275prov=f.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Ne={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Ae=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275mod=f.oAB({type:Ye}),Ye.\u0275inj=f.cJS({providers:[{provide:An,useClass:qe}]}),Ye})(),Ue=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275mod=f.oAB({type:Ye}),Ye.\u0275inj=f.cJS({providers:[{provide:Wn,useValue:Ne}],imports:[Ae]}),Ye})(),at=(()=>{class Ye{isErrorState(X,je){return!!(X&&X.invalid&&(X.touched||je&&je.submitted))}}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275prov=f.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),Ye})(),Mt=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275mod=f.oAB({type:Ye}),Ye.\u0275inj=f.cJS({imports:[ke,ke]}),Ye})();class pn{constructor(Z,X,je,Ft=!1){this._renderer=Z,this.element=X,this.config=je,this._animationForciblyDisabledThroughCss=Ft,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const St=(0,we.i$)({passive:!0,capture:!0});class on{constructor(){this._events=new Map,this._delegateEventHandler=Z=>{const X=(0,we.sA)(Z);X&&this._events.get(Z.type)?.forEach((je,Ft)=>{(Ft===X||Ft.contains(X))&&je.forEach(Tn=>Tn.handleEvent(Z))})}}addHandler(Z,X,je,Ft){const Tn=this._events.get(X);if(Tn){const ui=Tn.get(je);ui?ui.add(Ft):Tn.set(je,new Set([Ft]))}else this._events.set(X,new Map([[je,new Set([Ft])]])),Z.runOutsideAngular(()=>{document.addEventListener(X,this._delegateEventHandler,St)})}removeHandler(Z,X,je){const Ft=this._events.get(Z);if(!Ft)return;const Tn=Ft.get(X);Tn&&(Tn.delete(je),0===Tn.size&&Ft.delete(X),0===Ft.size&&(this._events.delete(Z),document.removeEventListener(Z,this._delegateEventHandler,St)))}}const wn={enterDuration:225,exitDuration:150},Jn=(0,we.i$)({passive:!0,capture:!0}),Cn=["mousedown","touchstart"],_t=["mouseup","mouseleave","touchend","touchcancel"];class he{constructor(Z,X,je,Ft){this._target=Z,this._ngZone=X,this._platform=Ft,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ft.isBrowser&&(this._containerElement=(0,He.fI)(je))}fadeInRipple(Z,X,je={}){const Ft=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Tn={...wn,...je.animation};je.centered&&(Z=Ft.left+Ft.width/2,X=Ft.top+Ft.height/2);const ui=je.radius||function Xe(Ye,Z,X){const je=Math.max(Math.abs(Ye-X.left),Math.abs(Ye-X.right)),Ft=Math.max(Math.abs(Z-X.top),Math.abs(Z-X.bottom));return Math.sqrt(je*je+Ft*Ft)}(Z,X,Ft),rt=Z-Ft.left,Qe=X-Ft.top,pe=Tn.enterDuration,ve=document.createElement("div");ve.classList.add("mat-ripple-element"),ve.style.left=rt-ui+"px",ve.style.top=Qe-ui+"px",ve.style.height=2*ui+"px",ve.style.width=2*ui+"px",null!=je.color&&(ve.style.backgroundColor=je.color),ve.style.transitionDuration=`${pe}ms`,this._containerElement.appendChild(ve);const fe=window.getComputedStyle(ve),$e=fe.transitionDuration,le="none"===fe.transitionProperty||"0s"===$e||"0s, 0s"===$e||0===Ft.width&&0===Ft.height,q=new pn(this,ve,je,le);ve.style.transform="scale3d(1, 1, 1)",q.state=0,je.persistent||(this._mostRecentTransientRipple=q);let te=null;return!le&&(pe||Tn.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Pe=()=>this._finishRippleTransition(q),st=()=>this._destroyRipple(q);ve.addEventListener("transitionend",Pe),ve.addEventListener("transitioncancel",st),te={onTransitionEnd:Pe,onTransitionCancel:st}}),this._activeRipples.set(q,te),(le||!pe)&&this._finishRippleTransition(q),q}fadeOutRipple(Z){if(2===Z.state||3===Z.state)return;const X=Z.element,je={...wn,...Z.config.animation};X.style.transitionDuration=`${je.exitDuration}ms`,X.style.opacity="0",Z.state=2,(Z._animationForciblyDisabledThroughCss||!je.exitDuration)&&this._finishRippleTransition(Z)}fadeOutAll(){this._getActiveRipples().forEach(Z=>Z.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Z=>{Z.config.persistent||Z.fadeOut()})}setupTriggerEvents(Z){const X=(0,He.fI)(Z);!this._platform.isBrowser||!X||X===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=X,Cn.forEach(je=>{he._eventManager.addHandler(this._ngZone,je,X,this)}))}handleEvent(Z){"mousedown"===Z.type?this._onMousedown(Z):"touchstart"===Z.type?this._onTouchStart(Z):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_t.forEach(X=>{this._triggerElement.addEventListener(X,this,Jn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Z){0===Z.state?this._startFadeOutTransition(Z):2===Z.state&&this._destroyRipple(Z)}_startFadeOutTransition(Z){const X=Z===this._mostRecentTransientRipple,{persistent:je}=Z.config;Z.state=1,!je&&(!X||!this._isPointerDown)&&Z.fadeOut()}_destroyRipple(Z){const X=this._activeRipples.get(Z)??null;this._activeRipples.delete(Z),this._activeRipples.size||(this._containerRect=null),Z===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Z.state=3,null!==X&&(Z.element.removeEventListener("transitionend",X.onTransitionEnd),Z.element.removeEventListener("transitioncancel",X.onTransitionCancel)),Z.element.remove()}_onMousedown(Z){const X=(0,F.X6)(Z),je=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!X&&!je&&(this._isPointerDown=!0,this.fadeInRipple(Z.clientX,Z.clientY,this._target.rippleConfig))}_onTouchStart(Z){if(!this._target.rippleDisabled&&!(0,F.yG)(Z)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const X=Z.changedTouches;for(let je=0;je<X.length;je++)this.fadeInRipple(X[je].clientX,X[je].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Z=>{!Z.config.persistent&&(1===Z.state||Z.config.terminateOnPointerUp&&0===Z.state)&&Z.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Z=this._triggerElement;Z&&(Cn.forEach(X=>he._eventManager.removeHandler(X,Z,this)),this._pointerUpEventsRegistered&&_t.forEach(X=>Z.removeEventListener(X,this,Jn)))}}he._eventManager=new on;const Dt=new f.OlP("mat-ripple-global-options");let lt=(()=>{class Ye{get disabled(){return this._disabled}set disabled(X){X&&this.fadeOutAllNonPersistent(),this._disabled=X,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(X){this._trigger=X,this._setupTriggerEventsIfEnabled()}constructor(X,je,Ft,Tn,ui){this._elementRef=X,this._animationMode=ui,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Tn||{},this._rippleRenderer=new he(this,je,X,Ft)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(X,je=0,Ft){return"number"==typeof X?this._rippleRenderer.fadeInRipple(X,je,{...this.rippleConfig,...Ft}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...X})}}return Ye.\u0275fac=function(X){return new(X||Ye)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(we.t4),f.Y36(Dt,8),f.Y36(f.QbO,8))},Ye.\u0275dir=f.lG2({type:Ye,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(X,je){2&X&&f.ekj("mat-ripple-unbounded",je.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Ye})(),gt=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275mod=f.oAB({type:Ye}),Ye.\u0275inj=f.cJS({imports:[ke,ke]}),Ye})(),et=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275mod=f.oAB({type:Ye}),Ye.\u0275inj=f.cJS({imports:[ke]}),Ye})();class kn{constructor(Z,X=!1){this.source=Z,this.isUserInput=X}}function Un(Ye,Z,X){if(X.length){let je=Z.toArray(),Ft=X.toArray(),Tn=0;for(let ui=0;ui<Ye+1;ui++)je[ui].group&&je[ui].group===Ft[Tn]&&Tn++;return Tn}return 0}function mi(Ye,Z,X,je){return Ye<X?Ye:Ye+Z>X+je?Math.max(0,Ye-je+Z):X}let Vn=(()=>{class Ye{}return Ye.\u0275fac=function(X){return new(X||Ye)},Ye.\u0275mod=f.oAB({type:Ye}),Ye.\u0275inj=f.cJS({imports:[gt,S.ez,ke,et]}),Ye})()},3704:(fn,ot,M)=>{"use strict";M.d(ot,{By:()=>Hn,FA:()=>gs,_g:()=>ji,nW:()=>$t,wx:()=>Ii,zY:()=>vi});var f=M(6556),F=M(9596),_=M(8632),ce=M(8692),S=M(4537),we=M(9638),He=M(1501),L=M(1379),Oe=M(8023),ne=M(4813),de=M(1860),ye=M(4945),Ie=M(5436),Ve=M(5875),We=M(6321),ht=M(5598),Ze=M(1927),nt=M(4970),Be=M(4929),ut=M(4091),Fe=M(92),ke=M(8659);M(9665);const xe=["mat-calendar-body",""];function Ke(Ge,ct){if(1&Ge&&(S.TgZ(0,"tr",3)(1,"td",4),S._uU(2),S.qZA()()),2&Ge){const A=S.oxw();S.xp6(1),S.Udp("padding-top",A._cellPadding)("padding-bottom",A._cellPadding),S.uIk("colspan",A.numCols),S.xp6(1),S.hij(" ",A.label," ")}}function ge(Ge,ct){if(1&Ge&&(S.TgZ(0,"td",4),S._uU(1),S.qZA()),2&Ge){const A=S.oxw(2);S.Udp("padding-top",A._cellPadding)("padding-bottom",A._cellPadding),S.uIk("colspan",A._firstRowOffset),S.xp6(1),S.hij(" ",A._firstRowOffset>=A.labelMinRequiredCells?A.label:""," ")}}function mt(Ge,ct){if(1&Ge){const A=S.EpF();S.TgZ(0,"td",8)(1,"button",9),S.NdJ("click",function(ue){const qt=S.CHM(A).$implicit,Yn=S.oxw(2);return S.KtG(Yn._cellClicked(qt,ue))})("focus",function(ue){const qt=S.CHM(A).$implicit,Yn=S.oxw(2);return S.KtG(Yn._emitActiveDateChange(qt,ue))}),S.TgZ(2,"span",10),S._uU(3),S.qZA(),S._UZ(4,"span",11),S.qZA()()}if(2&Ge){const A=ct.$implicit,Y=ct.index,ue=S.oxw().index,Le=S.oxw();S.Udp("width",Le._cellWidth)("padding-top",Le._cellPadding)("padding-bottom",Le._cellPadding),S.uIk("data-mat-row",ue)("data-mat-col",Y),S.xp6(1),S.ekj("mat-calendar-body-disabled",!A.enabled)("mat-calendar-body-active",Le._isActiveCell(ue,Y))("mat-calendar-body-range-start",Le._isRangeStart(A.compareValue))("mat-calendar-body-range-end",Le._isRangeEnd(A.compareValue))("mat-calendar-body-in-range",Le._isInRange(A.compareValue))("mat-calendar-body-comparison-bridge-start",Le._isComparisonBridgeStart(A.compareValue,ue,Y))("mat-calendar-body-comparison-bridge-end",Le._isComparisonBridgeEnd(A.compareValue,ue,Y))("mat-calendar-body-comparison-start",Le._isComparisonStart(A.compareValue))("mat-calendar-body-comparison-end",Le._isComparisonEnd(A.compareValue))("mat-calendar-body-in-comparison-range",Le._isInComparisonRange(A.compareValue))("mat-calendar-body-preview-start",Le._isPreviewStart(A.compareValue))("mat-calendar-body-preview-end",Le._isPreviewEnd(A.compareValue))("mat-calendar-body-in-preview",Le._isInPreview(A.compareValue)),S.Q6J("ngClass",A.cssClasses)("tabindex",Le._isActiveCell(ue,Y)?0:-1),S.uIk("aria-label",A.ariaLabel)("aria-disabled",!A.enabled||null)("aria-pressed",Le._isSelected(A.compareValue))("aria-current",Le.todayValue===A.compareValue?"date":null)("aria-describedby",Le._getDescribedby(A.compareValue)),S.xp6(1),S.ekj("mat-calendar-body-selected",Le._isSelected(A.compareValue))("mat-calendar-body-comparison-identical",Le._isComparisonIdentical(A.compareValue))("mat-calendar-body-today",Le.todayValue===A.compareValue),S.xp6(1),S.hij(" ",A.displayValue," ")}}function jt(Ge,ct){if(1&Ge&&(S.TgZ(0,"tr",5),S.YNc(1,ge,2,6,"td",6),S.YNc(2,mt,5,48,"td",7),S.qZA()),2&Ge){const A=ct.$implicit,Y=ct.index,ue=S.oxw();S.xp6(1),S.Q6J("ngIf",0===Y&&ue._firstRowOffset),S.xp6(1),S.Q6J("ngForOf",A)}}function Ht(Ge,ct){if(1&Ge&&(S.TgZ(0,"th",5)(1,"span",6),S._uU(2),S.qZA(),S.TgZ(3,"span",7),S._uU(4),S.qZA()()),2&Ge){const A=ct.$implicit;S.xp6(2),S.Oqu(A.long),S.xp6(2),S.Oqu(A.narrow)}}const vn=["*"];function rn(Ge,ct){}function hi(Ge,ct){if(1&Ge){const A=S.EpF();S.TgZ(0,"mat-month-view",5),S.NdJ("activeDateChange",function(ue){S.CHM(A);const Le=S.oxw();return S.KtG(Le.activeDate=ue)})("_userSelection",function(ue){S.CHM(A);const Le=S.oxw();return S.KtG(Le._dateSelected(ue))})("dragStarted",function(ue){S.CHM(A);const Le=S.oxw();return S.KtG(Le._dragStarted(ue))})("dragEnded",function(ue){S.CHM(A);const Le=S.oxw();return S.KtG(Le._dragEnded(ue))}),S.qZA()}if(2&Ge){const A=S.oxw();S.Q6J("activeDate",A.activeDate)("selected",A.selected)("dateFilter",A.dateFilter)("maxDate",A.maxDate)("minDate",A.minDate)("dateClass",A.dateClass)("comparisonStart",A.comparisonStart)("comparisonEnd",A.comparisonEnd)("startDateAccessibleName",A.startDateAccessibleName)("endDateAccessibleName",A.endDateAccessibleName)("activeDrag",A._activeDrag)}}function _i(Ge,ct){if(1&Ge){const A=S.EpF();S.TgZ(0,"mat-year-view",6),S.NdJ("activeDateChange",function(ue){S.CHM(A);const Le=S.oxw();return S.KtG(Le.activeDate=ue)})("monthSelected",function(ue){S.CHM(A);const Le=S.oxw();return S.KtG(Le._monthSelectedInYearView(ue))})("selectedChange",function(ue){S.CHM(A);const Le=S.oxw();return S.KtG(Le._goToDateInView(ue,"month"))}),S.qZA()}if(2&Ge){const A=S.oxw();S.Q6J("activeDate",A.activeDate)("selected",A.selected)("dateFilter",A.dateFilter)("maxDate",A.maxDate)("minDate",A.minDate)("dateClass",A.dateClass)}}function An(Ge,ct){if(1&Ge){const A=S.EpF();S.TgZ(0,"mat-multi-year-view",7),S.NdJ("activeDateChange",function(ue){S.CHM(A);const Le=S.oxw();return S.KtG(Le.activeDate=ue)})("yearSelected",function(ue){S.CHM(A);const Le=S.oxw();return S.KtG(Le._yearSelectedInMultiYearView(ue))})("selectedChange",function(ue){S.CHM(A);const Le=S.oxw();return S.KtG(Le._goToDateInView(ue,"year"))}),S.qZA()}if(2&Ge){const A=S.oxw();S.Q6J("activeDate",A.activeDate)("selected",A.selected)("dateFilter",A.dateFilter)("maxDate",A.maxDate)("minDate",A.minDate)("dateClass",A.dateClass)}}function Wn(Ge,ct){}const xn=["button"];function nn(Ge,ct){1&Ge&&(S.O4$(),S.TgZ(0,"svg",3),S._UZ(1,"path",4),S.qZA())}const qe=[[["","matDatepickerToggleIcon",""]]],Ne=["[matDatepickerToggleIcon]"],Ae=[[["input","matStartDate",""]],[["input","matEndDate",""]]],Ue=["input[matStartDate]","input[matEndDate]"];let Qt=(()=>{class Ge{constructor(){this.changes=new Oe.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(A,Y){return`${A} \u2013 ${Y}`}formatYearRangeLabel(A,Y){return`${A} to ${Y}`}}return Ge.\u0275fac=function(A){return new(A||Ge)},Ge.\u0275prov=S.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();class In{constructor(ct,A,Y,ue,Le={},qt=ct,Yn){this.value=ct,this.displayValue=A,this.ariaLabel=Y,this.enabled=ue,this.cssClasses=Le,this.compareValue=qt,this.rawValue=Yn}}let bn=1,Mt=(()=>{class Ge{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(A,Y){this._elementRef=A,this._ngZone=Y,this._platform=(0,S.f3M)(We.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new S.vpe,this.previewChange=new S.vpe,this.activeDateChange=new S.vpe,this.dragStarted=new S.vpe,this.dragEnded=new S.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=ue=>{if(this._skipNextFocus&&"focus"===ue.type)this._skipNextFocus=!1;else if(ue.target&&this.isRange){const Le=this._getCellFromElement(ue.target);Le&&this._ngZone.run(()=>this.previewChange.emit({value:Le.enabled?Le:null,event:ue}))}},this._touchmoveHandler=ue=>{if(!this.isRange)return;const Le=Jn(ue),qt=Le?this._getCellFromElement(Le):null;Le!==ue.target&&(this._didDragSinceMouseDown=!0),St(ue.target)&&ue.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:qt?.enabled?qt:null,event:ue}))},this._leaveHandler=ue=>{null!==this.previewEnd&&this.isRange&&("blur"!==ue.type&&(this._didDragSinceMouseDown=!0),ue.target&&this._getCellFromElement(ue.target)&&(!ue.relatedTarget||!this._getCellFromElement(ue.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:ue})))},this._mousedownHandler=ue=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const Le=ue.target&&this._getCellFromElement(ue.target);!Le||!this._isInRange(Le.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:Le.rawValue,event:ue})})},this._mouseupHandler=ue=>{if(!this.isRange)return;const Le=St(ue.target);Le?Le.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const qt=this._getCellFromElement(Le);this.dragEnded.emit({value:qt?.rawValue??null,event:ue})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:ue})})},this._touchendHandler=ue=>{const Le=Jn(ue);Le&&this._mouseupHandler({target:Le})},this._id="mat-calendar-body-"+bn++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Y.runOutsideAngular(()=>{const ue=A.nativeElement;ue.addEventListener("mouseenter",this._enterHandler,!0),ue.addEventListener("touchmove",this._touchmoveHandler,!0),ue.addEventListener("focus",this._enterHandler,!0),ue.addEventListener("mouseleave",this._leaveHandler,!0),ue.addEventListener("blur",this._leaveHandler,!0),ue.addEventListener("mousedown",this._mousedownHandler),ue.addEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(A,Y){this._didDragSinceMouseDown||A.enabled&&this.selectedValueChange.emit({value:A.value,event:Y})}_emitActiveDateChange(A,Y){A.enabled&&this.activeDateChange.emit({value:A.value,event:Y})}_isSelected(A){return this.startValue===A||this.endValue===A}ngOnChanges(A){const Y=A.numCols,{rows:ue,numCols:Le}=this;(A.rows||Y)&&(this._firstRowOffset=ue&&ue.length&&ue[0].length?Le-ue[0].length:0),(A.cellAspectRatio||Y||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/Le+"%"),(Y||!this._cellWidth)&&(this._cellWidth=100/Le+"%")}ngOnDestroy(){const A=this._elementRef.nativeElement;A.removeEventListener("mouseenter",this._enterHandler,!0),A.removeEventListener("touchmove",this._touchmoveHandler,!0),A.removeEventListener("focus",this._enterHandler,!0),A.removeEventListener("mouseleave",this._leaveHandler,!0),A.removeEventListener("blur",this._leaveHandler,!0),A.removeEventListener("mousedown",this._mousedownHandler),A.removeEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(A,Y){let ue=A*this.numCols+Y;return A&&(ue-=this._firstRowOffset),ue==this.activeCell}_focusActiveCell(A=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ht.q)(1)).subscribe(()=>{setTimeout(()=>{const Y=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Y&&(A||(this._skipNextFocus=!0),Y.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(A){return on(A,this.startValue,this.endValue)}_isRangeEnd(A){return wn(A,this.startValue,this.endValue)}_isInRange(A){return Ln(A,this.startValue,this.endValue,this.isRange)}_isComparisonStart(A){return on(A,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(A,Y,ue){if(!this._isComparisonStart(A)||this._isRangeStart(A)||!this._isInRange(A))return!1;let Le=this.rows[Y][ue-1];if(!Le){const qt=this.rows[Y-1];Le=qt&&qt[qt.length-1]}return Le&&!this._isRangeEnd(Le.compareValue)}_isComparisonBridgeEnd(A,Y,ue){if(!this._isComparisonEnd(A)||this._isRangeEnd(A)||!this._isInRange(A))return!1;let Le=this.rows[Y][ue+1];if(!Le){const qt=this.rows[Y+1];Le=qt&&qt[0]}return Le&&!this._isRangeStart(Le.compareValue)}_isComparisonEnd(A){return wn(A,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(A){return Ln(A,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(A){return this.comparisonStart===this.comparisonEnd&&A===this.comparisonStart}_isPreviewStart(A){return on(A,this.previewStart,this.previewEnd)}_isPreviewEnd(A){return wn(A,this.previewStart,this.previewEnd)}_isInPreview(A){return Ln(A,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(A){return this.isRange?this.startValue===A&&this.endValue===A?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===A?this._startDateLabelId:this.endValue===A?this._endDateLabelId:null:null}_getCellFromElement(A){const Y=St(A);if(Y){const ue=Y.getAttribute("data-mat-row"),Le=Y.getAttribute("data-mat-col");if(ue&&Le)return this.rows[parseInt(ue)][parseInt(Le)]}return null}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(S.SBq),S.Y36(S.R0b))},Ge.\u0275cmp=S.Xpm({type:Ge,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[S.TTD],attrs:xe,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(A,Y){1&A&&(S.YNc(0,Ke,3,6,"tr",0),S.YNc(1,jt,3,2,"tr",1),S.TgZ(2,"label",2),S._uU(3),S.qZA(),S.TgZ(4,"label",2),S._uU(5),S.qZA()),2&A&&(S.Q6J("ngIf",Y._firstRowOffset<Y.labelMinRequiredCells),S.xp6(1),S.Q6J("ngForOf",Y.rows),S.xp6(1),S.Q6J("id",Y._startDateLabelId),S.xp6(1),S.hij(" ",Y.startDateAccessibleName,"\n"),S.xp6(1),S.Q6J("id",Y._endDateLabelId),S.xp6(1),S.hij(" ",Y.endDateAccessibleName,"\n"))},dependencies:[ce.mk,ce.sg,ce.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),Ge})();function pn(Ge){return"TD"===Ge?.nodeName}function St(Ge){let ct;return pn(Ge)?ct=Ge:pn(Ge.parentNode)?ct=Ge.parentNode:pn(Ge.parentNode?.parentNode)&&(ct=Ge.parentNode.parentNode),null!=ct?.getAttribute("data-mat-row")?ct:null}function on(Ge,ct,A){return null!==A&&ct!==A&&Ge<A&&Ge===ct}function wn(Ge,ct,A){return null!==ct&&ct!==A&&Ge>=ct&&Ge===A}function Ln(Ge,ct,A,Y){return Y&&null!==ct&&null!==A&&ct!==A&&Ge>=ct&&Ge<=A}function Jn(Ge){const ct=Ge.changedTouches[0];return document.elementFromPoint(ct.clientX,ct.clientY)}class Cn{constructor(ct,A){this.start=ct,this.end=A}}let _t=(()=>{class Ge{constructor(A,Y){this.selection=A,this._adapter=Y,this._selectionChanged=new Oe.x,this.selectionChanged=this._selectionChanged,this.selection=A}updateSelection(A,Y){const ue=this.selection;this.selection=A,this._selectionChanged.next({selection:A,source:Y,oldValue:ue})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(A){return this._adapter.isDateInstance(A)&&this._adapter.isValid(A)}}return Ge.\u0275fac=function(A){S.$Z()},Ge.\u0275prov=S.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),he=(()=>{class Ge extends _t{constructor(A){super(null,A)}add(A){super.updateSelection(A,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const A=new Ge(this._adapter);return A.updateSelection(this.selection,this),A}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.LFG(L._A))},Ge.\u0275prov=S.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),Xe=(()=>{class Ge extends _t{constructor(A){super(new Cn(null,null),A)}add(A){let{start:Y,end:ue}=this.selection;null==Y?Y=A:null==ue?ue=A:(Y=A,ue=null),super.updateSelection(new Cn(Y,ue),this)}isValid(){const{start:A,end:Y}=this.selection;return null==A&&null==Y||(null!=A&&null!=Y?this._isValidDateInstance(A)&&this._isValidDateInstance(Y)&&this._adapter.compareDate(A,Y)<=0:(null==A||this._isValidDateInstance(A))&&(null==Y||this._isValidDateInstance(Y)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const A=new Ge(this._adapter);return A.updateSelection(this.selection,this),A}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.LFG(L._A))},Ge.\u0275prov=S.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const lt={provide:_t,deps:[[new S.FiY,new S.tp0,_t],L._A],useFactory:function Dt(Ge,ct){return Ge||new he(ct)}},Ee={provide:_t,deps:[[new S.FiY,new S.tp0,_t],L._A],useFactory:function gt(Ge,ct){return Ge||new Xe(ct)}},et=new S.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let xt=(()=>{class Ge{constructor(A){this._dateAdapter=A}selectionFinished(A,Y){let{start:ue,end:Le}=Y;return null==ue?ue=A:null==Le&&A&&this._dateAdapter.compareDate(A,ue)>=0?Le=A:(ue=A,Le=null),new Cn(ue,Le)}createPreview(A,Y){let ue=null,Le=null;return Y.start&&!Y.end&&A&&(ue=Y.start,Le=A),new Cn(ue,Le)}createDrag(A,Y,ue){let Le=Y.start,qt=Y.end;if(!Le||!qt)return null;const Yn=this._dateAdapter,si=0!==Yn.compareDate(Le,qt),$i=Yn.getYear(ue)-Yn.getYear(A),Mr=Yn.getMonth(ue)-Yn.getMonth(A),ti=Yn.getDate(ue)-Yn.getDate(A);return si&&Yn.sameDate(A,Y.start)?(Le=ue,Yn.compareDate(ue,qt)>0&&(qt=Yn.addCalendarYears(qt,$i),qt=Yn.addCalendarMonths(qt,Mr),qt=Yn.addCalendarDays(qt,ti))):si&&Yn.sameDate(A,Y.end)?(qt=ue,Yn.compareDate(ue,Le)<0&&(Le=Yn.addCalendarYears(Le,$i),Le=Yn.addCalendarMonths(Le,Mr),Le=Yn.addCalendarDays(Le,ti))):(Le=Yn.addCalendarYears(Le,$i),Le=Yn.addCalendarMonths(Le,Mr),Le=Yn.addCalendarDays(Le,ti),qt=Yn.addCalendarYears(qt,$i),qt=Yn.addCalendarMonths(qt,Mr),qt=Yn.addCalendarDays(qt,ti)),new Cn(Le,qt)}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.LFG(L._A))},Ge.\u0275prov=S.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const un={provide:et,deps:[[new S.FiY,new S.tp0,et],L._A],useFactory:function bt(Ge,ct){return Ge||new xt(ct)}};let Jt=(()=>{class Ge{get activeDate(){return this._activeDate}set activeDate(A){const Y=this._activeDate,ue=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(ue,this.minDate,this.maxDate),this._hasSameMonthAndYear(Y,this._activeDate)||this._init()}get selected(){return this._selected}set selected(A){this._selected=A instanceof Cn?A:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(A){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}get maxDate(){return this._maxDate}set maxDate(A){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}constructor(A,Y,ue,Le,qt){this._changeDetectorRef=A,this._dateFormats=Y,this._dateAdapter=ue,this._dir=Le,this._rangeStrategy=qt,this._rerenderSubscription=ne.w0.EMPTY,this.activeDrag=null,this.selectedChange=new S.vpe,this._userSelection=new S.vpe,this.dragStarted=new S.vpe,this.dragEnded=new S.vpe,this.activeDateChange=new S.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ze.O)(null)).subscribe(()=>this._init())}ngOnChanges(A){const Y=A.comparisonStart||A.comparisonEnd;Y&&!Y.firstChange&&this._setRanges(this.selected),A.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(A){const Y=A.value,ue=this._getDateFromDayOfMonth(Y);let Le,qt;this._selected instanceof Cn?(Le=this._getDateInCurrentMonth(this._selected.start),qt=this._getDateInCurrentMonth(this._selected.end)):Le=qt=this._getDateInCurrentMonth(this._selected),(Le!==Y||qt!==Y)&&this.selectedChange.emit(ue),this._userSelection.emit({value:ue,event:A.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(A){const ue=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(A.value),this._dateAdapter.compareDate(ue,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(A){const Y=this._activeDate,ue=this._isRtl();switch(A.keyCode){case Ie.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,ue?1:-1);break;case Ie.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,ue?-1:1);break;case Ie.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Ie.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Ie.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Ie.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Ie.Ku:this.activeDate=A.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Ie.VM:this.activeDate=A.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Ie.K5:case Ie.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&A.preventDefault());case Ie.hY:return void(null!=this._previewEnd&&!(0,Ie.Vb)(A)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:A}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:A})),A.preventDefault(),A.stopPropagation()));default:return}this._dateAdapter.compareDate(Y,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),A.preventDefault()}_handleCalendarBodyKeyup(A){(A.keyCode===Ie.L_||A.keyCode===Ie.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:A}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let A=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(A)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(A){this._matCalendarBody._focusActiveCell(A)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:A,value:Y}){if(this._rangeStrategy){const ue=Y?Y.rawValue:null,Le=this._rangeStrategy.createPreview(ue,this.selected,A);if(this._previewStart=this._getCellCompareValue(Le.start),this._previewEnd=this._getCellCompareValue(Le.end),this.activeDrag&&ue){const qt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,ue,A);qt&&(this._previewStart=this._getCellCompareValue(qt.start),this._previewEnd=this._getCellCompareValue(qt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(A){if(this.activeDrag)if(A.value){const Y=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,A.value,A.event);this.dragEnded.emit({value:Y??null,event:A.event})}else this.dragEnded.emit({value:null,event:A.event})}_getDateFromDayOfMonth(A){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),A)}_initWeekdays(){const A=this._dateAdapter.getFirstDayOfWeek(),Y=this._dateAdapter.getDayOfWeekNames("narrow");let Le=this._dateAdapter.getDayOfWeekNames("long").map((qt,Yn)=>({long:qt,narrow:Y[Yn]}));this._weekdays=Le.slice(A).concat(Le.slice(0,A))}_createWeekCells(){const A=this._dateAdapter.getNumDaysInMonth(this.activeDate),Y=this._dateAdapter.getDateNames();this._weeks=[[]];for(let ue=0,Le=this._firstWeekOffset;ue<A;ue++,Le++){7==Le&&(this._weeks.push([]),Le=0);const qt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),ue+1),Yn=this._shouldEnableDate(qt),si=this._dateAdapter.format(qt,this._dateFormats.display.dateA11yLabel),$i=this.dateClass?this.dateClass(qt,"month"):void 0;this._weeks[this._weeks.length-1].push(new In(ue+1,Y[ue],si,Yn,$i,this._getCellCompareValue(qt),qt))}}_shouldEnableDate(A){return!!A&&(!this.minDate||this._dateAdapter.compareDate(A,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(A,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(A))}_getDateInCurrentMonth(A){return A&&this._hasSameMonthAndYear(A,this.activeDate)?this._dateAdapter.getDate(A):null}_hasSameMonthAndYear(A,Y){return!(!A||!Y||this._dateAdapter.getMonth(A)!=this._dateAdapter.getMonth(Y)||this._dateAdapter.getYear(A)!=this._dateAdapter.getYear(Y))}_getCellCompareValue(A){if(A){const Y=this._dateAdapter.getYear(A),ue=this._dateAdapter.getMonth(A),Le=this._dateAdapter.getDate(A);return new Date(Y,ue,Le).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(A){A instanceof Cn?(this._rangeStart=this._getCellCompareValue(A.start),this._rangeEnd=this._getCellCompareValue(A.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(A),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(A){return!this.dateFilter||this.dateFilter(A)}_clearPreview(){this._previewStart=this._previewEnd=null}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(S.sBO),S.Y36(L.sG,8),S.Y36(L._A,8),S.Y36(Ve.Is,8),S.Y36(et,8))},Ge.\u0275cmp=S.Xpm({type:Ge,selectors:[["mat-month-view"]],viewQuery:function(A,Y){if(1&A&&S.Gf(Mt,5),2&A){let ue;S.iGM(ue=S.CRH())&&(Y._matCalendarBody=ue.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[S.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(A,Y){1&A&&(S.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),S.YNc(3,Ht,5,2,"th",2),S.qZA(),S.TgZ(4,"tr"),S._UZ(5,"th",3),S.qZA()(),S.TgZ(6,"tbody",4),S.NdJ("selectedValueChange",function(Le){return Y._dateSelected(Le)})("activeDateChange",function(Le){return Y._updateActiveDate(Le)})("previewChange",function(Le){return Y._previewChanged(Le)})("dragStarted",function(Le){return Y.dragStarted.emit(Le)})("dragEnded",function(Le){return Y._dragEnded(Le)})("keyup",function(Le){return Y._handleCalendarBodyKeyup(Le)})("keydown",function(Le){return Y._handleCalendarBodyKeydown(Le)}),S.qZA()()),2&A&&(S.xp6(3),S.Q6J("ngForOf",Y._weekdays),S.xp6(3),S.Q6J("label",Y._monthLabel)("rows",Y._weeks)("todayValue",Y._todayDate)("startValue",Y._rangeStart)("endValue",Y._rangeEnd)("comparisonStart",Y._comparisonRangeStart)("comparisonEnd",Y._comparisonRangeEnd)("previewStart",Y._previewStart)("previewEnd",Y._previewEnd)("isRange",Y._isRange)("labelMinRequiredCells",3)("activeCell",Y._dateAdapter.getDate(Y.activeDate)-1)("startDateAccessibleName",Y.startDateAccessibleName)("endDateAccessibleName",Y.endDateAccessibleName))},dependencies:[ce.sg,Mt],encapsulation:2,changeDetection:0}),Ge})();const yt=24;let kn=(()=>{class Ge{get activeDate(){return this._activeDate}set activeDate(A){let Y=this._activeDate;const ue=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(ue,this.minDate,this.maxDate),Sn(this._dateAdapter,Y,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(A){this._selected=A instanceof Cn?A:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A)),this._setSelectedYear(A)}get minDate(){return this._minDate}set minDate(A){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}get maxDate(){return this._maxDate}set maxDate(A){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}constructor(A,Y,ue){this._changeDetectorRef=A,this._dateAdapter=Y,this._dir=ue,this._rerenderSubscription=ne.w0.EMPTY,this.selectedChange=new S.vpe,this.yearSelected=new S.vpe,this.activeDateChange=new S.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ze.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Y=this._dateAdapter.getYear(this._activeDate)-Oi(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let ue=0,Le=[];ue<yt;ue++)Le.push(Y+ue),4==Le.length&&(this._years.push(Le.map(qt=>this._createCellForYear(qt))),Le=[]);this._changeDetectorRef.markForCheck()}_yearSelected(A){const Y=A.value,ue=this._dateAdapter.createDate(Y,0,1),Le=this._getDateFromYear(Y);this.yearSelected.emit(ue),this.selectedChange.emit(Le)}_updateActiveDate(A){const ue=this._activeDate;this.activeDate=this._getDateFromYear(A.value),this._dateAdapter.compareDate(ue,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(A){const Y=this._activeDate,ue=this._isRtl();switch(A.keyCode){case Ie.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ue?1:-1);break;case Ie.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ue?-1:1);break;case Ie.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Ie.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Ie.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Oi(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Ie.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,yt-Oi(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Ie.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,A.altKey?10*-yt:-yt);break;case Ie.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,A.altKey?10*yt:yt);break;case Ie.K5:case Ie.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Y,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),A.preventDefault()}_handleCalendarBodyKeyup(A){(A.keyCode===Ie.L_||A.keyCode===Ie.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:A}),this._selectionKeyPressed=!1)}_getActiveCell(){return Oi(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(A){const Y=this._dateAdapter.getMonth(this.activeDate),ue=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(A,Y,1));return this._dateAdapter.createDate(A,Y,Math.min(this._dateAdapter.getDate(this.activeDate),ue))}_createCellForYear(A){const Y=this._dateAdapter.createDate(A,0,1),ue=this._dateAdapter.getYearName(Y),Le=this.dateClass?this.dateClass(Y,"multi-year"):void 0;return new In(A,ue,ue,this._shouldEnableYear(A),Le)}_shouldEnableYear(A){if(null==A||this.maxDate&&A>this._dateAdapter.getYear(this.maxDate)||this.minDate&&A<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let ue=this._dateAdapter.createDate(A,0,1);this._dateAdapter.getYear(ue)==A;ue=this._dateAdapter.addCalendarDays(ue,1))if(this.dateFilter(ue))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(A){if(this._selectedYear=null,A instanceof Cn){const Y=A.start||A.end;Y&&(this._selectedYear=this._dateAdapter.getYear(Y))}else A&&(this._selectedYear=this._dateAdapter.getYear(A))}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(S.sBO),S.Y36(L._A,8),S.Y36(Ve.Is,8))},Ge.\u0275cmp=S.Xpm({type:Ge,selectors:[["mat-multi-year-view"]],viewQuery:function(A,Y){if(1&A&&S.Gf(Mt,5),2&A){let ue;S.iGM(ue=S.CRH())&&(Y._matCalendarBody=ue.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(A,Y){1&A&&(S.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),S._UZ(3,"th",2),S.qZA()(),S.TgZ(4,"tbody",3),S.NdJ("selectedValueChange",function(Le){return Y._yearSelected(Le)})("activeDateChange",function(Le){return Y._updateActiveDate(Le)})("keyup",function(Le){return Y._handleCalendarBodyKeyup(Le)})("keydown",function(Le){return Y._handleCalendarBodyKeydown(Le)}),S.qZA()()),2&A&&(S.xp6(4),S.Q6J("rows",Y._years)("todayValue",Y._todayYear)("startValue",Y._selectedYear)("endValue",Y._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",Y._getActiveCell()))},dependencies:[Mt],encapsulation:2,changeDetection:0}),Ge})();function Sn(Ge,ct,A,Y,ue){const Le=Ge.getYear(ct),qt=Ge.getYear(A),Yn=Un(Ge,Y,ue);return Math.floor((Le-Yn)/yt)===Math.floor((qt-Yn)/yt)}function Oi(Ge,ct,A,Y){return function mi(Ge,ct){return(Ge%ct+ct)%ct}(Ge.getYear(ct)-Un(Ge,A,Y),yt)}function Un(Ge,ct,A){let Y=0;return A?Y=Ge.getYear(A)-yt+1:ct&&(Y=Ge.getYear(ct)),Y}let Vn=(()=>{class Ge{get activeDate(){return this._activeDate}set activeDate(A){let Y=this._activeDate;const ue=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(ue,this.minDate,this.maxDate),this._dateAdapter.getYear(Y)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(A){this._selected=A instanceof Cn?A:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A)),this._setSelectedMonth(A)}get minDate(){return this._minDate}set minDate(A){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}get maxDate(){return this._maxDate}set maxDate(A){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}constructor(A,Y,ue,Le){this._changeDetectorRef=A,this._dateFormats=Y,this._dateAdapter=ue,this._dir=Le,this._rerenderSubscription=ne.w0.EMPTY,this.selectedChange=new S.vpe,this.monthSelected=new S.vpe,this.activeDateChange=new S.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ze.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(A){const Y=A.value,ue=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Y,1);this.monthSelected.emit(ue);const Le=this._getDateFromMonth(Y);this.selectedChange.emit(Le)}_updateActiveDate(A){const ue=this._activeDate;this.activeDate=this._getDateFromMonth(A.value),this._dateAdapter.compareDate(ue,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(A){const Y=this._activeDate,ue=this._isRtl();switch(A.keyCode){case Ie.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,ue?1:-1);break;case Ie.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,ue?-1:1);break;case Ie.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Ie.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Ie.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Ie.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Ie.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,A.altKey?-10:-1);break;case Ie.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,A.altKey?10:1);break;case Ie.K5:case Ie.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Y,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),A.preventDefault()}_handleCalendarBodyKeyup(A){(A.keyCode===Ie.L_||A.keyCode===Ie.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:A}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let A=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Y=>Y.map(ue=>this._createCellForMonth(ue,A[ue]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(A){return A&&this._dateAdapter.getYear(A)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(A):null}_getDateFromMonth(A){const Y=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),A,1),ue=this._dateAdapter.getNumDaysInMonth(Y);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),A,Math.min(this._dateAdapter.getDate(this.activeDate),ue))}_createCellForMonth(A,Y){const ue=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),A,1),Le=this._dateAdapter.format(ue,this._dateFormats.display.monthYearA11yLabel),qt=this.dateClass?this.dateClass(ue,"year"):void 0;return new In(A,Y.toLocaleUpperCase(),Le,this._shouldEnableMonth(A),qt)}_shouldEnableMonth(A){const Y=this._dateAdapter.getYear(this.activeDate);if(null==A||this._isYearAndMonthAfterMaxDate(Y,A)||this._isYearAndMonthBeforeMinDate(Y,A))return!1;if(!this.dateFilter)return!0;for(let Le=this._dateAdapter.createDate(Y,A,1);this._dateAdapter.getMonth(Le)==A;Le=this._dateAdapter.addCalendarDays(Le,1))if(this.dateFilter(Le))return!0;return!1}_isYearAndMonthAfterMaxDate(A,Y){if(this.maxDate){const ue=this._dateAdapter.getYear(this.maxDate),Le=this._dateAdapter.getMonth(this.maxDate);return A>ue||A===ue&&Y>Le}return!1}_isYearAndMonthBeforeMinDate(A,Y){if(this.minDate){const ue=this._dateAdapter.getYear(this.minDate),Le=this._dateAdapter.getMonth(this.minDate);return A<ue||A===ue&&Y<Le}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(A){this._selectedMonth=A instanceof Cn?this._getMonthInCurrentYear(A.start)||this._getMonthInCurrentYear(A.end):this._getMonthInCurrentYear(A)}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(S.sBO),S.Y36(L.sG,8),S.Y36(L._A,8),S.Y36(Ve.Is,8))},Ge.\u0275cmp=S.Xpm({type:Ge,selectors:[["mat-year-view"]],viewQuery:function(A,Y){if(1&A&&S.Gf(Mt,5),2&A){let ue;S.iGM(ue=S.CRH())&&(Y._matCalendarBody=ue.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(A,Y){1&A&&(S.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),S._UZ(3,"th",2),S.qZA()(),S.TgZ(4,"tbody",3),S.NdJ("selectedValueChange",function(Le){return Y._monthSelected(Le)})("activeDateChange",function(Le){return Y._updateActiveDate(Le)})("keyup",function(Le){return Y._handleCalendarBodyKeyup(Le)})("keydown",function(Le){return Y._handleCalendarBodyKeydown(Le)}),S.qZA()()),2&A&&(S.xp6(4),S.Q6J("label",Y._yearLabel)("rows",Y._months)("todayValue",Y._todayMonth)("startValue",Y._selectedMonth)("endValue",Y._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",Y._dateAdapter.getMonth(Y.activeDate)))},dependencies:[Mt],encapsulation:2,changeDetection:0}),Ge})(),Ye=1,Z=(()=>{class Ge{constructor(A,Y,ue,Le,qt){this._intl=A,this.calendar=Y,this._dateAdapter=ue,this._dateFormats=Le,this._id="mat-calendar-header-"+Ye++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>qt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-yt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:yt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(A,Y){return"month"==this.calendar.currentView?this._dateAdapter.getYear(A)==this._dateAdapter.getYear(Y)&&this._dateAdapter.getMonth(A)==this._dateAdapter.getMonth(Y):"year"==this.calendar.currentView?this._dateAdapter.getYear(A)==this._dateAdapter.getYear(Y):Sn(this._dateAdapter,A,Y,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Y=this._dateAdapter.getYear(this.calendar.activeDate)-Oi(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),ue=Y+yt-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Y,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(ue,0,1))]}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(Qt),S.Y36((0,S.Gpc)(()=>X)),S.Y36(L._A,8),S.Y36(L.sG,8),S.Y36(S.sBO))},Ge.\u0275cmp=S.Xpm({type:Ge,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:vn,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(A,Y){1&A&&(S.F$t(),S.TgZ(0,"div",0)(1,"div",1)(2,"button",2),S.NdJ("click",function(){return Y.currentPeriodClicked()}),S.TgZ(3,"span",3),S._uU(4),S.qZA(),S.O4$(),S.TgZ(5,"svg",4),S._UZ(6,"polygon",5),S.qZA()(),S.kcU(),S._UZ(7,"div",6),S.Hsn(8),S.TgZ(9,"button",7),S.NdJ("click",function(){return Y.previousClicked()}),S.qZA(),S.TgZ(10,"button",8),S.NdJ("click",function(){return Y.nextClicked()}),S.qZA()()(),S.TgZ(11,"label",9),S._uU(12),S.qZA()),2&A&&(S.xp6(2),S.uIk("aria-label",Y.periodButtonLabel)("aria-describedby",Y._periodButtonLabelId),S.xp6(2),S.Oqu(Y.periodButtonText),S.xp6(1),S.ekj("mat-calendar-invert","month"!==Y.calendar.currentView),S.xp6(4),S.Q6J("disabled",!Y.previousEnabled()),S.uIk("aria-label",Y.prevButtonLabel),S.xp6(1),S.Q6J("disabled",!Y.nextEnabled()),S.uIk("aria-label",Y.nextButtonLabel),S.xp6(1),S.Q6J("id",Y._periodButtonLabelId),S.xp6(1),S.Oqu(Y.periodButtonDescription))},dependencies:[we.lW,we.RK],encapsulation:2,changeDetection:0}),Ge})(),X=(()=>{class Ge{get startAt(){return this._startAt}set startAt(A){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}get selected(){return this._selected}set selected(A){this._selected=A instanceof Cn?A:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}get minDate(){return this._minDate}set minDate(A){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}get maxDate(){return this._maxDate}set maxDate(A){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}get activeDate(){return this._clampedActiveDate}set activeDate(A){this._clampedActiveDate=this._dateAdapter.clampDate(A,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(A){const Y=this._currentView!==A?A:null;this._currentView=A,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Y&&this.viewChanged.emit(Y)}constructor(A,Y,ue,Le){this._dateAdapter=Y,this._dateFormats=ue,this._changeDetectorRef=Le,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new S.vpe,this.yearSelected=new S.vpe,this.monthSelected=new S.vpe,this.viewChanged=new S.vpe(!0),this._userSelection=new S.vpe,this._userDragDrop=new S.vpe,this._activeDrag=null,this.stateChanges=new Oe.x,this._intlChanges=A.changes.subscribe(()=>{Le.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new _.C5(this.headerComponent||Z),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(A){const Y=A.minDate&&!this._dateAdapter.sameDate(A.minDate.previousValue,A.minDate.currentValue)?A.minDate:void 0,ue=A.maxDate&&!this._dateAdapter.sameDate(A.maxDate.previousValue,A.maxDate.currentValue)?A.maxDate:void 0,Le=Y||ue||A.dateFilter;if(Le&&!Le.firstChange){const qt=this._getCurrentViewComponent();qt&&(this._changeDetectorRef.detectChanges(),qt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(A){const Y=A.value;(this.selected instanceof Cn||Y&&!this._dateAdapter.sameDate(Y,this.selected))&&this.selectedChange.emit(Y),this._userSelection.emit(A)}_yearSelectedInMultiYearView(A){this.yearSelected.emit(A)}_monthSelectedInYearView(A){this.monthSelected.emit(A)}_goToDateInView(A,Y){this.activeDate=A,this.currentView=Y}_dragStarted(A){this._activeDrag=A}_dragEnded(A){this._activeDrag&&(A.value&&this._userDragDrop.emit(A),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(Qt),S.Y36(L._A,8),S.Y36(L.sG,8),S.Y36(S.sBO))},Ge.\u0275cmp=S.Xpm({type:Ge,selectors:[["mat-calendar"]],viewQuery:function(A,Y){if(1&A&&(S.Gf(Jt,5),S.Gf(Vn,5),S.Gf(kn,5)),2&A){let ue;S.iGM(ue=S.CRH())&&(Y.monthView=ue.first),S.iGM(ue=S.CRH())&&(Y.yearView=ue.first),S.iGM(ue=S.CRH())&&(Y.multiYearView=ue.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[S._Bn([lt]),S.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(A,Y){1&A&&(S.YNc(0,rn,0,0,"ng-template",0),S.TgZ(1,"div",1),S.YNc(2,hi,1,11,"mat-month-view",2),S.YNc(3,_i,1,6,"mat-year-view",3),S.YNc(4,An,1,6,"mat-multi-year-view",4),S.qZA()),2&A&&(S.Q6J("cdkPortalOutlet",Y._calendarHeaderPortal),S.xp6(1),S.Q6J("ngSwitch",Y.currentView),S.xp6(1),S.Q6J("ngSwitchCase","month"),S.xp6(1),S.Q6J("ngSwitchCase","year"),S.xp6(1),S.Q6J("ngSwitchCase","multi-year"))},dependencies:[ce.RF,ce.n9,f.kH,_.Pl,Jt,Vn,kn],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),Ge})();const je={transformPanel:(0,ut.X$)("transformPanel",[(0,ut.eR)("void => enter-dropdown",(0,ut.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ut.F4)([(0,ut.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,ut.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,ut.eR)("void => enter-dialog",(0,ut.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ut.F4)([(0,ut.oB)({opacity:0,transform:"scale(0.7)"}),(0,ut.oB)({transform:"none",opacity:1})]))),(0,ut.eR)("* => void",(0,ut.jt)("100ms linear",(0,ut.oB)({opacity:0})))]),fadeInCalendar:(0,ut.X$)("fadeInCalendar",[(0,ut.SB)("void",(0,ut.oB)({opacity:0})),(0,ut.SB)("enter",(0,ut.oB)({opacity:1})),(0,ut.eR)("void => *",(0,ut.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Ft=0;const Tn=new S.OlP("mat-datepicker-scroll-strategy"),rt={provide:Tn,deps:[F.aV],useFactory:function ui(Ge){return()=>Ge.scrollStrategies.reposition()}},Qe=(0,L.pj)(class{constructor(Ge){this._elementRef=Ge}});let pe=(()=>{class Ge extends Qe{constructor(A,Y,ue,Le,qt,Yn){super(A),this._changeDetectorRef=Y,this._globalModel=ue,this._dateAdapter=Le,this._rangeSelectionStrategy=qt,this._subscriptions=new ne.w0,this._animationDone=new Oe.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=Yn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(A){const Y=this._model.selection,ue=A.value,Le=Y instanceof Cn;if(Le&&this._rangeSelectionStrategy){const qt=this._rangeSelectionStrategy.selectionFinished(ue,Y,A.event);this._model.updateSelection(qt,this)}else ue&&(Le||!this._dateAdapter.sameDate(ue,Y))&&this._model.add(ue);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(A){this._model.updateSelection(A.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(A){this._isAnimating="start"===A.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(A,Y){this._model=A?this._globalModel.clone():this._globalModel,this._actionsPortal=A,Y&&this._changeDetectorRef.detectChanges()}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(S.SBq),S.Y36(S.sBO),S.Y36(_t),S.Y36(L._A),S.Y36(et,8),S.Y36(Qt))},Ge.\u0275cmp=S.Xpm({type:Ge,selectors:[["mat-datepicker-content"]],viewQuery:function(A,Y){if(1&A&&S.Gf(X,5),2&A){let ue;S.iGM(ue=S.CRH())&&(Y._calendar=ue.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(A,Y){1&A&&S.WFA("@transformPanel.start",function(Le){return Y._handleAnimationEvent(Le)})("@transformPanel.done",function(Le){return Y._handleAnimationEvent(Le)}),2&A&&(S.d8E("@transformPanel",Y._animationState),S.ekj("mat-datepicker-content-touch",Y.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[S.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(A,Y){if(1&A&&(S.TgZ(0,"div",0)(1,"mat-calendar",1),S.NdJ("yearSelected",function(Le){return Y.datepicker._selectYear(Le)})("monthSelected",function(Le){return Y.datepicker._selectMonth(Le)})("viewChanged",function(Le){return Y.datepicker._viewChanged(Le)})("_userSelection",function(Le){return Y._handleUserSelection(Le)})("_userDragDrop",function(Le){return Y._handleUserDragDrop(Le)}),S.qZA(),S.YNc(2,Wn,0,0,"ng-template",2),S.TgZ(3,"button",3),S.NdJ("focus",function(){return Y._closeButtonFocused=!0})("blur",function(){return Y._closeButtonFocused=!1})("click",function(){return Y.datepicker.close()}),S._uU(4),S.qZA()()),2&A){let ue;S.ekj("mat-datepicker-content-container-with-custom-header",Y.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",Y._actionsPortal),S.uIk("aria-modal",!0)("aria-labelledby",null!==(ue=Y._dialogLabelId)&&void 0!==ue?ue:void 0),S.xp6(1),S.Q6J("id",Y.datepicker.id)("ngClass",Y.datepicker.panelClass)("startAt",Y.datepicker.startAt)("startView",Y.datepicker.startView)("minDate",Y.datepicker._getMinDate())("maxDate",Y.datepicker._getMaxDate())("dateFilter",Y.datepicker._getDateFilter())("headerComponent",Y.datepicker.calendarHeaderComponent)("selected",Y._getSelected())("dateClass",Y.datepicker.dateClass)("comparisonStart",Y.comparisonStart)("comparisonEnd",Y.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",Y.startDateAccessibleName)("endDateAccessibleName",Y.endDateAccessibleName),S.xp6(1),S.Q6J("cdkPortalOutlet",Y._actionsPortal),S.xp6(1),S.ekj("cdk-visually-hidden",!Y._closeButtonFocused),S.Q6J("color",Y.color||"primary"),S.xp6(1),S.Oqu(Y._closeButtonText)}},dependencies:[ce.mk,we.lW,f.mK,_.Pl,X],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[je.transformPanel,je.fadeInCalendar]},changeDetection:0}),Ge})(),ve=(()=>{class Ge{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(A){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(A){this._color=A}get touchUi(){return this._touchUi}set touchUi(A){this._touchUi=(0,Be.Ig)(A)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(A){const Y=(0,Be.Ig)(A);Y!==this._disabled&&(this._disabled=Y,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(A){this._restoreFocus=(0,Be.Ig)(A)}get panelClass(){return this._panelClass}set panelClass(A){this._panelClass=(0,Be.du)(A)}get opened(){return this._opened}set opened(A){(0,Be.Ig)(A)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(A,Y,ue,Le,qt,Yn,si){this._overlay=A,this._ngZone=Y,this._viewContainerRef=ue,this._dateAdapter=qt,this._dir=Yn,this._model=si,this._inputStateChanges=ne.w0.EMPTY,this._document=(0,S.f3M)(ce.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new S.vpe,this.monthSelected=new S.vpe,this.viewChanged=new S.vpe(!0),this.openedStream=new S.vpe,this.closedStream=new S.vpe,this._opened=!1,this.id="mat-datepicker-"+Ft++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Oe.x,this._scrollStrategy=Le}ngOnChanges(A){const Y=A.xPosition||A.yPosition;if(Y&&!Y.firstChange&&this._overlayRef){const ue=this._overlayRef.getConfig().positionStrategy;ue instanceof F._G&&(this._setConnectedPositions(ue),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(A){this._model.add(A)}_selectYear(A){this.yearSelected.emit(A)}_selectMonth(A){this.monthSelected.emit(A)}_viewChanged(A){this.viewChanged.emit(A)}registerInput(A){return this._inputStateChanges.unsubscribe(),this.datepickerInput=A,this._inputStateChanges=A.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(A){this._actionsPortal=A,this._componentRef?.instance._assignActions(A,!0)}removeActions(A){A===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,We.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const A=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,Y=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:ue,location:Le}=this._componentRef;ue._startExitAnimation(),ue._animationDone.pipe((0,ht.q)(1)).subscribe(()=>{const qt=this._document.activeElement;A&&(!qt||qt===this._document.activeElement||Le.nativeElement.contains(qt))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}A?setTimeout(Y):Y()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(A){A.datepicker=this,A.color=this.color,A._dialogLabelId=this.datepickerInput.getOverlayLabelId(),A._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const A=this.touchUi,Y=new _.C5(pe,this._viewContainerRef),ue=this._overlayRef=this._overlay.create(new F.X_({positionStrategy:A?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[A?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:A?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(A?"dialog":"popup")}));this._getCloseStream(ue).subscribe(Le=>{Le&&Le.preventDefault(),this.close()}),ue.keydownEvents().subscribe(Le=>{const qt=Le.keyCode;(qt===Ie.LH||qt===Ie.JH||qt===Ie.oh||qt===Ie.SV||qt===Ie.Ku||qt===Ie.VM)&&Le.preventDefault()}),this._componentRef=ue.attach(Y),this._forwardContentValues(this._componentRef.instance),A||this._ngZone.onStable.pipe((0,ht.q)(1)).subscribe(()=>ue.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const A=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(A)}_setConnectedPositions(A){const Y="end"===this.xPosition?"end":"start",ue="start"===Y?"end":"start",Le="above"===this.yPosition?"bottom":"top",qt="top"===Le?"bottom":"top";return A.withPositions([{originX:Y,originY:qt,overlayX:Y,overlayY:Le},{originX:Y,originY:Le,overlayX:Y,overlayY:qt},{originX:ue,originY:qt,overlayX:ue,overlayY:Le},{originX:ue,originY:Le,overlayX:ue,overlayY:qt}])}_getCloseStream(A){const Y=["ctrlKey","shiftKey","metaKey"];return(0,de.T)(A.backdropClick(),A.detachments(),A.keydownEvents().pipe((0,nt.h)(ue=>ue.keyCode===Ie.hY&&!(0,Ie.Vb)(ue)||this.datepickerInput&&(0,Ie.Vb)(ue,"altKey")&&ue.keyCode===Ie.LH&&Y.every(Le=>!(0,Ie.Vb)(ue,Le)))))}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(F.aV),S.Y36(S.R0b),S.Y36(S.s_b),S.Y36(Tn),S.Y36(L._A,8),S.Y36(Ve.Is,8),S.Y36(_t))},Ge.\u0275dir=S.lG2({type:Ge,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[S.TTD]}),Ge})();class ft{constructor(ct,A){this.target=ct,this.targetElement=A,this.value=this.target.value}}let $e=(()=>{class Ge{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(A){this._assignValueProgrammatically(A)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(A){const Y=(0,Be.Ig)(A),ue=this._elementRef.nativeElement;this._disabled!==Y&&(this._disabled=Y,this.stateChanges.next(void 0)),Y&&this._isInitialized&&ue.blur&&ue.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(A){this._model=A,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(Y=>{if(this._shouldHandleChangeEvent(Y)){const ue=this._getValueFromModel(Y.selection);this._lastValueValid=this._isValidValue(ue),this._cvaOnChange(ue),this._onTouched(),this._formatValue(ue),this.dateInput.emit(new ft(this,this._elementRef.nativeElement)),this.dateChange.emit(new ft(this,this._elementRef.nativeElement))}})}constructor(A,Y,ue){this._elementRef=A,this._dateAdapter=Y,this._dateFormats=ue,this.dateChange=new S.vpe,this.dateInput=new S.vpe,this.stateChanges=new Oe.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=ne.w0.EMPTY,this._localeSubscription=ne.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=Le=>{const qt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le.value));return!qt||this._matchesFilter(qt)?null:{matDatepickerFilter:!0}},this._minValidator=Le=>{const qt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le.value)),Yn=this._getMinDate();return!Yn||!qt||this._dateAdapter.compareDate(Yn,qt)<=0?null:{matDatepickerMin:{min:Yn,actual:qt}}},this._maxValidator=Le=>{const qt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Le.value)),Yn=this._getMaxDate();return!Yn||!qt||this._dateAdapter.compareDate(Yn,qt)>=0?null:{matDatepickerMax:{max:Yn,actual:qt}}},this._lastValueValid=!1,this._localeSubscription=Y.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(A){le(A,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(A){this._validatorOnChange=A}validate(A){return this._validator?this._validator(A):null}writeValue(A){this._assignValueProgrammatically(A)}registerOnChange(A){this._cvaOnChange=A}registerOnTouched(A){this._onTouched=A}setDisabledState(A){this.disabled=A}_onKeydown(A){(0,Ie.Vb)(A,"altKey")&&A.keyCode===Ie.JH&&["ctrlKey","shiftKey","metaKey"].every(Le=>!(0,Ie.Vb)(A,Le))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),A.preventDefault())}_onInput(A){const Y=this._lastValueValid;let ue=this._dateAdapter.parse(A,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(ue),ue=this._dateAdapter.getValidDateOrNull(ue);const Le=!this._dateAdapter.sameDate(ue,this.value);!ue||Le?this._cvaOnChange(ue):(A&&!this.value&&this._cvaOnChange(ue),Y!==this._lastValueValid&&this._validatorOnChange()),Le&&(this._assignValue(ue),this.dateInput.emit(new ft(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new ft(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(A){this._elementRef.nativeElement.value=null!=A?this._dateAdapter.format(A,this._dateFormats.display.dateInput):""}_assignValue(A){this._model?(this._assignValueToModel(A),this._pendingValue=null):this._pendingValue=A}_isValidValue(A){return!A||this._dateAdapter.isValid(A)}_parentDisabled(){return!1}_assignValueProgrammatically(A){A=this._dateAdapter.deserialize(A),this._lastValueValid=this._isValidValue(A),A=this._dateAdapter.getValidDateOrNull(A),this._assignValue(A),this._formatValue(A)}_matchesFilter(A){const Y=this._getDateFilter();return!Y||Y(A)}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(S.SBq),S.Y36(L._A,8),S.Y36(L.sG,8))},Ge.\u0275dir=S.lG2({type:Ge,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[S.TTD]}),Ge})();function le(Ge,ct){const A=Object.keys(Ge);for(let Y of A){const{previousValue:ue,currentValue:Le}=Ge[Y];if(!ct.isDateInstance(ue)||!ct.isDateInstance(Le))return!0;if(!ct.sameDate(ue,Le))return!0}return!1}let st=(()=>{class Ge{}return Ge.\u0275fac=function(A){return new(A||Ge)},Ge.\u0275dir=S.lG2({type:Ge,selectors:[["","matDatepickerToggleIcon",""]]}),Ge})(),$t=(()=>{class Ge{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(A){this._disabled=(0,Be.Ig)(A)}constructor(A,Y,ue){this._intl=A,this._changeDetectorRef=Y,this._stateChanges=ne.w0.EMPTY;const Le=Number(ue);this.tabIndex=Le||0===Le?Le:null}ngOnChanges(A){A.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(A){this.datepicker&&!this.disabled&&(this.datepicker.open(),A.stopPropagation())}_watchStateChanges(){const A=this.datepicker?this.datepicker.stateChanges:(0,ye.of)(),Y=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,ye.of)(),ue=this.datepicker?(0,de.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,ye.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,de.T)(this._intl.changes,A,Y,ue).subscribe(()=>this._changeDetectorRef.markForCheck())}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(Qt),S.Y36(S.sBO),S.$8M("tabindex"))},Ge.\u0275cmp=S.Xpm({type:Ge,selectors:[["mat-datepicker-toggle"]],contentQueries:function(A,Y,ue){if(1&A&&S.Suo(ue,st,5),2&A){let Le;S.iGM(Le=S.CRH())&&(Y._customIcon=Le.first)}},viewQuery:function(A,Y){if(1&A&&S.Gf(xn,5),2&A){let ue;S.iGM(ue=S.CRH())&&(Y._button=ue.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(A,Y){1&A&&S.NdJ("click",function(Le){return Y._open(Le)}),2&A&&(S.uIk("tabindex",null)("data-mat-calendar",Y.datepicker?Y.datepicker.id:null),S.ekj("mat-datepicker-toggle-active",Y.datepicker&&Y.datepicker.opened)("mat-accent",Y.datepicker&&"accent"===Y.datepicker.color)("mat-warn",Y.datepicker&&"warn"===Y.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[S.TTD],ngContentSelectors:Ne,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(A,Y){1&A&&(S.F$t(qe),S.TgZ(0,"button",0,1),S.YNc(2,nn,2,0,"svg",2),S.Hsn(3),S.qZA()),2&A&&(S.Q6J("disabled",Y.disabled)("disableRipple",Y.disableRipple),S.uIk("aria-haspopup",Y.datepicker?"dialog":null)("aria-label",Y.ariaLabel||Y._intl.openCalendarLabel)("tabindex",Y.disabled?-1:Y.tabIndex),S.xp6(2),S.Q6J("ngIf",!Y._customIcon))},dependencies:[ce.O5,we.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),Ge})();function ln(Ge){return Nt(Ge,!0)}function Xn(Ge){return Ge.nodeType===Node.ELEMENT_NODE}function Nt(Ge,ct){if(Xn(Ge)&&ct){const Y=(Ge.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((ue,Le)=>{const qt=document.getElementById(Le);return qt&&ue.push(qt),ue},[]);if(Y.length)return Y.map(ue=>Nt(ue,!1)).join(" ")}if(Xn(Ge)){const A=Ge.getAttribute("aria-label")?.trim();if(A)return A}if(function Pi(Ge){return"INPUT"===Ge.nodeName}(Ge)||function Lt(Ge){return"TEXTAREA"===Ge.nodeName}(Ge)){if(Ge.labels?.length)return Array.from(Ge.labels).map(ue=>Nt(ue,!1)).join(" ");const A=Ge.getAttribute("placeholder")?.trim();if(A)return A;const Y=Ge.getAttribute("title")?.trim();if(Y)return Y}return(Ge.textContent||"").replace(/\s+/g," ").trim()}const gn=new S.OlP("MAT_DATE_RANGE_INPUT_PARENT"),ei=(0,L.FD)((()=>{class Ge extends $e{constructor(A,Y,ue,Le,qt,Yn,si,$i){super(Y,si,$i),this._rangeInput=A,this._elementRef=Y,this._defaultErrorStateMatcher=ue,this._injector=Le,this._parentForm=qt,this._parentFormGroup=Yn,this._dir=(0,S.f3M)(Ve.Is,{optional:!0})}ngOnInit(){const A=this._injector.get(Fe.a5,null,{optional:!0,self:!0});A&&(this.ngControl=A)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){const A=this._elementRef.nativeElement,Y=A.value;return Y.length>0?Y:A.placeholder}_onInput(A){super._onInput(A),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:A}){return A!==this._rangeInput._startInput&&A!==this._rangeInput._endInput}_assignValueProgrammatically(A){super._assignValueProgrammatically(A),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return ln(this._elementRef.nativeElement)}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(gn),S.Y36(S.SBq),S.Y36(L.rD),S.Y36(S.zs3),S.Y36(Fe.F,8),S.Y36(Fe.sg,8),S.Y36(L._A,8),S.Y36(L.sG,8))},Ge.\u0275dir=S.lG2({type:Ge,features:[S.qOj]}),Ge})());let vi=(()=>{class Ge extends ei{constructor(A,Y,ue,Le,qt,Yn,si,$i){super(A,Y,ue,Le,qt,Yn,si,$i),this._startValidator=Mr=>{const ti=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Mr.value)),qr=this._model?this._model.selection.end:null;return!ti||!qr||this._dateAdapter.compareDate(ti,qr)<=0?null:{matStartDateInvalid:{end:qr,actual:ti}}},this._validator=Fe.kI.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(A){return A.start}_shouldHandleChangeEvent(A){return!(!super._shouldHandleChangeEvent(A)||(A.oldValue?.start?A.selection.start&&!this._dateAdapter.compareDate(A.oldValue.start,A.selection.start):!A.selection.start))}_assignValueToModel(A){if(this._model){const Y=new Cn(A,this._model.selection.end);this._model.updateSelection(Y,this)}}_formatValue(A){super._formatValue(A),this._rangeInput._handleChildValueChange()}_onKeydown(A){const Y=this._rangeInput._endInput,ue=this._elementRef.nativeElement,Le="rtl"!==this._dir?.value;(A.keyCode===Ie.SV&&Le||A.keyCode===Ie.oh&&!Le)&&ue.selectionStart===ue.value.length&&ue.selectionEnd===ue.value.length?(A.preventDefault(),Y._elementRef.nativeElement.setSelectionRange(0,0),Y.focus()):super._onKeydown(A)}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(gn),S.Y36(S.SBq),S.Y36(L.rD),S.Y36(S.zs3),S.Y36(Fe.F,8),S.Y36(Fe.sg,8),S.Y36(L._A,8),S.Y36(L.sG,8))},Ge.\u0275dir=S.lG2({type:Ge,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(A,Y){1&A&&S.NdJ("input",function(Le){return Y._onInput(Le.target.value)})("change",function(){return Y._onChange()})("keydown",function(Le){return Y._onKeydown(Le)})("blur",function(){return Y._onBlur()}),2&A&&(S.Ikx("disabled",Y.disabled),S.uIk("aria-haspopup",Y._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==Y._rangeInput.rangePicker?null:Y._rangeInput.rangePicker.opened)&&Y._rangeInput.rangePicker.id||null)("min",Y._getMinDate()?Y._dateAdapter.toIso8601(Y._getMinDate()):null)("max",Y._getMaxDate()?Y._dateAdapter.toIso8601(Y._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[S._Bn([{provide:Fe.JU,useExisting:Ge,multi:!0},{provide:Fe.Cf,useExisting:Ge,multi:!0}]),S.qOj]}),Ge})(),Hn=(()=>{class Ge extends ei{constructor(A,Y,ue,Le,qt,Yn,si,$i){super(A,Y,ue,Le,qt,Yn,si,$i),this._endValidator=Mr=>{const ti=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Mr.value)),qr=this._model?this._model.selection.start:null;return!ti||!qr||this._dateAdapter.compareDate(ti,qr)>=0?null:{matEndDateInvalid:{start:qr,actual:ti}}},this._validator=Fe.kI.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(A){return A.end}_shouldHandleChangeEvent(A){return!(!super._shouldHandleChangeEvent(A)||(A.oldValue?.end?A.selection.end&&!this._dateAdapter.compareDate(A.oldValue.end,A.selection.end):!A.selection.end))}_assignValueToModel(A){if(this._model){const Y=new Cn(this._model.selection.start,A);this._model.updateSelection(Y,this)}}_onKeydown(A){const Y=this._rangeInput._startInput,ue=this._elementRef.nativeElement,Le="rtl"!==this._dir?.value;if(A.keyCode!==Ie.ZH||ue.value)if((A.keyCode===Ie.oh&&Le||A.keyCode===Ie.SV&&!Le)&&0===ue.selectionStart&&0===ue.selectionEnd){A.preventDefault();const qt=Y._elementRef.nativeElement.value.length;Y._elementRef.nativeElement.setSelectionRange(qt,qt),Y.focus()}else super._onKeydown(A);else Y.focus()}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(gn),S.Y36(S.SBq),S.Y36(L.rD),S.Y36(S.zs3),S.Y36(Fe.F,8),S.Y36(Fe.sg,8),S.Y36(L._A,8),S.Y36(L.sG,8))},Ge.\u0275dir=S.lG2({type:Ge,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(A,Y){1&A&&S.NdJ("input",function(Le){return Y._onInput(Le.target.value)})("change",function(){return Y._onChange()})("keydown",function(Le){return Y._onKeydown(Le)})("blur",function(){return Y._onBlur()}),2&A&&(S.Ikx("disabled",Y.disabled),S.uIk("aria-haspopup",Y._rangeInput.rangePicker?"dialog":null)("aria-owns",(null==Y._rangeInput.rangePicker?null:Y._rangeInput.rangePicker.opened)&&Y._rangeInput.rangePicker.id||null)("min",Y._getMinDate()?Y._dateAdapter.toIso8601(Y._getMinDate()):null)("max",Y._getMaxDate()?Y._dateAdapter.toIso8601(Y._getMaxDate()):null))},inputs:{errorStateMatcher:"errorStateMatcher"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[S._Bn([{provide:Fe.JU,useExisting:Ge,multi:!0},{provide:Fe.Cf,useExisting:Ge,multi:!0}]),S.qOj]}),Ge})(),Vi=0,Ii=(()=>{class Ge{get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){const A=this._startInput?._getPlaceholder()||"",Y=this._endInput?._getPlaceholder()||"";return A||Y?`${A} ${this.separator} ${Y}`:""}get rangePicker(){return this._rangePicker}set rangePicker(A){A&&(this._model=A.registerInput(this),this._rangePicker=A,this._closedSubscription.unsubscribe(),this._closedSubscription=A.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched()}),this._registerModel(this._model))}get required(){return this._required??(this._isTargetRequired(this)||this._isTargetRequired(this._startInput)||this._isTargetRequired(this._endInput))??!1}set required(A){this._required=(0,Be.Ig)(A)}get dateFilter(){return this._dateFilter}set dateFilter(A){const Y=this._startInput,ue=this._endInput,Le=Y&&Y._matchesFilter(Y.value),qt=ue&&ue._matchesFilter(Y.value);this._dateFilter=A,Y&&Y._matchesFilter(Y.value)!==Le&&Y._validatorOnChange(),ue&&ue._matchesFilter(ue.value)!==qt&&ue._validatorOnChange()}get min(){return this._min}set min(A){const Y=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A));this._dateAdapter.sameDate(Y,this._min)||(this._min=Y,this._revalidate())}get max(){return this._max}set max(A){const Y=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(A));this._dateAdapter.sameDate(Y,this._max)||(this._max=Y,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(A){const Y=(0,Be.Ig)(A);Y!==this._groupDisabled&&(this._groupDisabled=Y,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const A=!!this._startInput&&this._startInput.isEmpty(),Y=!!this._endInput&&this._endInput.isEmpty();return A&&Y}constructor(A,Y,ue,Le,qt){this._changeDetectorRef=A,this._elementRef=Y,this._dateAdapter=Le,this._formField=qt,this._closedSubscription=ne.w0.EMPTY,this.id="mat-date-range-input-"+Vi++,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new Oe.x,qt?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")&&Y.nativeElement.classList.add("mat-mdc-input-element","mat-mdc-form-field-input-control","mdc-text-field__input"),this.ngControl=ue}setDescribedByIds(A){this._ariaDescribedBy=A.length?A.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),(0,de.T)(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(A){le(A,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(A){const Y="start"===A?this._startInput:this._endInput;return Y?Y.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const A=this._formField;return A&&A._hasFloatingLabel()?A._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(A){this.focused=null!==A,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(A){this._startInput&&this._startInput._registerModel(A),this._endInput&&this._endInput._registerModel(A)}_isTargetRequired(A){return A?.ngControl?.control?.hasValidator(Fe.kI.required)}}return Ge.\u0275fac=function(A){return new(A||Ge)(S.Y36(S.sBO),S.Y36(S.SBq),S.Y36(Fe.gN,10),S.Y36(L._A,8),S.Y36(ke.G_,8))},Ge.\u0275cmp=S.Xpm({type:Ge,selectors:[["mat-date-range-input"]],contentQueries:function(A,Y,ue){if(1&A&&(S.Suo(ue,vi,5),S.Suo(ue,Hn,5)),2&A){let Le;S.iGM(Le=S.CRH())&&(Y._startInput=Le.first),S.iGM(Le=S.CRH())&&(Y._endInput=Le.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(A,Y){2&A&&(S.uIk("id",Y.id)("aria-labelledby",Y._getAriaLabelledby())("aria-describedby",Y._ariaDescribedBy)("data-mat-calendar",Y.rangePicker?Y.rangePicker.id:null),S.ekj("mat-date-range-input-hide-placeholders",Y._shouldHidePlaceholders())("mat-date-range-input-required",Y.required))},inputs:{rangePicker:"rangePicker",required:"required",dateFilter:"dateFilter",min:"min",max:"max",disabled:"disabled",separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],features:[S._Bn([{provide:ke.Eo,useExisting:Ge},{provide:gn,useExisting:Ge}]),S.TTD],ngContentSelectors:Ue,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(A,Y){1&A&&(S.F$t(Ae),S.TgZ(0,"div",0),S.NdJ("cdkFocusChange",function(Le){return Y._updateFocus(Le)}),S.TgZ(1,"div",1),S.Hsn(2),S.TgZ(3,"span",2),S._uU(4),S.qZA()(),S.TgZ(5,"span",3),S._uU(6),S.qZA(),S.TgZ(7,"div",4),S.Hsn(8,1),S.TgZ(9,"span",2),S._uU(10),S.qZA()()()),2&A&&(S.xp6(4),S.Oqu(Y._getInputMirrorValue("start")),S.xp6(1),S.ekj("mat-date-range-input-separator-hidden",Y._shouldHideSeparator()),S.xp6(1),S.Oqu(Y.separator),S.xp6(4),S.Oqu(Y._getInputMirrorValue("end")))},dependencies:[f.kH],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0}),Ge})(),ji=(()=>{class Ge extends ve{_forwardContentValues(A){super._forwardContentValues(A);const Y=this.datepickerInput;Y&&(A.comparisonStart=Y.comparisonStart,A.comparisonEnd=Y.comparisonEnd,A.startDateAccessibleName=Y._getStartDateAccessibleName(),A.endDateAccessibleName=Y._getEndDateAccessibleName())}}return Ge.\u0275fac=function(){let ct;return function(Y){return(ct||(ct=S.n5z(Ge)))(Y||Ge)}}(),Ge.\u0275cmp=S.Xpm({type:Ge,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],features:[S._Bn([Ee,un,{provide:ve,useExisting:Ge}]),S.qOj],decls:0,vars:0,template:function(A,Y){},encapsulation:2,changeDetection:0}),Ge})(),gs=(()=>{class Ge{}return Ge.\u0275fac=function(A){return new(A||Ge)},Ge.\u0275mod=S.oAB({type:Ge}),Ge.\u0275inj=S.cJS({providers:[Qt,rt],imports:[ce.ez,we.ot,F.U8,f.rt,_.eL,L.BQ,He.ZD]}),Ge})()},7914:(fn,ot,M)=>{"use strict";M.d(ot,{pp:()=>In,To:()=>bn,ib:()=>qe,u4:()=>at,yz:()=>pt,yK:()=>Qt});var f=M(4537),F=M(5834),_=M(4929),ce=M(8023),S=M(4813);let we=0;const He=new f.OlP("CdkAccordion");let L=(()=>{class Mt{constructor(){this._stateChanges=new ce.x,this._openCloseAllActions=new ce.x,this.id="cdk-accordion-"+we++,this._multi=!1}get multi(){return this._multi}set multi(St){this._multi=(0,_.Ig)(St)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(St){this._stateChanges.next(St)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return Mt.\u0275fac=function(St){return new(St||Mt)},Mt.\u0275dir=f.lG2({type:Mt,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[f._Bn([{provide:He,useExisting:Mt}]),f.TTD]}),Mt})(),Oe=0,ne=(()=>{class Mt{get expanded(){return this._expanded}set expanded(St){St=(0,_.Ig)(St),this._expanded!==St&&(this._expanded=St,this.expandedChange.emit(St),St?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(St){this._disabled=(0,_.Ig)(St)}constructor(St,on,wn){this.accordion=St,this._changeDetectorRef=on,this._expansionDispatcher=wn,this._openCloseAllSubscription=S.w0.EMPTY,this.closed=new f.vpe,this.opened=new f.vpe,this.destroyed=new f.vpe,this.expandedChange=new f.vpe,this.id="cdk-accordion-child-"+Oe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=wn.listen((Ln,Jn)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===Jn&&this.id!==Ln&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(St=>{this.disabled||(this.expanded=St)})}}return Mt.\u0275fac=function(St){return new(St||Mt)(f.Y36(He,12),f.Y36(f.sBO),f.Y36(F.A8))},Mt.\u0275dir=f.lG2({type:Mt,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[f._Bn([{provide:He,useValue:void 0}])]}),Mt})(),de=(()=>{class Mt{}return Mt.\u0275fac=function(St){return new(St||Mt)},Mt.\u0275mod=f.oAB({type:Mt}),Mt.\u0275inj=f.cJS({}),Mt})();var ye=M(8632),Ie=M(8692),Ve=M(1379),We=M(6556),ht=M(2147),Ze=M(1927),nt=M(4970),Be=M(5598),ut=M(5436),Fe=M(9018),ke=M(1860),Re=M(4091);const xe=["body"];function Ke(Mt,pn){}const ge=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],mt=["mat-expansion-panel-header","*","mat-action-row"];function jt(Mt,pn){if(1&Mt&&f._UZ(0,"span",2),2&Mt){const St=f.oxw();f.Q6J("@indicatorRotate",St._getExpandedState())}}const Ht=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],vn=["mat-panel-title","mat-panel-description","*"],rn=new f.OlP("MAT_ACCORDION"),hi="225ms cubic-bezier(0.4,0.0,0.2,1)",_i={indicatorRotate:(0,Re.X$)("indicatorRotate",[(0,Re.SB)("collapsed, void",(0,Re.oB)({transform:"rotate(0deg)"})),(0,Re.SB)("expanded",(0,Re.oB)({transform:"rotate(180deg)"})),(0,Re.eR)("expanded <=> collapsed, void => collapsed",(0,Re.jt)(hi))]),bodyExpansion:(0,Re.X$)("bodyExpansion",[(0,Re.SB)("collapsed, void",(0,Re.oB)({height:"0px",visibility:"hidden"})),(0,Re.SB)("expanded",(0,Re.oB)({height:"*",visibility:"visible"})),(0,Re.eR)("expanded <=> collapsed, void => collapsed",(0,Re.jt)(hi))])},An=new f.OlP("MAT_EXPANSION_PANEL");let Wn=(()=>{class Mt{constructor(St,on){this._template=St,this._expansionPanel=on}}return Mt.\u0275fac=function(St){return new(St||Mt)(f.Y36(f.Rgc),f.Y36(An,8))},Mt.\u0275dir=f.lG2({type:Mt,selectors:[["ng-template","matExpansionPanelContent",""]]}),Mt})(),xn=0;const nn=new f.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let qe=(()=>{class Mt extends ne{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(St){this._hideToggle=(0,_.Ig)(St)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(St){this._togglePosition=St}constructor(St,on,wn,Ln,Jn,Cn,_t){super(St,on,wn),this._viewContainerRef=Ln,this._animationMode=Cn,this._hideToggle=!1,this.afterExpand=new f.vpe,this.afterCollapse=new f.vpe,this._inputChanges=new ce.x,this._headerId="mat-expansion-panel-header-"+xn++,this._bodyAnimationDone=new ce.x,this.accordion=St,this._document=Jn,this._bodyAnimationDone.pipe((0,ht.x)((he,Xe)=>he.fromState===Xe.fromState&&he.toState===Xe.toState)).subscribe(he=>{"void"!==he.fromState&&("expanded"===he.toState?this.afterExpand.emit():"collapsed"===he.toState&&this.afterCollapse.emit())}),_t&&(this.hideToggle=_t.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,Ze.O)(null),(0,nt.h)(()=>this.expanded&&!this._portal),(0,Be.q)(1)).subscribe(()=>{this._portal=new ye.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(St){this._inputChanges.next(St)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const St=this._document.activeElement,on=this._body.nativeElement;return St===on||on.contains(St)}return!1}}return Mt.\u0275fac=function(St){return new(St||Mt)(f.Y36(rn,12),f.Y36(f.sBO),f.Y36(F.A8),f.Y36(f.s_b),f.Y36(Ie.K0),f.Y36(f.QbO,8),f.Y36(nn,8))},Mt.\u0275cmp=f.Xpm({type:Mt,selectors:[["mat-expansion-panel"]],contentQueries:function(St,on,wn){if(1&St&&f.Suo(wn,Wn,5),2&St){let Ln;f.iGM(Ln=f.CRH())&&(on._lazyContent=Ln.first)}},viewQuery:function(St,on){if(1&St&&f.Gf(xe,5),2&St){let wn;f.iGM(wn=f.CRH())&&(on._body=wn.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(St,on){2&St&&f.ekj("mat-expanded",on.expanded)("_mat-animation-noopable","NoopAnimations"===on._animationMode)("mat-expansion-panel-spacing",on._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[f._Bn([{provide:rn,useValue:void 0},{provide:An,useExisting:Mt}]),f.qOj,f.TTD],ngContentSelectors:mt,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(St,on){1&St&&(f.F$t(ge),f.Hsn(0),f.TgZ(1,"div",0,1),f.NdJ("@bodyExpansion.done",function(Ln){return on._bodyAnimationDone.next(Ln)}),f.TgZ(3,"div",2),f.Hsn(4,1),f.YNc(5,Ke,0,0,"ng-template",3),f.qZA(),f.Hsn(6,2),f.qZA()),2&St&&(f.xp6(1),f.Q6J("@bodyExpansion",on._getExpandedState())("id",on.id),f.uIk("aria-labelledby",on._headerId),f.xp6(4),f.Q6J("cdkPortalOutlet",on._portal))},dependencies:[ye.Pl],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[_i.bodyExpansion]},changeDetection:0}),Mt})();class Ae{}const Ue=(0,Ve.sb)(Ae);let pt=(()=>{class Mt extends Ue{constructor(St,on,wn,Ln,Jn,Cn,_t){super(),this.panel=St,this._element=on,this._focusMonitor=wn,this._changeDetectorRef=Ln,this._animationMode=Cn,this._parentChangeSubscription=S.w0.EMPTY;const he=St.accordion?St.accordion._stateChanges.pipe((0,nt.h)(Xe=>!(!Xe.hideToggle&&!Xe.togglePosition))):Fe.E;this.tabIndex=parseInt(_t||"")||0,this._parentChangeSubscription=(0,ke.T)(St.opened,St.closed,he,St._inputChanges.pipe((0,nt.h)(Xe=>!!(Xe.hideToggle||Xe.disabled||Xe.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),St.closed.pipe((0,nt.h)(()=>St._containsFocus())).subscribe(()=>wn.focusVia(on,"program")),Jn&&(this.expandedHeight=Jn.expandedHeight,this.collapsedHeight=Jn.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const St=this._isExpanded();return St&&this.expandedHeight?this.expandedHeight:!St&&this.collapsedHeight?this.collapsedHeight:null}_keydown(St){switch(St.keyCode){case ut.L_:case ut.K5:(0,ut.Vb)(St)||(St.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(St))}}focus(St,on){St?this._focusMonitor.focusVia(this._element,St,on):this._element.nativeElement.focus(on)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(St=>{St&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return Mt.\u0275fac=function(St){return new(St||Mt)(f.Y36(qe,1),f.Y36(f.SBq),f.Y36(We.tE),f.Y36(f.sBO),f.Y36(nn,8),f.Y36(f.QbO,8),f.$8M("tabindex"))},Mt.\u0275cmp=f.Xpm({type:Mt,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(St,on){1&St&&f.NdJ("click",function(){return on._toggle()})("keydown",function(Ln){return on._keydown(Ln)}),2&St&&(f.uIk("id",on.panel._headerId)("tabindex",on.tabIndex)("aria-controls",on._getPanelId())("aria-expanded",on._isExpanded())("aria-disabled",on.panel.disabled),f.Udp("height",on._getHeaderHeight()),f.ekj("mat-expanded",on._isExpanded())("mat-expansion-toggle-indicator-after","after"===on._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===on._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===on._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[f.qOj],ngContentSelectors:vn,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(St,on){1&St&&(f.F$t(Ht),f.TgZ(0,"span",0),f.Hsn(1),f.Hsn(2,1),f.Hsn(3,2),f.qZA(),f.YNc(4,jt,1,1,"span",1)),2&St&&(f.ekj("mat-content-hide-toggle",!on._showToggle()),f.xp6(4),f.Q6J("ngIf",on._showToggle()))},dependencies:[Ie.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[_i.indicatorRotate]},changeDetection:0}),Mt})(),at=(()=>{class Mt{}return Mt.\u0275fac=function(St){return new(St||Mt)},Mt.\u0275dir=f.lG2({type:Mt,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),Mt})(),Qt=(()=>{class Mt{}return Mt.\u0275fac=function(St){return new(St||Mt)},Mt.\u0275dir=f.lG2({type:Mt,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),Mt})(),In=(()=>{class Mt extends L{constructor(){super(...arguments),this._ownHeaders=new f.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(St){this._hideToggle=(0,_.Ig)(St)}ngAfterContentInit(){this._headers.changes.pipe((0,Ze.O)(this._headers)).subscribe(St=>{this._ownHeaders.reset(St.filter(on=>on.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new We.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(St){this._keyManager.onKeydown(St)}_handleHeaderFocus(St){this._keyManager.updateActiveItem(St)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return Mt.\u0275fac=function(){let pn;return function(on){return(pn||(pn=f.n5z(Mt)))(on||Mt)}}(),Mt.\u0275dir=f.lG2({type:Mt,selectors:[["mat-accordion"]],contentQueries:function(St,on,wn){if(1&St&&f.Suo(wn,pt,5),2&St){let Ln;f.iGM(Ln=f.CRH())&&(on._headers=Ln)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(St,on){2&St&&f.ekj("mat-accordion-multi",on.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[f._Bn([{provide:rn,useExisting:Mt}]),f.qOj]}),Mt})(),bn=(()=>{class Mt{}return Mt.\u0275fac=function(St){return new(St||Mt)},Mt.\u0275mod=f.oAB({type:Mt}),Mt.\u0275inj=f.cJS({imports:[Ie.ez,Ve.BQ,de,ye.eL]}),Mt})()},8659:(fn,ot,M)=>{"use strict";M.d(ot,{Eo:()=>Jn,G_:()=>Xe,KE:()=>bt,R9:()=>In,hX:()=>xn,lN:()=>un});var f=M(4537),F=M(5875),_=M(6321),ce=M(8023),S=M(1860),we=M(3528),He=M(8692),L=M(4929),Oe=M(4091),ne=M(7723),de=M(1379);const ye=["matFormFieldNotchedOutline",""],Ie=["*"],Ve=["textField"],We=["iconPrefixContainer"],ht=["textPrefixContainer"];function Ze(Ot,Jt){1&Ot&&f._UZ(0,"span",19)}function nt(Ot,Jt){if(1&Ot){const yt=f.EpF();f.TgZ(0,"label",17),f.NdJ("cdkObserveContent",function(){f.CHM(yt);const kn=f.oxw(2);return f.KtG(kn._refreshOutlineNotchWidth())}),f.Hsn(1,1),f.YNc(2,Ze,1,0,"span",18),f.qZA()}if(2&Ot){const yt=f.oxw(2);f.Q6J("floating",yt._shouldLabelFloat())("cdkObserveContentDisabled",!yt._hasOutline())("id",yt._labelId),f.uIk("for",yt._control.id)("aria-owns",yt._control.id),f.xp6(2),f.Q6J("ngIf",!yt.hideRequiredMarker&&yt._control.required)}}function Be(Ot,Jt){if(1&Ot&&f.YNc(0,nt,3,6,"label",16),2&Ot){const yt=f.oxw();f.Q6J("ngIf",yt._hasFloatingLabel())}}function ut(Ot,Jt){1&Ot&&f._UZ(0,"div",20)}function Fe(Ot,Jt){}function ke(Ot,Jt){if(1&Ot&&f.YNc(0,Fe,0,0,"ng-template",22),2&Ot){f.oxw(2);const yt=f.MAs(1);f.Q6J("ngTemplateOutlet",yt)}}function Re(Ot,Jt){if(1&Ot&&(f.TgZ(0,"div",21),f.YNc(1,ke,1,1,"ng-template",9),f.qZA()),2&Ot){const yt=f.oxw();f.Q6J("matFormFieldNotchedOutlineOpen",yt._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",yt._labelWidth),f.xp6(1),f.Q6J("ngIf",!yt._forceDisplayInfixLabel())}}function xe(Ot,Jt){1&Ot&&(f.TgZ(0,"div",23,24),f.Hsn(2,2),f.qZA())}function Ke(Ot,Jt){1&Ot&&(f.TgZ(0,"div",25,26),f.Hsn(2,3),f.qZA())}function ge(Ot,Jt){}function mt(Ot,Jt){if(1&Ot&&f.YNc(0,ge,0,0,"ng-template",22),2&Ot){f.oxw();const yt=f.MAs(1);f.Q6J("ngTemplateOutlet",yt)}}function jt(Ot,Jt){1&Ot&&(f.TgZ(0,"div",27),f.Hsn(1,4),f.qZA())}function Ht(Ot,Jt){1&Ot&&(f.TgZ(0,"div",28),f.Hsn(1,5),f.qZA())}function vn(Ot,Jt){1&Ot&&f._UZ(0,"div",29)}function rn(Ot,Jt){if(1&Ot&&(f.TgZ(0,"div",30),f.Hsn(1,6),f.qZA()),2&Ot){const yt=f.oxw();f.Q6J("@transitionMessages",yt._subscriptAnimationState)}}function hi(Ot,Jt){if(1&Ot&&(f.TgZ(0,"mat-hint",34),f._uU(1),f.qZA()),2&Ot){const yt=f.oxw(2);f.Q6J("id",yt._hintLabelId),f.xp6(1),f.Oqu(yt.hintLabel)}}function _i(Ot,Jt){if(1&Ot&&(f.TgZ(0,"div",31),f.YNc(1,hi,2,2,"mat-hint",32),f.Hsn(2,7),f._UZ(3,"div",33),f.Hsn(4,8),f.qZA()),2&Ot){const yt=f.oxw();f.Q6J("@transitionMessages",yt._subscriptAnimationState),f.xp6(1),f.Q6J("ngIf",yt.hintLabel)}}const An=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Wn=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let xn=(()=>{class Ot{}return Ot.\u0275fac=function(yt){return new(yt||Ot)},Ot.\u0275dir=f.lG2({type:Ot,selectors:[["mat-label"]]}),Ot})();const qe=new f.OlP("MatError");let Ae=0,Ue=(()=>{class Ot{constructor(){this.align="start",this.id="mat-mdc-hint-"+Ae++}}return Ot.\u0275fac=function(yt){return new(yt||Ot)},Ot.\u0275dir=f.lG2({type:Ot,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(yt,Vt){2&yt&&(f.Ikx("id",Vt.id),f.uIk("align",null),f.ekj("mat-mdc-form-field-hint-end","end"===Vt.align))},inputs:{align:"align",id:"id"}}),Ot})();const pt=new f.OlP("MatPrefix"),Qt=new f.OlP("MatSuffix");let In=(()=>{class Ot{constructor(){this._isText=!1}set _isTextSelector(yt){this._isText=!0}}return Ot.\u0275fac=function(yt){return new(yt||Ot)},Ot.\u0275dir=f.lG2({type:Ot,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[f._Bn([{provide:Qt,useExisting:Ot}])]}),Ot})(),bn=(()=>{class Ot{constructor(yt){this._elementRef=yt,this.floating=!1}getWidth(){return function Mt(Ot){if(null!==Ot.offsetParent)return Ot.scrollWidth;const yt=Ot.cloneNode(!0);yt.style.setProperty("position","absolute"),yt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(yt);const Vt=yt.scrollWidth;return yt.remove(),Vt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return Ot.\u0275fac=function(yt){return new(yt||Ot)(f.Y36(f.SBq))},Ot.\u0275dir=f.lG2({type:Ot,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(yt,Vt){2&yt&&f.ekj("mdc-floating-label--float-above",Vt.floating)},inputs:{floating:"floating"}}),Ot})();const pn="mdc-line-ripple--active",St="mdc-line-ripple--deactivating";let on=(()=>{class Ot{constructor(yt,Vt){this._elementRef=yt,this._handleTransitionEnd=kn=>{const Sn=this._elementRef.nativeElement.classList,Oi=Sn.contains(St);"opacity"===kn.propertyName&&Oi&&Sn.remove(pn,St)},Vt.runOutsideAngular(()=>{yt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const yt=this._elementRef.nativeElement.classList;yt.remove(St),yt.add(pn)}deactivate(){this._elementRef.nativeElement.classList.add(St)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return Ot.\u0275fac=function(yt){return new(yt||Ot)(f.Y36(f.SBq),f.Y36(f.R0b))},Ot.\u0275dir=f.lG2({type:Ot,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),Ot})(),wn=(()=>{class Ot{constructor(yt,Vt){this._elementRef=yt,this._ngZone=Vt,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const yt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");yt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(yt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>yt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return Ot.\u0275fac=function(yt){return new(yt||Ot)(f.Y36(f.SBq),f.Y36(f.R0b))},Ot.\u0275cmp=f.Xpm({type:Ot,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(yt,Vt){2&yt&&f.ekj("mdc-notched-outline--notched",Vt.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:ye,ngContentSelectors:Ie,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(yt,Vt){1&yt&&(f.F$t(),f._UZ(0,"div",0),f.TgZ(1,"div",1),f.Hsn(2),f.qZA(),f._UZ(3,"div",2)),2&yt&&(f.xp6(1),f.Udp("width",Vt._getNotchWidth()))},encapsulation:2,changeDetection:0}),Ot})();const Ln={transitionMessages:(0,Oe.X$)("transitionMessages",[(0,Oe.SB)("enter",(0,Oe.oB)({opacity:1,transform:"translateY(0%)"})),(0,Oe.eR)("void => enter",[(0,Oe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Oe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Jn=(()=>{class Ot{}return Ot.\u0275fac=function(yt){return new(yt||Ot)},Ot.\u0275dir=f.lG2({type:Ot}),Ot})();const Xe=new f.OlP("MatFormField"),Dt=new f.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let lt=0,bt=(()=>{class Ot{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(yt){this._hideRequiredMarker=(0,L.Ig)(yt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(yt){yt!==this._floatLabel&&(this._floatLabel=yt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(yt){const Vt=this._appearance;this._appearance=yt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Vt&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(yt){this._subscriptSizing=yt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(yt){this._hintLabel=yt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(yt){this._explicitFormFieldControl=yt}constructor(yt,Vt,kn,Sn,Oi,Un,mi,Vn){this._elementRef=yt,this._changeDetectorRef=Vt,this._ngZone=kn,this._dir=Sn,this._platform=Oi,this._defaults=Un,this._animationMode=mi,this._document=Vn,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+lt++,this._hintLabelId="mat-mdc-hint-"+lt++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new ce.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Un&&(Un.appearance&&(this.appearance=Un.appearance),this._hideRequiredMarker=Boolean(Un?.hideRequiredMarker),Un.color&&(this.color=Un.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const yt=this._control;yt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${yt.controlType}`),yt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),yt.ngControl&&yt.ngControl.valueChanges&&yt.ngControl.valueChanges.pipe((0,we.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(yt=>!yt._isText),this._hasTextPrefix=!!this._prefixChildren.find(yt=>yt._isText),this._hasIconSuffix=!!this._suffixChildren.find(yt=>!yt._isText),this._hasTextSuffix=!!this._suffixChildren.find(yt=>yt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,S.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,we.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,we.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(yt){const Vt=this._control?this._control.ngControl:null;return Vt&&Vt[yt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let yt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&yt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Vt=this._hintChildren?this._hintChildren.find(Sn=>"start"===Sn.align):null,kn=this._hintChildren?this._hintChildren.find(Sn=>"end"===Sn.align):null;Vt?yt.push(Vt.id):this._hintLabel&&yt.push(this._hintLabelId),kn&&yt.push(kn.id)}else this._errorChildren&&yt.push(...this._errorChildren.map(Vt=>Vt.id));this._control.setDescribedByIds(yt)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const yt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(yt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const Vt=this._iconPrefixContainer?.nativeElement,kn=this._textPrefixContainer?.nativeElement,Sn=Vt?.getBoundingClientRect().width??0,Oi=kn?.getBoundingClientRect().width??0;yt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Sn+Oi}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const yt=this._elementRef.nativeElement;if(yt.getRootNode){const Vt=yt.getRootNode();return Vt&&Vt!==yt}return document.documentElement.contains(yt)}}return Ot.\u0275fac=function(yt){return new(yt||Ot)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(F.Is),f.Y36(_.t4),f.Y36(Dt,8),f.Y36(f.QbO,8),f.Y36(He.K0))},Ot.\u0275cmp=f.Xpm({type:Ot,selectors:[["mat-form-field"]],contentQueries:function(yt,Vt,kn){if(1&yt&&(f.Suo(kn,xn,5),f.Suo(kn,xn,7),f.Suo(kn,Jn,5),f.Suo(kn,pt,5),f.Suo(kn,Qt,5),f.Suo(kn,qe,5),f.Suo(kn,Ue,5)),2&yt){let Sn;f.iGM(Sn=f.CRH())&&(Vt._labelChildNonStatic=Sn.first),f.iGM(Sn=f.CRH())&&(Vt._labelChildStatic=Sn.first),f.iGM(Sn=f.CRH())&&(Vt._formFieldControl=Sn.first),f.iGM(Sn=f.CRH())&&(Vt._prefixChildren=Sn),f.iGM(Sn=f.CRH())&&(Vt._suffixChildren=Sn),f.iGM(Sn=f.CRH())&&(Vt._errorChildren=Sn),f.iGM(Sn=f.CRH())&&(Vt._hintChildren=Sn)}},viewQuery:function(yt,Vt){if(1&yt&&(f.Gf(Ve,5),f.Gf(We,5),f.Gf(ht,5),f.Gf(bn,5),f.Gf(wn,5),f.Gf(on,5)),2&yt){let kn;f.iGM(kn=f.CRH())&&(Vt._textField=kn.first),f.iGM(kn=f.CRH())&&(Vt._iconPrefixContainer=kn.first),f.iGM(kn=f.CRH())&&(Vt._textPrefixContainer=kn.first),f.iGM(kn=f.CRH())&&(Vt._floatingLabel=kn.first),f.iGM(kn=f.CRH())&&(Vt._notchedOutline=kn.first),f.iGM(kn=f.CRH())&&(Vt._lineRipple=kn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(yt,Vt){2&yt&&f.ekj("mat-mdc-form-field-label-always-float",Vt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Vt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Vt._hasIconSuffix)("mat-form-field-invalid",Vt._control.errorState)("mat-form-field-disabled",Vt._control.disabled)("mat-form-field-autofilled",Vt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Vt._animationMode)("mat-form-field-appearance-fill","fill"==Vt.appearance)("mat-form-field-appearance-outline","outline"==Vt.appearance)("mat-form-field-hide-placeholder",Vt._hasFloatingLabel()&&!Vt._shouldLabelFloat())("mat-focused",Vt._control.focused)("mat-primary","accent"!==Vt.color&&"warn"!==Vt.color)("mat-accent","accent"===Vt.color)("mat-warn","warn"===Vt.color)("ng-untouched",Vt._shouldForward("untouched"))("ng-touched",Vt._shouldForward("touched"))("ng-pristine",Vt._shouldForward("pristine"))("ng-dirty",Vt._shouldForward("dirty"))("ng-valid",Vt._shouldForward("valid"))("ng-invalid",Vt._shouldForward("invalid"))("ng-pending",Vt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[f._Bn([{provide:Xe,useExisting:Ot}])],ngContentSelectors:Wn,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(yt,Vt){1&yt&&(f.F$t(An),f.YNc(0,Be,1,1,"ng-template",null,0,f.W1O),f.TgZ(2,"div",1,2),f.NdJ("click",function(Sn){return Vt._control.onContainerClick&&Vt._control.onContainerClick(Sn)}),f.YNc(4,ut,1,0,"div",3),f.TgZ(5,"div",4),f.YNc(6,Re,2,3,"div",5),f.YNc(7,xe,3,0,"div",6),f.YNc(8,Ke,3,0,"div",7),f.TgZ(9,"div",8),f.YNc(10,mt,1,1,"ng-template",9),f.Hsn(11),f.qZA(),f.YNc(12,jt,2,0,"div",10),f.YNc(13,Ht,2,0,"div",11),f.qZA(),f.YNc(14,vn,1,0,"div",12),f.qZA(),f.TgZ(15,"div",13),f.YNc(16,rn,2,1,"div",14),f.YNc(17,_i,5,2,"div",15),f.qZA()),2&yt&&(f.xp6(2),f.ekj("mdc-text-field--filled",!Vt._hasOutline())("mdc-text-field--outlined",Vt._hasOutline())("mdc-text-field--no-label",!Vt._hasFloatingLabel())("mdc-text-field--disabled",Vt._control.disabled)("mdc-text-field--invalid",Vt._control.errorState),f.xp6(2),f.Q6J("ngIf",!Vt._hasOutline()&&!Vt._control.disabled),f.xp6(2),f.Q6J("ngIf",Vt._hasOutline()),f.xp6(1),f.Q6J("ngIf",Vt._hasIconPrefix),f.xp6(1),f.Q6J("ngIf",Vt._hasTextPrefix),f.xp6(2),f.Q6J("ngIf",!Vt._hasOutline()||Vt._forceDisplayInfixLabel()),f.xp6(2),f.Q6J("ngIf",Vt._hasTextSuffix),f.xp6(1),f.Q6J("ngIf",Vt._hasIconSuffix),f.xp6(1),f.Q6J("ngIf",!Vt._hasOutline()),f.xp6(1),f.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Vt.subscriptSizing),f.Q6J("ngSwitch",Vt._getDisplayedMessages()),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","hint"))},dependencies:[He.O5,He.tP,He.RF,He.n9,ne.wD,Ue,bn,wn,on],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Ln.transitionMessages]},changeDetection:0}),Ot})(),un=(()=>{class Ot{}return Ot.\u0275fac=function(yt){return new(yt||Ot)},Ot.\u0275mod=f.oAB({type:Ot}),Ot.\u0275inj=f.cJS({imports:[de.BQ,He.ez,ne.Q8,de.BQ]}),Ot})()},9665:(fn,ot,M)=>{"use strict";M.d(ot,{Jk:()=>We,Nt:()=>Be,c:()=>ut});var f=M(4929),F=M(6321),_=M(4537),ce=M(9018),S=M(8023);const we=(0,F.i$)({passive:!0});let He=(()=>{class Fe{constructor(Re,xe){this._platform=Re,this._ngZone=xe,this._monitoredElements=new Map}monitor(Re){if(!this._platform.isBrowser)return ce.E;const xe=(0,f.fI)(Re),Ke=this._monitoredElements.get(xe);if(Ke)return Ke.subject;const ge=new S.x,mt="cdk-text-field-autofilled",jt=Ht=>{"cdk-text-field-autofill-start"!==Ht.animationName||xe.classList.contains(mt)?"cdk-text-field-autofill-end"===Ht.animationName&&xe.classList.contains(mt)&&(xe.classList.remove(mt),this._ngZone.run(()=>ge.next({target:Ht.target,isAutofilled:!1}))):(xe.classList.add(mt),this._ngZone.run(()=>ge.next({target:Ht.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{xe.addEventListener("animationstart",jt,we),xe.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(xe,{subject:ge,unlisten:()=>{xe.removeEventListener("animationstart",jt,we)}}),ge}stopMonitoring(Re){const xe=(0,f.fI)(Re),Ke=this._monitoredElements.get(xe);Ke&&(Ke.unlisten(),Ke.subject.complete(),xe.classList.remove("cdk-text-field-autofill-monitored"),xe.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(xe))}ngOnDestroy(){this._monitoredElements.forEach((Re,xe)=>this.stopMonitoring(xe))}}return Fe.\u0275fac=function(Re){return new(Re||Fe)(_.LFG(F.t4),_.LFG(_.R0b))},Fe.\u0275prov=_.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),ne=(()=>{class Fe{}return Fe.\u0275fac=function(Re){return new(Re||Fe)},Fe.\u0275mod=_.oAB({type:Fe}),Fe.\u0275inj=_.cJS({}),Fe})();var de=M(92),ye=M(1379),Ie=M(8659);const We=new _.OlP("MAT_INPUT_VALUE_ACCESSOR"),ht=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ze=0;const nt=(0,ye.FD)(class{constructor(Fe,ke,Re,xe){this._defaultErrorStateMatcher=Fe,this._parentForm=ke,this._parentFormGroup=Re,this.ngControl=xe,this.stateChanges=new S.x}});let Be=(()=>{class Fe extends nt{get disabled(){return this._disabled}set disabled(Re){this._disabled=(0,f.Ig)(Re),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Re){this._id=Re||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(de.kI.required)??!1}set required(Re){this._required=(0,f.Ig)(Re)}get type(){return this._type}set type(Re){this._type=Re||"text",this._validateType(),!this._isTextarea&&(0,F.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Re){Re!==this.value&&(this._inputValueAccessor.value=Re,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Re){this._readonly=(0,f.Ig)(Re)}constructor(Re,xe,Ke,ge,mt,jt,Ht,vn,rn,hi){super(jt,ge,mt,Ke),this._elementRef=Re,this._platform=xe,this._autofillMonitor=vn,this._formField=hi,this._uid="mat-input-"+Ze++,this.focused=!1,this.stateChanges=new S.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Wn=>(0,F.qK)().has(Wn)),this._iOSKeyupListener=Wn=>{const xn=Wn.target;!xn.value&&0===xn.selectionStart&&0===xn.selectionEnd&&(xn.setSelectionRange(1,1),xn.setSelectionRange(0,0))};const _i=this._elementRef.nativeElement,An=_i.nodeName.toLowerCase();this._inputValueAccessor=Ht||_i,this._previousNativeValue=this.value,this.id=this.id,xe.IOS&&rn.runOutsideAngular(()=>{Re.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===An,this._isTextarea="textarea"===An,this._isInFormField=!!hi,this._isNativeSelect&&(this.controlType=_i.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Re=>{this.autofilled=Re.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Re){this._elementRef.nativeElement.focus(Re)}_focusChanged(Re){Re!==this.focused&&(this.focused=Re,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const Re=this._elementRef.nativeElement.value;this._previousNativeValue!==Re&&(this._previousNativeValue=Re,this.stateChanges.next())}_dirtyCheckPlaceholder(){const Re=this._getPlaceholder();if(Re!==this._previousPlaceholder){const xe=this._elementRef.nativeElement;this._previousPlaceholder=Re,Re?xe.setAttribute("placeholder",Re):xe.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ht.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Re=this._elementRef.nativeElement.validity;return Re&&Re.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Re=this._elementRef.nativeElement,xe=Re.options[0];return this.focused||Re.multiple||!this.empty||!!(Re.selectedIndex>-1&&xe&&xe.label)}return this.focused||!this.empty}setDescribedByIds(Re){Re.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Re.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Re=this._elementRef.nativeElement;return this._isNativeSelect&&(Re.multiple||Re.size>1)}}return Fe.\u0275fac=function(Re){return new(Re||Fe)(_.Y36(_.SBq),_.Y36(F.t4),_.Y36(de.a5,10),_.Y36(de.F,8),_.Y36(de.sg,8),_.Y36(ye.rD),_.Y36(We,10),_.Y36(He),_.Y36(_.R0b),_.Y36(Ie.G_,8))},Fe.\u0275dir=_.lG2({type:Fe,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(Re,xe){1&Re&&_.NdJ("focus",function(){return xe._focusChanged(!0)})("blur",function(){return xe._focusChanged(!1)})("input",function(){return xe._onInput()}),2&Re&&(_.Ikx("id",xe.id)("disabled",xe.disabled)("required",xe.required),_.uIk("name",xe.name||null)("readonly",xe.readonly&&!xe._isNativeSelect||null)("aria-invalid",xe.empty&&xe.required?null:xe.errorState)("aria-required",xe.required)("id",xe.id),_.ekj("mat-input-server",xe._isServer)("mat-mdc-form-field-textarea-control",xe._isInFormField&&xe._isTextarea)("mat-mdc-form-field-input-control",xe._isInFormField)("mdc-text-field__input",xe._isInFormField)("mat-mdc-native-select-inline",xe._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[_._Bn([{provide:Ie.Eo,useExisting:Fe}]),_.qOj,_.TTD]}),Fe})(),ut=(()=>{class Fe{}return Fe.\u0275fac=function(Re){return new(Re||Fe)},Fe.\u0275mod=_.oAB({type:Fe}),Fe.\u0275inj=_.cJS({imports:[ye.BQ,Ie.lN,Ie.lN,ne,ye.BQ]}),Fe})()},3319:(fn,ot,M)=>{"use strict";M.d(ot,{Tx:()=>qe});var f=M(4537),F=M(1379),_=M(8692),S=(M(4091),M(9596)),He=(M(6321),M(1501));const _i={provide:new f.OlP("mat-menu-scroll-strategy"),deps:[S.aV],useFactory:function hi(Ne){return()=>Ne.scrollStrategies.reposition()}};let qe=(()=>{class Ne{}return Ne.\u0275fac=function(Ue){return new(Ue||Ne)},Ne.\u0275mod=f.oAB({type:Ne}),Ne.\u0275inj=f.cJS({providers:[_i],imports:[_.ez,F.si,F.BQ,S.U8,He.ZD,F.BQ]}),Ne})()},8697:(fn,ot,M)=>{"use strict";M.d(ot,{Cq:()=>Ve,Ou:()=>ye});var f=M(4537),F=M(1379),_=M(4929),ce=M(8692);const S=["determinateSpinner"];function we(We,ht){if(1&We&&(f.O4$(),f.TgZ(0,"svg",11),f._UZ(1,"circle",12),f.qZA()),2&We){const Ze=f.oxw();f.uIk("viewBox",Ze._viewBox()),f.xp6(1),f.Udp("stroke-dasharray",Ze._strokeCircumference(),"px")("stroke-dashoffset",Ze._strokeCircumference()/2,"px")("stroke-width",Ze._circleStrokeWidth(),"%"),f.uIk("r",Ze._circleRadius())}}const He=(0,F.pj)(class{constructor(We){this._elementRef=We}},"primary"),L=new f.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Oe(){return{diameter:ne}}}),ne=100;let ye=(()=>{class We extends He{constructor(Ze,nt,Be){super(Ze),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=ne,this._noopAnimations="NoopAnimations"===nt&&!!Be&&!Be._forceAnimations,Be&&(Be.color&&(this.color=this.defaultColor=Be.color),Be.diameter&&(this.diameter=Be.diameter),Be.strokeWidth&&(this.strokeWidth=Be.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(Ze){this._value=Math.max(0,Math.min(100,(0,_.su)(Ze)))}get diameter(){return this._diameter}set diameter(Ze){this._diameter=(0,_.su)(Ze)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(Ze){this._strokeWidth=(0,_.su)(Ze)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const Ze=2*this._circleRadius()+this.strokeWidth;return`0 0 ${Ze} ${Ze}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return We.\u0275fac=function(Ze){return new(Ze||We)(f.Y36(f.SBq),f.Y36(f.QbO,8),f.Y36(L))},We.\u0275cmp=f.Xpm({type:We,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(Ze,nt){if(1&Ze&&f.Gf(S,5),2&Ze){let Be;f.iGM(Be=f.CRH())&&(nt._determinateCircle=Be.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(Ze,nt){2&Ze&&(f.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===nt.mode?nt.value:null)("mode",nt.mode),f.Udp("width",nt.diameter,"px")("height",nt.diameter,"px"),f.ekj("_mat-animation-noopable",nt._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===nt.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[f.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(Ze,nt){if(1&Ze&&(f.YNc(0,we,2,8,"ng-template",null,0,f.W1O),f.TgZ(2,"div",1,2),f.O4$(),f.TgZ(4,"svg",3),f._UZ(5,"circle",4),f.qZA()(),f.kcU(),f.TgZ(6,"div",5)(7,"div",6)(8,"div",7),f.GkF(9,8),f.qZA(),f.TgZ(10,"div",9),f.GkF(11,8),f.qZA(),f.TgZ(12,"div",10),f.GkF(13,8),f.qZA()()()),2&Ze){const Be=f.MAs(1);f.xp6(4),f.uIk("viewBox",nt._viewBox()),f.xp6(1),f.Udp("stroke-dasharray",nt._strokeCircumference(),"px")("stroke-dashoffset",nt._strokeDashOffset(),"px")("stroke-width",nt._circleStrokeWidth(),"%"),f.uIk("r",nt._circleRadius()),f.xp6(4),f.Q6J("ngTemplateOutlet",Be),f.xp6(2),f.Q6J("ngTemplateOutlet",Be),f.xp6(2),f.Q6J("ngTemplateOutlet",Be)}},dependencies:[ce.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),We})(),Ve=(()=>{class We{}return We.\u0275fac=function(Ze){return new(Ze||We)},We.\u0275mod=f.oAB({type:We}),We.\u0275inj=f.cJS({imports:[ce.ez,F.BQ]}),We})()},5998:(fn,ot,M)=>{"use strict";M.d(ot,{Dx:()=>et,H7:()=>pe,b2:()=>Xe,q6:()=>Jn,se:()=>rn});var f=M(8692),F=M(4537);class _ extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends _{static makeCurrent(){(0,f.HT)(new ce)}onAndCancel(le,q,te){return le.addEventListener(q,te,!1),()=>{le.removeEventListener(q,te,!1)}}dispatchEvent(le,q){le.dispatchEvent(q)}remove(le){le.parentNode&&le.parentNode.removeChild(le)}createElement(le,q){return(q=q||this.getDefaultDocument()).createElement(le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(le){return le.nodeType===Node.ELEMENT_NODE}isShadowRoot(le){return le instanceof DocumentFragment}getGlobalEventTarget(le,q){return"window"===q?window:"document"===q?le:"body"===q?le.body:null}getBaseHref(le){const q=function we(){return S=S||document.querySelector("base"),S?S.getAttribute("href"):null}();return null==q?null:function L($e){He=He||document.createElement("a"),He.setAttribute("href",$e);const le=He.pathname;return"/"===le.charAt(0)?le:`/${le}`}(q)}resetBaseElement(){S=null}getUserAgent(){return window.navigator.userAgent}getCookie(le){return(0,f.Mx)(document.cookie,le)}}let He,S=null;const Oe=new F.OlP("TRANSITION_ID"),de=[{provide:F.ip1,useFactory:function ne($e,le,q){return()=>{q.get(F.CZH).donePromise.then(()=>{const te=(0,f.q)(),Pe=le.querySelectorAll(`style[ng-transition="${$e}"]`);for(let st=0;st<Pe.length;st++)te.remove(Pe[st])})}},deps:[Oe,f.K0,F.zs3],multi:!0}];let Ie=(()=>{class $e{build(){return new XMLHttpRequest}}return $e.\u0275fac=function(q){return new(q||$e)},$e.\u0275prov=F.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Ve=new F.OlP("EventManagerPlugins");let We=(()=>{class $e{constructor(q,te){this._zone=te,this._eventNameToPlugin=new Map,q.forEach(Pe=>{Pe.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,te,Pe){return this._findPluginFor(te).addEventListener(q,te,Pe)}addGlobalEventListener(q,te,Pe){return this._findPluginFor(te).addGlobalEventListener(q,te,Pe)}getZone(){return this._zone}_findPluginFor(q){const te=this._eventNameToPlugin.get(q);if(te)return te;const Pe=this._plugins;for(let st=0;st<Pe.length;st++){const $t=Pe[st];if($t.supports(q))return this._eventNameToPlugin.set(q,$t),$t}throw new Error(`No event manager plugin found for event ${q}`)}}return $e.\u0275fac=function(q){return new(q||$e)(F.LFG(Ve),F.LFG(F.R0b))},$e.\u0275prov=F.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class ht{constructor(le){this._doc=le}addGlobalEventListener(le,q,te){const Pe=(0,f.q)().getGlobalEventTarget(this._doc,le);if(!Pe)throw new Error(`Unsupported event target ${Pe} for event ${q}`);return this.addEventListener(Pe,q,te)}}let Ze=(()=>{class $e{constructor(){this.usageCount=new Map}addStyles(q){for(const te of q)1===this.changeUsageCount(te,1)&&this.onStyleAdded(te)}removeStyles(q){for(const te of q)0===this.changeUsageCount(te,-1)&&this.onStyleRemoved(te)}onStyleRemoved(q){}onStyleAdded(q){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(q,te){const Pe=this.usageCount;let st=Pe.get(q)??0;return st+=te,st>0?Pe.set(q,st):Pe.delete(q),st}ngOnDestroy(){for(const q of this.getAllStyles())this.onStyleRemoved(q);this.usageCount.clear()}}return $e.\u0275fac=function(q){return new(q||$e)},$e.\u0275prov=F.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),nt=(()=>{class $e extends Ze{constructor(q){super(),this.doc=q,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(q){for(const te of this.hostNodes)this.addStyleToHost(te,q)}onStyleRemoved(q){const te=this.styleRef;te.get(q)?.forEach(st=>st.remove()),te.delete(q)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const te of this.getAllStyles())this.addStyleToHost(q,te)}removeHost(q){this.hostNodes.delete(q)}addStyleToHost(q,te){const Pe=this.doc.createElement("style");Pe.textContent=te,q.appendChild(Pe);const st=this.styleRef.get(te);st?st.push(Pe):this.styleRef.set(te,[Pe])}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}}return $e.\u0275fac=function(q){return new(q||$e)(F.LFG(f.K0))},$e.\u0275prov=F.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ut=/%COMP%/g,ge=new F.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ht($e,le){return le.flat(100).map(q=>q.replace(ut,$e))}function vn($e){return le=>{if("__ngUnwrap__"===le)return $e;!1===$e(le)&&(le.preventDefault(),le.returnValue=!1)}}let rn=(()=>{class $e{constructor(q,te,Pe,st){this.eventManager=q,this.sharedStylesHost=te,this.appId=Pe,this.removeStylesOnCompDestory=st,this.rendererByCompId=new Map,this.defaultRenderer=new hi(q)}createRenderer(q,te){if(!q||!te)return this.defaultRenderer;const Pe=this.getOrCreateRenderer(q,te);return Pe instanceof qe?Pe.applyToHost(q):Pe instanceof nn&&Pe.applyStyles(),Pe}getOrCreateRenderer(q,te){const Pe=this.rendererByCompId;let st=Pe.get(te.id);if(!st){const $t=this.eventManager,ln=this.sharedStylesHost,Xn=this.removeStylesOnCompDestory;switch(te.encapsulation){case F.ifc.Emulated:st=new qe($t,ln,te,this.appId,Xn);break;case F.ifc.ShadowDom:return new xn($t,ln,q,te);default:st=new nn($t,ln,te,Xn)}st.onDestroy=()=>Pe.delete(te.id),Pe.set(te.id,st)}return st}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return $e.\u0275fac=function(q){return new(q||$e)(F.LFG(We),F.LFG(nt),F.LFG(F.AFp),F.LFG(ge))},$e.\u0275prov=F.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class hi{constructor(le){this.eventManager=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(le,q){return q?document.createElementNS(Be[q]||q,le):document.createElement(le)}createComment(le){return document.createComment(le)}createText(le){return document.createTextNode(le)}appendChild(le,q){(Wn(le)?le.content:le).appendChild(q)}insertBefore(le,q,te){le&&(Wn(le)?le.content:le).insertBefore(q,te)}removeChild(le,q){le&&le.removeChild(q)}selectRootElement(le,q){let te="string"==typeof le?document.querySelector(le):le;if(!te)throw new Error(`The selector "${le}" did not match any elements`);return q||(te.textContent=""),te}parentNode(le){return le.parentNode}nextSibling(le){return le.nextSibling}setAttribute(le,q,te,Pe){if(Pe){q=Pe+":"+q;const st=Be[Pe];st?le.setAttributeNS(st,q,te):le.setAttribute(q,te)}else le.setAttribute(q,te)}removeAttribute(le,q,te){if(te){const Pe=Be[te];Pe?le.removeAttributeNS(Pe,q):le.removeAttribute(`${te}:${q}`)}else le.removeAttribute(q)}addClass(le,q){le.classList.add(q)}removeClass(le,q){le.classList.remove(q)}setStyle(le,q,te,Pe){Pe&(F.JOm.DashCase|F.JOm.Important)?le.style.setProperty(q,te,Pe&F.JOm.Important?"important":""):le.style[q]=te}removeStyle(le,q,te){te&F.JOm.DashCase?le.style.removeProperty(q):le.style[q]=""}setProperty(le,q,te){le[q]=te}setValue(le,q){le.nodeValue=q}listen(le,q,te){return"string"==typeof le?this.eventManager.addGlobalEventListener(le,q,vn(te)):this.eventManager.addEventListener(le,q,vn(te))}}function Wn($e){return"TEMPLATE"===$e.tagName&&void 0!==$e.content}class xn extends hi{constructor(le,q,te,Pe){super(le),this.sharedStylesHost=q,this.hostEl=te,this.shadowRoot=te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const st=Ht(Pe.id,Pe.styles);for(const $t of st){const ln=document.createElement("style");ln.textContent=$t,this.shadowRoot.appendChild(ln)}}nodeOrShadowRoot(le){return le===this.hostEl?this.shadowRoot:le}appendChild(le,q){return super.appendChild(this.nodeOrShadowRoot(le),q)}insertBefore(le,q,te){return super.insertBefore(this.nodeOrShadowRoot(le),q,te)}removeChild(le,q){return super.removeChild(this.nodeOrShadowRoot(le),q)}parentNode(le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(le)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nn extends hi{constructor(le,q,te,Pe,st=te.id){super(le),this.sharedStylesHost=q,this.removeStylesOnCompDestory=Pe,this.rendererUsageCount=0,this.styles=Ht(st,te.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class qe extends nn{constructor(le,q,te,Pe,st){const $t=Pe+"-"+te.id;super(le,q,te,st,$t),this.contentAttr=function mt($e){return"_ngcontent-%COMP%".replace(ut,$e)}($t),this.hostAttr=function jt($e){return"_nghost-%COMP%".replace(ut,$e)}($t)}applyToHost(le){this.applyStyles(),this.setAttribute(le,this.hostAttr,"")}createElement(le,q){const te=super.createElement(le,q);return super.setAttribute(te,this.contentAttr,""),te}}let Ne=(()=>{class $e extends ht{constructor(q){super(q)}supports(q){return!0}addEventListener(q,te,Pe){return q.addEventListener(te,Pe,!1),()=>this.removeEventListener(q,te,Pe)}removeEventListener(q,te,Pe){return q.removeEventListener(te,Pe)}}return $e.\u0275fac=function(q){return new(q||$e)(F.LFG(f.K0))},$e.\u0275prov=F.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Ae=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={alt:$e=>$e.altKey,control:$e=>$e.ctrlKey,meta:$e=>$e.metaKey,shift:$e=>$e.shiftKey};let at=(()=>{class $e extends ht{constructor(q){super(q)}supports(q){return null!=$e.parseEventName(q)}addEventListener(q,te,Pe){const st=$e.parseEventName(te),$t=$e.eventCallback(st.fullKey,Pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(q,st.domEventName,$t))}static parseEventName(q){const te=q.toLowerCase().split("."),Pe=te.shift();if(0===te.length||"keydown"!==Pe&&"keyup"!==Pe)return null;const st=$e._normalizeKey(te.pop());let $t="",ln=te.indexOf("code");if(ln>-1&&(te.splice(ln,1),$t="code."),Ae.forEach(Pi=>{const Lt=te.indexOf(Pi);Lt>-1&&(te.splice(Lt,1),$t+=Pi+".")}),$t+=st,0!=te.length||0===st.length)return null;const Xn={};return Xn.domEventName=Pe,Xn.fullKey=$t,Xn}static matchEventFullKeyCode(q,te){let Pe=Ue[q.key]||q.key,st="";return te.indexOf("code.")>-1&&(Pe=q.code,st="code."),!(null==Pe||!Pe)&&(Pe=Pe.toLowerCase()," "===Pe?Pe="space":"."===Pe&&(Pe="dot"),Ae.forEach($t=>{$t!==Pe&&(0,pt[$t])(q)&&(st+=$t+".")}),st+=Pe,st===te)}static eventCallback(q,te,Pe){return st=>{$e.matchEventFullKeyCode(st,q)&&Pe.runGuarded(()=>te(st))}}static _normalizeKey(q){return"esc"===q?"escape":q}}return $e.\u0275fac=function(q){return new(q||$e)(F.LFG(f.K0))},$e.\u0275prov=F.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Jn=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:f.bD},{provide:F.g9A,useValue:function St(){ce.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function wn(){return(0,F.RDi)(document),document},deps:[]}]),Cn=new F.OlP(""),_t=[{provide:F.rWj,useClass:class ye{addToWindow(le){F.dqk.getAngularTestability=(te,Pe=!0)=>{const st=le.findTestabilityInTree(te,Pe);if(null==st)throw new Error("Could not find testability for element.");return st},F.dqk.getAllAngularTestabilities=()=>le.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>le.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(te=>{const Pe=F.dqk.getAllAngularTestabilities();let st=Pe.length,$t=!1;const ln=function(Xn){$t=$t||Xn,st--,0==st&&te($t)};Pe.forEach(function(Xn){Xn.whenStable(ln)})})}findTestabilityInTree(le,q,te){return null==q?null:le.getTestability(q)??(te?(0,f.q)().isShadowRoot(q)?this.findTestabilityInTree(le,q.host,!0):this.findTestabilityInTree(le,q.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],he=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function on(){return new F.qLn},deps:[]},{provide:Ve,useClass:Ne,multi:!0,deps:[f.K0,F.R0b,F.Lbi]},{provide:Ve,useClass:at,multi:!0,deps:[f.K0]},{provide:rn,useClass:rn,deps:[We,nt,F.AFp,ge]},{provide:F.FYo,useExisting:rn},{provide:Ze,useExisting:nt},{provide:nt,useClass:nt,deps:[f.K0]},{provide:We,useClass:We,deps:[Ve,F.R0b]},{provide:f.JF,useClass:Ie,deps:[]},[]];let Xe=(()=>{class $e{constructor(q){}static withServerTransition(q){return{ngModule:$e,providers:[{provide:F.AFp,useValue:q.appId},{provide:Oe,useExisting:F.AFp},de]}}}return $e.\u0275fac=function(q){return new(q||$e)(F.LFG(Cn,12))},$e.\u0275mod=F.oAB({type:$e}),$e.\u0275inj=F.cJS({providers:[...he,..._t],imports:[f.ez,F.hGG]}),$e})(),et=(()=>{class $e{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}}return $e.\u0275fac=function(q){return new(q||$e)(F.LFG(f.K0))},$e.\u0275prov=F.Yz7({token:$e,factory:function(q){let te=null;return te=q?new q:function Ee(){return new et((0,F.LFG)(f.K0))}(),te},providedIn:"root"}),$e})();typeof window<"u"&&window;let pe=(()=>{class $e{}return $e.\u0275fac=function(q){return new(q||$e)},$e.\u0275prov=F.Yz7({token:$e,factory:function(q){let te=null;return te=q?new(q||$e):F.LFG(fe),te},providedIn:"root"}),$e})(),fe=(()=>{class $e extends pe{constructor(q){super(),this._doc=q}sanitize(q,te){if(null==te)return null;switch(q){case F.q3G.NONE:return te;case F.q3G.HTML:return(0,F.qzn)(te,"HTML")?(0,F.z3N)(te):(0,F.EiD)(this._doc,String(te)).toString();case F.q3G.STYLE:return(0,F.qzn)(te,"Style")?(0,F.z3N)(te):te;case F.q3G.SCRIPT:if((0,F.qzn)(te,"Script"))return(0,F.z3N)(te);throw new Error("unsafe value used in a script context");case F.q3G.URL:return(0,F.qzn)(te,"URL")?(0,F.z3N)(te):(0,F.mCW)(String(te));case F.q3G.RESOURCE_URL:if((0,F.qzn)(te,"ResourceURL"))return(0,F.z3N)(te);throw new Error(`unsafe value used in a resource URL context (see ${F.JZr})`);default:throw new Error(`Unexpected SecurityContext ${q} (see ${F.JZr})`)}}bypassSecurityTrustHtml(q){return(0,F.JVY)(q)}bypassSecurityTrustStyle(q){return(0,F.L6k)(q)}bypassSecurityTrustScript(q){return(0,F.eBb)(q)}bypassSecurityTrustUrl(q){return(0,F.LAX)(q)}bypassSecurityTrustResourceUrl(q){return(0,F.pB0)(q)}}return $e.\u0275fac=function(q){return new(q||$e)(F.LFG(f.K0))},$e.\u0275prov=F.Yz7({token:$e,factory:function(q){let te=null;return te=q?new q:function ve($e){return new fe($e.get(f.K0))}(F.LFG(F.zs3)),te},providedIn:"root"}),$e})()},302:(fn,ot,M)=>{"use strict";M.d(ot,{gz:()=>Zi,F0:()=>ps,rH:()=>Fr,Bz:()=>Ta,lC:()=>ys});var f=M(4537),F=M(237),_=M(4945),ce=M(4121),S=M(7472),we=M(5696),He=M(3729),L=M(3072),Oe=M(7824),ne=M(3787),de=M(7241),ye=M(9018),Ie=M(561),Ve=M(8023),We=M(8692),ht=M(7969),Ze=M(1528),nt=M(5598),Be=M(1927),ut=M(4970),Fe=M(4882),ke=M(9676),Re=M(4551),xe=M(8168),Ke=M(3568),ge=M(7479),mt=M(2085),jt=M(8499);function Ht(R){return R<=0?()=>ye.E:(0,mt.e)((N,x)=>{let j=[];N.subscribe((0,jt.x)(x,J=>{j.push(J),R<j.length&&j.shift()},()=>{for(const J of j)x.next(J);x.complete()},void 0,()=>{j=null}))})}var vn=M(8623),rn=M(2686),hi=M(8330);function _i(R,N){const x=arguments.length>=2;return j=>j.pipe(R?(0,ut.h)((J,me)=>R(J,me,j)):hi.y,Ht(1),x?(0,rn.d)(N):(0,vn.T)(()=>new S.K))}var Wn=M(116),xn=M(5490),nn=M(4601),qe=M(549),Ne=M(5998);const Ae="primary",Ue=Symbol("RouteTitle");class pt{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const x=this.params[N];return Array.isArray(x)?x[0]:x}return null}getAll(N){if(this.has(N)){const x=this.params[N];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function at(R){return new pt(R)}function Qt(R,N,x){const j=x.path.split("/");if(j.length>R.length||"full"===x.pathMatch&&(N.hasChildren()||j.length<R.length))return null;const J={};for(let me=0;me<j.length;me++){const Se=j[me],Pt=R[me];if(Se.startsWith(":"))J[Se.substring(1)]=Pt;else if(Se!==Pt.path)return null}return{consumed:R.slice(0,j.length),posParams:J}}function bn(R,N){const x=R?Object.keys(R):void 0,j=N?Object.keys(N):void 0;if(!x||!j||x.length!=j.length)return!1;let J;for(let me=0;me<x.length;me++)if(J=x[me],!Mt(R[J],N[J]))return!1;return!0}function Mt(R,N){if(Array.isArray(R)&&Array.isArray(N)){if(R.length!==N.length)return!1;const x=[...R].sort(),j=[...N].sort();return x.every((J,me)=>j[me]===J)}return R===N}function pn(R){return Array.prototype.concat.apply([],R)}function St(R){return R.length>0?R[R.length-1]:null}function wn(R,N){for(const x in R)R.hasOwnProperty(x)&&N(R[x],x)}function Ln(R){return(0,f.CqO)(R)?R:(0,f.QGY)(R)?(0,F.D)(Promise.resolve(R)):(0,_.of)(R)}const Jn=!1,Cn={exact:function Dt(R,N,x){if(!Jt(R.segments,N.segments)||!et(R.segments,N.segments,x)||R.numberOfChildren!==N.numberOfChildren)return!1;for(const j in N.children)if(!R.children[j]||!Dt(R.children[j],N.children[j],x))return!1;return!0},subset:gt},_t={exact:function Xe(R,N){return bn(R,N)},subset:function lt(R,N){return Object.keys(N).length<=Object.keys(R).length&&Object.keys(N).every(x=>Mt(R[x],N[x]))},ignored:()=>!0};function he(R,N,x){return Cn[x.paths](R.root,N.root,x.matrixParams)&&_t[x.queryParams](R.queryParams,N.queryParams)&&!("exact"===x.fragment&&R.fragment!==N.fragment)}function gt(R,N,x){return Ee(R,N,N.segments,x)}function Ee(R,N,x,j){if(R.segments.length>x.length){const J=R.segments.slice(0,x.length);return!(!Jt(J,x)||N.hasChildren()||!et(J,x,j))}if(R.segments.length===x.length){if(!Jt(R.segments,x)||!et(R.segments,x,j))return!1;for(const J in N.children)if(!R.children[J]||!gt(R.children[J],N.children[J],j))return!1;return!0}{const J=x.slice(0,R.segments.length),me=x.slice(R.segments.length);return!!(Jt(R.segments,J)&&et(R.segments,J,j)&&R.children[Ae])&&Ee(R.children[Ae],N,me,j)}}function et(R,N,x){return N.every((j,J)=>_t[x](R[J].parameters,j.parameters))}class xt{constructor(N=new bt([],{}),x={},j=null){this.root=N,this.queryParams=x,this.fragment=j}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=at(this.queryParams)),this._queryParamMap}toString(){return Sn.serialize(this)}}class bt{constructor(N,x){this.segments=N,this.children=x,this.parent=null,wn(x,(j,J)=>j.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oi(this)}}class un{constructor(N,x){this.path=N,this.parameters=x}get parameterMap(){return this._parameterMap||(this._parameterMap=at(this.parameters)),this._parameterMap}toString(){return Ft(this)}}function Jt(R,N){return R.length===N.length&&R.every((x,j)=>x.path===N[j].path)}let Vt=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:function(){return new kn},providedIn:"root"}),R})();class kn{parse(N){const x=new $e(N);return new xt(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(N){const x=`/${Un(N.root,!0)}`,j=function ui(R){const N=Object.keys(R).map(x=>{const j=R[x];return Array.isArray(j)?j.map(J=>`${Vn(x)}=${Vn(J)}`).join("&"):`${Vn(x)}=${Vn(j)}`}).filter(x=>!!x);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${x}${j}${"string"==typeof N.fragment?`#${function Ye(R){return encodeURI(R)}(N.fragment)}`:""}`}}const Sn=new kn;function Oi(R){return R.segments.map(N=>Ft(N)).join("/")}function Un(R,N){if(!R.hasChildren())return Oi(R);if(N){const x=R.children[Ae]?Un(R.children[Ae],!1):"",j=[];return wn(R.children,(J,me)=>{me!==Ae&&j.push(`${me}:${Un(J,!1)}`)}),j.length>0?`${x}(${j.join("//")})`:x}{const x=function yt(R,N){let x=[];return wn(R.children,(j,J)=>{J===Ae&&(x=x.concat(N(j,J)))}),wn(R.children,(j,J)=>{J!==Ae&&(x=x.concat(N(j,J)))}),x}(R,(j,J)=>J===Ae?[Un(R.children[Ae],!1)]:[`${J}:${Un(j,!1)}`]);return 1===Object.keys(R.children).length&&null!=R.children[Ae]?`${Oi(R)}/${x[0]}`:`${Oi(R)}/(${x.join("//")})`}}function mi(R){return encodeURIComponent(R).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vn(R){return mi(R).replace(/%3B/gi,";")}function Z(R){return mi(R).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X(R){return decodeURIComponent(R)}function je(R){return X(R.replace(/\+/g,"%20"))}function Ft(R){return`${Z(R.path)}${function Tn(R){return Object.keys(R).map(N=>`;${Z(N)}=${Z(R[N])}`).join("")}(R.parameters)}`}const rt=/^[^\/()?;=#]+/;function Qe(R){const N=R.match(rt);return N?N[0]:""}const pe=/^[^=?&#]+/,fe=/^[^&#]+/;class $e{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let j={};return this.peekStartsWith("(")&&(j=this.parseParens(!1)),(N.length>0||Object.keys(x).length>0)&&(j[Ae]=new bt(N,x)),j}parseSegment(){const N=Qe(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new f.vHH(4009,Jn);return this.capture(N),new un(X(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const x=Qe(this.remaining);if(!x)return;this.capture(x);let j="";if(this.consumeOptional("=")){const J=Qe(this.remaining);J&&(j=J,this.capture(j))}N[X(x)]=X(j)}parseQueryParam(N){const x=function ve(R){const N=R.match(pe);return N?N[0]:""}(this.remaining);if(!x)return;this.capture(x);let j="";if(this.consumeOptional("=")){const Se=function ft(R){const N=R.match(fe);return N?N[0]:""}(this.remaining);Se&&(j=Se,this.capture(j))}const J=je(x),me=je(j);if(N.hasOwnProperty(J)){let Se=N[J];Array.isArray(Se)||(Se=[Se],N[J]=Se),Se.push(me)}else N[J]=me}parseParens(N){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const j=Qe(this.remaining),J=this.remaining[j.length];if("/"!==J&&")"!==J&&";"!==J)throw new f.vHH(4010,Jn);let me;j.indexOf(":")>-1?(me=j.slice(0,j.indexOf(":")),this.capture(me),this.capture(":")):N&&(me=Ae);const Se=this.parseChildren();x[me]=1===Object.keys(Se).length?Se[Ae]:new bt([],Se),this.consumeOptional("//")}return x}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new f.vHH(4011,Jn)}}function le(R){return R.segments.length>0?new bt([],{[Ae]:R}):R}function q(R){const N={};for(const j of Object.keys(R.children)){const me=q(R.children[j]);(me.segments.length>0||me.hasChildren())&&(N[j]=me)}return function te(R){if(1===R.numberOfChildren&&R.children[Ae]){const N=R.children[Ae];return new bt(R.segments.concat(N.segments),N.children)}return R}(new bt(R.segments,N))}function Pe(R){return R instanceof xt}const st=!1;function Pi(R,N,x,j,J){if(0===x.length)return gn(N.root,N.root,N.root,j,J);const me=function vi(R){if("string"==typeof R[0]&&1===R.length&&"/"===R[0])return new ei(!0,0,R);let N=0,x=!1;const j=R.reduce((J,me,Se)=>{if("object"==typeof me&&null!=me){if(me.outlets){const Pt={};return wn(me.outlets,(tn,Qn)=>{Pt[Qn]="string"==typeof tn?tn.split("/"):tn}),[...J,{outlets:Pt}]}if(me.segmentPath)return[...J,me.segmentPath]}return"string"!=typeof me?[...J,me]:0===Se?(me.split("/").forEach((Pt,tn)=>{0==tn&&"."===Pt||(0==tn&&""===Pt?x=!0:".."===Pt?N++:""!=Pt&&J.push(Pt))}),J):[...J,me]},[]);return new ei(x,N,j)}(x);return me.toRoot()?gn(N.root,N.root,new bt([],{}),j,J):function Se(tn){const Qn=function Ii(R,N,x,j){if(R.isAbsolute)return new Hn(N.root,!0,0);if(-1===j)return new Hn(x,x===N.root,0);return function ji(R,N,x){let j=R,J=N,me=x;for(;me>J;){if(me-=J,j=j.parent,!j)throw new f.vHH(4005,st&&"Invalid number of '../'");J=j.segments.length}return new Hn(j,!1,J-me)}(x,j+(Lt(R.commands[0])?0:1),R.numberOfDoubleDots)}(me,N,R.snapshot?._urlSegment,tn),ni=Qn.processChildren?vr(Qn.segmentGroup,Qn.index,me.commands):Ks(Qn.segmentGroup,Qn.index,me.commands);return gn(N.root,Qn.segmentGroup,ni,j,J)}(R.snapshot?._lastPathIndex)}function Lt(R){return"object"==typeof R&&null!=R&&!R.outlets&&!R.segmentPath}function Nt(R){return"object"==typeof R&&null!=R&&R.outlets}function gn(R,N,x,j,J){let Se,me={};j&&wn(j,(tn,Qn)=>{me[Qn]=Array.isArray(tn)?tn.map(ni=>`${ni}`):`${tn}`}),Se=R===N?x:qn(R,N,x);const Pt=le(q(Se));return new xt(Pt,me,J)}function qn(R,N,x){const j={};return wn(R.children,(J,me)=>{j[me]=J===N?x:qn(J,N,x)}),new bt(R.segments,j)}class ei{constructor(N,x,j){if(this.isAbsolute=N,this.numberOfDoubleDots=x,this.commands=j,N&&j.length>0&&Lt(j[0]))throw new f.vHH(4003,st&&"Root segment cannot have matrix parameters");const J=j.find(Nt);if(J&&J!==St(j))throw new f.vHH(4004,st&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hn{constructor(N,x,j){this.segmentGroup=N,this.processChildren=x,this.index=j}}function Ks(R,N,x){if(R||(R=new bt([],{})),0===R.segments.length&&R.hasChildren())return vr(R,N,x);const j=function gs(R,N,x){let j=0,J=N;const me={match:!1,pathIndex:0,commandIndex:0};for(;J<R.segments.length;){if(j>=x.length)return me;const Se=R.segments[J],Pt=x[j];if(Nt(Pt))break;const tn=`${Pt}`,Qn=j<x.length-1?x[j+1]:null;if(J>0&&void 0===tn)break;if(tn&&Qn&&"object"==typeof Qn&&void 0===Qn.outlets){if(!Y(tn,Qn,Se))return me;j+=2}else{if(!Y(tn,{},Se))return me;j++}J++}return{match:!0,pathIndex:J,commandIndex:j}}(R,N,x),J=x.slice(j.commandIndex);if(j.match&&j.pathIndex<R.segments.length){const me=new bt(R.segments.slice(0,j.pathIndex),{});return me.children[Ae]=new bt(R.segments.slice(j.pathIndex),R.children),vr(me,0,J)}return j.match&&0===J.length?new bt(R.segments,{}):j.match&&!R.hasChildren()?Ge(R,N,x):j.match?vr(R,0,J):Ge(R,N,x)}function vr(R,N,x){if(0===x.length)return new bt(R.segments,{});{const j=function yr(R){return Nt(R[0])?R[0].outlets:{[Ae]:R}}(x),J={};if(!j[Ae]&&R.children[Ae]&&1===R.numberOfChildren&&0===R.children[Ae].segments.length){const me=vr(R.children[Ae],N,x);return new bt(R.segments,me.children)}return wn(j,(me,Se)=>{"string"==typeof me&&(me=[me]),null!==me&&(J[Se]=Ks(R.children[Se],N,me))}),wn(R.children,(me,Se)=>{void 0===j[Se]&&(J[Se]=me)}),new bt(R.segments,J)}}function Ge(R,N,x){const j=R.segments.slice(0,N);let J=0;for(;J<x.length;){const me=x[J];if(Nt(me)){const tn=ct(me.outlets);return new bt(j,tn)}if(0===J&&Lt(x[0])){j.push(new un(R.segments[N].path,A(x[0]))),J++;continue}const Se=Nt(me)?me.outlets[Ae]:`${me}`,Pt=J<x.length-1?x[J+1]:null;Se&&Pt&&Lt(Pt)?(j.push(new un(Se,A(Pt))),J+=2):(j.push(new un(Se,{})),J++)}return new bt(j,{})}function ct(R){const N={};return wn(R,(x,j)=>{"string"==typeof x&&(x=[x]),null!==x&&(N[j]=Ge(new bt([],{}),0,x))}),N}function A(R){const N={};return wn(R,(x,j)=>N[j]=`${x}`),N}function Y(R,N,x){return R==x.path&&bn(N,x.parameters)}const ue="imperative";class Le{constructor(N,x){this.id=N,this.url=x}}class qt extends Le{constructor(N,x,j="imperative",J=null){super(N,x),this.type=0,this.navigationTrigger=j,this.restoredState=J}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yn extends Le{constructor(N,x,j){super(N,x),this.urlAfterRedirects=j,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class si extends Le{constructor(N,x,j,J){super(N,x),this.reason=j,this.code=J,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $i extends Le{constructor(N,x,j,J){super(N,x),this.reason=j,this.code=J,this.type=16}}class Mr extends Le{constructor(N,x,j,J){super(N,x),this.error=j,this.target=J,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ti extends Le{constructor(N,x,j,J){super(N,x),this.urlAfterRedirects=j,this.state=J,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr extends Le{constructor(N,x,j,J){super(N,x),this.urlAfterRedirects=j,this.state=J,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs extends Le{constructor(N,x,j,J,me){super(N,x),this.urlAfterRedirects=j,this.state=J,this.shouldActivate=me,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ao extends Le{constructor(N,x,j,J){super(N,x),this.urlAfterRedirects=j,this.state=J,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends Le{constructor(N,x,j,J){super(N,x),this.urlAfterRedirects=j,this.state=J,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ps{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Is{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wr{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ys{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nr{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{constructor(N,x,j){this.routerEvent=N,this.position=x,this.anchor=j,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let It=(()=>{class R{createUrlTree(x,j,J,me,Se,Pt){return Pi(x||j.root,J,me,Se,Pt)}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac}),R})(),Bt=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:function(N){return It.\u0275fac(N)},providedIn:"root"}),R})();class en{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const x=this.pathFromRoot(N);return x.length>1?x[x.length-2]:null}children(N){const x=mn(N,this._root);return x?x.children.map(j=>j.value):[]}firstChild(N){const x=mn(N,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(N){const x=li(N,this._root);return x.length<2?[]:x[x.length-2].children.map(J=>J.value).filter(J=>J!==N)}pathFromRoot(N){return li(N,this._root).map(x=>x.value)}}function mn(R,N){if(R===N.value)return N;for(const x of N.children){const j=mn(R,x);if(j)return j}return null}function li(R,N){if(R===N.value)return[N];for(const x of N.children){const j=li(R,x);if(j.length)return j.unshift(N),j}return[]}class pi{constructor(N,x){this.value=N,this.children=x}toString(){return`TreeNode(${this.value})`}}function gi(R){const N={};return R&&R.children.forEach(x=>N[x.value.outlet]=x),N}class bi extends en{constructor(N,x){super(N),this.snapshot=x,Pa(this,N)}toString(){return this.snapshot.toString()}}function Pr(R,N){const x=function ss(R,N){const Se=new Zs([],{},{},"",{},Ae,N,null,R.root,-1,{});return new Rr("",new pi(Se,[]))}(R,N),j=new ce.X([new un("",{})]),J=new ce.X({}),me=new ce.X({}),Se=new ce.X({}),Pt=new ce.X(""),tn=new Zi(j,J,Se,Pt,me,Ae,N,x.root);return tn.snapshot=x.root,new bi(new pi(tn,[]),x)}class Zi{constructor(N,x,j,J,me,Se,Pt,tn){this.url=N,this.params=x,this.queryParams=j,this.fragment=J,this.data=me,this.outlet=Se,this.component=Pt,this.title=this.data?.pipe((0,ht.U)(Qn=>Qn[Ue]))??(0,_.of)(void 0),this._futureSnapshot=tn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(N=>at(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(N=>at(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qi(R,N="emptyOnly"){const x=R.pathFromRoot;let j=0;if("always"!==N)for(j=x.length-1;j>=1;){const J=x[j],me=x[j-1];if(J.routeConfig&&""===J.routeConfig.path)j--;else{if(me.component)break;j--}}return function Ts(R){return R.reduce((N,x)=>({params:{...N.params,...x.params},data:{...N.data,...x.data},resolve:{...x.data,...N.resolve,...x.routeConfig?.data,...x._resolvedData}}),{params:{},data:{},resolve:{}})}(x.slice(j))}class Zs{get title(){return this.data?.[Ue]}constructor(N,x,j,J,me,Se,Pt,tn,Qn,ni,Wi){this.url=N,this.params=x,this.queryParams=j,this.fragment=J,this.data=me,this.outlet=Se,this.component=Pt,this.routeConfig=tn,this._urlSegment=Qn,this._lastPathIndex=ni,this._resolve=Wi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=at(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=at(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(j=>j.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rr extends en{constructor(N,x){super(x),this.url=N,Pa(this,x)}toString(){return vo(this._root)}}function Pa(R,N){N.value._routerState=R,N.children.forEach(x=>Pa(R,x))}function vo(R){const N=R.children.length>0?` { ${R.children.map(vo).join(", ")} } `:"";return`${R.value}${N}`}function $o(R){if(R.snapshot){const N=R.snapshot,x=R._futureSnapshot;R.snapshot=x,bn(N.queryParams,x.queryParams)||R.queryParams.next(x.queryParams),N.fragment!==x.fragment&&R.fragment.next(x.fragment),bn(N.params,x.params)||R.params.next(x.params),function In(R,N){if(R.length!==N.length)return!1;for(let x=0;x<R.length;++x)if(!bn(R[x],N[x]))return!1;return!0}(N.url,x.url)||R.url.next(x.url),bn(N.data,x.data)||R.data.next(x.data)}else R.snapshot=R._futureSnapshot,R.data.next(R._futureSnapshot.data)}function Go(R,N){const x=bn(R.params,N.params)&&function Ot(R,N){return Jt(R,N)&&R.every((x,j)=>bn(x.parameters,N[j].parameters))}(R.url,N.url);return x&&!(!R.parent!=!N.parent)&&(!R.parent||Go(R.parent,N.parent))}function is(R,N,x){if(x&&R.shouldReuseRoute(N.value,x.value.snapshot)){const j=x.value;j._futureSnapshot=N.value;const J=function lo(R,N,x){return N.children.map(j=>{for(const J of x.children)if(R.shouldReuseRoute(j.value,J.value.snapshot))return is(R,j,J);return is(R,j)})}(R,N,x);return new pi(j,J)}{if(R.shouldAttach(N.value)){const me=R.retrieve(N.value);if(null!==me){const Se=me.route;return Se.value._futureSnapshot=N.value,Se.children=N.children.map(Pt=>is(R,Pt)),Se}}const j=function Ns(R){return new Zi(new ce.X(R.url),new ce.X(R.params),new ce.X(R.queryParams),new ce.X(R.fragment),new ce.X(R.data),R.outlet,R.component,R)}(N.value),J=N.children.map(me=>is(R,me));return new pi(j,J)}}const Ro="ngNavigationCancelingError";function qs(R,N){const{redirectTo:x,navigationBehaviorOptions:j}=Pe(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,J=bo(!1,0,N);return J.url=x,J.navigationBehaviorOptions=j,J}function bo(R,N,x){const j=new Error("NavigationCancelingError: "+(R||""));return j[Ro]=!0,j.cancellationCode=N,x&&(j.url=x),j}function Wo(R){return wo(R)&&Pe(R.url)}function wo(R){return R&&R[Ro]}class _l{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qs,this.attachRef=null}}let Qs=(()=>{class R{constructor(){this.contexts=new Map}onChildOutletCreated(x,j){const J=this.getOrCreateContext(x);J.outlet=j,this.contexts.set(x,J)}onChildOutletDestroyed(x){const j=this.getContext(x);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let j=this.getContext(x);return j||(j=new _l,this.contexts.set(x,j)),j}getContext(x){return this.contexts.get(x)||null}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const Ss=!1;let ys=(()=>{class R{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Qs),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(x){if(x.name){const{firstChange:j,previousValue:J}=x.name;if(j)return;this.isTrackedInParentContexts(J)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(J)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(x){return this.parentContexts.getContext(x)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const x=this.parentContexts.getContext(this.name);x?.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Ss);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Ss);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Ss);this.location.detach();const x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,j){this.activated=x,this._activatedRoute=j,this.location.insert(x.hostView),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){const x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,j){if(this.isActivated)throw new f.vHH(4013,Ss);this._activatedRoute=x;const J=this.location,Se=x.snapshot.component,Pt=this.parentContexts.getOrCreateContext(this.name).children,tn=new co(x,Pt,J.injector);if(j&&function uo(R){return!!R.resolveComponentFactory}(j)){const Qn=j.resolveComponentFactory(Se);this.activated=J.createComponent(Qn,J.length,tn)}else this.activated=J.createComponent(Se,{index:J.length,injector:tn,environmentInjector:j??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275dir=f.lG2({type:R,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),R})();class co{constructor(N,x,j){this.route=N,this.childContexts=x,this.parent=j}get(N,x){return N===Zi?this.route:N===Qs?this.childContexts:this.parent.get(N,x)}}let Eo=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275cmp=f.Xpm({type:R,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(x,j){1&x&&f._UZ(0,"router-outlet")},dependencies:[ys],encapsulation:2}),R})();function ko(R,N){return R.providers&&!R._injector&&(R._injector=(0,f.MMx)(R.providers,N,`Route: ${R.path}`)),R._injector??N}function ho(R){const N=R.children&&R.children.map(ho),x=N?{...R,children:N}:{...R};return!x.component&&!x.loadComponent&&(N||x.loadChildren)&&x.outlet&&x.outlet!==Ae&&(x.component=Eo),x}function rs(R){return R.outlet||Ae}function lr(R,N){const x=R.filter(j=>rs(j)===N);return x.push(...R.filter(j=>rs(j)!==N)),x}function Jr(R){if(!R)return null;if(R.routeConfig?._injector)return R.routeConfig._injector;for(let N=R.parent;N;N=N.parent){const x=N.routeConfig;if(x?._loadedInjector)return x._loadedInjector;if(x?._injector)return x._injector}return null}class Ni{constructor(N,x,j,J){this.routeReuseStrategy=N,this.futureState=x,this.currState=j,this.forwardEvent=J}activate(N){const x=this.futureState._root,j=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,j,N),$o(this.futureState.root),this.activateChildRoutes(x,j,N)}deactivateChildRoutes(N,x,j){const J=gi(x);N.children.forEach(me=>{const Se=me.value.outlet;this.deactivateRoutes(me,J[Se],j),delete J[Se]}),wn(J,(me,Se)=>{this.deactivateRouteAndItsChildren(me,j)})}deactivateRoutes(N,x,j){const J=N.value,me=x?x.value:null;if(J===me)if(J.component){const Se=j.getContext(J.outlet);Se&&this.deactivateChildRoutes(N,x,Se.children)}else this.deactivateChildRoutes(N,x,j);else me&&this.deactivateRouteAndItsChildren(x,j)}deactivateRouteAndItsChildren(N,x){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,x):this.deactivateRouteAndOutlet(N,x)}detachAndStoreRouteSubtree(N,x){const j=x.getContext(N.value.outlet),J=j&&N.value.component?j.children:x,me=gi(N);for(const Se of Object.keys(me))this.deactivateRouteAndItsChildren(me[Se],J);if(j&&j.outlet){const Se=j.outlet.detach(),Pt=j.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Se,route:N,contexts:Pt})}}deactivateRouteAndOutlet(N,x){const j=x.getContext(N.value.outlet),J=j&&N.value.component?j.children:x,me=gi(N);for(const Se of Object.keys(me))this.deactivateRouteAndItsChildren(me[Se],J);j&&(j.outlet&&(j.outlet.deactivate(),j.children.onOutletDeactivated()),j.attachRef=null,j.resolver=null,j.route=null)}activateChildRoutes(N,x,j){const J=gi(x);N.children.forEach(me=>{this.activateRoutes(me,J[me.value.outlet],j),this.forwardEvent(new nr(me.value.snapshot))}),N.children.length&&this.forwardEvent(new Wr(N.value.snapshot))}activateRoutes(N,x,j){const J=N.value,me=x?x.value:null;if($o(J),J===me)if(J.component){const Se=j.getOrCreateContext(J.outlet);this.activateChildRoutes(N,x,Se.children)}else this.activateChildRoutes(N,x,j);else if(J.component){const Se=j.getOrCreateContext(J.outlet);if(this.routeReuseStrategy.shouldAttach(J.snapshot)){const Pt=this.routeReuseStrategy.retrieve(J.snapshot);this.routeReuseStrategy.store(J.snapshot,null),Se.children.onOutletReAttached(Pt.contexts),Se.attachRef=Pt.componentRef,Se.route=Pt.route.value,Se.outlet&&Se.outlet.attach(Pt.componentRef,Pt.route.value),$o(Pt.route.value),this.activateChildRoutes(N,null,Se.children)}else{const Pt=Jr(J.snapshot),tn=Pt?.get(f._Vd)??null;Se.attachRef=null,Se.route=J,Se.resolver=tn,Se.injector=Pt,Se.outlet&&Se.outlet.activateWith(J,Se.injector),this.activateChildRoutes(N,null,Se.children)}}else this.activateChildRoutes(N,null,j)}}class Ka{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class Do{constructor(N,x){this.component=N,this.route=x}}function es(R,N,x){const j=R._root;return os(j,N?N._root:null,x,[j.value])}function io(R,N){const x=Symbol(),j=N.get(R,x);return j===x?"function"!=typeof R||(0,f.Z0I)(R)?N.get(R):R:j}function os(R,N,x,j,J={canDeactivateChecks:[],canActivateChecks:[]}){const me=gi(N);return R.children.forEach(Se=>{(function Na(R,N,x,j,J={canDeactivateChecks:[],canActivateChecks:[]}){const me=R.value,Se=N?N.value:null,Pt=x?x.getContext(R.value.outlet):null;if(Se&&me.routeConfig===Se.routeConfig){const tn=function vs(R,N,x){if("function"==typeof x)return x(R,N);switch(x){case"pathParamsChange":return!Jt(R.url,N.url);case"pathParamsOrQueryParamsChange":return!Jt(R.url,N.url)||!bn(R.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Go(R,N)||!bn(R.queryParams,N.queryParams);default:return!Go(R,N)}}(Se,me,me.routeConfig.runGuardsAndResolvers);tn?J.canActivateChecks.push(new Ka(j)):(me.data=Se.data,me._resolvedData=Se._resolvedData),os(R,N,me.component?Pt?Pt.children:null:x,j,J),tn&&Pt&&Pt.outlet&&Pt.outlet.isActivated&&J.canDeactivateChecks.push(new Do(Pt.outlet.component,Se))}else Se&&Ls(N,Pt,J),J.canActivateChecks.push(new Ka(j)),os(R,null,me.component?Pt?Pt.children:null:x,j,J)})(Se,me[Se.value.outlet],x,j.concat([Se.value]),J),delete me[Se.value.outlet]}),wn(me,(Se,Pt)=>Ls(Se,x.getContext(Pt),J)),J}function Ls(R,N,x){const j=gi(R),J=R.value;wn(j,(me,Se)=>{Ls(me,J.component?N?N.children.getContext(Se):null:N,x)}),x.canDeactivateChecks.push(new Do(J.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,J))}function Br(R){return"function"==typeof R}function sn(R){return R instanceof S.K||"EmptyError"===R?.name}const Et=Symbol("INITIAL_VALUE");function cn(){return(0,Ze.w)(R=>(0,we.a)(R.map(N=>N.pipe((0,nt.q)(1),(0,Be.O)(Et)))).pipe((0,ht.U)(N=>{for(const x of N)if(!0!==x){if(x===Et)return Et;if(!1===x||x instanceof xt)return x}return!0}),(0,ut.h)(N=>N!==Et),(0,nt.q)(1)))}function as(R){return(0,Oe.z)((0,xe.b)(N=>{if(Pe(N))throw qs(0,N)}),(0,ht.U)(N=>!0===N))}const Ji={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nr(R,N,x,j,J){const me=ws(R,N,x);return me.matched?function br(R,N,x,j){const J=N.canMatch;if(!J||0===J.length)return(0,_.of)(!0);const me=J.map(Se=>{const Pt=io(Se,R);return Ln(function K(R){return R&&Br(R.canMatch)}(Pt)?Pt.canMatch(N,x):R.runInContext(()=>Pt(N,x)))});return(0,_.of)(me).pipe(cn(),as())}(j=ko(N,j),N,x).pipe((0,ht.U)(Se=>!0===Se?me:{...Ji})):(0,_.of)(me)}function ws(R,N,x){if(""===N.path)return"full"===N.pathMatch&&(R.hasChildren()||x.length>0)?{...Ji}:{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const J=(N.matcher||Qt)(x,R,N);if(!J)return{...Ji};const me={};wn(J.posParams,(Pt,tn)=>{me[tn]=Pt.path});const Se=J.consumed.length>0?{...me,...J.consumed[J.consumed.length-1].parameters}:me;return{matched:!0,consumedSegments:J.consumed,remainingSegments:x.slice(J.consumed.length),parameters:Se,positionalParamSegments:J.posParams??{}}}function As(R,N,x,j){if(x.length>0&&function ra(R,N,x){return x.some(j=>ds(R,N,j)&&rs(j)!==Ae)}(R,x,j)){const me=new bt(N,function Es(R,N,x,j){const J={};J[Ae]=j,j._sourceSegment=R,j._segmentIndexShift=N.length;for(const me of x)if(""===me.path&&rs(me)!==Ae){const Se=new bt([],{});Se._sourceSegment=R,Se._segmentIndexShift=N.length,J[rs(me)]=Se}return J}(R,N,j,new bt(x,R.children)));return me._sourceSegment=R,me._segmentIndexShift=N.length,{segmentGroup:me,slicedSegments:[]}}if(0===x.length&&function nc(R,N,x){return x.some(j=>ds(R,N,j))}(R,x,j)){const me=new bt(R.segments,function us(R,N,x,j,J){const me={};for(const Se of j)if(ds(R,x,Se)&&!J[rs(Se)]){const Pt=new bt([],{});Pt._sourceSegment=R,Pt._segmentIndexShift=N.length,me[rs(Se)]=Pt}return{...J,...me}}(R,N,x,j,R.children));return me._sourceSegment=R,me._segmentIndexShift=N.length,{segmentGroup:me,slicedSegments:x}}const J=new bt(R.segments,R.children);return J._sourceSegment=R,J._segmentIndexShift=N.length,{segmentGroup:J,slicedSegments:x}}function ds(R,N,x){return(!(R.hasChildren()||N.length>0)||"full"!==x.pathMatch)&&""===x.path}function Ur(R,N,x,j){return!!(rs(R)===j||j!==Ae&&ds(N,x,R))&&("**"===R.path||ws(N,R,x).matched)}function hs(R,N,x){return 0===N.length&&!R.children[x]}const xo=!1;class dr{constructor(N){this.segmentGroup=N||null}}class yl{constructor(N){this.urlTree=N}}function Ko(R){return(0,ne._)(new dr(R))}function Vs(R){return(0,ne._)(new yl(R))}class Fa{constructor(N,x,j,J,me){this.injector=N,this.configLoader=x,this.urlSerializer=j,this.urlTree=J,this.config=me,this.allowRedirects=!0}apply(){const N=As(this.urlTree.root,[],[],this.config).segmentGroup,x=new bt(N.segments,N.children);return this.expandSegmentGroup(this.injector,this.config,x,Ae).pipe((0,ht.U)(me=>this.createUrlTree(q(me),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ke.K)(me=>{if(me instanceof yl)return this.allowRedirects=!1,this.match(me.urlTree);throw me instanceof dr?this.noMatchError(me):me}))}match(N){return this.expandSegmentGroup(this.injector,this.config,N.root,Ae).pipe((0,ht.U)(J=>this.createUrlTree(q(J),N.queryParams,N.fragment))).pipe((0,Ke.K)(J=>{throw J instanceof dr?this.noMatchError(J):J}))}noMatchError(N){return new f.vHH(4002,xo)}createUrlTree(N,x,j){const J=le(N);return new xt(J,x,j)}expandSegmentGroup(N,x,j,J){return 0===j.segments.length&&j.hasChildren()?this.expandChildren(N,x,j).pipe((0,ht.U)(me=>new bt([],me))):this.expandSegment(N,j,x,j.segments,J,!0)}expandChildren(N,x,j){const J=[];for(const me of Object.keys(j.children))"primary"===me?J.unshift(me):J.push(me);return(0,F.D)(J).pipe((0,Re.b)(me=>{const Se=j.children[me],Pt=lr(x,me);return this.expandSegmentGroup(N,Pt,Se,me).pipe((0,ht.U)(tn=>({segment:tn,outlet:me})))}),(0,ge.R)((me,Se)=>(me[Se.outlet]=Se.segment,me),{}),_i())}expandSegment(N,x,j,J,me,Se){return(0,F.D)(j).pipe((0,Re.b)(Pt=>this.expandSegmentAgainstRoute(N,x,j,Pt,J,me,Se).pipe((0,Ke.K)(Qn=>{if(Qn instanceof dr)return(0,_.of)(null);throw Qn}))),(0,ke.P)(Pt=>!!Pt),(0,Ke.K)((Pt,tn)=>{if(sn(Pt))return hs(x,J,me)?(0,_.of)(new bt([],{})):Ko(x);throw Pt}))}expandSegmentAgainstRoute(N,x,j,J,me,Se,Pt){return Ur(J,x,me,Se)?void 0===J.redirectTo?this.matchSegmentAgainstRoute(N,x,J,me,Se):Pt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,x,j,J,me,Se):Ko(x):Ko(x)}expandSegmentAgainstRouteUsingRedirect(N,x,j,J,me,Se){return"**"===J.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,j,J,Se):this.expandRegularSegmentAgainstRouteUsingRedirect(N,x,j,J,me,Se)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,x,j,J){const me=this.applyRedirectCommands([],j.redirectTo,{});return j.redirectTo.startsWith("/")?Vs(me):this.lineralizeSegments(j,me).pipe((0,Fe.z)(Se=>{const Pt=new bt(Se,{});return this.expandSegment(N,Pt,x,Se,J,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,x,j,J,me,Se){const{matched:Pt,consumedSegments:tn,remainingSegments:Qn,positionalParamSegments:ni}=ws(x,J,me);if(!Pt)return Ko(x);const Wi=this.applyRedirectCommands(tn,J.redirectTo,ni);return J.redirectTo.startsWith("/")?Vs(Wi):this.lineralizeSegments(J,Wi).pipe((0,Fe.z)(ns=>this.expandSegment(N,x,j,ns.concat(Qn),Se,!1)))}matchSegmentAgainstRoute(N,x,j,J,me){return"**"===j.path?(N=ko(j,N),j.loadChildren?(j._loadedRoutes?(0,_.of)({routes:j._loadedRoutes,injector:j._loadedInjector}):this.configLoader.loadChildren(N,j)).pipe((0,ht.U)(Pt=>(j._loadedRoutes=Pt.routes,j._loadedInjector=Pt.injector,new bt(J,{})))):(0,_.of)(new bt(J,{}))):Nr(x,j,J,N).pipe((0,Ze.w)(({matched:Se,consumedSegments:Pt,remainingSegments:tn})=>Se?this.getChildConfig(N=j._injector??N,j,J).pipe((0,Fe.z)(ni=>{const Wi=ni.injector??N,ns=ni.routes,{segmentGroup:Hs,slicedSegments:fa}=As(x,Pt,tn,ns),La=new bt(Hs.segments,Hs.children);if(0===fa.length&&La.hasChildren())return this.expandChildren(Wi,ns,La).pipe((0,ht.U)(Lo=>new bt(Pt,Lo)));if(0===ns.length&&0===fa.length)return(0,_.of)(new bt(Pt,{}));const Xs=rs(j)===me;return this.expandSegment(Wi,La,ns,fa,Xs?Ae:me,!0).pipe((0,ht.U)(ic=>new bt(Pt.concat(ic.segments),ic.children)))})):Ko(x)))}getChildConfig(N,x,j){return x.children?(0,_.of)({routes:x.children,injector:N}):x.loadChildren?void 0!==x._loadedRoutes?(0,_.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):function fo(R,N,x,j){const J=N.canLoad;if(void 0===J||0===J.length)return(0,_.of)(!0);const me=J.map(Se=>{const Pt=io(Se,R);return Ln(function ia(R){return R&&Br(R.canLoad)}(Pt)?Pt.canLoad(N,x):R.runInContext(()=>Pt(N,x)))});return(0,_.of)(me).pipe(cn(),as())}(N,x,j).pipe((0,Fe.z)(J=>J?this.configLoader.loadChildren(N,x).pipe((0,xe.b)(me=>{x._loadedRoutes=me.routes,x._loadedInjector=me.injector})):function Yo(R){return(0,ne._)(bo(xo,3))}())):(0,_.of)({routes:[],injector:N})}lineralizeSegments(N,x){let j=[],J=x.root;for(;;){if(j=j.concat(J.segments),0===J.numberOfChildren)return(0,_.of)(j);if(J.numberOfChildren>1||!J.children[Ae])return N.redirectTo,(0,ne._)(new f.vHH(4e3,xo));J=J.children[Ae]}}applyRedirectCommands(N,x,j){return this.applyRedirectCreateUrlTree(x,this.urlSerializer.parse(x),N,j)}applyRedirectCreateUrlTree(N,x,j,J){const me=this.createSegmentGroup(N,x.root,j,J);return new xt(me,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(N,x){const j={};return wn(N,(J,me)=>{if("string"==typeof J&&J.startsWith(":")){const Pt=J.substring(1);j[me]=x[Pt]}else j[me]=J}),j}createSegmentGroup(N,x,j,J){const me=this.createSegments(N,x.segments,j,J);let Se={};return wn(x.children,(Pt,tn)=>{Se[tn]=this.createSegmentGroup(N,Pt,j,J)}),new bt(me,Se)}createSegments(N,x,j,J){return x.map(me=>me.path.startsWith(":")?this.findPosParam(N,me,J):this.findOrReturn(me,j))}findPosParam(N,x,j){const J=j[x.path.substring(1)];if(!J)throw new f.vHH(4001,xo);return J}findOrReturn(N,x){let j=0;for(const J of x){if(J.path===N.path)return x.splice(j),J;j++}return N}}class Hr{}class Sr{constructor(N,x,j,J,me,Se,Pt){this.injector=N,this.rootComponentType=x,this.config=j,this.urlTree=J,this.url=me,this.paramsInheritanceStrategy=Se,this.urlSerializer=Pt}recognize(){const N=As(this.urlTree.root,[],[],this.config.filter(x=>void 0===x.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,Ae).pipe((0,ht.U)(x=>{if(null===x)return null;const j=new Zs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ae,this.rootComponentType,null,this.urlTree.root,-1,{}),J=new pi(j,x),me=new Rr(this.url,J);return this.inheritParamsAndData(me._root),me}))}inheritParamsAndData(N){const x=N.value,j=qi(x,this.paramsInheritanceStrategy);x.params=Object.freeze(j.params),x.data=Object.freeze(j.data),N.children.forEach(J=>this.inheritParamsAndData(J))}processSegmentGroup(N,x,j,J){return 0===j.segments.length&&j.hasChildren()?this.processChildren(N,x,j):this.processSegment(N,x,j,j.segments,J)}processChildren(N,x,j){return(0,F.D)(Object.keys(j.children)).pipe((0,Re.b)(J=>{const me=j.children[J],Se=lr(x,J);return this.processSegmentGroup(N,Se,me,J)}),(0,ge.R)((J,me)=>J&&me?(J.push(...me),J):null),function An(R,N=!1){return(0,mt.e)((x,j)=>{let J=0;x.subscribe((0,jt.x)(j,me=>{const Se=R(me,J++);(Se||N)&&j.next(me),!Se&&j.complete()}))})}(J=>null!==J),(0,rn.d)(null),_i(),(0,ht.U)(J=>{if(null===J)return null;const me=oa(J);return function Ea(R){R.sort((N,x)=>N.value.outlet===Ae?-1:x.value.outlet===Ae?1:N.value.outlet.localeCompare(x.value.outlet))}(me),me}))}processSegment(N,x,j,J,me){return(0,F.D)(x).pipe((0,Re.b)(Se=>this.processSegmentAgainstRoute(Se._injector??N,Se,j,J,me)),(0,ke.P)(Se=>!!Se),(0,Ke.K)(Se=>{if(sn(Se))return hs(j,J,me)?(0,_.of)([]):(0,_.of)(null);throw Se}))}processSegmentAgainstRoute(N,x,j,J,me){if(x.redirectTo||!Ur(x,j,J,me))return(0,_.of)(null);let Se;if("**"===x.path){const Pt=J.length>0?St(J).parameters:{},tn=aa(j)+J.length,Qn=new Zs(J,Pt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kl(x),rs(x),x.component??x._loadedComponent??null,x,jc(j),tn,H(x));Se=(0,_.of)({snapshot:Qn,consumedSegments:[],remainingSegments:[]})}else Se=Nr(j,x,J,N).pipe((0,ht.U)(({matched:Pt,consumedSegments:tn,remainingSegments:Qn,parameters:ni})=>{if(!Pt)return null;const Wi=aa(j)+tn.length;return{snapshot:new Zs(tn,ni,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kl(x),rs(x),x.component??x._loadedComponent??null,x,jc(j),Wi,H(x)),consumedSegments:tn,remainingSegments:Qn}}));return Se.pipe((0,Ze.w)(Pt=>{if(null===Pt)return(0,_.of)(null);const{snapshot:tn,consumedSegments:Qn,remainingSegments:ni}=Pt;N=x._injector??N;const Wi=x._loadedInjector??N,ns=function sa(R){return R.children?R.children:R.loadChildren?R._loadedRoutes:[]}(x),{segmentGroup:Hs,slicedSegments:fa}=As(j,Qn,ni,ns.filter(Xs=>void 0===Xs.redirectTo));if(0===fa.length&&Hs.hasChildren())return this.processChildren(Wi,ns,Hs).pipe((0,ht.U)(Xs=>null===Xs?null:[new pi(tn,Xs)]));if(0===ns.length&&0===fa.length)return(0,_.of)([new pi(tn,[])]);const La=rs(x)===me;return this.processSegment(Wi,ns,Hs,fa,La?Ae:me).pipe((0,ht.U)(Xs=>null===Xs?null:[new pi(tn,Xs)]))}))}}function Ya(R){const N=R.value.routeConfig;return N&&""===N.path&&void 0===N.redirectTo}function oa(R){const N=[],x=new Set;for(const j of R){if(!Ya(j)){N.push(j);continue}const J=N.find(me=>j.value.routeConfig===me.value.routeConfig);void 0!==J?(J.children.push(...j.children),x.add(J)):N.push(j)}for(const j of x){const J=oa(j.children);N.push(new pi(j.value,J))}return N.filter(j=>!x.has(j))}function jc(R){let N=R;for(;N._sourceSegment;)N=N._sourceSegment;return N}function aa(R){let N=R,x=N._segmentIndexShift??0;for(;N._sourceSegment;)N=N._sourceSegment,x+=N._segmentIndexShift??0;return x-1}function kl(R){return R.data||{}}function H(R){return R.resolve||{}}function zn(R){return"string"==typeof R.title||null===R.title}function ar(R){return(0,Ze.w)(N=>{const x=R(N);return x?(0,F.D)(x).pipe((0,ht.U)(()=>N)):(0,_.of)(N)})}const Qi=new f.OlP("ROUTES");let Gi=(()=>{class R{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(x){if(this.componentLoaders.get(x))return this.componentLoaders.get(x);if(x._loadedComponent)return(0,_.of)(x._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(x);const j=Ln(x.loadComponent()).pipe((0,ht.U)(Ai),(0,xe.b)(me=>{this.onLoadEndListener&&this.onLoadEndListener(x),x._loadedComponent=me}),(0,xn.x)(()=>{this.componentLoaders.delete(x)})),J=new Ie.c(j,()=>new Ve.x).pipe((0,nn.x)());return this.componentLoaders.set(x,J),J}loadChildren(x,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,_.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const me=this.loadModuleFactoryOrRoutes(j.loadChildren).pipe((0,ht.U)(Pt=>{this.onLoadEndListener&&this.onLoadEndListener(j);let tn,Qn,ni=!1;Array.isArray(Pt)?Qn=Pt:(tn=Pt.create(x).injector,Qn=pn(tn.get(Qi,[],f.XFs.Self|f.XFs.Optional)));return{routes:Qn.map(ho),injector:tn}}),(0,xn.x)(()=>{this.childrenLoaders.delete(j)})),Se=new Ie.c(me,()=>new Ve.x).pipe((0,nn.x)());return this.childrenLoaders.set(j,Se),Se}loadModuleFactoryOrRoutes(x){return Ln(x()).pipe((0,ht.U)(Ai),(0,Fe.z)(j=>j instanceof f.YKP||Array.isArray(j)?(0,_.of)(j):(0,F.D)(this.compiler.compileModuleAsync(j))))}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Ai(R){return function hn(R){return R&&"object"==typeof R&&"default"in R}(R)?R.default:R}let Ms=(()=>{class R{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ve.x,this.configLoader=(0,f.f3M)(Gi),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(Vt),this.rootContexts=(0,f.f3M)(Qs),this.navigationId=0,this.afterPreactivation=()=>(0,_.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=J=>this.events.next(new Ps(J)),this.configLoader.onLoadStartListener=J=>this.events.next(new Dr(J))}complete(){this.transitions?.complete()}handleNavigationRequest(x){const j=++this.navigationId;this.transitions?.next({...this.transitions.value,...x,id:j})}setupNavigations(x){return this.transitions=new ce.X({id:0,targetPageId:0,currentUrlTree:x.currentUrlTree,currentRawUrl:x.currentUrlTree,extractedUrl:x.urlHandlingStrategy.extract(x.currentUrlTree),urlAfterRedirects:x.urlHandlingStrategy.extract(x.currentUrlTree),rawUrl:x.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ue,restoredState:null,currentSnapshot:x.routerState.snapshot,targetSnapshot:null,currentRouterState:x.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ut.h)(j=>0!==j.id),(0,ht.U)(j=>({...j,extractedUrl:x.urlHandlingStrategy.extract(j.rawUrl)})),(0,Ze.w)(j=>{let J=!1,me=!1;return(0,_.of)(j).pipe((0,xe.b)(Se=>{this.currentNavigation={id:Se.id,initialUrl:Se.rawUrl,extractedUrl:Se.extractedUrl,trigger:Se.source,extras:Se.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ze.w)(Se=>{const Pt=x.browserUrlTree.toString(),tn=!x.navigated||Se.extractedUrl.toString()!==Pt||Pt!==x.currentUrlTree.toString();if(!tn&&"reload"!==(Se.extras.onSameUrlNavigation??x.onSameUrlNavigation)){const ni="";return this.events.next(new $i(Se.id,x.serializeUrl(j.rawUrl),ni,0)),x.rawUrlTree=Se.rawUrl,Se.resolve(null),ye.E}if(x.urlHandlingStrategy.shouldProcessUrl(Se.rawUrl))return Bn(Se.source)&&(x.browserUrlTree=Se.extractedUrl),(0,_.of)(Se).pipe((0,Ze.w)(ni=>{const Wi=this.transitions?.getValue();return this.events.next(new qt(ni.id,this.urlSerializer.serialize(ni.extractedUrl),ni.source,ni.restoredState)),Wi!==this.transitions?.getValue()?ye.E:Promise.resolve(ni)}),function Rl(R,N,x,j){return(0,Ze.w)(J=>function wa(R,N,x,j,J){return new Fa(R,N,x,j,J).apply()}(R,N,x,J.extractedUrl,j).pipe((0,ht.U)(me=>({...J,urlAfterRedirects:me}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,x.config),(0,xe.b)(ni=>{this.currentNavigation={...this.currentNavigation,finalUrl:ni.urlAfterRedirects},j.urlAfterRedirects=ni.urlAfterRedirects}),function se(R,N,x,j,J){return(0,Fe.z)(me=>function mo(R,N,x,j,J,me,Se="emptyOnly"){return new Sr(R,N,x,j,J,Se,me).recognize().pipe((0,Ze.w)(Pt=>null===Pt?function ir(R){return new de.y(N=>N.error(R))}(new Hr):(0,_.of)(Pt)))}(R,N,x,me.urlAfterRedirects,j.serialize(me.urlAfterRedirects),j,J).pipe((0,ht.U)(Se=>({...me,targetSnapshot:Se}))))}(this.environmentInjector,this.rootComponentType,x.config,this.urlSerializer,x.paramsInheritanceStrategy),(0,xe.b)(ni=>{if(j.targetSnapshot=ni.targetSnapshot,"eager"===x.urlUpdateStrategy){if(!ni.extras.skipLocationChange){const ns=x.urlHandlingStrategy.merge(ni.urlAfterRedirects,ni.rawUrl);x.setBrowserUrl(ns,ni)}x.browserUrlTree=ni.urlAfterRedirects}const Wi=new ti(ni.id,this.urlSerializer.serialize(ni.extractedUrl),this.urlSerializer.serialize(ni.urlAfterRedirects),ni.targetSnapshot);this.events.next(Wi)}));if(tn&&x.urlHandlingStrategy.shouldProcessUrl(x.rawUrlTree)){const{id:ni,extractedUrl:Wi,source:ns,restoredState:Hs,extras:fa}=Se,La=new qt(ni,this.urlSerializer.serialize(Wi),ns,Hs);this.events.next(La);const Xs=Pr(Wi,this.rootComponentType).snapshot;return j={...Se,targetSnapshot:Xs,urlAfterRedirects:Wi,extras:{...fa,skipLocationChange:!1,replaceUrl:!1}},(0,_.of)(j)}{const ni="";return this.events.next(new $i(Se.id,x.serializeUrl(j.extractedUrl),ni,1)),x.rawUrlTree=Se.rawUrl,Se.resolve(null),ye.E}}),(0,xe.b)(Se=>{const Pt=new qr(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(Pt)}),(0,ht.U)(Se=>j={...Se,guards:es(Se.targetSnapshot,Se.currentSnapshot,this.rootContexts)}),function Si(R,N){return(0,Fe.z)(x=>{const{targetSnapshot:j,currentSnapshot:J,guards:{canActivateChecks:me,canDeactivateChecks:Se}}=x;return 0===Se.length&&0===me.length?(0,_.of)({...x,guardsResult:!0}):function Fi(R,N,x,j){return(0,F.D)(R).pipe((0,Fe.z)(J=>function Tr(R,N,x,j,J){const me=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!me||0===me.length)return(0,_.of)(!0);const Se=me.map(Pt=>{const tn=Jr(N)??J,Qn=io(Pt,tn);return Ln(function I(R){return R&&Br(R.canDeactivate)}(Qn)?Qn.canDeactivate(R,N,x,j):tn.runInContext(()=>Qn(R,N,x,j))).pipe((0,ke.P)())});return(0,_.of)(Se).pipe(cn())}(J.component,J.route,x,N,j)),(0,ke.P)(J=>!0!==J,!0))}(Se,j,J,R).pipe((0,Fe.z)(Pt=>Pt&&function Ti(R){return"boolean"==typeof R}(Pt)?function Li(R,N,x,j){return(0,F.D)(N).pipe((0,Re.b)(J=>(0,He.z)(function mr(R,N){return null!==R&&N&&N(new Is(R)),(0,_.of)(!0)}(J.route.parent,j),function Ir(R,N){return null!==R&&N&&N(new Ys(R)),(0,_.of)(!0)}(J.route,j),function bs(R,N,x){const j=N[N.length-1],me=N.slice(0,N.length-1).reverse().map(Se=>function Vr(R){const N=R.routeConfig?R.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:R,guards:N}:null}(Se)).filter(Se=>null!==Se).map(Se=>(0,L.P)(()=>{const Pt=Se.guards.map(tn=>{const Qn=Jr(Se.node)??x,ni=io(tn,Qn);return Ln(function E(R){return R&&Br(R.canActivateChild)}(ni)?ni.canActivateChild(j,R):Qn.runInContext(()=>ni(j,R))).pipe((0,ke.P)())});return(0,_.of)(Pt).pipe(cn())}));return(0,_.of)(me).pipe(cn())}(R,J.path,x),function or(R,N,x){const j=N.routeConfig?N.routeConfig.canActivate:null;if(!j||0===j.length)return(0,_.of)(!0);const J=j.map(me=>(0,L.P)(()=>{const Se=Jr(N)??x,Pt=io(me,Se);return Ln(function D(R){return R&&Br(R.canActivate)}(Pt)?Pt.canActivate(N,R):Se.runInContext(()=>Pt(N,R))).pipe((0,ke.P)())}));return(0,_.of)(J).pipe(cn())}(R,J.route,x))),(0,ke.P)(J=>!0!==J,!0))}(j,me,R,N):(0,_.of)(Pt)),(0,ht.U)(Pt=>({...x,guardsResult:Pt})))})}(this.environmentInjector,Se=>this.events.next(Se)),(0,xe.b)(Se=>{if(j.guardsResult=Se.guardsResult,Pe(Se.guardsResult))throw qs(0,Se.guardsResult);const Pt=new xs(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot,!!Se.guardsResult);this.events.next(Pt)}),(0,ut.h)(Se=>!!Se.guardsResult||(x.restoreHistory(Se),this.cancelNavigationTransition(Se,"",3),!1)),ar(Se=>{if(Se.guards.canActivateChecks.length)return(0,_.of)(Se).pipe((0,xe.b)(Pt=>{const tn=new ao(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects),Pt.targetSnapshot);this.events.next(tn)}),(0,Ze.w)(Pt=>{let tn=!1;return(0,_.of)(Pt).pipe(function G(R,N){return(0,Fe.z)(x=>{const{targetSnapshot:j,guards:{canActivateChecks:J}}=x;if(!J.length)return(0,_.of)(x);let me=0;return(0,F.D)(J).pipe((0,Re.b)(Se=>function _e(R,N,x,j){const J=R.routeConfig,me=R._resolve;return void 0!==J?.title&&!zn(J)&&(me[Ue]=J.title),function it(R,N,x,j){const J=function Yt(R){return[...Object.keys(R),...Object.getOwnPropertySymbols(R)]}(R);if(0===J.length)return(0,_.of)({});const me={};return(0,F.D)(J).pipe((0,Fe.z)(Se=>function dn(R,N,x,j){const J=Jr(N)??j,me=io(R,J);return Ln(me.resolve?me.resolve(N,x):J.runInContext(()=>me(N,x)))}(R[Se],N,x,j).pipe((0,ke.P)(),(0,xe.b)(Pt=>{me[Se]=Pt}))),Ht(1),(0,Wn.h)(me),(0,Ke.K)(Se=>sn(Se)?ye.E:(0,ne._)(Se)))}(me,R,N,j).pipe((0,ht.U)(Se=>(R._resolvedData=Se,R.data=qi(R,x).resolve,J&&zn(J)&&(R.data[Ue]=J.title),null)))}(Se.route,j,R,N)),(0,xe.b)(()=>me++),Ht(1),(0,Fe.z)(Se=>me===J.length?(0,_.of)(x):ye.E))})}(x.paramsInheritanceStrategy,this.environmentInjector),(0,xe.b)({next:()=>tn=!0,complete:()=>{tn||(x.restoreHistory(Pt),this.cancelNavigationTransition(Pt,"",2))}}))}),(0,xe.b)(Pt=>{const tn=new xr(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects),Pt.targetSnapshot);this.events.next(tn)}))}),ar(Se=>{const Pt=tn=>{const Qn=[];tn.routeConfig?.loadComponent&&!tn.routeConfig._loadedComponent&&Qn.push(this.configLoader.loadComponent(tn.routeConfig).pipe((0,xe.b)(ni=>{tn.component=ni}),(0,ht.U)(()=>{})));for(const ni of tn.children)Qn.push(...Pt(ni));return Qn};return(0,we.a)(Pt(Se.targetSnapshot.root)).pipe((0,rn.d)(),(0,nt.q)(1))}),ar(()=>this.afterPreactivation()),(0,ht.U)(Se=>{const Pt=function Ga(R,N,x){const j=is(R,N._root,x?x._root:void 0);return new bi(j,N)}(x.routeReuseStrategy,Se.targetSnapshot,Se.currentRouterState);return j={...Se,targetRouterState:Pt}}),(0,xe.b)(Se=>{x.currentUrlTree=Se.urlAfterRedirects,x.rawUrlTree=x.urlHandlingStrategy.merge(Se.urlAfterRedirects,Se.rawUrl),x.routerState=Se.targetRouterState,"deferred"===x.urlUpdateStrategy&&(Se.extras.skipLocationChange||x.setBrowserUrl(x.rawUrlTree,Se),x.browserUrlTree=Se.urlAfterRedirects)}),((R,N,x)=>(0,ht.U)(j=>(new Ni(N,j.targetRouterState,j.currentRouterState,x).activate(R),j)))(this.rootContexts,x.routeReuseStrategy,Se=>this.events.next(Se)),(0,nt.q)(1),(0,xe.b)({next:Se=>{J=!0,this.lastSuccessfulNavigation=this.currentNavigation,x.navigated=!0,this.events.next(new Yn(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(x.currentUrlTree))),x.titleStrategy?.updateTitle(Se.targetRouterState.snapshot),Se.resolve(!0)},complete:()=>{J=!0}}),(0,xn.x)(()=>{J||me||this.cancelNavigationTransition(j,"",1),this.currentNavigation?.id===j.id&&(this.currentNavigation=null)}),(0,Ke.K)(Se=>{if(me=!0,wo(Se)){Wo(Se)||(x.navigated=!0,x.restoreHistory(j,!0));const Pt=new si(j.id,this.urlSerializer.serialize(j.extractedUrl),Se.message,Se.cancellationCode);if(this.events.next(Pt),Wo(Se)){const tn=x.urlHandlingStrategy.merge(Se.url,x.rawUrlTree),Qn={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===x.urlUpdateStrategy||Bn(j.source)};x.scheduleNavigation(tn,ue,null,Qn,{resolve:j.resolve,reject:j.reject,promise:j.promise})}else j.resolve(!1)}else{x.restoreHistory(j,!0);const Pt=new Mr(j.id,this.urlSerializer.serialize(j.extractedUrl),Se,j.targetSnapshot??void 0);this.events.next(Pt);try{j.resolve(x.errorHandler(Se))}catch(tn){j.reject(tn)}}return ye.E}))}))}cancelNavigationTransition(x,j,J){const me=new si(x.id,this.urlSerializer.serialize(x.extractedUrl),j,J);this.events.next(me),x.resolve(!1)}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Bn(R){return R!==ue}let oi=(()=>{class R{buildTitle(x){let j,J=x.root;for(;void 0!==J;)j=this.getResolvedTitleForRoute(J)??j,J=J.children.find(me=>me.outlet===Ae);return j}getResolvedTitleForRoute(x){return x.data[Ue]}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:function(){return(0,f.f3M)(Bs)},providedIn:"root"}),R})(),Bs=(()=>{class R extends oi{constructor(x){super(),this.title=x}updateTitle(x){const j=this.buildTitle(x);void 0!==j&&this.title.setTitle(j)}}return R.\u0275fac=function(x){return new(x||R)(f.LFG(Ne.Dx))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Pn=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:function(){return(0,f.f3M)(_n)},providedIn:"root"}),R})();class Gt{shouldDetach(N){return!1}store(N,x){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,x){return N.routeConfig===x.routeConfig}}let _n=(()=>{class R extends Gt{}return R.\u0275fac=function(){let N;return function(j){return(N||(N=f.n5z(R)))(j||R)}}(),R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const Zo=new f.OlP("",{providedIn:"root",factory:()=>({})});let ad=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:function(){return(0,f.f3M)(zc)},providedIn:"root"}),R})(),zc=(()=>{class R{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,j){return x}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function vl(R){throw R}function qo(R,N,x){return N.parse("/")}const ld={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ec={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ps=(()=>{class R{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(Zo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||vl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(ad),this.routeReuseStrategy=(0,f.f3M)(Pn),this.urlCreationStrategy=(0,f.f3M)(Bt),this.titleStrategy=(0,f.f3M)(oi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=pn((0,f.f3M)(Qi,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(Ms),this.urlSerializer=(0,f.f3M)(Vt),this.location=(0,f.f3M)(We.Ye),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pr(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(x=>{this.lastSuccessfulId=x.id,this.currentPageId=this.browserPageId??0},x=>{this.console.warn(`Unhandled Navigation Error: ${x}`)})}resetRootComponentType(x){this.routerState.root.component=x,this.navigationTransitions.rootComponentType=x}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const x=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ue,x)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(x=>{const j="popstate"===x.type?"popstate":"hashchange";"popstate"===j&&setTimeout(()=>{this.navigateToSyncWithBrowser(x.url,j,x.state)},0)}))}navigateToSyncWithBrowser(x,j,J){const me={replaceUrl:!0},Se=J?.navigationId?J:null;if(J){const tn={...J};delete tn.navigationId,delete tn.\u0275routerPageId,0!==Object.keys(tn).length&&(me.state=tn)}const Pt=this.parseUrl(x);this.scheduleNavigation(Pt,j,Se,me)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(x){this.config=x.map(ho),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(x,j={}){const{relativeTo:J,queryParams:me,fragment:Se,queryParamsHandling:Pt,preserveFragment:tn}=j,Qn=tn?this.currentUrlTree.fragment:Se;let ni=null;switch(Pt){case"merge":ni={...this.currentUrlTree.queryParams,...me};break;case"preserve":ni=this.currentUrlTree.queryParams;break;default:ni=me||null}return null!==ni&&(ni=this.removeEmptyProps(ni)),this.urlCreationStrategy.createUrlTree(J,this.routerState,this.currentUrlTree,x,ni,Qn??null)}navigateByUrl(x,j={skipLocationChange:!1}){const J=Pe(x)?x:this.parseUrl(x),me=this.urlHandlingStrategy.merge(J,this.rawUrlTree);return this.scheduleNavigation(me,ue,null,j)}navigate(x,j={skipLocationChange:!1}){return function mu(R){for(let N=0;N<R.length;N++){const x=R[N];if(null==x)throw new f.vHH(4008,false)}}(x),this.navigateByUrl(this.createUrlTree(x,j),j)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){let j;try{j=this.urlSerializer.parse(x)}catch(J){j=this.malformedUriErrorHandler(J,this.urlSerializer,x)}return j}isActive(x,j){let J;if(J=!0===j?{...ld}:!1===j?{...Ec}:j,Pe(x))return he(this.currentUrlTree,x,J);const me=this.parseUrl(x);return he(this.currentUrlTree,me,J)}removeEmptyProps(x){return Object.keys(x).reduce((j,J)=>{const me=x[J];return null!=me&&(j[J]=me),j},{})}scheduleNavigation(x,j,J,me,Se){if(this.disposed)return Promise.resolve(!1);let Pt,tn,Qn,ni;return Se?(Pt=Se.resolve,tn=Se.reject,Qn=Se.promise):Qn=new Promise((Wi,ns)=>{Pt=Wi,tn=ns}),ni="computed"===this.canceledNavigationResolution?J&&J.\u0275routerPageId?J.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:ni,source:j,restoredState:J,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:x,extras:me,resolve:Pt,reject:tn,promise:Qn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qn.catch(Wi=>Promise.reject(Wi))}setBrowserUrl(x,j){const J=this.urlSerializer.serialize(x);if(this.location.isCurrentPathEqualTo(J)||j.extras.replaceUrl){const Se={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId)};this.location.replaceState(J,"",Se)}else{const me={...j.extras.state,...this.generateNgRouterState(j.id,j.targetPageId)};this.location.go(J,"",me)}}restoreHistory(x,j=!1){if("computed"===this.canceledNavigationResolution){const me=this.currentPageId-(this.browserPageId??this.currentPageId);0!==me?this.location.historyGo(me):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===me&&(this.resetState(x),this.browserUrlTree=x.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=x.currentRouterState,this.currentUrlTree=x.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(x,j){return"computed"===this.canceledNavigationResolution?{navigationId:x,\u0275routerPageId:j}:{navigationId:x}}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Fr=(()=>{class R{constructor(x,j,J,me,Se,Pt){this.router=x,this.route=j,this.tabIndexAttribute=J,this.renderer=me,this.el=Se,this.locationStrategy=Pt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ve.x;const tn=Se.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===tn||"area"===tn,this.isAnchorElement?this.subscription=x.events.subscribe(Qn=>{Qn instanceof Yn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(x){this._preserveFragment=(0,f.D6c)(x)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(x){this._skipLocationChange=(0,f.D6c)(x)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(x){this._replaceUrl=(0,f.D6c)(x)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(x){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",x)}ngOnChanges(x){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(x){null!=x?(this.commands=Array.isArray(x)?x:[x],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(x,j,J,me,Se){return!!(null===this.urlTree||this.isAnchorElement&&(0!==x||j||J||me||Se||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const x=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",x)}applyAttributeValue(x,j){const J=this.renderer,me=this.el.nativeElement;null!==j?J.setAttribute(me,x,j):J.removeAttribute(me,x)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return R.\u0275fac=function(x){return new(x||R)(f.Y36(ps),f.Y36(Zi),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(We.S$))},R.\u0275dir=f.lG2({type:R,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(x,j){1&x&&f.NdJ("click",function(me){return j.onClick(me.button,me.ctrlKey,me.shiftKey,me.altKey,me.metaKey)}),2&x&&f.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),R})();class Cc{}let qa=(()=>{class R{constructor(x,j,J,me,Se){this.router=x,this.injector=J,this.preloadingStrategy=me,this.loader=Se}setUpPreloading(){this.subscription=this.router.events.pipe((0,ut.h)(x=>x instanceof Yn),(0,Re.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,j){const J=[];for(const me of j){me.providers&&!me._injector&&(me._injector=(0,f.MMx)(me.providers,x,`Route: ${me.path}`));const Se=me._injector??x,Pt=me._loadedInjector??Se;(me.loadChildren&&!me._loadedRoutes&&void 0===me.canLoad||me.loadComponent&&!me._loadedComponent)&&J.push(this.preloadConfig(Se,me)),(me.children||me._loadedRoutes)&&J.push(this.processRoutes(Pt,me.children??me._loadedRoutes))}return(0,F.D)(J).pipe((0,qe.J)())}preloadConfig(x,j){return this.preloadingStrategy.preload(j,()=>{let J;J=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(x,j):(0,_.of)(null);const me=J.pipe((0,Fe.z)(Se=>null===Se?(0,_.of)(void 0):(j._loadedRoutes=Se.routes,j._loadedInjector=Se.injector,this.processRoutes(Se.injector??x,Se.routes))));if(j.loadComponent&&!j._loadedComponent){const Se=this.loader.loadComponent(j);return(0,F.D)([me,Se]).pipe((0,qe.J)())}return me})}}return R.\u0275fac=function(x){return new(x||R)(f.LFG(ps),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Cc),f.LFG(Gi))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();const yi=new f.OlP("");let Dc=(()=>{class R{constructor(x,j,J,me,Se={}){this.urlSerializer=x,this.transitions=j,this.viewportScroller=J,this.zone=me,this.options=Se,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Se.scrollPositionRestoration=Se.scrollPositionRestoration||"disabled",Se.anchorScrolling=Se.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof qt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof Yn&&(this.lastId=x.id,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof Bi&&(x.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(x.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,j){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Bi(x,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return R.\u0275fac=function(x){f.$Z()},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac}),R})();var Di=(()=>((Di=Di||{})[Di.COMPLETE=0]="COMPLETE",Di[Di.FAILED=1]="FAILED",Di[Di.REDIRECTING=2]="REDIRECTING",Di))();const ro=!1;function Ca(R,N){return{\u0275kind:R,\u0275providers:N}}const Xa=new f.OlP("",{providedIn:"root",factory:()=>!1});function la(){const R=(0,f.f3M)(f.zs3);return N=>{const x=R.get(f.z2F);if(N!==x.components[0])return;const j=R.get(ps),J=R.get(Cs);1===R.get(ca)&&j.initialNavigation(),R.get(da,null,f.XFs.Optional)?.setUpPreloading(),R.get(yi,null,f.XFs.Optional)?.init(),j.resetRootComponentType(x.componentTypes[0]),J.closed||(J.next(),J.complete(),J.unsubscribe())}}const Cs=new f.OlP(ro?"bootstrap done indicator":"",{factory:()=>new Ve.x}),ca=new f.OlP(ro?"initial navigation":"",{providedIn:"root",factory:()=>1});function ua(){let R=[];return R=ro?[{provide:f.Xts,multi:!0,useFactory:()=>{const N=(0,f.f3M)(ps);return()=>N.events.subscribe(x=>{console.group?.(`Router Event: ${x.constructor.name}`),console.log(function Qr(R){if(!("type"in R))return`Unknown Router Event: ${R.constructor.name}`;switch(R.type){case 14:return`ActivationEnd(path: '${R.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${R.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${R.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${R.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}', state: ${R.state}, shouldActivate: ${R.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}', state: ${R.state})`;case 2:return`NavigationCancel(id: ${R.id}, url: '${R.url}')`;case 16:return`NavigationSkipped(id: ${R.id}, url: '${R.url}')`;case 1:return`NavigationEnd(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${R.id}, url: '${R.url}', error: ${R.error})`;case 0:return`NavigationStart(id: ${R.id}, url: '${R.url}')`;case 6:return`ResolveEnd(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}', state: ${R.state})`;case 5:return`ResolveStart(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}', state: ${R.state})`;case 10:return`RouteConfigLoadEnd(path: ${R.route.path})`;case 9:return`RouteConfigLoadStart(path: ${R.route.path})`;case 4:return`RoutesRecognized(id: ${R.id}, url: '${R.url}', urlAfterRedirects: '${R.urlAfterRedirects}', state: ${R.state})`;case 15:return`Scroll(anchor: '${R.anchor}', position: '${R.position?`${R.position[0]}, ${R.position[1]}`:null}')`}}(x)),console.log(x),console.groupEnd?.()})}}]:[],Ca(1,R)}const da=new f.OlP(ro?"router preloader":"");function Ut(R){return Ca(0,[{provide:da,useExisting:qa},{provide:Cc,useExisting:R}])}const Kr=!1,Pl=new f.OlP(Kr?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),tl=[We.Ye,{provide:Vt,useClass:kn},ps,Qs,{provide:Zi,useFactory:function Io(R){return R.routerState.root},deps:[ps]},Gi,Kr?{provide:Xa,useValue:!0}:[]];function nl(){return new f.PXZ("Router",ps)}let Ta=(()=>{class R{constructor(x){}static forRoot(x,j){return{ngModule:R,providers:[tl,Kr&&j?.enableTracing?ua().\u0275providers:[],{provide:Qi,multi:!0,useValue:x},{provide:Pl,useFactory:zr,deps:[[ps,new f.FiY,new f.tp0]]},{provide:Zo,useValue:j||{}},j?.useHash?{provide:We.S$,useClass:We.Do}:{provide:We.S$,useClass:We.b0},{provide:yi,useFactory:()=>{const R=(0,f.f3M)(We.EM),N=(0,f.f3M)(f.R0b),x=(0,f.f3M)(Zo),j=(0,f.f3M)(Ms),J=(0,f.f3M)(Vt);return x.scrollOffset&&R.setOffset(x.scrollOffset),new Dc(J,j,R,N,x)}},j?.preloadingStrategy?Ut(j.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:nl},j?.initialNavigation?Sa(j):[],[{provide:ts,useFactory:la},{provide:f.tb,multi:!0,useExisting:ts}]]}}static forChild(x){return{ngModule:R,providers:[{provide:Qi,multi:!0,useValue:x}]}}}return R.\u0275fac=function(x){return new(x||R)(f.LFG(Pl,8))},R.\u0275mod=f.oAB({type:R}),R.\u0275inj=f.cJS({imports:[Eo]}),R})();function zr(R){if(Kr&&R)throw new f.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Sa(R){return["disabled"===R.initialNavigation?Ca(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const N=(0,f.f3M)(ps);return()=>{N.setUpLocationChangeListener()}}},{provide:ca,useValue:2}]).\u0275providers:[],"enabledBlocking"===R.initialNavigation?Ca(2,[{provide:ca,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:N=>{const x=N.get(We.V_,Promise.resolve());return()=>x.then(()=>new Promise(j=>{const J=N.get(ps),me=N.get(Cs);(function Zn(R,N){R.events.pipe((0,ut.h)(x=>x instanceof Yn||x instanceof si||x instanceof Mr||x instanceof $i),(0,ht.U)(x=>x instanceof Yn||x instanceof $i?Di.COMPLETE:x instanceof si&&(0===x.code||1===x.code)?Di.REDIRECTING:Di.FAILED),(0,ut.h)(x=>x!==Di.REDIRECTING),(0,nt.q)(1)).subscribe(()=>{N()})})(J,()=>{j(!0)}),N.get(Ms).afterPreactivation=()=>(j(!0),me.closed?(0,_.of)(void 0):me),J.initialNavigation()}))}}]).\u0275providers:[]]}const ts=new f.OlP(Kr?"Router Initializer":"")},3394:(fn,ot,M)=>{"use strict";M.d(ot,{Z:()=>We});var f=M(3854),F=M(3910),_=M(7467),ce=M(5422);class S{constructor(Ze,nt){this._delegate=Ze,this.firebase=nt,(0,_._addComponent)(Ze,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_.deleteApp)(this._delegate)))}_getService(Ze,nt=_._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(Ze);return!ut.isInitialized()&&"EXPLICIT"===(null===(Be=ut.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:nt})}_removeServiceInstance(Ze,nt=_._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(nt)}_addComponent(Ze){(0,_._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,_._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const He=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function Oe(){const ht=function L(ht){const Ze={},nt={__esModule:!0,initializeApp:function Fe(Ke,ge={}){const mt=_.initializeApp(Ke,ge);if((0,f.r3)(Ze,mt.name))return Ze[mt.name];const jt=new ht(mt,nt);return Ze[mt.name]=jt,jt},app:ut,registerVersion:_.registerVersion,setLogLevel:_.setLogLevel,onLog:_.onLog,apps:null,SDK_VERSION:_.SDK_VERSION,INTERNAL:{registerComponent:function Re(Ke){const ge=Ke.name,mt=ge.replace("-compat","");if(_._registerComponent(Ke)&&"PUBLIC"===Ke.type){const jt=(Ht=ut())=>{if("function"!=typeof Ht[mt])throw He.create("invalid-app-argument",{appName:ge});return Ht[mt]()};void 0!==Ke.serviceProps&&(0,f.ZB)(jt,Ke.serviceProps),nt[mt]=jt,ht.prototype[mt]=function(...Ht){return this._getService.bind(this,ge).apply(this,Ke.multipleInstances?Ht:[])}}return"PUBLIC"===Ke.type?nt[mt]:null},removeApp:function Be(Ke){delete Ze[Ke]},useAsService:function xe(Ke,ge){return"serverAuth"===ge?null:ge},modularAPIs:_}};function ut(Ke){if(!(0,f.r3)(Ze,Ke=Ke||_._DEFAULT_ENTRY_NAME))throw He.create("no-app",{appName:Ke});return Ze[Ke]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function ke(){return Object.keys(Ze).map(Ke=>Ze[Ke])}}),ut.App=ht,nt}(S);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function Ze(nt){(0,f.ZB)(ht,nt)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),ht}(),de=new ce.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=ne;!function Ve(ht){(0,_.registerVersion)("@firebase/app-compat","0.2.13",ht)}()},7467:(fn,ot,M)=>{"use strict";M.r(ot),M.d(ot,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Oi,_DEFAULT_ENTRY_NAME:()=>lt,_addComponent:()=>xt,_addOrOverwriteComponent:()=>bt,_apps:()=>Ee,_clearComponents:()=>yt,_components:()=>et,_getProvider:()=>Ot,_registerComponent:()=>un,_removeServiceInstance:()=>Jt,deleteApp:()=>Ye,getApp:()=>mi,getApps:()=>Vn,initializeApp:()=>Un,onLog:()=>je,registerVersion:()=>X,setLogLevel:()=>Ft});var f=M(8239),F=M(3910),_=M(5422),ce=M(3854);const S=(Lt,Nt)=>Nt.some(gn=>Lt instanceof gn);let we,He;const ne=new WeakMap,de=new WeakMap,ye=new WeakMap,Ie=new WeakMap,Ve=new WeakMap;let Ze={get(Lt,Nt,gn){if(Lt instanceof IDBTransaction){if("done"===Nt)return de.get(Lt);if("objectStoreNames"===Nt)return Lt.objectStoreNames||ye.get(Lt);if("store"===Nt)return gn.objectStoreNames[1]?void 0:gn.objectStore(gn.objectStoreNames[0])}return Fe(Lt[Nt])},set:(Lt,Nt,gn)=>(Lt[Nt]=gn,!0),has:(Lt,Nt)=>Lt instanceof IDBTransaction&&("done"===Nt||"store"===Nt)||Nt in Lt};function ut(Lt){return"function"==typeof Lt?function Be(Lt){return Lt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return He||(He=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Lt)?function(...Nt){return Lt.apply(ke(this),Nt),Fe(ne.get(this))}:function(...Nt){return Fe(Lt.apply(ke(this),Nt))}:function(Nt,...gn){const qn=Lt.call(ke(this),Nt,...gn);return ye.set(qn,Nt.sort?Nt.sort():[Nt]),Fe(qn)}}(Lt):(Lt instanceof IDBTransaction&&function ht(Lt){if(de.has(Lt))return;const Nt=new Promise((gn,qn)=>{const ei=()=>{Lt.removeEventListener("complete",vi),Lt.removeEventListener("error",Hn),Lt.removeEventListener("abort",Hn)},vi=()=>{gn(),ei()},Hn=()=>{qn(Lt.error||new DOMException("AbortError","AbortError")),ei()};Lt.addEventListener("complete",vi),Lt.addEventListener("error",Hn),Lt.addEventListener("abort",Hn)});de.set(Lt,Nt)}(Lt),S(Lt,function L(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Lt,Ze):Lt)}function Fe(Lt){if(Lt instanceof IDBRequest)return function We(Lt){const Nt=new Promise((gn,qn)=>{const ei=()=>{Lt.removeEventListener("success",vi),Lt.removeEventListener("error",Hn)},vi=()=>{gn(Fe(Lt.result)),ei()},Hn=()=>{qn(Lt.error),ei()};Lt.addEventListener("success",vi),Lt.addEventListener("error",Hn)});return Nt.then(gn=>{gn instanceof IDBCursor&&ne.set(gn,Lt)}).catch(()=>{}),Ve.set(Nt,Lt),Nt}(Lt);if(Ie.has(Lt))return Ie.get(Lt);const Nt=ut(Lt);return Nt!==Lt&&(Ie.set(Lt,Nt),Ve.set(Nt,Lt)),Nt}const ke=Lt=>Ve.get(Lt),Ke=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],mt=new Map;function jt(Lt,Nt){if(!(Lt instanceof IDBDatabase)||Nt in Lt||"string"!=typeof Nt)return;if(mt.get(Nt))return mt.get(Nt);const gn=Nt.replace(/FromIndex$/,""),qn=Nt!==gn,ei=ge.includes(gn);if(!(gn in(qn?IDBIndex:IDBObjectStore).prototype)||!ei&&!Ke.includes(gn))return;const vi=function(){var Hn=(0,f.Z)(function*(Vi,...Ii){const ji=this.transaction(Vi,ei?"readwrite":"readonly");let yr=ji.store;return qn&&(yr=yr.index(Ii.shift())),(yield Promise.all([yr[gn](...Ii),ei&&ji.done]))[0]});return function(Ii){return Hn.apply(this,arguments)}}();return mt.set(Nt,vi),vi}!function nt(Lt){Ze=Lt(Ze)}(Lt=>({...Lt,get:(Nt,gn,qn)=>jt(Nt,gn)||Lt.get(Nt,gn,qn),has:(Nt,gn)=>!!jt(Nt,gn)||Lt.has(Nt,gn)}));class Ht{constructor(Nt){this.container=Nt}getPlatformInfoString(){return this.container.getProviders().map(gn=>{if(function vn(Lt){return"VERSION"===Lt.getComponent()?.type}(gn)){const qn=gn.getImmediate();return`${qn.library}/${qn.version}`}return null}).filter(gn=>gn).join(" ")}}const rn="@firebase/app",_i=new _.Yd("@firebase/app"),lt="[DEFAULT]",gt={[rn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ee=new Map,et=new Map;function xt(Lt,Nt){try{Lt.container.addComponent(Nt)}catch(gn){_i.debug(`Component ${Nt.name} failed to register with FirebaseApp ${Lt.name}`,gn)}}function bt(Lt,Nt){Lt.container.addOrOverwriteComponent(Nt)}function un(Lt){const Nt=Lt.name;if(et.has(Nt))return _i.debug(`There were multiple attempts to register component ${Nt}.`),!1;et.set(Nt,Lt);for(const gn of Ee.values())xt(gn,Lt);return!0}function Ot(Lt,Nt){const gn=Lt.container.getProvider("heartbeat").getImmediate({optional:!0});return gn&&gn.triggerHeartbeat(),Lt.container.getProvider(Nt)}function Jt(Lt,Nt,gn=lt){Ot(Lt,Nt).clearInstance(gn)}function yt(){et.clear()}const kn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(Nt,gn,qn){this._isDeleted=!1,this._options=Object.assign({},Nt),this._config=Object.assign({},gn),this._name=gn.name,this._automaticDataCollectionEnabled=gn.automaticDataCollectionEnabled,this._container=qn,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Nt){this._isDeleted=Nt}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const Oi="9.23.0";function Un(Lt,Nt={}){let gn=Lt;"object"!=typeof Nt&&(Nt={name:Nt});const qn=Object.assign({name:lt,automaticDataCollectionEnabled:!1},Nt),ei=qn.name;if("string"!=typeof ei||!ei)throw kn.create("bad-app-name",{appName:String(ei)});if(gn||(gn=(0,ce.aH)()),!gn)throw kn.create("no-options");const vi=Ee.get(ei);if(vi){if((0,ce.vZ)(gn,vi.options)&&(0,ce.vZ)(qn,vi.config))return vi;throw kn.create("duplicate-app",{appName:ei})}const Hn=new F.H0(ei);for(const Ii of et.values())Hn.addComponent(Ii);const Vi=new Sn(gn,qn,Hn);return Ee.set(ei,Vi),Vi}function mi(Lt=lt){const Nt=Ee.get(Lt);if(!Nt&&Lt===lt&&(0,ce.aH)())return Un();if(!Nt)throw kn.create("no-app",{appName:Lt});return Nt}function Vn(){return Array.from(Ee.values())}function Ye(Lt){return Z.apply(this,arguments)}function Z(){return(Z=(0,f.Z)(function*(Lt){const Nt=Lt.name;Ee.has(Nt)&&(Ee.delete(Nt),yield Promise.all(Lt.container.getProviders().map(gn=>gn.delete())),Lt.isDeleted=!0)})).apply(this,arguments)}function X(Lt,Nt,gn){var qn;let ei=null!==(qn=gt[Lt])&&void 0!==qn?qn:Lt;gn&&(ei+=`-${gn}`);const vi=ei.match(/\s|\//),Hn=Nt.match(/\s|\//);if(vi||Hn){const Vi=[`Unable to register library "${ei}" with version "${Nt}":`];return vi&&Vi.push(`library name "${ei}" contains illegal characters (whitespace or "/")`),vi&&Hn&&Vi.push("and"),Hn&&Vi.push(`version name "${Nt}" contains illegal characters (whitespace or "/")`),void _i.warn(Vi.join(" "))}un(new F.wA(`${ei}-version`,()=>({library:ei,version:Nt}),"VERSION"))}function je(Lt,Nt){if(null!==Lt&&"function"!=typeof Lt)throw kn.create("invalid-log-argument");(0,_.Am)(Lt,Nt)}function Ft(Lt){(0,_.Ub)(Lt)}const Tn="firebase-heartbeat-database",ui=1,rt="firebase-heartbeat-store";let Qe=null;function pe(){return Qe||(Qe=function Re(Lt,Nt,{blocked:gn,upgrade:qn,blocking:ei,terminated:vi}={}){const Hn=indexedDB.open(Lt,Nt),Vi=Fe(Hn);return qn&&Hn.addEventListener("upgradeneeded",Ii=>{qn(Fe(Hn.result),Ii.oldVersion,Ii.newVersion,Fe(Hn.transaction),Ii)}),gn&&Hn.addEventListener("blocked",Ii=>gn(Ii.oldVersion,Ii.newVersion,Ii)),Vi.then(Ii=>{vi&&Ii.addEventListener("close",()=>vi()),ei&&Ii.addEventListener("versionchange",ji=>ei(ji.oldVersion,ji.newVersion,ji))}).catch(()=>{}),Vi}(Tn,ui,{upgrade:(Lt,Nt)=>{0===Nt&&Lt.createObjectStore(rt)}}).catch(Lt=>{throw kn.create("idb-open",{originalErrorMessage:Lt.message})})),Qe}function fe(){return(fe=(0,f.Z)(function*(Lt){try{return yield(yield pe()).transaction(rt).objectStore(rt).get(le(Lt))}catch(Nt){if(Nt instanceof ce.ZR)_i.warn(Nt.message);else{const gn=kn.create("idb-get",{originalErrorMessage:Nt?.message});_i.warn(gn.message)}}})).apply(this,arguments)}function ft(Lt,Nt){return $e.apply(this,arguments)}function $e(){return($e=(0,f.Z)(function*(Lt,Nt){try{const qn=(yield pe()).transaction(rt,"readwrite");yield qn.objectStore(rt).put(Nt,le(Lt)),yield qn.done}catch(gn){if(gn instanceof ce.ZR)_i.warn(gn.message);else{const qn=kn.create("idb-set",{originalErrorMessage:gn?.message});_i.warn(qn.message)}}})).apply(this,arguments)}function le(Lt){return`${Lt.name}!${Lt.options.appId}`}class Pe{constructor(Nt){this.container=Nt,this._heartbeatsCache=null;const gn=this.container.getProvider("app").getImmediate();this._storage=new ln(gn),this._heartbeatsCachePromise=this._storage.read().then(qn=>(this._heartbeatsCache=qn,qn))}triggerHeartbeat(){var Nt=this;return(0,f.Z)(function*(){const qn=Nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ei=st();if(null===Nt._heartbeatsCache&&(Nt._heartbeatsCache=yield Nt._heartbeatsCachePromise),Nt._heartbeatsCache.lastSentHeartbeatDate!==ei&&!Nt._heartbeatsCache.heartbeats.some(vi=>vi.date===ei))return Nt._heartbeatsCache.heartbeats.push({date:ei,agent:qn}),Nt._heartbeatsCache.heartbeats=Nt._heartbeatsCache.heartbeats.filter(vi=>{const Hn=new Date(vi.date).valueOf();return Date.now()-Hn<=2592e6}),Nt._storage.overwrite(Nt._heartbeatsCache)})()}getHeartbeatsHeader(){var Nt=this;return(0,f.Z)(function*(){if(null===Nt._heartbeatsCache&&(yield Nt._heartbeatsCachePromise),null===Nt._heartbeatsCache||0===Nt._heartbeatsCache.heartbeats.length)return"";const gn=st(),{heartbeatsToSend:qn,unsentEntries:ei}=function $t(Lt,Nt=1024){const gn=[];let qn=Lt.slice();for(const ei of Lt){const vi=gn.find(Hn=>Hn.agent===ei.agent);if(vi){if(vi.dates.push(ei.date),Xn(gn)>Nt){vi.dates.pop();break}}else if(gn.push({agent:ei.agent,dates:[ei.date]}),Xn(gn)>Nt){gn.pop();break}qn=qn.slice(1)}return{heartbeatsToSend:gn,unsentEntries:qn}}(Nt._heartbeatsCache.heartbeats),vi=(0,ce.L)(JSON.stringify({version:2,heartbeats:qn}));return Nt._heartbeatsCache.lastSentHeartbeatDate=gn,ei.length>0?(Nt._heartbeatsCache.heartbeats=ei,yield Nt._storage.overwrite(Nt._heartbeatsCache)):(Nt._heartbeatsCache.heartbeats=[],Nt._storage.overwrite(Nt._heartbeatsCache)),vi})()}}function st(){return(new Date).toISOString().substring(0,10)}class ln{constructor(Nt){this.app=Nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Nt=this;return(0,f.Z)(function*(){return(yield Nt._canUseIndexedDBPromise)&&(yield function ve(Lt){return fe.apply(this,arguments)}(Nt.app))||{heartbeats:[]}})()}overwrite(Nt){var gn=this;return(0,f.Z)(function*(){var qn;if(yield gn._canUseIndexedDBPromise){const vi=yield gn.read();return ft(gn.app,{lastSentHeartbeatDate:null!==(qn=Nt.lastSentHeartbeatDate)&&void 0!==qn?qn:vi.lastSentHeartbeatDate,heartbeats:Nt.heartbeats})}})()}add(Nt){var gn=this;return(0,f.Z)(function*(){var qn;if(yield gn._canUseIndexedDBPromise){const vi=yield gn.read();return ft(gn.app,{lastSentHeartbeatDate:null!==(qn=Nt.lastSentHeartbeatDate)&&void 0!==qn?qn:vi.lastSentHeartbeatDate,heartbeats:[...vi.heartbeats,...Nt.heartbeats]})}})()}}function Xn(Lt){return(0,ce.L)(JSON.stringify({version:2,heartbeats:Lt})).length}!function Pi(Lt){un(new F.wA("platform-logger",Nt=>new Ht(Nt),"PRIVATE")),un(new F.wA("heartbeat",Nt=>new Pe(Nt),"PRIVATE")),X(rn,"0.9.13",Lt),X(rn,"0.9.13","esm2017"),X("fire-js","")}("")},3910:(fn,ot,M)=>{"use strict";M.d(ot,{H0:()=>L,wA:()=>_,zt:()=>S});var f=M(8239),F=M(3854);class _{constructor(ne,de,ye){this.name=ne,this.instanceFactory=de,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ce="[DEFAULT]";class S{constructor(ne,de){this.name=ne,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const de=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(de)){const ye=new F.BH;if(this.instancesDeferred.set(de,ye),this.isInitialized(de)||this.shouldAutoInitialize())try{const Ie=this.getOrInitializeService({instanceIdentifier:de});Ie&&ye.resolve(Ie)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(ne){var de;const ye=this.normalizeInstanceIdentifier(ne?.identifier),Ie=null!==(de=ne?.optional)&&void 0!==de&&de;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(Ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Ve){if(Ie)return null;throw Ve}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function He(Oe){return"EAGER"===Oe.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[de,ye]of this.instancesDeferred.entries()){const Ie=this.normalizeInstanceIdentifier(de);try{const Ve=this.getOrInitializeService({instanceIdentifier:Ie});ye.resolve(Ve)}catch{}}}}clearInstance(ne=ce){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,f.Z)(function*(){const de=Array.from(ne.instances.values());yield Promise.all([...de.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...de.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ce){return this.instances.has(ne)}getOptions(ne=ce){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:de={}}=ne,ye=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ie=this.getOrInitializeService({instanceIdentifier:ye,options:de});for(const[Ve,We]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Ve)&&We.resolve(Ie);return Ie}onInit(ne,de){var ye;const Ie=this.normalizeInstanceIdentifier(de),Ve=null!==(ye=this.onInitCallbacks.get(Ie))&&void 0!==ye?ye:new Set;Ve.add(ne),this.onInitCallbacks.set(Ie,Ve);const We=this.instances.get(Ie);return We&&ne(We,Ie),()=>{Ve.delete(ne)}}invokeOnInitCallbacks(ne,de){const ye=this.onInitCallbacks.get(de);if(ye)for(const Ie of ye)try{Ie(ne,de)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:de={}}){let ye=this.instances.get(ne);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=ne,Oe===ce?void 0:Oe),options:de}),this.instances.set(ne,ye),this.instancesOptions.set(ne,de),this.invokeOnInitCallbacks(ye,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,ye)}catch{}var Oe;return ye||null}normalizeInstanceIdentifier(ne=ce){return this.component?this.component.multipleInstances?ne:ce:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class L{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const de=this.getProvider(ne.name);if(de.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);de.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const de=new S(ne,this);return this.providers.set(ne,de),de}getProviders(){return Array.from(this.providers.values())}}},5422:(fn,ot,M)=>{"use strict";M.d(ot,{Am:()=>Oe,Ub:()=>L,Yd:()=>He,in:()=>F});const f=[];var F=(()=>{return(ne=F||(F={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",F;var ne})();const _={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},ce=F.INFO,S={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},we=(ne,de,...ye)=>{if(de<ne.logLevel)return;const Ie=(new Date).toISOString(),Ve=S[de];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Ve](`[${Ie}]  ${ne.name}:`,...ye)};class He{constructor(de){this.name=de,this._logLevel=ce,this._logHandler=we,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in F))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?_[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...de),this._logHandler(this,F.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...de),this._logHandler(this,F.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,F.INFO,...de),this._logHandler(this,F.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,F.WARN,...de),this._logHandler(this,F.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...de),this._logHandler(this,F.ERROR,...de)}}function L(ne){f.forEach(de=>{de.setLogLevel(ne)})}function Oe(ne,de){for(const ye of f){let Ie=null;de&&de.level&&(Ie=_[de.level]),ye.userLogHandler=null===ne?null:(Ve,We,...ht)=>{const Ze=ht.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");We>=(Ie??Ve.logLevel)&&ne({level:F[We].toLowerCase(),message:Ze,args:ht,type:Ve.name})}}}},8213:(fn,ot,M)=>{"use strict";M.d(ot,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=M(7467);(0,f.registerVersion)("firebase","9.23.0","app")},2533:(fn,ot,M)=>{"use strict";M.d(ot,{Z:()=>f.Z});var f=M(3394);f.Z.registerVersion("firebase","9.23.0","app-compat")},2589:(fn,ot,M)=>{"use strict";M.r(ot);var f=M(8239),F=M(3394),_=M(2194),ce=M(3854),He=(M(7467),M(5422),M(3910));function L(){return window}const Oe=2e3;function de(){return de=(0,f.Z)(function*(pe,ve,fe){var ft;const{BuildInfo:$e}=L();(0,_.as)(ve.sessionId,"AuthEvent did not contain a session ID");const le=yield function nt(pe){return Be.apply(this,arguments)}(ve.sessionId),q={};return(0,_.at)()?q.ibi=$e.packageName:(0,_.au)()?q.apn=$e.packageName:(0,_.av)(pe,"operation-not-supported-in-this-environment"),$e.displayName&&(q.appDisplayName=$e.displayName),q.sessionId=le,(0,_.aw)(pe,fe,ve.type,void 0,null!==(ft=ve.eventId)&&void 0!==ft?ft:void 0,q)}),de.apply(this,arguments)}function Ie(){return(Ie=(0,f.Z)(function*(pe){const{BuildInfo:ve}=L(),fe={};(0,_.at)()?fe.iosBundleId=ve.packageName:(0,_.au)()?fe.androidPackageName=ve.packageName:(0,_.av)(pe,"operation-not-supported-in-this-environment"),yield(0,_.ax)(pe,fe)})).apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(pe,ve,fe){const{cordova:ft}=L();let $e=()=>{};try{yield new Promise((le,q)=>{let te=null;function Pe(){var ln;le();const Xn=null===(ln=ft.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof Xn&&Xn(),"function"==typeof fe?.close&&fe.close()}function st(){te||(te=window.setTimeout(()=>{q((0,_.az)(pe,"redirect-cancelled-by-user"))},Oe))}function $t(){"visible"===document?.visibilityState&&st()}ve.addPassiveListener(Pe),document.addEventListener("resume",st,!1),(0,_.au)()&&document.addEventListener("visibilitychange",$t,!1),$e=()=>{ve.removePassiveListener(Pe),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",$t,!1),te&&window.clearTimeout(te)}})}finally{$e()}})).apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(pe){const ve=function ut(pe){if((0,_.as)(/[0-9a-zA-Z]+/.test(pe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(pe);const ve=new ArrayBuffer(pe.length),fe=new Uint8Array(ve);for(let ft=0;ft<pe.length;ft++)fe[ft]=pe.charCodeAt(ft);return fe}(pe),fe=yield crypto.subtle.digest("SHA-256",ve);return Array.from(new Uint8Array(fe)).map($e=>$e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Fe=20;class ke extends _.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ve=>{this.resolveInialized=ve})}addPassiveListener(ve){this.passiveListeners.add(ve)}removePassiveListener(ve){this.passiveListeners.delete(ve)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ve){return this.resolveInialized(),this.passiveListeners.forEach(fe=>fe(ve)),super.onEvent(ve)}initialized(){var ve=this;return(0,f.Z)(function*(){yield ve.initPromise})()}}function Ke(pe){return ge.apply(this,arguments)}function ge(){return(ge=(0,f.Z)(function*(pe){const ve=yield Ht()._get(vn(pe));return ve&&(yield Ht()._remove(vn(pe))),ve})).apply(this,arguments)}function jt(){const pe=[],ve="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let fe=0;fe<Fe;fe++){const ft=Math.floor(Math.random()*ve.length);pe.push(ve.charAt(ft))}return pe.join("")}function Ht(){return(0,_.aC)(_.b)}function vn(pe){return(0,_.aD)("authEvent",pe.config.apiKey,pe.name)}function _i(pe){if(!pe?.includes("?"))return{};const[ve,...fe]=pe.split("?");return(0,ce.zd)(fe.join("?"))}const xn=class Wn{constructor(){this._redirectPersistence=_.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_.aE,this._overrideRedirectResult=_.aF}_initialize(ve){var fe=this;return(0,f.Z)(function*(){const ft=ve._key();let $e=fe.eventManagers.get(ft);return $e||($e=new ke(ve),fe.eventManagers.set(ft,$e),fe.attachCallbackListeners(ve,$e)),$e})()}_openPopup(ve){(0,_.av)(ve,"operation-not-supported-in-this-environment")}_openRedirect(ve,fe,ft,$e){var le=this;return(0,f.Z)(function*(){!function Ze(pe){var ve,fe,ft,$e,le,q,te,Pe,st,$t;const ln=L();(0,_.aA)("function"==typeof(null===(ve=ln?.universalLinks)||void 0===ve?void 0:ve.subscribe),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,_.aA)(typeof(null===(fe=ln?.BuildInfo)||void 0===fe?void 0:fe.packageName)<"u",pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,_.aA)("function"==typeof(null===(le=null===($e=null===(ft=ln?.cordova)||void 0===ft?void 0:ft.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===le?void 0:le.openUrl),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.aA)("function"==typeof(null===(Pe=null===(te=null===(q=ln?.cordova)||void 0===q?void 0:q.plugins)||void 0===te?void 0:te.browsertab)||void 0===Pe?void 0:Pe.isAvailable),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.aA)("function"==typeof(null===($t=null===(st=ln?.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===$t?void 0:$t.open),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ve);const q=yield le._initialize(ve);yield q.initialized(),q.resetRedirect(),(0,_.aG)(),yield le._originValidation(ve);const te=function Re(pe,ve,fe=null){return{type:ve,eventId:fe,urlResponse:null,sessionId:jt(),postBody:null,tenantId:pe.tenantId,error:(0,_.az)(pe,"no-auth-event")}}(ve,ft,$e);yield function xe(pe,ve){return Ht()._set(vn(pe),ve)}(ve,te);const Pe=yield function ne(pe,ve,fe){return de.apply(this,arguments)}(ve,te,fe),st=yield function Ve(pe){const{cordova:ve}=L();return new Promise(fe=>{ve.plugins.browsertab.isAvailable(ft=>{let $e=null;ft?ve.plugins.browsertab.openUrl(pe):$e=ve.InAppBrowser.open(pe,(0,_.ay)()?"_blank":"_system","location=yes"),fe($e)})})}(Pe);return function We(pe,ve,fe){return ht.apply(this,arguments)}(ve,q,st)})()}_isIframeWebStorageSupported(ve,fe){throw new Error("Method not implemented.")}_originValidation(ve){const fe=ve._key();return this.originValidationPromises[fe]||(this.originValidationPromises[fe]=function ye(pe){return Ie.apply(this,arguments)}(ve)),this.originValidationPromises[fe]}attachCallbackListeners(ve,fe){const{universalLinks:ft,handleOpenURL:$e,BuildInfo:le}=L(),q=setTimeout((0,f.Z)(function*(){yield Ke(ve),fe.onEvent(nn())}),500),te=function(){var $t=(0,f.Z)(function*(ln){clearTimeout(q);const Xn=yield Ke(ve);let Pi=null;Xn&&ln?.url&&(Pi=function mt(pe,ve){var fe,ft;const $e=function hi(pe){const ve=_i(pe),fe=ve.link?decodeURIComponent(ve.link):void 0,ft=_i(fe).link,$e=ve.deep_link_id?decodeURIComponent(ve.deep_link_id):void 0;return _i($e).link||$e||ft||fe||pe}(ve);if($e.includes("/__/auth/callback")){const le=_i($e),q=le.firebaseError?function rn(pe){try{return JSON.parse(pe)}catch{return null}}(decodeURIComponent(le.firebaseError)):null,te=null===(ft=null===(fe=q?.code)||void 0===fe?void 0:fe.split("auth/"))||void 0===ft?void 0:ft[1],Pe=te?(0,_.az)(te):null;return Pe?{type:pe.type,eventId:pe.eventId,tenantId:pe.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:pe.type,eventId:pe.eventId,tenantId:pe.tenantId,sessionId:pe.sessionId,urlResponse:$e,postBody:null}}return null}(Xn,ln.url)),fe.onEvent(Pi||nn())});return function(Xn){return $t.apply(this,arguments)}}();typeof ft<"u"&&"function"==typeof ft.subscribe&&ft.subscribe(null,te);const Pe=$e,st=`${le.packageName.toLowerCase()}://`;L().handleOpenURL=function(){var $t=(0,f.Z)(function*(ln){if(ln.toLowerCase().startsWith(st)&&te({url:ln}),"function"==typeof Pe)try{Pe(ln)}catch(Xn){console.error(Xn)}});return function(ln){return $t.apply(this,arguments)}}()}};function nn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,_.az)("no-auth-event")}}const Ue=1e3;function pt(){var pe;return(null===(pe=self?.location)||void 0===pe?void 0:pe.protocol)||null}function Qt(pe=(0,ce.z$)()){return!("file:"!==pt()&&"ionic:"!==pt()&&"capacitor:"!==pt()||!pe.toLowerCase().match(/iphone|ipad|ipod|android/))}function St(){try{const pe=self.localStorage,ve=_.aL();if(pe)return pe.setItem(ve,"1"),pe.removeItem(ve),!function pn(pe=(0,ce.z$)()){return function bn(){return(0,ce.w1)()&&11===document?.documentMode}()||function Mt(pe=(0,ce.z$)()){return/Edge\/\d+/.test(pe)}(pe)}()||(0,ce.hl)()}catch{return on()&&(0,ce.hl)()}return!1}function on(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wn(){return(function at(){return"http:"===pt()||"https:"===pt()}()||(0,ce.ru)()||Qt())&&!function In(){return(0,ce.b$)()||(0,ce.UG)()}()&&St()&&!on()}function Ln(){return Qt()&&typeof document<"u"}function Cn(){return(Cn=(0,f.Z)(function*(){return!!Ln()&&new Promise(pe=>{const ve=setTimeout(()=>{pe(!1)},Ue);document.addEventListener("deviceready",()=>{clearTimeout(ve),pe(!0)})})})).apply(this,arguments)}const he={LOCAL:"local",NONE:"none",SESSION:"session"},Xe=_.aA,Dt="persistence";function gt(pe){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,f.Z)(function*(pe){yield pe._initializationPromise;const ve=xt(),fe=_.aD(Dt,pe.config.apiKey,pe.name);ve&&ve.setItem(fe,pe._getPersistence())})).apply(this,arguments)}function xt(){var pe;try{return(null===(pe=function _t(){return typeof window<"u"?window:null}())||void 0===pe?void 0:pe.sessionStorage)||null}catch{return null}}const bt=_.aA;class un{constructor(){this.browserResolver=_.aC(_.k),this.cordovaResolver=_.aC(xn),this.underlyingResolver=null,this._redirectPersistence=_.a,this._completeRedirectFn=_.aE,this._overrideRedirectResult=_.aF}_initialize(ve){var fe=this;return(0,f.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._initialize(ve)})()}_openPopup(ve,fe,ft,$e){var le=this;return(0,f.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup(ve,fe,ft,$e)})()}_openRedirect(ve,fe,ft,$e){var le=this;return(0,f.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect(ve,fe,ft,$e)})()}_isIframeWebStorageSupported(ve,fe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ve,fe)}_originValidation(ve){return this.assertedUnderlyingResolver._originValidation(ve)}get _shouldInitProactively(){return Ln()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ve=this;return(0,f.Z)(function*(){if(ve.underlyingResolver)return;const fe=yield function Jn(){return Cn.apply(this,arguments)}();ve.underlyingResolver=fe?ve.cordovaResolver:ve.browserResolver})()}}function Ot(pe){return pe.unwrap()}function yt(pe){return kn(pe)}function kn(pe){const{_tokenResponse:ve}=pe instanceof ce.ZR?pe.customData:pe;if(!ve)return null;if(!(pe instanceof ce.ZR)&&"temporaryProof"in ve&&"phoneNumber"in ve)return _.P.credentialFromResult(pe);const fe=ve.providerId;if(!fe||fe===_.p.PASSWORD)return null;let ft;switch(fe){case _.p.GOOGLE:ft=_.V;break;case _.p.FACEBOOK:ft=_.U;break;case _.p.GITHUB:ft=_.W;break;case _.p.TWITTER:ft=_.Z;break;default:const{oauthIdToken:$e,oauthAccessToken:le,oauthTokenSecret:q,pendingToken:te,nonce:Pe}=ve;return le||q||$e||te?te?fe.startsWith("saml.")?_.aO._create(fe,te):_.L._fromParams({providerId:fe,signInMethod:fe,pendingToken:te,idToken:$e,accessToken:le}):new _.X(fe).credential({idToken:$e,accessToken:le,rawNonce:Pe}):null}return pe instanceof ce.ZR?ft.credentialFromError(pe):ft.credentialFromResult(pe)}function Sn(pe,ve){return ve.catch(fe=>{throw fe instanceof ce.ZR&&function Vt(pe,ve){var fe;const ft=null===(fe=ve.customData)||void 0===fe?void 0:fe._tokenResponse;if("auth/multi-factor-auth-required"===ve?.code)ve.resolver=new mi(pe,_.aq(pe,ve));else if(ft){const $e=kn(ve),le=ve;$e&&(le.credential=$e,le.tenantId=ft.tenantId||void 0,le.email=ft.email||void 0,le.phoneNumber=ft.phoneNumber||void 0)}}(pe,fe),fe}).then(fe=>{const $e=fe.user;return{operationType:fe.operationType,credential:yt(fe),additionalUserInfo:_.ao(fe),user:Vn.getOrCreate($e)}})}function Oi(pe,ve){return Un.apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(pe,ve){const fe=yield ve;return{verificationId:fe.verificationId,confirm:ft=>Sn(pe,fe.confirm(ft))}})).apply(this,arguments)}class mi{constructor(ve,fe){this.resolver=fe,this.auth=function Jt(pe){return pe.wrapped()}(ve)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ve){return Sn(Ot(this.auth),this.resolver.resolveSignIn(ve))}}class Vn{constructor(ve){this._delegate=ve,this.multiFactor=_.ar(ve)}static getOrCreate(ve){return Vn.USER_MAP.has(ve)||Vn.USER_MAP.set(ve,new Vn(ve)),Vn.USER_MAP.get(ve)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ve){return this._delegate.getIdTokenResult(ve)}getIdToken(ve){return this._delegate.getIdToken(ve)}linkAndRetrieveDataWithCredential(ve){return this.linkWithCredential(ve)}linkWithCredential(ve){var fe=this;return(0,f.Z)(function*(){return Sn(fe.auth,_.a0(fe._delegate,ve))})()}linkWithPhoneNumber(ve,fe){var ft=this;return(0,f.Z)(function*(){return Oi(ft.auth,_.l(ft._delegate,ve,fe))})()}linkWithPopup(ve){var fe=this;return(0,f.Z)(function*(){return Sn(fe.auth,_.d(fe._delegate,ve,un))})()}linkWithRedirect(ve){var fe=this;return(0,f.Z)(function*(){return yield gt(_.aH(fe.auth)),_.g(fe._delegate,ve,un)})()}reauthenticateAndRetrieveDataWithCredential(ve){return this.reauthenticateWithCredential(ve)}reauthenticateWithCredential(ve){var fe=this;return(0,f.Z)(function*(){return Sn(fe.auth,_.a1(fe._delegate,ve))})()}reauthenticateWithPhoneNumber(ve,fe){return Oi(this.auth,_.r(this._delegate,ve,fe))}reauthenticateWithPopup(ve){return Sn(this.auth,_.e(this._delegate,ve,un))}reauthenticateWithRedirect(ve){var fe=this;return(0,f.Z)(function*(){return yield gt(_.aH(fe.auth)),_.h(fe._delegate,ve,un)})()}sendEmailVerification(ve){return _.ae(this._delegate,ve)}unlink(ve){var fe=this;return(0,f.Z)(function*(){return yield _.an(fe._delegate,ve),fe})()}updateEmail(ve){return _.aj(this._delegate,ve)}updatePassword(ve){return _.ak(this._delegate,ve)}updatePhoneNumber(ve){return _.u(this._delegate,ve)}updateProfile(ve){return _.ai(this._delegate,ve)}verifyBeforeUpdateEmail(ve,fe){return _.af(this._delegate,ve,fe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vn.USER_MAP=new WeakMap;const Ye=_.aA;let Z=(()=>{class pe{constructor(fe,ft){if(this.app=fe,ft.isInitialized())return this._delegate=ft.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$e}=fe.options;Ye($e,"invalid-api-key",{appName:fe.name}),Ye($e,"invalid-api-key",{appName:fe.name});const le=typeof window<"u"?un:void 0;this._delegate=ft.initialize({options:{persistence:je($e,fe.name),popupRedirectResolver:le}}),this._delegate._updateErrorMap(_.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(fe){this._delegate.languageCode=fe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(fe){this._delegate.tenantId=fe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(fe,ft){_.I(this._delegate,fe,ft)}applyActionCode(fe){return _.a5(this._delegate,fe)}checkActionCode(fe){return _.a6(this._delegate,fe)}confirmPasswordReset(fe,ft){return _.a4(this._delegate,fe,ft)}createUserWithEmailAndPassword(fe,ft){var $e=this;return(0,f.Z)(function*(){return Sn($e._delegate,_.a8($e._delegate,fe,ft))})()}fetchProvidersForEmail(fe){return this.fetchSignInMethodsForEmail(fe)}fetchSignInMethodsForEmail(fe){return _.ad(this._delegate,fe)}isSignInWithEmailLink(fe){return _.ab(this._delegate,fe)}getRedirectResult(){var fe=this;return(0,f.Z)(function*(){Ye(wn(),fe._delegate,"operation-not-supported-in-this-environment");const ft=yield _.j(fe._delegate,un);return ft?Sn(fe._delegate,Promise.resolve(ft)):{credential:null,user:null}})()}addFrameworkForLogging(fe){!function qe(pe,ve){(0,_.aH)(pe)._logFramework(ve)}(this._delegate,fe)}onAuthStateChanged(fe,ft,$e){const{next:le,error:q,complete:te}=X(fe,ft,$e);return this._delegate.onAuthStateChanged(le,q,te)}onIdTokenChanged(fe,ft,$e){const{next:le,error:q,complete:te}=X(fe,ft,$e);return this._delegate.onIdTokenChanged(le,q,te)}sendSignInLinkToEmail(fe,ft){return _.aa(this._delegate,fe,ft)}sendPasswordResetEmail(fe,ft){return _.a3(this._delegate,fe,ft||void 0)}setPersistence(fe){var ft=this;return(0,f.Z)(function*(){let $e;switch(function lt(pe,ve){Xe(Object.values(he).includes(ve),pe,"invalid-persistence-type"),(0,ce.b$)()?Xe(ve!==he.SESSION,pe,"unsupported-persistence-type"):(0,ce.UG)()?Xe(ve===he.NONE,pe,"unsupported-persistence-type"):on()?Xe(ve===he.NONE||ve===he.LOCAL&&(0,ce.hl)(),pe,"unsupported-persistence-type"):Xe(ve===he.NONE||St(),pe,"unsupported-persistence-type")}(ft._delegate,fe),fe){case he.SESSION:$e=_.a;break;case he.LOCAL:$e=(yield _.aC(_.i)._isAvailable())?_.i:_.b;break;case he.NONE:$e=_.N;break;default:return _.av("argument-error",{appName:ft._delegate.name})}return ft._delegate.setPersistence($e)})()}signInAndRetrieveDataWithCredential(fe){return this.signInWithCredential(fe)}signInAnonymously(){return Sn(this._delegate,_._(this._delegate))}signInWithCredential(fe){return Sn(this._delegate,_.$(this._delegate,fe))}signInWithCustomToken(fe){return Sn(this._delegate,_.a2(this._delegate,fe))}signInWithEmailAndPassword(fe,ft){return Sn(this._delegate,_.a9(this._delegate,fe,ft))}signInWithEmailLink(fe,ft){return Sn(this._delegate,_.ac(this._delegate,fe,ft))}signInWithPhoneNumber(fe,ft){return Oi(this._delegate,_.s(this._delegate,fe,ft))}signInWithPopup(fe){var ft=this;return(0,f.Z)(function*(){return Ye(wn(),ft._delegate,"operation-not-supported-in-this-environment"),Sn(ft._delegate,_.c(ft._delegate,fe,un))})()}signInWithRedirect(fe){var ft=this;return(0,f.Z)(function*(){return Ye(wn(),ft._delegate,"operation-not-supported-in-this-environment"),yield gt(ft._delegate),_.f(ft._delegate,fe,un)})()}updateCurrentUser(fe){return this._delegate.updateCurrentUser(fe)}verifyPasswordResetCode(fe){return _.a7(this._delegate,fe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return pe.Persistence=he,pe})();function X(pe,ve,fe){let ft=pe;"function"!=typeof pe&&({next:ft,error:ve,complete:fe}=pe);const $e=ft;return{next:q=>$e(q&&Vn.getOrCreate(q)),error:ve,complete:fe}}function je(pe,ve){const fe=function et(pe,ve){const fe=xt();if(!fe)return[];const ft=_.aD(Dt,pe,ve);switch(fe.getItem(ft)){case he.NONE:return[_.N];case he.LOCAL:return[_.i,_.a];case he.SESSION:return[_.a];default:return[]}}(pe,ve);if(typeof self<"u"&&!fe.includes(_.i)&&fe.push(_.i),typeof window<"u")for(const ft of[_.b,_.a])fe.includes(ft)||fe.push(ft);return fe.includes(_.N)||fe.push(_.N),fe}class Ft{constructor(){this.providerId="phone",this._delegate=new _.P(Ot(F.Z.auth()))}static credential(ve,fe){return _.P.credential(ve,fe)}verifyPhoneNumber(ve,fe){return this._delegate.verifyPhoneNumber(ve,fe)}unwrap(){return this._delegate}}Ft.PHONE_SIGN_IN_METHOD=_.P.PHONE_SIGN_IN_METHOD,Ft.PROVIDER_ID=_.P.PROVIDER_ID;const Tn=_.aA;class ui{constructor(ve,fe,ft=F.Z.app()){var $e;Tn(null===($e=ft.options)||void 0===$e?void 0:$e.apiKey,"invalid-api-key",{appName:ft.name}),this._delegate=new _.R(ve,fe,ft.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Qe(pe){pe.INTERNAL.registerComponent(new He.wA("auth-compat",ve=>{const fe=ve.getProvider("app-compat").getImmediate(),ft=ve.getProvider("auth");return new Z(fe,ft)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_.A.EMAIL_SIGNIN,PASSWORD_RESET:_.A.PASSWORD_RESET,RECOVER_EMAIL:_.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_.A.VERIFY_EMAIL}},EmailAuthProvider:_.Q,FacebookAuthProvider:_.U,GithubAuthProvider:_.W,GoogleAuthProvider:_.V,OAuthProvider:_.X,SAMLAuthProvider:_.Y,PhoneAuthProvider:Ft,PhoneMultiFactorGenerator:_.m,RecaptchaVerifier:ui,TwitterAuthProvider:_.Z,Auth:Z,AuthCredential:_.J,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),pe.registerVersion("@firebase/auth-compat","0.4.2")}(F.Z)},4835:(fn,ot,M)=>{"use strict";M(8206)},8239:(fn,ot,M)=>{"use strict";function f(_,ce,S,we,He,L,Oe){try{var ne=_[L](Oe),de=ne.value}catch(ye){return void S(ye)}ne.done?ce(de):Promise.resolve(de).then(we,He)}function F(_){return function(){var ce=this,S=arguments;return new Promise(function(we,He){var L=_.apply(ce,S);function Oe(de){f(L,we,He,Oe,ne,"next",de)}function ne(de){f(L,we,He,Oe,ne,"throw",de)}Oe(void 0)})}}M.d(ot,{Z:()=>F})},4911:(fn,ot,M)=>{"use strict";function ce(qe,Ne){var Ae={};for(var Ue in qe)Object.prototype.hasOwnProperty.call(qe,Ue)&&Ne.indexOf(Ue)<0&&(Ae[Ue]=qe[Ue]);if(null!=qe&&"function"==typeof Object.getOwnPropertySymbols){var pt=0;for(Ue=Object.getOwnPropertySymbols(qe);pt<Ue.length;pt++)Ne.indexOf(Ue[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Ue[pt])&&(Ae[Ue[pt]]=qe[Ue[pt]])}return Ae}function ye(qe,Ne,Ae,Ue){return new(Ae||(Ae=Promise))(function(at,Qt){function In(pn){try{Mt(Ue.next(pn))}catch(St){Qt(St)}}function bn(pn){try{Mt(Ue.throw(pn))}catch(St){Qt(St)}}function Mt(pn){pn.done?at(pn.value):function pt(at){return at instanceof Ae?at:new Ae(function(Qt){Qt(at)})}(pn.value).then(In,bn)}Mt((Ue=Ue.apply(qe,Ne||[])).next())})}function Fe(qe){return this instanceof Fe?(this.v=qe,this):new Fe(qe)}function ke(qe,Ne,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,Ue=Ae.apply(qe,Ne||[]),at=[];return pt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),In("next"),In("throw"),In("return",function Qt(wn){return function(Ln){return Promise.resolve(Ln).then(wn,St)}}),pt[Symbol.asyncIterator]=function(){return this},pt;function In(wn,Ln){Ue[wn]&&(pt[wn]=function(Jn){return new Promise(function(Cn,_t){at.push([wn,Jn,Cn,_t])>1||bn(wn,Jn)})},Ln&&(pt[wn]=Ln(pt[wn])))}function bn(wn,Ln){try{!function Mt(wn){wn.value instanceof Fe?Promise.resolve(wn.value.v).then(pn,St):on(at[0][2],wn)}(Ue[wn](Ln))}catch(Jn){on(at[0][3],Jn)}}function pn(wn){bn("next",wn)}function St(wn){bn("throw",wn)}function on(wn,Ln){wn(Ln),at.shift(),at.length&&bn(at[0][0],at[0][1])}}function xe(qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,Ne=qe[Symbol.asyncIterator];return Ne?Ne.call(qe):(qe=function ht(qe){var Ne="function"==typeof Symbol&&Symbol.iterator,Ae=Ne&&qe[Ne],Ue=0;if(Ae)return Ae.call(qe);if(qe&&"number"==typeof qe.length)return{next:function(){return qe&&Ue>=qe.length&&(qe=void 0),{value:qe&&qe[Ue++],done:!qe}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(qe),Ae={},Ue("next"),Ue("throw"),Ue("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Ue(at){Ae[at]=qe[at]&&function(Qt){return new Promise(function(In,bn){!function pt(at,Qt,In,bn){Promise.resolve(bn).then(function(Mt){at({value:Mt,done:In})},Qt)}(In,bn,(Qt=qe[at](Qt)).done,Qt.value)})}}}M.d(ot,{FC:()=>ke,KL:()=>xe,_T:()=>ce,mG:()=>ye,qq:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError}},fn=>{fn(fn.s=6263)}]);